var cA=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var NU=cA((kU,Eu)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function Gm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bp={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function hA(){if(ov)return jl;ov=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=e,jl.jsxs=e,jl}var lv;function fA(){return lv||(lv=1,bp.exports=hA()),bp.exports}var J=fA(),Sp={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function dA(){if(uv)return Gt;uv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,W={};function Q(T,A,L){this.props=T,this.context=A,this.refs=W,this.updater=L||M}Q.prototype.isReactComponent={},Q.prototype.setState=function(T,A){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,A,"setState")},Q.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function pt(){}pt.prototype=Q.prototype;function dt(T,A,L){this.props=T,this.context=A,this.refs=W,this.updater=L||M}var ut=dt.prototype=new pt;ut.constructor=dt,F(ut,Q.prototype),ut.isPureReactComponent=!0;var gt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function k(T,A,L,j,rt,ht){return L=ht.ref,{$$typeof:n,type:T,key:A,ref:L!==void 0?L:null,props:ht}}function C(T,A){return k(T.type,A,void 0,void 0,void 0,T.props)}function I(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function O(T){var A={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(L){return A[L]})}var N=/\/+/g;function P(T,A){return typeof T=="object"&&T!==null&&T.key!=null?O(""+T.key):A.toString(36)}function x(){}function K(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(x,x):(T.status="pending",T.then(function(A){T.status==="pending"&&(T.status="fulfilled",T.value=A)},function(A){T.status==="pending"&&(T.status="rejected",T.reason=A)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function G(T,A,L,j,rt){var ht=typeof T;(ht==="undefined"||ht==="boolean")&&(T=null);var at=!1;if(T===null)at=!0;else switch(ht){case"bigint":case"string":case"number":at=!0;break;case"object":switch(T.$$typeof){case n:case t:at=!0;break;case _:return at=T._init,G(at(T._payload),A,L,j,rt)}}if(at)return rt=rt(T),at=j===""?"."+P(T,0):j,gt(rt)?(L="",at!=null&&(L=at.replace(N,"$&/")+"/"),G(rt,A,L,"",function(Ct){return Ct})):rt!=null&&(I(rt)&&(rt=C(rt,L+(rt.key==null||T&&T.key===rt.key?"":(""+rt.key).replace(N,"$&/")+"/")+at)),A.push(rt)),1;at=0;var mt=j===""?".":j+":";if(gt(T))for(var yt=0;yt<T.length;yt++)j=T[yt],ht=mt+P(j,yt),at+=G(j,A,L,ht,rt);else if(yt=b(T),typeof yt=="function")for(T=yt.call(T),yt=0;!(j=T.next()).done;)j=j.value,ht=mt+P(j,yt++),at+=G(j,A,L,ht,rt);else if(ht==="object"){if(typeof T.then=="function")return G(K(T),A,L,j,rt);throw A=String(T),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return at}function D(T,A,L){if(T==null)return T;var j=[],rt=0;return G(T,j,"","",function(ht){return A.call(L,ht,rt++)}),j}function U(T){if(T._status===-1){var A=T._result;A=A(),A.then(function(L){(T._status===0||T._status===-1)&&(T._status=1,T._result=L)},function(L){(T._status===0||T._status===-1)&&(T._status=2,T._result=L)}),T._status===-1&&(T._status=0,T._result=A)}if(T._status===1)return T._result.default;throw T._result}var H=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Z(){}return Gt.Children={map:D,forEach:function(T,A,L){D(T,function(){A.apply(this,arguments)},L)},count:function(T){var A=0;return D(T,function(){A++}),A},toArray:function(T){return D(T,function(A){return A})||[]},only:function(T){if(!I(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Gt.Component=Q,Gt.Fragment=e,Gt.Profiler=o,Gt.PureComponent=dt,Gt.StrictMode=a,Gt.Suspense=m,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ct.H.useMemoCache(T)}},Gt.cache=function(T){return function(){return T.apply(null,arguments)}},Gt.cloneElement=function(T,A,L){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var j=F({},T.props),rt=T.key,ht=void 0;if(A!=null)for(at in A.ref!==void 0&&(ht=void 0),A.key!==void 0&&(rt=""+A.key),A)!Et.call(A,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&A.ref===void 0||(j[at]=A[at]);var at=arguments.length-2;if(at===1)j.children=L;else if(1<at){for(var mt=Array(at),yt=0;yt<at;yt++)mt[yt]=arguments[yt+2];j.children=mt}return k(T.type,rt,void 0,void 0,ht,j)},Gt.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Gt.createElement=function(T,A,L){var j,rt={},ht=null;if(A!=null)for(j in A.key!==void 0&&(ht=""+A.key),A)Et.call(A,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(rt[j]=A[j]);var at=arguments.length-2;if(at===1)rt.children=L;else if(1<at){for(var mt=Array(at),yt=0;yt<at;yt++)mt[yt]=arguments[yt+2];rt.children=mt}if(T&&T.defaultProps)for(j in at=T.defaultProps,at)rt[j]===void 0&&(rt[j]=at[j]);return k(T,ht,void 0,void 0,null,rt)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(T){return{$$typeof:d,render:T}},Gt.isValidElement=I,Gt.lazy=function(T){return{$$typeof:_,_payload:{_status:-1,_result:T},_init:U}},Gt.memo=function(T,A){return{$$typeof:g,type:T,compare:A===void 0?null:A}},Gt.startTransition=function(T){var A=ct.T,L={};ct.T=L;try{var j=T(),rt=ct.S;rt!==null&&rt(L,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Z,H)}catch(ht){H(ht)}finally{ct.T=A}},Gt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Gt.use=function(T){return ct.H.use(T)},Gt.useActionState=function(T,A,L){return ct.H.useActionState(T,A,L)},Gt.useCallback=function(T,A){return ct.H.useCallback(T,A)},Gt.useContext=function(T){return ct.H.useContext(T)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(T,A){return ct.H.useDeferredValue(T,A)},Gt.useEffect=function(T,A,L){var j=ct.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(T,A)},Gt.useId=function(){return ct.H.useId()},Gt.useImperativeHandle=function(T,A,L){return ct.H.useImperativeHandle(T,A,L)},Gt.useInsertionEffect=function(T,A){return ct.H.useInsertionEffect(T,A)},Gt.useLayoutEffect=function(T,A){return ct.H.useLayoutEffect(T,A)},Gt.useMemo=function(T,A){return ct.H.useMemo(T,A)},Gt.useOptimistic=function(T,A){return ct.H.useOptimistic(T,A)},Gt.useReducer=function(T,A,L){return ct.H.useReducer(T,A,L)},Gt.useRef=function(T){return ct.H.useRef(T)},Gt.useState=function(T){return ct.H.useState(T)},Gt.useSyncExternalStore=function(T,A,L){return ct.H.useSyncExternalStore(T,A,L)},Gt.useTransition=function(){return ct.H.useTransition()},Gt.version="19.1.0",Gt}var cv;function Hm(){return cv||(cv=1,Sp.exports=dA()),Sp.exports}var St=Hm();const pA=Gm(St);var Ap={exports:{}},Gl={},Rp={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function mA(){return hv||(hv=1,function(n){function t(D,U){var H=D.length;D.push(U);t:for(;0<H;){var Z=H-1>>>1,T=D[Z];if(0<o(T,U))D[Z]=U,D[H]=T,H=Z;else break t}}function e(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var U=D[0],H=D.pop();if(H!==U){D[0]=H;t:for(var Z=0,T=D.length,A=T>>>1;Z<A;){var L=2*(Z+1)-1,j=D[L],rt=L+1,ht=D[rt];if(0>o(j,H))rt<T&&0>o(ht,j)?(D[Z]=ht,D[rt]=H,Z=rt):(D[Z]=j,D[L]=H,Z=L);else if(rt<T&&0>o(ht,H))D[Z]=ht,D[rt]=H,Z=rt;else break t}}return U}function o(D,U){var H=D.sortIndex-U.sortIndex;return H!==0?H:D.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],g=[],_=1,w=null,b=3,M=!1,F=!1,W=!1,Q=!1,pt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function gt(D){for(var U=e(g);U!==null;){if(U.callback===null)a(g);else if(U.startTime<=D)a(g),U.sortIndex=U.expirationTime,t(m,U);else break;U=e(g)}}function ct(D){if(W=!1,gt(D),!F)if(e(m)!==null)F=!0,Et||(Et=!0,P());else{var U=e(g);U!==null&&G(ct,U.startTime-D)}}var Et=!1,k=-1,C=5,I=-1;function O(){return Q?!0:!(n.unstable_now()-I<C)}function N(){if(Q=!1,Et){var D=n.unstable_now();I=D;var U=!0;try{t:{F=!1,W&&(W=!1,dt(k),k=-1),M=!0;var H=b;try{e:{for(gt(D),w=e(m);w!==null&&!(w.expirationTime>D&&O());){var Z=w.callback;if(typeof Z=="function"){w.callback=null,b=w.priorityLevel;var T=Z(w.expirationTime<=D);if(D=n.unstable_now(),typeof T=="function"){w.callback=T,gt(D),U=!0;break e}w===e(m)&&a(m),gt(D)}else a(m);w=e(m)}if(w!==null)U=!0;else{var A=e(g);A!==null&&G(ct,A.startTime-D),U=!1}}break t}finally{w=null,b=H,M=!1}U=void 0}}finally{U?P():Et=!1}}}var P;if(typeof ut=="function")P=function(){ut(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,K=x.port2;x.port1.onmessage=N,P=function(){K.postMessage(null)}}else P=function(){pt(N,0)};function G(D,U){k=pt(function(){D(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(D){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var H=b;b=U;try{return D()}finally{b=H}},n.unstable_requestPaint=function(){Q=!0},n.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=b;b=D;try{return U()}finally{b=H}},n.unstable_scheduleCallback=function(D,U,H){var Z=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,D){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=H+T,D={id:_++,callback:U,priorityLevel:D,startTime:H,expirationTime:T,sortIndex:-1},H>Z?(D.sortIndex=H,t(g,D),e(m)===null&&D===e(g)&&(W?(dt(k),k=-1):W=!0,G(ct,H-Z))):(D.sortIndex=T,t(m,D),F||M||(F=!0,Et||(Et=!0,P()))),D},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(D){var U=b;return function(){var H=b;b=U;try{return D.apply(this,arguments)}finally{b=H}}}}(Cp)),Cp}var fv;function gA(){return fv||(fv=1,Rp.exports=mA()),Rp.exports}var Ip={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function yA(){if(dv)return mn;dv=1;var n=Hm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:_}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,_)},mn.flushSync=function(m){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=_,a.d.f()}},mn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},mn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},mn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:M}):_==="script"&&a.d.X(m,{crossOrigin:w,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},mn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin);a.d.L(m,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},mn.requestFormReset=function(m){a.d.r(m)},mn.unstable_batchedUpdates=function(m,g){return m(g)},mn.useFormState=function(m,g,_){return h.H.useFormState(m,g,_)},mn.useFormStatus=function(){return h.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var pv;function _A(){if(pv)return Ip.exports;pv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ip.exports=yA(),Ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function vA(){if(mv)return Gl;mv=1;var n=gA(),t=Hm(),e=_A();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function h(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(u(r)!==r)throw Error(a(188))}function m(r){var i=r.alternate;if(!i){if(i=u(r),i===null)throw Error(a(188));return i!==r?null:r}for(var s=r,l=i;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),r;if(p===l)return d(f),i;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var E=!1,S=f.child;S;){if(S===s){E=!0,s=f,l=p;break}if(S===l){E=!0,l=f,s=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===s){E=!0,s=p,l=f;break}if(S===l){E=!0,l=p,s=f;break}S=S.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function K(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case F:return"Fragment";case Q:return"Profiler";case W:return"StrictMode";case ct:return"Suspense";case Et:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case ut:return(r.displayName||"Context")+".Provider";case dt:return(r._context.displayName||"Context")+".Consumer";case gt:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return i=r.displayName||null,i!==null?i:K(r.type)||"Memo";case C:i=r._payload,r=r._init;try{return K(r(i))}catch{}}return null}var G=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Z=[],T=-1;function A(r){return{current:r}}function L(r){0>T||(r.current=Z[T],Z[T]=null,T--)}function j(r,i){T++,Z[T]=r.current,r.current=i}var rt=A(null),ht=A(null),at=A(null),mt=A(null);function yt(r,i){switch(j(at,i),j(ht,r),j(rt,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?V0(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=V0(i),r=P0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}L(rt),j(rt,r)}function Ct(){L(rt),L(ht),L(at)}function jt(r){r.memoizedState!==null&&j(mt,r);var i=rt.current,s=P0(i,r.type);i!==s&&(j(ht,r),j(rt,s))}function Nt(r){ht.current===r&&(L(rt),L(ht)),mt.current===r&&(L(mt),Pl._currentValue=H)}var Bt=Object.prototype.hasOwnProperty,Ft=n.unstable_scheduleCallback,Mt=n.unstable_cancelCallback,he=n.unstable_shouldYield,ne=n.unstable_requestPaint,ie=n.unstable_now,an=n.unstable_getCurrentPriorityLevel,Qe=n.unstable_ImmediatePriority,Ce=n.unstable_UserBlockingPriority,Me=n.unstable_NormalPriority,An=n.unstable_LowPriority,Xe=n.unstable_IdlePriority,Dn=n.log,On=n.unstable_setDisableYieldValue,Tt=null,B=null;function wt(r){if(typeof Dn=="function"&&On(r),B&&typeof B.setStrictMode=="function")try{B.setStrictMode(Tt,r)}catch{}}var vt=Math.clz32?Math.clz32:ae,Rt=Math.log,Ht=Math.LN2;function ae(r){return r>>>=0,r===0?32:31-(Rt(r)/Ht|0)|0}var ge=256,Ee=4194304;function ye(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function En(r,i,s){var l=r.pendingLanes;if(l===0)return 0;var f=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?f=ye(l):(E&=S,E!==0?f=ye(E):s||(s=S&~r,s!==0&&(f=ye(s))))):(S=l&~p,S!==0?f=ye(S):E!==0?f=ye(E):s||(s=l&~r,s!==0&&(f=ye(s)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:f}function je(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ii(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var r=ge;return ge<<=1,(ge&4194048)===0&&(ge=256),r}function yr(){var r=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),r}function $r(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function Kr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Bo(r,i,s,l,f,p){var E=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var S=r.entanglements,V=r.expirationTimes,X=r.hiddenUpdates;for(s=E&~s;0<s;){var it=31-vt(s),ot=1<<it;S[it]=0,V[it]=-1;var tt=X[it];if(tt!==null)for(X[it]=null,it=0;it<tt.length;it++){var et=tt[it];et!==null&&(et.lane&=-536870913)}s&=~ot}l!==0&&_r(r,l,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~i))}function _r(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-vt(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|s&4194090}function zo(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var l=31-vt(s),f=1<<l;f&i|r[l]&i&&(r[l]|=i),s&=~f}}function xi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function _s(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Mi(){var r=U.p;return r!==0?r:(r=window.event,r===void 0?32:ev(r.type))}function Ou(r,i){var s=U.p;try{return U.p=r,i()}finally{U.p=s}}var we=Math.random().toString(36).slice(2),Ge="__reactFiber$"+we,Ve="__reactProps$"+we,Hn="__reactContainer$"+we,jo="__reactEvents$"+we,Rf="__reactListeners$"+we,Ni="__reactHandles$"+we,ku="__reactResources$"+we,Ea="__reactMarker$"+we;function Di(r){delete r[Ge],delete r[Ve],delete r[jo],delete r[Rf],delete r[Ni]}function Yr(r){var i=r[Ge];if(i)return i;for(var s=r.parentNode;s;){if(i=s[Hn]||s[Ge]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=z0(r);r!==null;){if(s=r[Ge])return s;r=z0(r)}return i}r=s,s=r.parentNode}return null}function vr(r){if(r=r[Ge]||r[Hn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Er(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function Tn(r){var i=r[ku];return i||(i=r[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ne(r){r[Ea]=!0}var Go=new Set,vs={};function ar(r,i){Qr(r,i),Qr(r+"Capture",i)}function Qr(r,i){for(vs[r]=i,r=0;r<i.length;r++)Go.add(i[r])}var Vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},Ta={};function Lu(r){return Bt.call(Ta,r)?!0:Bt.call(Pu,r)?!1:Vu.test(r)?Ta[r]=!0:(Pu[r]=!0,!1)}function Oi(r,i,s){if(Lu(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function Tr(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function sn(r,i,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+l)}}var wa,Uu;function Xr(r){if(wa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);wa=i&&i[1]||"",Uu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+r+Uu}var Es=!1;function Ts(r,i){if(!r||Es)return"";Es=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(et){var tt=et}Reflect.construct(r,[],ot)}else{try{ot.call()}catch(et){tt=et}r.call(ot.prototype)}}else{try{throw Error()}catch(et){tt=et}(ot=r())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(et){if(et&&tt&&typeof et.stack=="string")return[et.stack,tt.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var V=E.split(`
`),X=S.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===X.length)for(l=V.length-1,f=X.length-1;1<=l&&0<=f&&V[l]!==X[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==X[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==X[f]){var it=`
`+V[l].replace(" at new "," at ");return r.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",r.displayName)),it}while(1<=l&&0<=f);break}}}finally{Es=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?Xr(s):""}function Ho(r){switch(r.tag){case 26:case 27:case 5:return Xr(r.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 15:return Ts(r.type,!1);case 11:return Ts(r.type.render,!1);case 1:return Ts(r.type,!0);case 31:return Xr("Activity");default:return""}}function ws(r){try{var i="";do i+=Ho(r),r=r.return;while(r);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function wn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qo(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Cf(r){var i=qo(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),l=""+r[i];if(!r.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(r,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function bs(r){r._valueTracker||(r._valueTracker=Cf(r))}function Fo(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return r&&(l=qo(r)?r.checked?"true":"false":r.value),r=l,r!==s?(i.setValue(r),!0):!1}function ba(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var If=/[\n"\\]/g;function Pe(r){return r.replace(If,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function kn(r,i,s,l,f,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+wn(i)):r.value!==""+wn(i)&&(r.value=""+wn(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?ki(r,E,wn(i)):s!=null?ki(r,E,wn(s)):l!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+wn(S):r.removeAttribute("name")}function Sa(r,i,s,l,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+wn(s):"",i=i!=null?""+wn(i):s,S||i===r.value||(r.value=i),r.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=S?r.checked:!!l,r.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function ki(r,i,s){i==="number"&&ba(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function Zr(r,i,s,l){if(r=r.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<r.length;s++)f=i.hasOwnProperty("$"+r[s].value),r[s].selected!==f&&(r[s].selected=f),f&&l&&(r[s].defaultSelected=!0)}else{for(s=""+wn(s),i=null,f=0;f<r.length;f++){if(r[f].value===s){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function fe(r,i,s){if(i!=null&&(i=""+wn(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+wn(s):""}function Aa(r,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(G(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=wn(i),r.defaultValue=s,l=r.textContent,l===s&&l!==""&&l!==null&&(r.value=l)}function qn(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var Ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(r,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,s):typeof s!="number"||s===0||Ra.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function $o(r,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Bu(r,f,l)}else for(var p in i)i.hasOwnProperty(p)&&Bu(r,p,i[p])}function Ko(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(r){return Mf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Wr=null;function Fn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Jr=null,ti=null;function Yo(r){var i=vr(r);if(i&&(r=i.stateNode)){var s=r[Ve]||null;t:switch(r=i.stateNode,i.type){case"input":if(kn(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Pe(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==r&&l.form===r.form){var f=l[Ve]||null;if(!f)throw Error(a(90));kn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===r.form&&Fo(l)}break t;case"textarea":fe(r,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Zr(r,!!s.multiple,i,!1)}}}var wr=!1;function zu(r,i,s){if(wr)return r(i,s);wr=!0;try{var l=r(i);return l}finally{if(wr=!1,(Jr!==null||ti!==null)&&(Oc(),Jr&&(i=Jr,r=ti,ti=Jr=null,Yo(i),r)))for(i=0;i<r.length;i++)Yo(r[i])}}function Ca(r,i){var s=r.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break t;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(sr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){$n=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{$n=!1}var br=null,Vi=null,ei=null;function Qo(){if(ei)return ei;var r,i=Vi,s=i.length,l,f="value"in br?br.value:br.textContent,p=f.length;for(r=0;r<s&&i[r]===f[r];r++);var E=s-r;for(l=1;l<=E&&i[s-l]===f[p-l];l++);return ei=f.slice(r,1<l?1-l:void 0)}function Sr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ar(){return!0}function Xo(){return!1}function Ze(r){function i(s,l,f,p,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(s=r[S],this[S]=s?s(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ar:Xo,this.isPropagationStopped=Xo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),i}var oe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Ze(oe),xa=_({},oe,{view:0,detail:0}),ju=Ze(xa),Rs,Cs,Rr,Ma=_({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Rr&&(Rr&&r.type==="mousemove"?(Rs=r.screenX-Rr.screenX,Cs=r.screenY-Rr.screenY):Cs=Rs=0,Rr=r),Rs)},movementY:function(r){return"movementY"in r?r.movementY:Cs}}),Kn=Ze(Ma),Gu=_({},Ma,{dataTransfer:0}),Nf=Ze(Gu),Na=_({},xa,{relatedTarget:0}),Is=Ze(Na),Zo=_({},oe,{animationName:0,elapsedTime:0,pseudoElement:0}),xs=Ze(Zo),Hu=_({},oe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ms=Ze(Hu),Df=_({},oe,{data:0}),Wo=Ze(Df),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Fu[r])?!!i[r]:!1}function Oa(){return Jo}var $u=_({},xa,{key:function(r){if(r.key){var i=Da[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Sr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(r){return r.type==="keypress"?Sr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Sr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ns=Ze($u),Ku=_({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Ze(Ku),ni=_({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Yu=Ze(ni),Qu=_({},oe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Ze(Qu),Zu=_({},Ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ds=Ze(Zu),bn=_({},oe,{newState:0,oldState:0}),Wu=Ze(bn),Ju=[9,13,27,32],Cr=sr&&"CompositionEvent"in window,c=null;sr&&"documentMode"in document&&(c=document.documentMode);var y=sr&&"TextEvent"in window&&!c,v=sr&&(!Cr||c&&8<c&&11>=c),R=" ",$=!1;function nt(r,i){switch(r){case"keyup":return Ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _t(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Wt=!1;function He(r,i){switch(r){case"compositionend":return _t(i);case"keypress":return i.which!==32?null:($=!0,R);case"textInput":return r=i.data,r===R&&$?null:r;default:return null}}function Jt(r,i){if(Wt)return r==="compositionend"||!Cr&&nt(r,i)?(r=Qo(),ei=Vi=br=null,Wt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var We={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qe(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!We[r.type]:i==="textarea"}function ri(r,i,s,l){Jr?ti?ti.push(l):ti=[l]:Jr=l,i=Bc(i,"onChange"),0<i.length&&(s=new As("onChange","change",null,s,l),r.push({event:s,listeners:i}))}var on=null,Ir=null;function el(r){M0(r,0)}function tc(r){var i=Er(r);if(Fo(i))return r}function Zg(r,i){if(r==="change")return i}var Wg=!1;if(sr){var Of;if(sr){var kf="oninput"in document;if(!kf){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),kf=typeof Jg.oninput=="function"}Of=kf}else Of=!1;Wg=Of&&(!document.documentMode||9<document.documentMode)}function ty(){on&&(on.detachEvent("onpropertychange",ey),Ir=on=null)}function ey(r){if(r.propertyName==="value"&&tc(Ir)){var i=[];ri(i,Ir,r,Fn(r)),zu(el,i)}}function zb(r,i,s){r==="focusin"?(ty(),on=i,Ir=s,on.attachEvent("onpropertychange",ey)):r==="focusout"&&ty()}function jb(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return tc(Ir)}function Gb(r,i){if(r==="click")return tc(i)}function Hb(r,i){if(r==="input"||r==="change")return tc(i)}function qb(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Vn=typeof Object.is=="function"?Object.is:qb;function nl(r,i){if(Vn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Bt.call(i,f)||!Vn(r[f],i[f]))return!1}return!0}function ny(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ry(r,i){var s=ny(r);r=0;for(var l;s;){if(s.nodeType===3){if(l=r+s.textContent.length,r<=i&&l>=i)return{node:s,offset:i-r};r=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ny(s)}}function iy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?iy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function ay(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ba(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=ba(r.document)}return i}function Vf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var Fb=sr&&"documentMode"in document&&11>=document.documentMode,Os=null,Pf=null,rl=null,Lf=!1;function sy(r,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lf||Os==null||Os!==ba(l)||(l=Os,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&nl(rl,l)||(rl=l,l=Bc(Pf,"onSelect"),0<l.length&&(i=new As("onSelect","select",null,i,s),r.push({event:i,listeners:l}),i.target=Os)))}function ka(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var ks={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},Uf={},oy={};sr&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Va(r){if(Uf[r])return Uf[r];if(!ks[r])return r;var i=ks[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in oy)return Uf[r]=i[s];return r}var ly=Va("animationend"),uy=Va("animationiteration"),cy=Va("animationstart"),$b=Va("transitionrun"),Kb=Va("transitionstart"),Yb=Va("transitioncancel"),hy=Va("transitionend"),fy=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function or(r,i){fy.set(r,i),ar(i,[r])}var dy=new WeakMap;function Yn(r,i){if(typeof r=="object"&&r!==null){var s=dy.get(r);return s!==void 0?s:(i={value:r,source:i,stack:ws(i)},dy.set(r,i),i)}return{value:r,source:i,stack:ws(i)}}var Qn=[],Vs=0,zf=0;function ec(){for(var r=Vs,i=zf=Vs=0;i<r;){var s=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var f=Qn[i];Qn[i++]=null;var p=Qn[i];if(Qn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&py(s,f,p)}}function nc(r,i,s,l){Qn[Vs++]=r,Qn[Vs++]=i,Qn[Vs++]=s,Qn[Vs++]=l,zf|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function jf(r,i,s,l){return nc(r,i,s,l),rc(r)}function Ps(r,i){return nc(r,null,null,i),rc(r)}function py(r,i,s){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=r.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&i!==null&&(f=31-vt(s),r=p.hiddenUpdates,l=r[f],l===null?r[f]=[i]:l.push(i),i.lane=s|536870912),p):null}function rc(r){if(50<Il)throw Il=0,Kd=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Ls={};function Qb(r,i,s,l){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,i,s,l){return new Qb(r,i,s,l)}function Gf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ii(r,i){var s=r.alternate;return s===null?(s=Pn(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&65011712,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function my(r,i){r.flags&=65011714;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ic(r,i,s,l,f,p){var E=0;if(l=r,typeof r=="function")Gf(r)&&(E=1);else if(typeof r=="string")E=ZS(r,s,rt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=Pn(31,s,i,f),r.elementType=I,r.lanes=p,r;case F:return Pa(s.children,f,p,i);case W:E=8,f|=24;break;case Q:return r=Pn(12,s,i,f|2),r.elementType=Q,r.lanes=p,r;case ct:return r=Pn(13,s,i,f),r.elementType=ct,r.lanes=p,r;case Et:return r=Pn(19,s,i,f),r.elementType=Et,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case pt:case ut:E=10;break t;case dt:E=9;break t;case gt:E=11;break t;case k:E=14;break t;case C:E=16,l=null;break t}E=29,s=Error(a(130,r===null?"null":typeof r,"")),l=null}return i=Pn(E,s,i,f),i.elementType=r,i.type=l,i.lanes=p,i}function Pa(r,i,s,l){return r=Pn(7,r,l,i),r.lanes=s,r}function Hf(r,i,s){return r=Pn(6,r,null,i),r.lanes=s,r}function qf(r,i,s){return i=Pn(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Us=[],Bs=0,ac=null,sc=0,Xn=[],Zn=0,La=null,ai=1,si="";function Ua(r,i){Us[Bs++]=sc,Us[Bs++]=ac,ac=r,sc=i}function gy(r,i,s){Xn[Zn++]=ai,Xn[Zn++]=si,Xn[Zn++]=La,La=r;var l=ai;r=si;var f=32-vt(l)-1;l&=~(1<<f),s+=1;var p=32-vt(i)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,ai=1<<32-vt(i)+f|s<<f|l,si=p+r}else ai=1<<p|s<<f|l,si=r}function Ff(r){r.return!==null&&(Ua(r,1),gy(r,1,0))}function $f(r){for(;r===ac;)ac=Us[--Bs],Us[Bs]=null,sc=Us[--Bs],Us[Bs]=null;for(;r===La;)La=Xn[--Zn],Xn[Zn]=null,si=Xn[--Zn],Xn[Zn]=null,ai=Xn[--Zn],Xn[Zn]=null}var Sn=null,Ie=null,se=!1,Ba=null,xr=!1,Kf=Error(a(519));function za(r){var i=Error(a(418,""));throw sl(Yn(i,r)),Kf}function yy(r){var i=r.stateNode,s=r.type,l=r.memoizedProps;switch(i[Ge]=r,i[Ve]=l,s){case"dialog":Yt("cancel",i),Yt("close",i);break;case"iframe":case"object":case"embed":Yt("load",i);break;case"video":case"audio":for(s=0;s<Ml.length;s++)Yt(Ml[s],i);break;case"source":Yt("error",i);break;case"img":case"image":case"link":Yt("error",i),Yt("load",i);break;case"details":Yt("toggle",i);break;case"input":Yt("invalid",i),Sa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),bs(i);break;case"select":Yt("invalid",i);break;case"textarea":Yt("invalid",i),Aa(i,l.value,l.defaultValue,l.children),bs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||k0(i.textContent,s)?(l.popover!=null&&(Yt("beforetoggle",i),Yt("toggle",i)),l.onScroll!=null&&Yt("scroll",i),l.onScrollEnd!=null&&Yt("scrollend",i),l.onClick!=null&&(i.onclick=zc),i=!0):i=!1,i||za(r)}function _y(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:xr=!1;return;case 27:case 3:xr=!0;return;default:Sn=Sn.return}}function il(r){if(r!==Sn)return!1;if(!se)return _y(r),se=!0,!1;var i=r.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||up(r.type,r.memoizedProps)),s=!s),s&&Ie&&za(r),_y(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));t:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(s=r.data,s==="/$"){if(i===0){Ie=ur(r.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;r=r.nextSibling}Ie=null}}else i===27?(i=Ie,Zi(r.type)?(r=dp,dp=null,Ie=r):Ie=i):Ie=Sn?ur(r.stateNode.nextSibling):null;return!0}function al(){Ie=Sn=null,se=!1}function vy(){var r=Ba;return r!==null&&(In===null?In=r:In.push.apply(In,r),Ba=null),r}function sl(r){Ba===null?Ba=[r]:Ba.push(r)}var Yf=A(null),ja=null,oi=null;function Pi(r,i,s){j(Yf,i._currentValue),i._currentValue=s}function li(r){r._currentValue=Yf.current,L(Yf)}function Qf(r,i,s){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===s)break;r=r.return}}function Xf(r,i,s,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=f;for(var V=0;V<i.length;V++)if(S.context===i[V]){p.lanes|=s,S=p.alternate,S!==null&&(S.lanes|=s),Qf(p.return,s,r),l||(E=null);break t}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),Qf(E,s,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ol(r,i,s,l){r=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var S=f.type;Vn(f.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(f===mt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Pl):r=[Pl])}f=f.return}r!==null&&Xf(i,r,s,l),i.flags|=262144}function oc(r){for(r=r.firstContext;r!==null;){if(!Vn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ga(r){ja=r,oi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function pn(r){return Ey(ja,r)}function lc(r,i){return ja===null&&Ga(r),Ey(r,i)}function Ey(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},oi===null){if(r===null)throw Error(a(308));oi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else oi=oi.next=i;return s}var Xb=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},Zb=n.unstable_scheduleCallback,Wb=n.unstable_NormalPriority,Fe={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new Xb,data:new Map,refCount:0}}function ll(r){r.refCount--,r.refCount===0&&Zb(Wb,function(){r.controller.abort()})}var ul=null,Wf=0,zs=0,js=null;function Jb(r,i){if(ul===null){var s=ul=[];Wf=0,zs=tp(),js={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wf++,i.then(Ty,Ty),i}function Ty(){if(--Wf===0&&ul!==null){js!==null&&(js.status="fulfilled");var r=ul;ul=null,zs=0,js=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function tS(r,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var wy=D.S;D.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jb(r,i),wy!==null&&wy(r,i)};var Ha=A(null);function Jf(){var r=Ha.current;return r!==null?r:ve.pooledCache}function uc(r,i){i===null?j(Ha,Ha.current):j(Ha,i.pool)}function by(){var r=Jf();return r===null?null:{parent:Fe._currentValue,pool:r}}var cl=Error(a(460)),Sy=Error(a(474)),cc=Error(a(542)),td={then:function(){}};function Ay(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hc(){}function Ry(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(hc,hc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Iy(r),r;default:if(typeof i.status=="string")i.then(hc,hc);else{if(r=ve,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Iy(r),r}throw hl=i,cl}}var hl=null;function Cy(){if(hl===null)throw Error(a(459));var r=hl;return hl=null,r}function Iy(r){if(r===cl||r===cc)throw Error(a(483))}var Li=!1;function ed(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ui(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Bi(r,i,s){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(ue&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=rc(r),py(r,null,s),i}return nc(r,l,i,s),rc(r)}function fl(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,s|=l,i.lanes=s,zo(r,s)}}function rd(r,i){var s=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?f=p=i:p=p.next=i}else f=p=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var id=!1;function dl(){if(id){var r=js;if(r!==null)throw r}}function pl(r,i,s,l){id=!1;var f=r.updateQueue;Li=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var V=S,X=V.next;V.next=null,E===null?p=X:E.next=X,E=V;var it=r.alternate;it!==null&&(it=it.updateQueue,S=it.lastBaseUpdate,S!==E&&(S===null?it.firstBaseUpdate=X:S.next=X,it.lastBaseUpdate=V))}if(p!==null){var ot=f.baseState;E=0,it=X=V=null,S=p;do{var tt=S.lane&-536870913,et=tt!==S.lane;if(et?(te&tt)===tt:(l&tt)===tt){tt!==0&&tt===zs&&(id=!0),it!==null&&(it=it.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Pt=r,Ot=S;tt=i;var me=s;switch(Ot.tag){case 1:if(Pt=Ot.payload,typeof Pt=="function"){ot=Pt.call(me,ot,tt);break t}ot=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Ot.payload,tt=typeof Pt=="function"?Pt.call(me,ot,tt):Pt,tt==null)break t;ot=_({},ot,tt);break t;case 2:Li=!0}}tt=S.callback,tt!==null&&(r.flags|=64,et&&(r.flags|=8192),et=f.callbacks,et===null?f.callbacks=[tt]:et.push(tt))}else et={lane:tt,tag:S.tag,payload:S.payload,callback:S.callback,next:null},it===null?(X=it=et,V=ot):it=it.next=et,E|=tt;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;et=S,S=et.next,et.next=null,f.lastBaseUpdate=et,f.shared.pending=null}}while(!0);it===null&&(V=ot),f.baseState=V,f.firstBaseUpdate=X,f.lastBaseUpdate=it,p===null&&(f.shared.lanes=0),Ki|=E,r.lanes=E,r.memoizedState=ot}}function xy(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function My(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)xy(s[r],i)}var Gs=A(null),fc=A(0);function Ny(r,i){r=mi,j(fc,r),j(Gs,i),mi=r|i.baseLanes}function ad(){j(fc,mi),j(Gs,Gs.current)}function sd(){mi=fc.current,L(Gs),L(fc)}var zi=0,qt=null,de=null,Le=null,dc=!1,Hs=!1,qa=!1,pc=0,ml=0,qs=null,eS=0;function De(){throw Error(a(321))}function od(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!Vn(r[s],i[s]))return!1;return!0}function ld(r,i,s,l,f,p){return zi=p,qt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=r===null||r.memoizedState===null?p_:m_,qa=!1,p=s(l,f),qa=!1,Hs&&(p=Oy(i,s,l,f)),Dy(r),p}function Dy(r){D.H=Ec;var i=de!==null&&de.next!==null;if(zi=0,Le=de=qt=null,dc=!1,ml=0,qs=null,i)throw Error(a(300));r===null||Je||(r=r.dependencies,r!==null&&oc(r)&&(Je=!0))}function Oy(r,i,s,l){qt=r;var f=0;do{if(Hs&&(qs=null),ml=0,Hs=!1,25<=f)throw Error(a(301));if(f+=1,Le=de=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=lS,p=i(s,l)}while(Hs);return p}function nS(){var r=D.H,i=r.useState()[0];return i=typeof i.then=="function"?gl(i):i,r=r.useState()[0],(de!==null?de.memoizedState:null)!==r&&(qt.flags|=1024),i}function ud(){var r=pc!==0;return pc=0,r}function cd(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function hd(r){if(dc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dc=!1}zi=0,Le=de=qt=null,Hs=!1,ml=pc=0,qs=null}function Rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?qt.memoizedState=Le=r:Le=Le.next=r,Le}function Ue(){if(de===null){var r=qt.alternate;r=r!==null?r.memoizedState:null}else r=de.next;var i=Le===null?qt.memoizedState:Le.next;if(i!==null)Le=i,de=r;else{if(r===null)throw qt.alternate===null?Error(a(467)):Error(a(310));de=r,r={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},Le===null?qt.memoizedState=Le=r:Le=Le.next=r}return Le}function fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(r){var i=ml;return ml+=1,qs===null&&(qs=[]),r=Ry(qs,r,i),i=qt,(Le===null?i.memoizedState:Le.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?p_:m_),r}function mc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gl(r);if(r.$$typeof===ut)return pn(r)}throw Error(a(438,String(r)))}function dd(r){var i=null,s=qt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=qt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=fd(),qt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),l=0;l<r;l++)s[l]=O;return i.index++,s}function ui(r,i){return typeof i=="function"?i(r):i}function gc(r){var i=Ue();return pd(i,de,r)}function pd(r,i,s){var l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=r.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,l.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{i=f.next;var S=E=null,V=null,X=i,it=!1;do{var ot=X.lane&-536870913;if(ot!==X.lane?(te&ot)===ot:(zi&ot)===ot){var tt=X.revertLane;if(tt===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ot===zs&&(it=!0);else if((zi&tt)===tt){X=X.next,tt===zs&&(it=!0);continue}else ot={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(S=V=ot,E=p):V=V.next=ot,qt.lanes|=tt,Ki|=tt;ot=X.action,qa&&s(p,ot),p=X.hasEagerState?X.eagerState:s(p,ot)}else tt={lane:ot,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(S=V=tt,E=p):V=V.next=tt,qt.lanes|=ot,Ki|=ot;X=X.next}while(X!==null&&X!==i);if(V===null?E=p:V.next=S,!Vn(p,r.memoizedState)&&(Je=!0,it&&(s=js,s!==null)))throw s;r.memoizedState=p,r.baseState=E,r.baseQueue=V,l.lastRenderedState=p}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function md(r){var i=Ue(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var l=s.dispatch,f=s.pending,p=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do p=r(p,E.action),E=E.next;while(E!==f);Vn(p,i.memoizedState)||(Je=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,l]}function ky(r,i,s){var l=qt,f=Ue(),p=se;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Vn((de||f).memoizedState,s);E&&(f.memoizedState=s,Je=!0),f=f.queue;var S=Ly.bind(null,l,f,r);if(yl(2048,8,S,[r]),f.getSnapshot!==i||E||Le!==null&&Le.memoizedState.tag&1){if(l.flags|=2048,Fs(9,yc(),Py.bind(null,l,f,s,i),null),ve===null)throw Error(a(349));p||(zi&124)!==0||Vy(l,i,s)}return s}function Vy(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=qt.updateQueue,i===null?(i=fd(),qt.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function Py(r,i,s,l){i.value=s,i.getSnapshot=l,Uy(i)&&By(r)}function Ly(r,i,s){return s(function(){Uy(i)&&By(r)})}function Uy(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!Vn(r,s)}catch{return!0}}function By(r){var i=Ps(r,2);i!==null&&jn(i,r,2)}function gd(r){var i=Rn();if(typeof r=="function"){var s=r;if(r=s(),qa){wt(!0);try{s()}finally{wt(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:r},i}function zy(r,i,s,l){return r.baseState=s,pd(r,de,typeof l=="function"?l:ui)}function rS(r,i,s,l,f){if(vc(r))throw Error(a(485));if(r=i.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};D.T!==null?s(!0):p.isTransition=!1,l(p),s=i.pending,s===null?(p.next=i.pending=p,jy(i,p)):(p.next=s.next,i.pending=s.next=p)}}function jy(r,i){var s=i.action,l=i.payload,f=r.state;if(i.isTransition){var p=D.T,E={};D.T=E;try{var S=s(f,l),V=D.S;V!==null&&V(E,S),Gy(r,i,S)}catch(X){yd(r,i,X)}finally{D.T=p}}else try{p=s(f,l),Gy(r,i,p)}catch(X){yd(r,i,X)}}function Gy(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Hy(r,i,l)},function(l){return yd(r,i,l)}):Hy(r,i,s)}function Hy(r,i,s){i.status="fulfilled",i.value=s,qy(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,jy(r,s)))}function yd(r,i,s){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,qy(i),i=i.next;while(i!==l)}r.action=null}function qy(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Fy(r,i){return i}function $y(r,i){if(se){var s=ve.formState;if(s!==null){t:{var l=qt;if(se){if(Ie){e:{for(var f=Ie,p=xr;f.nodeType!==8;){if(!p){f=null;break e}if(f=ur(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ie=ur(f.nextSibling),l=f.data==="F!";break t}}za(l)}l=!1}l&&(i=s[0])}}return s=Rn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:i},s.queue=l,s=h_.bind(null,qt,l),l.dispatch=s,l=gd(!1),p=wd.bind(null,qt,!1,l.queue),l=Rn(),f={state:i,dispatch:null,action:r,pending:null},l.queue=f,s=rS.bind(null,qt,f,p,s),f.dispatch=s,l.memoizedState=r,[i,s,!1]}function Ky(r){var i=Ue();return Yy(i,de,r)}function Yy(r,i,s){if(i=pd(r,i,Fy)[0],r=gc(ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=gl(i)}catch(E){throw E===cl?cc:E}else l=i;i=Ue();var f=i.queue,p=f.dispatch;return s!==i.memoizedState&&(qt.flags|=2048,Fs(9,yc(),iS.bind(null,f,s),null)),[l,p,r]}function iS(r,i){r.action=i}function Qy(r){var i=Ue(),s=de;if(s!==null)return Yy(i,s,r);Ue(),i=i.memoizedState,s=Ue();var l=s.queue.dispatch;return s.memoizedState=r,[i,l,!1]}function Fs(r,i,s,l){return r={tag:r,create:s,deps:l,inst:i,next:null},i=qt.updateQueue,i===null&&(i=fd(),qt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(l=s.next,s.next=r,r.next=l,i.lastEffect=r),r}function yc(){return{destroy:void 0,resource:void 0}}function Xy(){return Ue().memoizedState}function _c(r,i,s,l){var f=Rn();l=l===void 0?null:l,qt.flags|=r,f.memoizedState=Fs(1|i,yc(),s,l)}function yl(r,i,s,l){var f=Ue();l=l===void 0?null:l;var p=f.memoizedState.inst;de!==null&&l!==null&&od(l,de.memoizedState.deps)?f.memoizedState=Fs(i,p,s,l):(qt.flags|=r,f.memoizedState=Fs(1|i,p,s,l))}function Zy(r,i){_c(8390656,8,r,i)}function Wy(r,i){yl(2048,8,r,i)}function Jy(r,i){return yl(4,2,r,i)}function t_(r,i){return yl(4,4,r,i)}function e_(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function n_(r,i,s){s=s!=null?s.concat([r]):null,yl(4,4,e_.bind(null,i,r),s)}function _d(){}function r_(r,i){var s=Ue();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&od(i,l[1])?l[0]:(s.memoizedState=[r,i],r)}function i_(r,i){var s=Ue();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&od(i,l[1]))return l[0];if(l=r(),qa){wt(!0);try{r()}finally{wt(!1)}}return s.memoizedState=[l,i],l}function vd(r,i,s){return s===void 0||(zi&1073741824)!==0?r.memoizedState=i:(r.memoizedState=s,r=o0(),qt.lanes|=r,Ki|=r,s)}function a_(r,i,s,l){return Vn(s,i)?s:Gs.current!==null?(r=vd(r,s,l),Vn(r,i)||(Je=!0),r):(zi&42)===0?(Je=!0,r.memoizedState=s):(r=o0(),qt.lanes|=r,Ki|=r,i)}function s_(r,i,s,l,f){var p=U.p;U.p=p!==0&&8>p?p:8;var E=D.T,S={};D.T=S,wd(r,!1,i,s);try{var V=f(),X=D.S;if(X!==null&&X(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var it=tS(V,l);_l(r,i,it,zn(r))}else _l(r,i,l,zn(r))}catch(ot){_l(r,i,{then:function(){},status:"rejected",reason:ot},zn())}finally{U.p=p,D.T=E}}function aS(){}function Ed(r,i,s,l){if(r.tag!==5)throw Error(a(476));var f=o_(r).queue;s_(r,f,i,H,s===null?aS:function(){return l_(r),s(l)})}function o_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:H},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function l_(r){var i=o_(r).next.queue;_l(r,i,{},zn())}function Td(){return pn(Pl)}function u_(){return Ue().memoizedState}function c_(){return Ue().memoizedState}function sS(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=zn();r=Ui(s);var l=Bi(i,r,s);l!==null&&(jn(l,i,s),fl(l,i,s)),i={cache:Zf()},r.payload=i;return}i=i.return}}function oS(r,i,s){var l=zn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vc(r)?f_(i,s):(s=jf(r,i,s,l),s!==null&&(jn(s,r,l),d_(s,i,l)))}function h_(r,i,s){var l=zn();_l(r,i,s,l)}function _l(r,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(r))f_(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,S=p(E,s);if(f.hasEagerState=!0,f.eagerState=S,Vn(S,E))return nc(r,i,f,0),ve===null&&ec(),!1}catch{}finally{}if(s=jf(r,i,f,l),s!==null)return jn(s,r,l),d_(s,i,l),!0}return!1}function wd(r,i,s,l){if(l={lane:2,revertLane:tp(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(r)){if(i)throw Error(a(479))}else i=jf(r,s,l,2),i!==null&&jn(i,r,2)}function vc(r){var i=r.alternate;return r===qt||i!==null&&i===qt}function f_(r,i){Hs=dc=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function d_(r,i,s){if((s&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,s|=l,i.lanes=s,zo(r,s)}}var Ec={readContext:pn,use:mc,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De},p_={readContext:pn,use:mc,useCallback:function(r,i){return Rn().memoizedState=[r,i===void 0?null:i],r},useContext:pn,useEffect:Zy,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,_c(4194308,4,e_.bind(null,i,r),s)},useLayoutEffect:function(r,i){return _c(4194308,4,r,i)},useInsertionEffect:function(r,i){_c(4,2,r,i)},useMemo:function(r,i){var s=Rn();i=i===void 0?null:i;var l=r();if(qa){wt(!0);try{r()}finally{wt(!1)}}return s.memoizedState=[l,i],l},useReducer:function(r,i,s){var l=Rn();if(s!==void 0){var f=s(i);if(qa){wt(!0);try{s(i)}finally{wt(!1)}}}else f=i;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=oS.bind(null,qt,r),[l.memoizedState,r]},useRef:function(r){var i=Rn();return r={current:r},i.memoizedState=r},useState:function(r){r=gd(r);var i=r.queue,s=h_.bind(null,qt,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:_d,useDeferredValue:function(r,i){var s=Rn();return vd(s,r,i)},useTransition:function(){var r=gd(!1);return r=s_.bind(null,qt,r.queue,!0,!1),Rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var l=qt,f=Rn();if(se){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),ve===null)throw Error(a(349));(te&124)!==0||Vy(l,i,s)}f.memoizedState=s;var p={value:s,getSnapshot:i};return f.queue=p,Zy(Ly.bind(null,l,p,r),[r]),l.flags|=2048,Fs(9,yc(),Py.bind(null,l,p,s,i),null),s},useId:function(){var r=Rn(),i=ve.identifierPrefix;if(se){var s=si,l=ai;s=(l&~(1<<32-vt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=pc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=eS++,i=""+i+"r"+s.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:Td,useFormState:$y,useActionState:$y,useOptimistic:function(r){var i=Rn();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=wd.bind(null,qt,!0,s),s.dispatch=i,[r,i]},useMemoCache:dd,useCacheRefresh:function(){return Rn().memoizedState=sS.bind(null,qt)}},m_={readContext:pn,use:mc,useCallback:r_,useContext:pn,useEffect:Wy,useImperativeHandle:n_,useInsertionEffect:Jy,useLayoutEffect:t_,useMemo:i_,useReducer:gc,useRef:Xy,useState:function(){return gc(ui)},useDebugValue:_d,useDeferredValue:function(r,i){var s=Ue();return a_(s,de.memoizedState,r,i)},useTransition:function(){var r=gc(ui)[0],i=Ue().memoizedState;return[typeof r=="boolean"?r:gl(r),i]},useSyncExternalStore:ky,useId:u_,useHostTransitionStatus:Td,useFormState:Ky,useActionState:Ky,useOptimistic:function(r,i){var s=Ue();return zy(s,de,r,i)},useMemoCache:dd,useCacheRefresh:c_},lS={readContext:pn,use:mc,useCallback:r_,useContext:pn,useEffect:Wy,useImperativeHandle:n_,useInsertionEffect:Jy,useLayoutEffect:t_,useMemo:i_,useReducer:md,useRef:Xy,useState:function(){return md(ui)},useDebugValue:_d,useDeferredValue:function(r,i){var s=Ue();return de===null?vd(s,r,i):a_(s,de.memoizedState,r,i)},useTransition:function(){var r=md(ui)[0],i=Ue().memoizedState;return[typeof r=="boolean"?r:gl(r),i]},useSyncExternalStore:ky,useId:u_,useHostTransitionStatus:Td,useFormState:Qy,useActionState:Qy,useOptimistic:function(r,i){var s=Ue();return de!==null?zy(s,de,r,i):(s.baseState=r,[r,s.queue.dispatch])},useMemoCache:dd,useCacheRefresh:c_},$s=null,vl=0;function Tc(r){var i=vl;return vl+=1,$s===null&&($s=[]),Ry($s,r,i)}function El(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function wc(r,i){throw i.$$typeof===w?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function g_(r){var i=r._init;return i(r._payload)}function y_(r){function i(q,z){if(r){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function s(q,z){if(!r)return null;for(;z!==null;)i(q,z),z=z.sibling;return null}function l(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=ii(q,z),q.index=0,q.sibling=null,q}function p(q,z,Y){return q.index=Y,r?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function S(q,z,Y,st){return z===null||z.tag!==6?(z=Hf(Y,q.mode,st),z.return=q,z):(z=f(z,Y),z.return=q,z)}function V(q,z,Y,st){var At=Y.type;return At===F?it(q,z,Y.props.children,st,Y.key):z!==null&&(z.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===C&&g_(At)===z.type)?(z=f(z,Y.props),El(z,Y),z.return=q,z):(z=ic(Y.type,Y.key,Y.props,null,q.mode,st),El(z,Y),z.return=q,z)}function X(q,z,Y,st){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=qf(Y,q.mode,st),z.return=q,z):(z=f(z,Y.children||[]),z.return=q,z)}function it(q,z,Y,st,At){return z===null||z.tag!==7?(z=Pa(Y,q.mode,st,At),z.return=q,z):(z=f(z,Y),z.return=q,z)}function ot(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Hf(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return Y=ic(z.type,z.key,z.props,null,q.mode,Y),El(Y,z),Y.return=q,Y;case M:return z=qf(z,q.mode,Y),z.return=q,z;case C:var st=z._init;return z=st(z._payload),ot(q,z,Y)}if(G(z)||P(z))return z=Pa(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return ot(q,Tc(z),Y);if(z.$$typeof===ut)return ot(q,lc(q,z),Y);wc(q,z)}return null}function tt(q,z,Y,st){var At=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return At!==null?null:S(q,z,""+Y,st);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===At?V(q,z,Y,st):null;case M:return Y.key===At?X(q,z,Y,st):null;case C:return At=Y._init,Y=At(Y._payload),tt(q,z,Y,st)}if(G(Y)||P(Y))return At!==null?null:it(q,z,Y,st,null);if(typeof Y.then=="function")return tt(q,z,Tc(Y),st);if(Y.$$typeof===ut)return tt(q,z,lc(q,Y),st);wc(q,Y)}return null}function et(q,z,Y,st,At){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return q=q.get(Y)||null,S(z,q,""+st,At);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case b:return q=q.get(st.key===null?Y:st.key)||null,V(z,q,st,At);case M:return q=q.get(st.key===null?Y:st.key)||null,X(z,q,st,At);case C:var $t=st._init;return st=$t(st._payload),et(q,z,Y,st,At)}if(G(st)||P(st))return q=q.get(Y)||null,it(z,q,st,At,null);if(typeof st.then=="function")return et(q,z,Y,Tc(st),At);if(st.$$typeof===ut)return et(q,z,Y,lc(z,st),At);wc(z,st)}return null}function Pt(q,z,Y,st){for(var At=null,$t=null,It=z,kt=z=0,en=null;It!==null&&kt<Y.length;kt++){It.index>kt?(en=It,It=null):en=It.sibling;var re=tt(q,It,Y[kt],st);if(re===null){It===null&&(It=en);break}r&&It&&re.alternate===null&&i(q,It),z=p(re,z,kt),$t===null?At=re:$t.sibling=re,$t=re,It=en}if(kt===Y.length)return s(q,It),se&&Ua(q,kt),At;if(It===null){for(;kt<Y.length;kt++)It=ot(q,Y[kt],st),It!==null&&(z=p(It,z,kt),$t===null?At=It:$t.sibling=It,$t=It);return se&&Ua(q,kt),At}for(It=l(It);kt<Y.length;kt++)en=et(It,q,kt,Y[kt],st),en!==null&&(r&&en.alternate!==null&&It.delete(en.key===null?kt:en.key),z=p(en,z,kt),$t===null?At=en:$t.sibling=en,$t=en);return r&&It.forEach(function(na){return i(q,na)}),se&&Ua(q,kt),At}function Ot(q,z,Y,st){if(Y==null)throw Error(a(151));for(var At=null,$t=null,It=z,kt=z=0,en=null,re=Y.next();It!==null&&!re.done;kt++,re=Y.next()){It.index>kt?(en=It,It=null):en=It.sibling;var na=tt(q,It,re.value,st);if(na===null){It===null&&(It=en);break}r&&It&&na.alternate===null&&i(q,It),z=p(na,z,kt),$t===null?At=na:$t.sibling=na,$t=na,It=en}if(re.done)return s(q,It),se&&Ua(q,kt),At;if(It===null){for(;!re.done;kt++,re=Y.next())re=ot(q,re.value,st),re!==null&&(z=p(re,z,kt),$t===null?At=re:$t.sibling=re,$t=re);return se&&Ua(q,kt),At}for(It=l(It);!re.done;kt++,re=Y.next())re=et(It,q,kt,re.value,st),re!==null&&(r&&re.alternate!==null&&It.delete(re.key===null?kt:re.key),z=p(re,z,kt),$t===null?At=re:$t.sibling=re,$t=re);return r&&It.forEach(function(uA){return i(q,uA)}),se&&Ua(q,kt),At}function me(q,z,Y,st){if(typeof Y=="object"&&Y!==null&&Y.type===F&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:t:{for(var At=Y.key;z!==null;){if(z.key===At){if(At=Y.type,At===F){if(z.tag===7){s(q,z.sibling),st=f(z,Y.props.children),st.return=q,q=st;break t}}else if(z.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===C&&g_(At)===z.type){s(q,z.sibling),st=f(z,Y.props),El(st,Y),st.return=q,q=st;break t}s(q,z);break}else i(q,z);z=z.sibling}Y.type===F?(st=Pa(Y.props.children,q.mode,st,Y.key),st.return=q,q=st):(st=ic(Y.type,Y.key,Y.props,null,q.mode,st),El(st,Y),st.return=q,q=st)}return E(q);case M:t:{for(At=Y.key;z!==null;){if(z.key===At)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){s(q,z.sibling),st=f(z,Y.children||[]),st.return=q,q=st;break t}else{s(q,z);break}else i(q,z);z=z.sibling}st=qf(Y,q.mode,st),st.return=q,q=st}return E(q);case C:return At=Y._init,Y=At(Y._payload),me(q,z,Y,st)}if(G(Y))return Pt(q,z,Y,st);if(P(Y)){if(At=P(Y),typeof At!="function")throw Error(a(150));return Y=At.call(Y),Ot(q,z,Y,st)}if(typeof Y.then=="function")return me(q,z,Tc(Y),st);if(Y.$$typeof===ut)return me(q,z,lc(q,Y),st);wc(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(s(q,z.sibling),st=f(z,Y),st.return=q,q=st):(s(q,z),st=Hf(Y,q.mode,st),st.return=q,q=st),E(q)):s(q,z)}return function(q,z,Y,st){try{vl=0;var At=me(q,z,Y,st);return $s=null,At}catch(It){if(It===cl||It===cc)throw It;var $t=Pn(29,It,null,q.mode);return $t.lanes=st,$t.return=q,$t}finally{}}}var Ks=y_(!0),__=y_(!1),Wn=A(null),Mr=null;function ji(r){var i=r.alternate;j($e,$e.current&1),j(Wn,r),Mr===null&&(i===null||Gs.current!==null||i.memoizedState!==null)&&(Mr=r)}function v_(r){if(r.tag===22){if(j($e,$e.current),j(Wn,r),Mr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Mr=r)}}else Gi()}function Gi(){j($e,$e.current),j(Wn,Wn.current)}function ci(r){L(Wn),Mr===r&&(Mr=null),L($e)}var $e=A(0);function bc(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||fp(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bd(r,i,s,l){i=r.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var Sd={enqueueSetState:function(r,i,s){r=r._reactInternals;var l=zn(),f=Ui(l);f.payload=i,s!=null&&(f.callback=s),i=Bi(r,f,l),i!==null&&(jn(i,r,l),fl(i,r,l))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var l=zn(),f=Ui(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Bi(r,f,l),i!==null&&(jn(i,r,l),fl(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=zn(),l=Ui(s);l.tag=2,i!=null&&(l.callback=i),i=Bi(r,l,s),i!==null&&(jn(i,r,s),fl(i,r,s))}};function E_(r,i,s,l,f,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,p,E):i.prototype&&i.prototype.isPureReactComponent?!nl(s,l)||!nl(f,p):!0}function T_(r,i,s,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==r&&Sd.enqueueReplaceState(i,i.state,null)}function Fa(r,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(r=r.defaultProps){s===i&&(s=_({},s));for(var f in r)s[f]===void 0&&(s[f]=r[f])}return s}var Sc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function w_(r){Sc(r)}function b_(r){console.error(r)}function S_(r){Sc(r)}function Ac(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function A_(r,i,s){try{var l=r.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(r,i,s){return s=Ui(s),s.tag=3,s.payload={element:null},s.callback=function(){Ac(r,i)},s}function R_(r){return r=Ui(r),r.tag=3,r}function C_(r,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;r.payload=function(){return f(p)},r.callback=function(){A_(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){A_(i,s,l),typeof f!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function uS(r,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ol(i,s,f,!0),s=Wn.current,s!==null){switch(s.tag){case 13:return Mr===null?Qd():s.alternate===null&&xe===0&&(xe=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===td?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Zd(r,l,f)),!1;case 22:return s.flags|=65536,l===td?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Zd(r,l,f)),!1}throw Error(a(435,s.tag))}return Zd(r,l,f),Qd(),!1}if(se)return i=Wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Kf&&(r=Error(a(422),{cause:l}),sl(Yn(r,s)))):(l!==Kf&&(i=Error(a(423),{cause:l}),sl(Yn(i,s))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=Yn(l,s),f=Ad(r.stateNode,l,f),rd(r,f),xe!==4&&(xe=2)),!1;var p=Error(a(520),{cause:l});if(p=Yn(p,s),Cl===null?Cl=[p]:Cl.push(p),xe!==4&&(xe=2),i===null)return!0;l=Yn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=f&-f,s.lanes|=r,r=Ad(s.stateNode,l,r),rd(s,r),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yi===null||!Yi.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=R_(f),C_(f,r,s,l),rd(s,f),!1}s=s.return}while(s!==null);return!1}var I_=Error(a(461)),Je=!1;function ln(r,i,s,l){i.child=r===null?__(i,null,s,l):Ks(i,r.child,s,l)}function x_(r,i,s,l,f){s=s.render;var p=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Ga(i),l=ld(r,i,s,E,p,f),S=ud(),r!==null&&!Je?(cd(r,i,f),hi(r,i,f)):(se&&S&&Ff(i),i.flags|=1,ln(r,i,l,f),i.child)}function M_(r,i,s,l,f){if(r===null){var p=s.type;return typeof p=="function"&&!Gf(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,N_(r,i,p,l,f)):(r=ic(s.type,null,l,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!Od(r,f)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:nl,s(E,l)&&r.ref===i.ref)return hi(r,i,f)}return i.flags|=1,r=ii(p,l),r.ref=i.ref,r.return=i,i.child=r}function N_(r,i,s,l,f){if(r!==null){var p=r.memoizedProps;if(nl(p,l)&&r.ref===i.ref)if(Je=!1,i.pendingProps=l=p,Od(r,f))(r.flags&131072)!==0&&(Je=!0);else return i.lanes=r.lanes,hi(r,i,f)}return Rd(r,i,s,l,f)}function D_(r,i,s){var l=i.pendingProps,f=l.children,p=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,r!==null){for(f=i.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return O_(r,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&uc(i,p!==null?p.cachePool:null),p!==null?Ny(i,p):ad(),v_(i);else return i.lanes=i.childLanes=536870912,O_(r,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(uc(i,p.cachePool),Ny(i,p),Gi(),i.memoizedState=null):(r!==null&&uc(i,null),ad(),Gi());return ln(r,i,f,s),i.child}function O_(r,i,s,l){var f=Jf();return f=f===null?null:{parent:Fe._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},r!==null&&uc(i,null),ad(),v_(i),r!==null&&ol(r,i,l,!0),null}function Rc(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(r===null||r.ref!==s)&&(i.flags|=4194816)}}function Rd(r,i,s,l,f){return Ga(i),s=ld(r,i,s,l,void 0,f),l=ud(),r!==null&&!Je?(cd(r,i,f),hi(r,i,f)):(se&&l&&Ff(i),i.flags|=1,ln(r,i,s,f),i.child)}function k_(r,i,s,l,f,p){return Ga(i),i.updateQueue=null,s=Oy(i,l,s,f),Dy(r),l=ud(),r!==null&&!Je?(cd(r,i,p),hi(r,i,p)):(se&&l&&Ff(i),i.flags|=1,ln(r,i,s,p),i.child)}function V_(r,i,s,l,f){if(Ga(i),i.stateNode===null){var p=Ls,E=s.contextType;typeof E=="object"&&E!==null&&(p=pn(E)),p=new s(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Sd,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},ed(i),E=s.contextType,p.context=typeof E=="object"&&E!==null?pn(E):Ls,p.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(bd(i,s,E,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Sd.enqueueReplaceState(p,p.state,null),pl(i,l,p,f),dl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){p=i.stateNode;var S=i.memoizedProps,V=Fa(s,S);p.props=V;var X=p.context,it=s.contextType;E=Ls,typeof it=="object"&&it!==null&&(E=pn(it));var ot=s.getDerivedStateFromProps;it=typeof ot=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,it||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||X!==E)&&T_(i,p,l,E),Li=!1;var tt=i.memoizedState;p.state=tt,pl(i,l,p,f),dl(),X=i.memoizedState,S||tt!==X||Li?(typeof ot=="function"&&(bd(i,s,ot,l),X=i.memoizedState),(V=Li||E_(i,s,V,l,tt,X,E))?(it||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=X),p.props=l,p.state=X,p.context=E,l=V):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,nd(r,i),E=i.memoizedProps,it=Fa(s,E),p.props=it,ot=i.pendingProps,tt=p.context,X=s.contextType,V=Ls,typeof X=="object"&&X!==null&&(V=pn(X)),S=s.getDerivedStateFromProps,(X=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ot||tt!==V)&&T_(i,p,l,V),Li=!1,tt=i.memoizedState,p.state=tt,pl(i,l,p,f),dl();var et=i.memoizedState;E!==ot||tt!==et||Li||r!==null&&r.dependencies!==null&&oc(r.dependencies)?(typeof S=="function"&&(bd(i,s,S,l),et=i.memoizedState),(it=Li||E_(i,s,it,l,tt,et,V)||r!==null&&r.dependencies!==null&&oc(r.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,et,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,et,V)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&tt===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&tt===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=et),p.props=l,p.state=et,p.context=V,l=it):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&tt===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&tt===r.memoizedState||(i.flags|=1024),l=!1)}return p=l,Rc(r,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&l?(i.child=Ks(i,r.child,null,f),i.child=Ks(i,null,s,f)):ln(r,i,s,f),i.memoizedState=p.state,r=i.child):r=hi(r,i,f),r}function P_(r,i,s,l){return al(),i.flags|=256,ln(r,i,s,l),i.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(r){return{baseLanes:r,cachePool:by()}}function xd(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=Jn),r}function L_(r,i,s){var l=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:($e.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(se){if(f?ji(i):Gi(),se){var S=Ie,V;if(V=S){t:{for(V=S,S=xr;V.nodeType!==8;){if(!S){S=null;break t}if(V=ur(V.nextSibling),V===null){S=null;break t}}S=V}S!==null?(i.memoizedState={dehydrated:S,treeContext:La!==null?{id:ai,overflow:si}:null,retryLane:536870912,hydrationErrors:null},V=Pn(18,null,null,0),V.stateNode=S,V.return=i,i.child=V,Sn=i,Ie=null,V=!0):V=!1}V||za(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return fp(S)?i.lanes=32:i.lanes=536870912,null;ci(i)}return S=l.children,l=l.fallback,f?(Gi(),f=i.mode,S=Cc({mode:"hidden",children:S},f),l=Pa(l,f,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,f=i.child,f.memoizedState=Id(s),f.childLanes=xd(r,E,s),i.memoizedState=Cd,l):(ji(i),Md(i,S))}if(V=r.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(p)i.flags&256?(ji(i),i.flags&=-257,i=Nd(r,i,s)):i.memoizedState!==null?(Gi(),i.child=r.child,i.flags|=128,i=null):(Gi(),f=l.fallback,S=i.mode,l=Cc({mode:"visible",children:l.children},S),f=Pa(f,S,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ks(i,r.child,null,s),l=i.child,l.memoizedState=Id(s),l.childLanes=xd(r,E,s),i.memoizedState=Cd,i=f);else if(ji(i),fp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var X=E.dgst;E=X,l=Error(a(419)),l.stack="",l.digest=E,sl({value:l,source:null,stack:null}),i=Nd(r,i,s)}else if(Je||ol(r,i,s,!1),E=(s&r.childLanes)!==0,Je||E){if(E=ve,E!==null&&(l=s&-s,l=(l&42)!==0?1:xi(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==V.retryLane))throw V.retryLane=l,Ps(r,l),jn(E,r,l),I_;S.data==="$?"||Qd(),i=Nd(r,i,s)}else S.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=V.treeContext,Ie=ur(S.nextSibling),Sn=i,se=!0,Ba=null,xr=!1,r!==null&&(Xn[Zn++]=ai,Xn[Zn++]=si,Xn[Zn++]=La,ai=r.id,si=r.overflow,La=i),i=Md(i,l.children),i.flags|=4096);return i}return f?(Gi(),f=l.fallback,S=i.mode,V=r.child,X=V.sibling,l=ii(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,X!==null?f=ii(X,f):(f=Pa(f,S,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,S=r.child.memoizedState,S===null?S=Id(s):(V=S.cachePool,V!==null?(X=Fe._currentValue,V=V.parent!==X?{parent:X,pool:X}:V):V=by(),S={baseLanes:S.baseLanes|s,cachePool:V}),f.memoizedState=S,f.childLanes=xd(r,E,s),i.memoizedState=Cd,l):(ji(i),s=r.child,r=s.sibling,s=ii(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=s,i.memoizedState=null,s)}function Md(r,i){return i=Cc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Cc(r,i){return r=Pn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Nd(r,i,s){return Ks(i,r.child,null,s),r=Md(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function U_(r,i,s){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Qf(r.return,i,s)}function Dd(r,i,s,l,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=f)}function B_(r,i,s){var l=i.pendingProps,f=l.revealOrder,p=l.tail;if(ln(r,i,l.children,s),l=$e.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&U_(r,s,i);else if(r.tag===19)U_(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(j($e,l),f){case"forwards":for(s=i.child,f=null;s!==null;)r=s.alternate,r!==null&&bc(r)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Dd(i,!1,f,s,p);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&bc(r)===null){i.child=f;break}r=f.sibling,f.sibling=s,s=f,f=r}Dd(i,!0,s,null,p);break;case"together":Dd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function hi(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),Ki|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(ol(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,s=ii(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=ii(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function Od(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&oc(r)))}function cS(r,i,s){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),Pi(i,Fe,r.memoizedState.cache),al();break;case 27:case 5:jt(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(i),i.flags|=128,null):(s&i.child.childLanes)!==0?L_(r,i,s):(ji(i),r=hi(r,i,s),r!==null?r.sibling:null);ji(i);break;case 19:var f=(r.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ol(r,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return B_(r,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),j($e,$e.current),l)break;return null;case 22:case 23:return i.lanes=0,D_(r,i,s);case 24:Pi(i,Fe,r.memoizedState.cache)}return hi(r,i,s)}function z_(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)Je=!0;else{if(!Od(r,s)&&(i.flags&128)===0)return Je=!1,cS(r,i,s);Je=(r.flags&131072)!==0}else Je=!1,se&&(i.flags&1048576)!==0&&gy(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:t:{r=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Gf(l)?(r=Fa(l,r),i.tag=1,i=V_(null,i,l,r,s)):(i.tag=0,i=Rd(null,i,l,r,s));else{if(l!=null){if(f=l.$$typeof,f===gt){i.tag=11,i=x_(null,i,l,r,s);break t}else if(f===k){i.tag=14,i=M_(null,i,l,r,s);break t}}throw i=K(l)||l,Error(a(306,i,""))}}return i;case 0:return Rd(r,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=Fa(l,i.pendingProps),V_(r,i,l,f,s);case 3:t:{if(yt(i,i.stateNode.containerInfo),r===null)throw Error(a(387));l=i.pendingProps;var p=i.memoizedState;f=p.element,nd(r,i),pl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Pi(i,Fe,l),l!==p.cache&&Xf(i,[Fe],s,!0),dl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=P_(r,i,l,s);break t}else if(l!==f){f=Yn(Error(a(424)),i),sl(f),i=P_(r,i,l,s);break t}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ie=ur(r.firstChild),Sn=i,se=!0,Ba=null,xr=!0,s=__(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(al(),l===f){i=hi(r,i,s);break t}ln(r,i,l,s)}i=i.child}return i;case 26:return Rc(r,i),r===null?(s=q0(i.type,null,i.pendingProps,null))?i.memoizedState=s:se||(s=i.type,r=i.pendingProps,l=jc(at.current).createElement(s),l[Ge]=i,l[Ve]=r,cn(l,s,r),Ne(l),i.stateNode=l):i.memoizedState=q0(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return jt(i),r===null&&se&&(l=i.stateNode=j0(i.type,i.pendingProps,at.current),Sn=i,xr=!0,f=Ie,Zi(i.type)?(dp=f,Ie=ur(l.firstChild)):Ie=f),ln(r,i,i.pendingProps.children,s),Rc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&se&&((f=l=Ie)&&(l=US(l,i.type,i.pendingProps,xr),l!==null?(i.stateNode=l,Sn=i,Ie=ur(l.firstChild),xr=!1,f=!0):f=!1),f||za(i)),jt(i),f=i.type,p=i.pendingProps,E=r!==null?r.memoizedProps:null,l=p.children,up(f,p)?l=null:E!==null&&up(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=ld(r,i,nS,null,null,s),Pl._currentValue=f),Rc(r,i),ln(r,i,l,s),i.child;case 6:return r===null&&se&&((r=s=Ie)&&(s=BS(s,i.pendingProps,xr),s!==null?(i.stateNode=s,Sn=i,Ie=null,r=!0):r=!1),r||za(i)),null;case 13:return L_(r,i,s);case 4:return yt(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=Ks(i,null,l,s):ln(r,i,l,s),i.child;case 11:return x_(r,i,i.type,i.pendingProps,s);case 7:return ln(r,i,i.pendingProps,s),i.child;case 8:return ln(r,i,i.pendingProps.children,s),i.child;case 12:return ln(r,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Pi(i,i.type,l.value),ln(r,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ga(i),f=pn(f),l=l(f),i.flags|=1,ln(r,i,l,s),i.child;case 14:return M_(r,i,i.type,i.pendingProps,s);case 15:return N_(r,i,i.type,i.pendingProps,s);case 19:return B_(r,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},r===null?(s=Cc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=ii(r.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return D_(r,i,s);case 24:return Ga(i),l=pn(Fe),r===null?(f=Jf(),f===null&&(f=ve,p=Zf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),i.memoizedState={parent:l,cache:f},ed(i),Pi(i,Fe,f)):((r.lanes&s)!==0&&(nd(r,i),pl(i,null,null,s),dl()),f=r.memoizedState,p=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pi(i,Fe,l)):(l=p.cache,Pi(i,Fe,l),l!==f.cache&&Xf(i,[Fe],s,!0))),ln(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function fi(r){r.flags|=4}function j_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Q0(i)){if(i=Wn.current,i!==null&&((te&4194048)===te?Mr!==null:(te&62914560)!==te&&(te&536870912)===0||i!==Mr))throw hl=td,Sy;r.flags|=8192}}function Ic(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?yr():536870912,r.lanes|=i,Zs|=i)}function Tl(r,i){if(!se)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function Se(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,l=0;if(i)for(var f=r.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=s,i}function hS(r,i,s){var l=i.pendingProps;switch($f(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(i),null;case 1:return Se(i),null;case 3:return s=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),li(Fe),Ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(il(i)?fi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vy())),Se(i),null;case 26:return s=i.memoizedState,r===null?(fi(i),s!==null?(Se(i),j_(i,s)):(Se(i),i.flags&=-16777217)):s?s!==r.memoizedState?(fi(i),Se(i),j_(i,s)):(Se(i),i.flags&=-16777217):(r.memoizedProps!==l&&fi(i),Se(i),i.flags&=-16777217),null;case 27:Nt(i),s=at.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==l&&fi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Se(i),null}r=rt.current,il(i)?yy(i):(r=j0(f,l,s),i.stateNode=r,fi(i))}return Se(i),null;case 5:if(Nt(i),s=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&fi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Se(i),null}if(r=rt.current,il(i))yy(i);else{switch(f=jc(at.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}r[Ge]=i,r[Ve]=l;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;t:switch(cn(r,s,l),s){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&fi(i)}}return Se(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(r=at.current,il(i)){if(r=i.stateNode,s=i.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[Ge]=i,r=!!(r.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||k0(r.nodeValue,s)),r||za(i)}else r=jc(r).createTextNode(l),r[Ge]=i,i.stateNode=r}return Se(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=il(i),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ge]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Se(i),f=!1}else f=vy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ci(i),i):(ci(i),null)}if(ci(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,r=r!==null&&r.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return s!==r&&s&&(i.child.flags|=8192),Ic(i,i.updateQueue),Se(i),null;case 4:return Ct(),r===null&&ip(i.stateNode.containerInfo),Se(i),null;case 10:return li(i.type),Se(i),null;case 19:if(L($e),f=i.memoizedState,f===null)return Se(i),null;if(l=(i.flags&128)!==0,p=f.rendering,p===null)if(l)Tl(f,!1);else{if(xe!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=bc(r),p!==null){for(i.flags|=128,Tl(f,!1),r=p.updateQueue,i.updateQueue=r,Ic(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)my(s,r),s=s.sibling;return j($e,$e.current&1|2),i.child}r=r.sibling}f.tail!==null&&ie()>Nc&&(i.flags|=128,l=!0,Tl(f,!1),i.lanes=4194304)}else{if(!l)if(r=bc(p),r!==null){if(i.flags|=128,l=!0,r=r.updateQueue,i.updateQueue=r,Ic(i,r),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!se)return Se(i),null}else 2*ie()-f.renderingStartTime>Nc&&s!==536870912&&(i.flags|=128,l=!0,Tl(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(r=f.last,r!==null?r.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ie(),i.sibling=null,r=$e.current,j($e,l?r&1|2:r&1),i):(Se(i),null);case 22:case 23:return ci(i),sd(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Se(i),i.subtreeFlags&6&&(i.flags|=8192)):Se(i),s=i.updateQueue,s!==null&&Ic(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),r!==null&&L(Ha),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),li(Fe),Se(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function fS(r,i){switch($f(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return li(Fe),Ct(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Nt(i),null;case 13:if(ci(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));al()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return L($e),null;case 4:return Ct(),null;case 10:return li(i.type),null;case 22:case 23:return ci(i),sd(),r!==null&&L(Ha),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return li(Fe),null;case 25:return null;default:return null}}function G_(r,i){switch($f(i),i.tag){case 3:li(Fe),Ct();break;case 26:case 27:case 5:Nt(i);break;case 4:Ct();break;case 13:ci(i);break;case 19:L($e);break;case 10:li(i.type);break;case 22:case 23:ci(i),sd(),r!==null&&L(Ha);break;case 24:li(Fe)}}function wl(r,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&r)===r){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==f)}}catch(S){_e(i,i.return,S)}}function Hi(r,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&r)===r){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=i;var V=s,X=S;try{X()}catch(it){_e(f,V,it)}}}l=l.next}while(l!==p)}}catch(it){_e(i,i.return,it)}}function H_(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{My(i,s)}catch(l){_e(r,r.return,l)}}}function q_(r,i,s){s.props=Fa(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(l){_e(r,i,l)}}function bl(r,i){try{var s=r.ref;if(s!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof s=="function"?r.refCleanup=s(l):s.current=l}}catch(f){_e(r,i,f)}}function Nr(r,i){var s=r.ref,l=r.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){_e(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){_e(r,i,f)}else s.current=null}function F_(r){var i=r.type,s=r.memoizedProps,l=r.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){_e(r,r.return,f)}}function kd(r,i,s){try{var l=r.stateNode;OS(l,r.type,s,i),l[Ve]=i}catch(f){_e(r,r.return,f)}}function $_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zi(r.type)||r.tag===4}function Vd(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||$_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zi(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pd(r,i,s){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(r,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(r),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=zc));else if(l!==4&&(l===27&&Zi(r.type)&&(s=r.stateNode,i=null),r=r.child,r!==null))for(Pd(r,i,s),r=r.sibling;r!==null;)Pd(r,i,s),r=r.sibling}function xc(r,i,s){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(l!==4&&(l===27&&Zi(r.type)&&(s=r.stateNode),r=r.child,r!==null))for(xc(r,i,s),r=r.sibling;r!==null;)xc(r,i,s),r=r.sibling}function K_(r){var i=r.stateNode,s=r.memoizedProps;try{for(var l=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);cn(i,l,s),i[Ge]=r,i[Ve]=s}catch(p){_e(r,r.return,p)}}var di=!1,Oe=!1,Ld=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,tn=null;function dS(r,i){if(r=r.containerInfo,op=Kc,r=ay(r),Vf(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else t:{s=(s=r.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var E=0,S=-1,V=-1,X=0,it=0,ot=r,tt=null;e:for(;;){for(var et;ot!==s||f!==0&&ot.nodeType!==3||(S=E+f),ot!==p||l!==0&&ot.nodeType!==3||(V=E+l),ot.nodeType===3&&(E+=ot.nodeValue.length),(et=ot.firstChild)!==null;)tt=ot,ot=et;for(;;){if(ot===r)break e;if(tt===s&&++X===f&&(S=E),tt===p&&++it===l&&(V=E),(et=ot.nextSibling)!==null)break;ot=tt,tt=ot.parentNode}ot=et}s=S===-1||V===-1?null:{start:S,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(lp={focusedElem:r,selectionRange:s},Kc=!1,tn=i;tn!==null;)if(i=tn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,tn=r;else for(;tn!==null;){switch(i=tn,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,s=i,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var Pt=Fa(s.type,f,s.elementType===s.type);r=l.getSnapshotBeforeUpdate(Pt,p),l.__reactInternalSnapshotBeforeUpdate=r}catch(Ot){_e(s,s.return,Ot)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)hp(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":hp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,tn=r;break}tn=i.return}}function Q_(r,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:qi(r,s),l&4&&wl(5,s);break;case 1:if(qi(r,s),l&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(E){_e(s,s.return,E)}else{var f=Fa(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){_e(s,s.return,E)}}l&64&&H_(s),l&512&&bl(s,s.return);break;case 3:if(qi(r,s),l&64&&(r=s.updateQueue,r!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{My(r,i)}catch(E){_e(s,s.return,E)}}break;case 27:i===null&&l&4&&K_(s);case 26:case 5:qi(r,s),i===null&&l&4&&F_(s),l&512&&bl(s,s.return);break;case 12:qi(r,s);break;case 13:qi(r,s),l&4&&W_(r,s),l&64&&(r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(s=wS.bind(null,s),zS(r,s))));break;case 22:if(l=s.memoizedState!==null||di,!l){i=i!==null&&i.memoizedState!==null||Oe,f=di;var p=Oe;di=l,(Oe=i)&&!p?Fi(r,s,(s.subtreeFlags&8772)!==0):qi(r,s),di=f,Oe=p}break;case 30:break;default:qi(r,s)}}function X_(r){var i=r.alternate;i!==null&&(r.alternate=null,X_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Di(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var be=null,Cn=!1;function pi(r,i,s){for(s=s.child;s!==null;)Z_(r,i,s),s=s.sibling}function Z_(r,i,s){if(B&&typeof B.onCommitFiberUnmount=="function")try{B.onCommitFiberUnmount(Tt,s)}catch{}switch(s.tag){case 26:Oe||Nr(s,i),pi(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Oe||Nr(s,i);var l=be,f=Cn;Zi(s.type)&&(be=s.stateNode,Cn=!1),pi(r,i,s),Dl(s.stateNode),be=l,Cn=f;break;case 5:Oe||Nr(s,i);case 6:if(l=be,f=Cn,be=null,pi(r,i,s),be=l,Cn=f,be!==null)if(Cn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(s.stateNode)}catch(p){_e(s,i,p)}else try{be.removeChild(s.stateNode)}catch(p){_e(s,i,p)}break;case 18:be!==null&&(Cn?(r=be,B0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.stateNode),zl(r)):B0(be,s.stateNode));break;case 4:l=be,f=Cn,be=s.stateNode.containerInfo,Cn=!0,pi(r,i,s),be=l,Cn=f;break;case 0:case 11:case 14:case 15:Oe||Hi(2,s,i),Oe||Hi(4,s,i),pi(r,i,s);break;case 1:Oe||(Nr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&q_(s,i,l)),pi(r,i,s);break;case 21:pi(r,i,s);break;case 22:Oe=(l=Oe)||s.memoizedState!==null,pi(r,i,s),Oe=l;break;default:pi(r,i,s)}}function W_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{zl(r)}catch(s){_e(i,i.return,s)}}function pS(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Y_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Y_),i;default:throw Error(a(435,r.tag))}}function Ud(r,i){var s=pS(r);i.forEach(function(l){var f=bS.bind(null,r,l);s.has(l)||(s.add(l),l.then(f,f))})}function Ln(r,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=r,E=i,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Zi(S.type)){be=S.stateNode,Cn=!1;break t}break;case 5:be=S.stateNode,Cn=!1;break t;case 3:case 4:be=S.stateNode.containerInfo,Cn=!0;break t}S=S.return}if(be===null)throw Error(a(160));Z_(p,E,f),be=null,Cn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)J_(i,r),i=i.sibling}var lr=null;function J_(r,i){var s=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ln(i,r),Un(r),l&4&&(Hi(3,r,r.return),wl(3,r),Hi(5,r,r.return));break;case 1:Ln(i,r),Un(r),l&512&&(Oe||s===null||Nr(s,s.return)),l&64&&di&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=lr;if(Ln(i,r),Un(r),l&512&&(Oe||s===null||Nr(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=r.memoizedState,s===null)if(l===null)if(r.stateNode===null){t:{l=r.type,s=r.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ea]||p[Ge]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),cn(p,l,s),p[Ge]=r,Ne(p),l=p;break t;case"link":var E=K0("link","href",f).get(l+(s.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(S,1);break e}}p=f.createElement(l),cn(p,l,s),f.head.appendChild(p);break;case"meta":if(E=K0("meta","content",f).get(l+(s.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(S,1);break e}}p=f.createElement(l),cn(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[Ge]=r,Ne(p),l=p}r.stateNode=l}else Y0(f,r.type,r.stateNode);else r.stateNode=$0(f,l,r.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?Y0(f,r.type,r.stateNode):$0(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&kd(r,r.memoizedProps,s.memoizedProps)}break;case 27:Ln(i,r),Un(r),l&512&&(Oe||s===null||Nr(s,s.return)),s!==null&&l&4&&kd(r,r.memoizedProps,s.memoizedProps);break;case 5:if(Ln(i,r),Un(r),l&512&&(Oe||s===null||Nr(s,s.return)),r.flags&32){f=r.stateNode;try{qn(f,"")}catch(et){_e(r,r.return,et)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,kd(r,f,s!==null?s.memoizedProps:f)),l&1024&&(Ld=!0);break;case 6:if(Ln(i,r),Un(r),l&4){if(r.stateNode===null)throw Error(a(162));l=r.memoizedProps,s=r.stateNode;try{s.nodeValue=l}catch(et){_e(r,r.return,et)}}break;case 3:if(qc=null,f=lr,lr=Gc(i.containerInfo),Ln(i,r),lr=f,Un(r),l&4&&s!==null&&s.memoizedState.isDehydrated)try{zl(i.containerInfo)}catch(et){_e(r,r.return,et)}Ld&&(Ld=!1,t0(r));break;case 4:l=lr,lr=Gc(r.stateNode.containerInfo),Ln(i,r),Un(r),lr=l;break;case 12:Ln(i,r),Un(r);break;case 13:Ln(i,r),Un(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(qd=ie()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Ud(r,l)));break;case 22:f=r.memoizedState!==null;var V=s!==null&&s.memoizedState!==null,X=di,it=Oe;if(di=X||f,Oe=it||V,Ln(i,r),Oe=it,di=X,Un(r),l&8192)t:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||V||di||Oe||$a(r)),s=null,i=r;;){if(i.tag===5||i.tag===26){if(s===null){V=s=i;try{if(p=V.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=V.stateNode;var ot=V.memoizedProps.style,tt=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;S.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(et){_e(V,V.return,et)}}}else if(i.tag===6){if(s===null){V=i;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(et){_e(V,V.return,et)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ud(r,s))));break;case 19:Ln(i,r),Un(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Ud(r,l)));break;case 30:break;case 21:break;default:Ln(i,r),Un(r)}}function Un(r){var i=r.flags;if(i&2){try{for(var s,l=r.return;l!==null;){if($_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=Vd(r);xc(r,p,f);break;case 5:var E=s.stateNode;s.flags&32&&(qn(E,""),s.flags&=-33);var S=Vd(r);xc(r,S,E);break;case 3:case 4:var V=s.stateNode.containerInfo,X=Vd(r);Pd(r,X,V);break;default:throw Error(a(161))}}catch(it){_e(r,r.return,it)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function t0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;t0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function qi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Q_(r,i.alternate,i),i=i.sibling}function $a(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Hi(4,i,i.return),$a(i);break;case 1:Nr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&q_(i,i.return,s),$a(i);break;case 27:Dl(i.stateNode);case 26:case 5:Nr(i,i.return),$a(i);break;case 22:i.memoizedState===null&&$a(i);break;case 30:$a(i);break;default:$a(i)}r=r.sibling}}function Fi(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=r,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:Fi(f,p,s),wl(4,p);break;case 1:if(Fi(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){_e(l,l.return,X)}if(l=p,f=l.updateQueue,f!==null){var S=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)xy(V[f],S)}catch(X){_e(l,l.return,X)}}s&&E&64&&H_(p),bl(p,p.return);break;case 27:K_(p);case 26:case 5:Fi(f,p,s),s&&l===null&&E&4&&F_(p),bl(p,p.return);break;case 12:Fi(f,p,s);break;case 13:Fi(f,p,s),s&&E&4&&W_(f,p);break;case 22:p.memoizedState===null&&Fi(f,p,s),bl(p,p.return);break;case 30:break;default:Fi(f,p,s)}i=i.sibling}}function Bd(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&ll(s))}function zd(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ll(r))}function Dr(r,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e0(r,i,s,l),i=i.sibling}function e0(r,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Dr(r,i,s,l),f&2048&&wl(9,i);break;case 1:Dr(r,i,s,l);break;case 3:Dr(r,i,s,l),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ll(r)));break;case 12:if(f&2048){Dr(r,i,s,l),r=i.stateNode;try{var p=i.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){_e(i,i.return,V)}}else Dr(r,i,s,l);break;case 13:Dr(r,i,s,l);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?Dr(r,i,s,l):Sl(r,i):p._visibility&2?Dr(r,i,s,l):(p._visibility|=2,Ys(r,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&Bd(E,i);break;case 24:Dr(r,i,s,l),f&2048&&zd(i.alternate,i);break;default:Dr(r,i,s,l)}}function Ys(r,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,E=i,S=s,V=l,X=E.flags;switch(E.tag){case 0:case 11:case 15:Ys(p,E,S,V,f),wl(8,E);break;case 23:break;case 22:var it=E.stateNode;E.memoizedState!==null?it._visibility&2?Ys(p,E,S,V,f):Sl(p,E):(it._visibility|=2,Ys(p,E,S,V,f)),f&&X&2048&&Bd(E.alternate,E);break;case 24:Ys(p,E,S,V,f),f&&X&2048&&zd(E.alternate,E);break;default:Ys(p,E,S,V,f)}i=i.sibling}}function Sl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,l=i,f=l.flags;switch(l.tag){case 22:Sl(s,l),f&2048&&Bd(l.alternate,l);break;case 24:Sl(s,l),f&2048&&zd(l.alternate,l);break;default:Sl(s,l)}i=i.sibling}}var Al=8192;function Qs(r){if(r.subtreeFlags&Al)for(r=r.child;r!==null;)n0(r),r=r.sibling}function n0(r){switch(r.tag){case 26:Qs(r),r.flags&Al&&r.memoizedState!==null&&JS(lr,r.memoizedState,r.memoizedProps);break;case 5:Qs(r);break;case 3:case 4:var i=lr;lr=Gc(r.stateNode.containerInfo),Qs(r),lr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Al,Al=16777216,Qs(r),Al=i):Qs(r));break;default:Qs(r)}}function r0(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Rl(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,a0(l,r)}r0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i0(r),r=r.sibling}function i0(r){switch(r.tag){case 0:case 11:case 15:Rl(r),r.flags&2048&&Hi(9,r,r.return);break;case 3:Rl(r);break;case 12:Rl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Mc(r)):Rl(r);break;default:Rl(r)}}function Mc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,a0(l,r)}r0(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Hi(8,i,i.return),Mc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Mc(i));break;default:Mc(i)}r=r.sibling}}function a0(r,i){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:Hi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else t:for(s=r;tn!==null;){l=tn;var f=l.sibling,p=l.return;if(X_(l),l===s){tn=null;break t}if(f!==null){f.return=p,tn=f;break t}tn=p}}}var mS={getCacheForType:function(r){var i=pn(Fe),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s}},gS=typeof WeakMap=="function"?WeakMap:Map,ue=0,ve=null,Kt=null,te=0,ce=0,Bn=null,$i=!1,Xs=!1,jd=!1,mi=0,xe=0,Ki=0,Ka=0,Gd=0,Jn=0,Zs=0,Cl=null,In=null,Hd=!1,qd=0,Nc=1/0,Dc=null,Yi=null,un=0,Qi=null,Ws=null,Js=0,Fd=0,$d=null,s0=null,Il=0,Kd=null;function zn(){if((ue&2)!==0&&te!==0)return te&-te;if(D.T!==null){var r=zs;return r!==0?r:tp()}return Mi()}function o0(){Jn===0&&(Jn=(te&536870912)===0||se?ys():536870912);var r=Wn.current;return r!==null&&(r.flags|=32),Jn}function jn(r,i,s){(r===ve&&(ce===2||ce===9)||r.cancelPendingCommit!==null)&&(to(r,0),Xi(r,te,Jn,!1)),Kr(r,s),((ue&2)===0||r!==ve)&&(r===ve&&((ue&2)===0&&(Ka|=s),xe===4&&Xi(r,te,Jn,!1)),Or(r))}function l0(r,i,s){if((ue&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&r.expiredLanes)===0||je(r,i),f=l?vS(r,i):Xd(r,i,!0),p=l;do{if(f===0){Xs&&!l&&Xi(r,i,0,!1);break}else{if(s=r.current.alternate,p&&!yS(s)){f=Xd(r,i,!1),p=!1;continue}if(f===2){if(p=i,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var S=r;f=Cl;var V=S.current.memoizedState.isDehydrated;if(V&&(to(S,E).flags|=256),E=Xd(S,E,!1),E!==2){if(jd&&!V){S.errorRecoveryDisabledLanes|=p,Ka|=p,f=4;break t}p=In,In=f,p!==null&&(In===null?In=p:In.push.apply(In,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){to(r,0),Xi(r,i,0,!0);break}t:{switch(l=r,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Xi(l,i,Jn,!$i);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=qd+300-ie(),10<f)){if(Xi(l,i,Jn,!$i),En(l,0,!0)!==0)break t;l.timeoutHandle=L0(u0.bind(null,l,s,In,Dc,Hd,i,Jn,Ka,Zs,$i,p,2,-0,0),f);break t}u0(l,s,In,Dc,Hd,i,Jn,Ka,Zs,$i,p,0,-0,0)}}break}while(!0);Or(r)}function u0(r,i,s,l,f,p,E,S,V,X,it,ot,tt,et){if(r.timeoutHandle=-1,ot=i.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:WS},n0(i),ot=tA(),ot!==null)){r.cancelPendingCommit=ot(g0.bind(null,r,i,p,s,l,f,E,S,V,it,1,tt,et)),Xi(r,p,E,!X);return}g0(r,i,p,s,l,f,E,S,V)}function yS(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!Vn(p(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(r,i,s,l){i&=~Gd,i&=~Ka,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var f=i;0<f;){var p=31-vt(f),E=1<<p;l[p]=-1,f&=~E}s!==0&&_r(r,s,i)}function Oc(){return(ue&6)===0?(xl(0),!1):!0}function Yd(){if(Kt!==null){if(ce===0)var r=Kt.return;else r=Kt,oi=ja=null,hd(r),$s=null,vl=0,r=Kt;for(;r!==null;)G_(r.alternate,r),r=r.return;Kt=null}}function to(r,i){var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,VS(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),Yd(),ve=r,Kt=s=ii(r.current,null),te=i,ce=0,Bn=null,$i=!1,Xs=je(r,i),jd=!1,Zs=Jn=Gd=Ka=Ki=xe=0,In=Cl=null,Hd=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var f=31-vt(l),p=1<<f;i|=r[f],l&=~p}return mi=i,ec(),s}function c0(r,i){qt=null,D.H=Ec,i===cl||i===cc?(i=Cy(),ce=3):i===Sy?(i=Cy(),ce=4):ce=i===I_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Bn=i,Kt===null&&(xe=1,Ac(r,Yn(i,r.current)))}function h0(){var r=D.H;return D.H=Ec,r===null?Ec:r}function f0(){var r=D.A;return D.A=mS,r}function Qd(){xe=4,$i||(te&4194048)!==te&&Wn.current!==null||(Xs=!0),(Ki&134217727)===0&&(Ka&134217727)===0||ve===null||Xi(ve,te,Jn,!1)}function Xd(r,i,s){var l=ue;ue|=2;var f=h0(),p=f0();(ve!==r||te!==i)&&(Dc=null,to(r,i)),i=!1;var E=xe;t:do try{if(ce!==0&&Kt!==null){var S=Kt,V=Bn;switch(ce){case 8:Yd(),E=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(i=!0);var X=ce;if(ce=0,Bn=null,eo(r,S,V,X),s&&Xs){E=0;break t}break;default:X=ce,ce=0,Bn=null,eo(r,S,V,X)}}_S(),E=xe;break}catch(it){c0(r,it)}while(!0);return i&&r.shellSuspendCounter++,oi=ja=null,ue=l,D.H=f,D.A=p,Kt===null&&(ve=null,te=0,ec()),E}function _S(){for(;Kt!==null;)d0(Kt)}function vS(r,i){var s=ue;ue|=2;var l=h0(),f=f0();ve!==r||te!==i?(Dc=null,Nc=ie()+500,to(r,i)):Xs=je(r,i);t:do try{if(ce!==0&&Kt!==null){i=Kt;var p=Bn;e:switch(ce){case 1:ce=0,Bn=null,eo(r,i,p,1);break;case 2:case 9:if(Ay(p)){ce=0,Bn=null,p0(i);break}i=function(){ce!==2&&ce!==9||ve!==r||(ce=7),Or(r)},p.then(i,i);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Ay(p)?(ce=0,Bn=null,p0(i)):(ce=0,Bn=null,eo(r,i,p,7));break;case 5:var E=null;switch(Kt.tag){case 26:E=Kt.memoizedState;case 5:case 27:var S=Kt;if(!E||Q0(E)){ce=0,Bn=null;var V=S.sibling;if(V!==null)Kt=V;else{var X=S.return;X!==null?(Kt=X,kc(X)):Kt=null}break e}}ce=0,Bn=null,eo(r,i,p,5);break;case 6:ce=0,Bn=null,eo(r,i,p,6);break;case 8:Yd(),xe=6;break t;default:throw Error(a(462))}}ES();break}catch(it){c0(r,it)}while(!0);return oi=ja=null,D.H=l,D.A=f,ue=s,Kt!==null?0:(ve=null,te=0,ec(),xe)}function ES(){for(;Kt!==null&&!he();)d0(Kt)}function d0(r){var i=z_(r.alternate,r,mi);r.memoizedProps=r.pendingProps,i===null?kc(r):Kt=i}function p0(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=k_(s,i,i.pendingProps,i.type,void 0,te);break;case 11:i=k_(s,i,i.pendingProps,i.type.render,i.ref,te);break;case 5:hd(i);default:G_(s,i),i=Kt=my(i,mi),i=z_(s,i,mi)}r.memoizedProps=r.pendingProps,i===null?kc(r):Kt=i}function eo(r,i,s,l){oi=ja=null,hd(i),$s=null,vl=0;var f=i.return;try{if(uS(r,f,i,s,te)){xe=1,Ac(r,Yn(s,r.current)),Kt=null;return}}catch(p){if(f!==null)throw Kt=f,p;xe=1,Ac(r,Yn(s,r.current)),Kt=null;return}i.flags&32768?(se||l===1?r=!0:Xs||(te&536870912)!==0?r=!1:($i=r=!0,(l===2||l===9||l===3||l===6)&&(l=Wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),m0(i,r)):kc(i)}function kc(r){var i=r;do{if((i.flags&32768)!==0){m0(i,$i);return}r=i.return;var s=hS(i.alternate,i,mi);if(s!==null){Kt=s;return}if(i=i.sibling,i!==null){Kt=i;return}Kt=i=r}while(i!==null);xe===0&&(xe=5)}function m0(r,i){do{var s=fS(r.alternate,r);if(s!==null){s.flags&=32767,Kt=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){Kt=r;return}Kt=r=s}while(r!==null);xe=6,Kt=null}function g0(r,i,s,l,f,p,E,S,V){r.cancelPendingCommit=null;do Vc();while(un!==0);if((ue&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=zf,Bo(r,s,p,E,S,V),r===ve&&(Kt=ve=null,te=0),Ws=i,Qi=r,Js=s,Fd=p,$d=f,s0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,SS(Me,function(){return T0(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,f=U.p,U.p=2,E=ue,ue|=4;try{dS(r,i,s)}finally{ue=E,U.p=f,D.T=l}}un=1,y0(),_0(),v0()}}function y0(){if(un===1){un=0;var r=Qi,i=Ws,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=D.T,D.T=null;var l=U.p;U.p=2;var f=ue;ue|=4;try{J_(i,r);var p=lp,E=ay(r.containerInfo),S=p.focusedElem,V=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&iy(S.ownerDocument.documentElement,S)){if(V!==null&&Vf(S)){var X=V.start,it=V.end;if(it===void 0&&(it=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(it,S.value.length);else{var ot=S.ownerDocument||document,tt=ot&&ot.defaultView||window;if(tt.getSelection){var et=tt.getSelection(),Pt=S.textContent.length,Ot=Math.min(V.start,Pt),me=V.end===void 0?Ot:Math.min(V.end,Pt);!et.extend&&Ot>me&&(E=me,me=Ot,Ot=E);var q=ry(S,Ot),z=ry(S,me);if(q&&z&&(et.rangeCount!==1||et.anchorNode!==q.node||et.anchorOffset!==q.offset||et.focusNode!==z.node||et.focusOffset!==z.offset)){var Y=ot.createRange();Y.setStart(q.node,q.offset),et.removeAllRanges(),Ot>me?(et.addRange(Y),et.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),et.addRange(Y))}}}}for(ot=[],et=S;et=et.parentNode;)et.nodeType===1&&ot.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ot.length;S++){var st=ot[S];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Kc=!!op,lp=op=null}finally{ue=f,U.p=l,D.T=s}}r.current=i,un=2}}function _0(){if(un===2){un=0;var r=Qi,i=Ws,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=D.T,D.T=null;var l=U.p;U.p=2;var f=ue;ue|=4;try{Q_(r,i.alternate,i)}finally{ue=f,U.p=l,D.T=s}}un=3}}function v0(){if(un===4||un===3){un=0,ne();var r=Qi,i=Ws,s=Js,l=s0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?un=5:(un=0,Ws=Qi=null,E0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Yi=null),_s(s),i=i.stateNode,B&&typeof B.onCommitFiberRoot=="function")try{B.onCommitFiberRoot(Tt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=D.T,f=U.p,U.p=2,D.T=null;try{for(var p=r.onRecoverableError,E=0;E<l.length;E++){var S=l[E];p(S.value,{componentStack:S.stack})}}finally{D.T=i,U.p=f}}(Js&3)!==0&&Vc(),Or(r),f=r.pendingLanes,(s&4194090)!==0&&(f&42)!==0?r===Kd?Il++:(Il=0,Kd=r):Il=0,xl(0)}}function E0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,ll(i)))}function Vc(r){return y0(),_0(),v0(),T0()}function T0(){if(un!==5)return!1;var r=Qi,i=Fd;Fd=0;var s=_s(Js),l=D.T,f=U.p;try{U.p=32>s?32:s,D.T=null,s=$d,$d=null;var p=Qi,E=Js;if(un=0,Ws=Qi=null,Js=0,(ue&6)!==0)throw Error(a(331));var S=ue;if(ue|=4,i0(p.current),e0(p,p.current,E,s),ue=S,xl(0,!1),B&&typeof B.onPostCommitFiberRoot=="function")try{B.onPostCommitFiberRoot(Tt,p)}catch{}return!0}finally{U.p=f,D.T=l,E0(r,i)}}function w0(r,i,s){i=Yn(s,i),i=Ad(r.stateNode,i,2),r=Bi(r,i,2),r!==null&&(Kr(r,2),Or(r))}function _e(r,i,s){if(r.tag===3)w0(r,r,s);else for(;i!==null;){if(i.tag===3){w0(i,r,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yi===null||!Yi.has(l))){r=Yn(s,r),s=R_(2),l=Bi(i,s,2),l!==null&&(C_(s,l,i,r),Kr(l,2),Or(l));break}}i=i.return}}function Zd(r,i,s){var l=r.pingCache;if(l===null){l=r.pingCache=new gS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(jd=!0,f.add(s),r=TS.bind(null,r,i,s),i.then(r,r))}function TS(r,i,s){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,ve===r&&(te&s)===s&&(xe===4||xe===3&&(te&62914560)===te&&300>ie()-qd?(ue&2)===0&&to(r,0):Gd|=s,Zs===te&&(Zs=0)),Or(r)}function b0(r,i){i===0&&(i=yr()),r=Ps(r,i),r!==null&&(Kr(r,i),Or(r))}function wS(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),b0(r,s)}function bS(r,i){var s=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),b0(r,s)}function SS(r,i){return Ft(r,i)}var Pc=null,no=null,Wd=!1,Lc=!1,Jd=!1,Ya=0;function Or(r){r!==no&&r.next===null&&(no===null?Pc=no=r:no=no.next=r),Lc=!0,Wd||(Wd=!0,RS())}function xl(r,i){if(!Jd&&Lc){Jd=!0;do for(var s=!1,l=Pc;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-vt(42|r)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,C0(l,p))}else p=te,p=En(l,l===ve?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||je(l,p)||(s=!0,C0(l,p));l=l.next}while(s);Jd=!1}}function AS(){S0()}function S0(){Lc=Wd=!1;var r=0;Ya!==0&&(kS()&&(r=Ya),Ya=0);for(var i=ie(),s=null,l=Pc;l!==null;){var f=l.next,p=A0(l,i);p===0?(l.next=null,s===null?Pc=f:s.next=f,f===null&&(no=s)):(s=l,(r!==0||(p&3)!==0)&&(Lc=!0)),l=f}xl(r)}function A0(r,i){for(var s=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-vt(p),S=1<<E,V=f[E];V===-1?((S&s)===0||(S&l)!==0)&&(f[E]=Ii(S,i)):V<=i&&(r.expiredLanes|=S),p&=~S}if(i=ve,s=te,s=En(r,r===i?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,s===0||r===i&&(ce===2||ce===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Mt(l),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||je(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(l!==null&&Mt(l),_s(s)){case 2:case 8:s=Ce;break;case 32:s=Me;break;case 268435456:s=Xe;break;default:s=Me}return l=R0.bind(null,r),s=Ft(s,l),r.callbackPriority=i,r.callbackNode=s,i}return l!==null&&l!==null&&Mt(l),r.callbackPriority=2,r.callbackNode=null,2}function R0(r,i){if(un!==0&&un!==5)return r.callbackNode=null,r.callbackPriority=0,null;var s=r.callbackNode;if(Vc()&&r.callbackNode!==s)return null;var l=te;return l=En(r,r===ve?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(l0(r,l,i),A0(r,ie()),r.callbackNode!=null&&r.callbackNode===s?R0.bind(null,r):null)}function C0(r,i){if(Vc())return null;l0(r,i,!0)}function RS(){PS(function(){(ue&6)!==0?Ft(Qe,AS):S0()})}function tp(){return Ya===0&&(Ya=ys()),Ya}function I0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ss(""+r)}function x0(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function CS(r,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var p=I0((f[Ve]||null).action),E=l.submitter;E&&(i=(i=E[Ve]||null)?I0(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var S=new As("action","action",null,l,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ya!==0){var V=E?x0(f,E):new FormData(f);Ed(s,{pending:!0,data:V,method:f.method,action:p},null,V)}}else typeof p=="function"&&(S.preventDefault(),V=E?x0(f,E):new FormData(f),Ed(s,{pending:!0,data:V,method:f.method,action:p},p,V))},currentTarget:f}]})}}for(var ep=0;ep<Bf.length;ep++){var np=Bf[ep],IS=np.toLowerCase(),xS=np[0].toUpperCase()+np.slice(1);or(IS,"on"+xS)}or(ly,"onAnimationEnd"),or(uy,"onAnimationIteration"),or(cy,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or($b,"onTransitionRun"),or(Kb,"onTransitionStart"),or(Yb,"onTransitionCancel"),or(hy,"onTransitionEnd"),Qr("onMouseEnter",["mouseout","mouseover"]),Qr("onMouseLeave",["mouseout","mouseover"]),Qr("onPointerEnter",["pointerout","pointerover"]),Qr("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function M0(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var l=r[s],f=l.event;l=l.listeners;t:{var p=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],V=S.instance,X=S.currentTarget;if(S=S.listener,V!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=X;try{p(f)}catch(it){Sc(it)}f.currentTarget=null,p=V}else for(E=0;E<l.length;E++){if(S=l[E],V=S.instance,X=S.currentTarget,S=S.listener,V!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=X;try{p(f)}catch(it){Sc(it)}f.currentTarget=null,p=V}}}}function Yt(r,i){var s=i[jo];s===void 0&&(s=i[jo]=new Set);var l=r+"__bubble";s.has(l)||(N0(i,r,2,!1),s.add(l))}function rp(r,i,s){var l=0;i&&(l|=4),N0(s,r,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function ip(r){if(!r[Uc]){r[Uc]=!0,Go.forEach(function(s){s!=="selectionchange"&&(MS.has(s)||rp(s,!1,r),rp(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,rp("selectionchange",!1,i))}}function N0(r,i,s,l){switch(ev(i)){case 2:var f=rA;break;case 8:f=iA;break;default:f=_p}s=f.bind(null,i,s,r),f=void 0,!$n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(i,s,{capture:!0,passive:f}):r.addEventListener(i,s,!0):f!==void 0?r.addEventListener(i,s,{passive:f}):r.addEventListener(i,s,!1)}function ap(r,i,s,l,f){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=l.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=Yr(S),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){l=p=E;continue t}S=S.parentNode}}l=l.return}zu(function(){var X=p,it=Fn(s),ot=[];t:{var tt=fy.get(r);if(tt!==void 0){var et=As,Pt=r;switch(r){case"keypress":if(Sr(s)===0)break t;case"keydown":case"keyup":et=Ns;break;case"focusin":Pt="focus",et=Is;break;case"focusout":Pt="blur",et=Is;break;case"beforeblur":case"afterblur":et=Is;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Yu;break;case ly:case uy:case cy:et=xs;break;case hy:et=Xu;break;case"scroll":case"scrollend":et=ju;break;case"wheel":et=Ds;break;case"copy":case"cut":case"paste":et=Ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=tl;break;case"toggle":case"beforetoggle":et=Wu}var Ot=(i&4)!==0,me=!Ot&&(r==="scroll"||r==="scrollend"),q=Ot?tt!==null?tt+"Capture":null:tt;Ot=[];for(var z=X,Y;z!==null;){var st=z;if(Y=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||Y===null||q===null||(st=Ca(z,q),st!=null&&Ot.push(Nl(z,st,Y))),me)break;z=z.return}0<Ot.length&&(tt=new et(tt,Pt,null,s,it),ot.push({event:tt,listeners:Ot}))}}if((i&7)===0){t:{if(tt=r==="mouseover"||r==="pointerover",et=r==="mouseout"||r==="pointerout",tt&&s!==Wr&&(Pt=s.relatedTarget||s.fromElement)&&(Yr(Pt)||Pt[Hn]))break t;if((et||tt)&&(tt=it.window===it?it:(tt=it.ownerDocument)?tt.defaultView||tt.parentWindow:window,et?(Pt=s.relatedTarget||s.toElement,et=X,Pt=Pt?Yr(Pt):null,Pt!==null&&(me=u(Pt),Ot=Pt.tag,Pt!==me||Ot!==5&&Ot!==27&&Ot!==6)&&(Pt=null)):(et=null,Pt=X),et!==Pt)){if(Ot=Kn,st="onMouseLeave",q="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Ot=tl,st="onPointerLeave",q="onPointerEnter",z="pointer"),me=et==null?tt:Er(et),Y=Pt==null?tt:Er(Pt),tt=new Ot(st,z+"leave",et,s,it),tt.target=me,tt.relatedTarget=Y,st=null,Yr(it)===X&&(Ot=new Ot(q,z+"enter",Pt,s,it),Ot.target=Y,Ot.relatedTarget=me,st=Ot),me=st,et&&Pt)e:{for(Ot=et,q=Pt,z=0,Y=Ot;Y;Y=ro(Y))z++;for(Y=0,st=q;st;st=ro(st))Y++;for(;0<z-Y;)Ot=ro(Ot),z--;for(;0<Y-z;)q=ro(q),Y--;for(;z--;){if(Ot===q||q!==null&&Ot===q.alternate)break e;Ot=ro(Ot),q=ro(q)}Ot=null}else Ot=null;et!==null&&D0(ot,tt,et,Ot,!1),Pt!==null&&me!==null&&D0(ot,me,Pt,Ot,!0)}}t:{if(tt=X?Er(X):window,et=tt.nodeName&&tt.nodeName.toLowerCase(),et==="select"||et==="input"&&tt.type==="file")var At=Zg;else if(qe(tt))if(Wg)At=Hb;else{At=jb;var $t=zb}else et=tt.nodeName,!et||et.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?X&&Ko(X.elementType)&&(At=Zg):At=Gb;if(At&&(At=At(r,X))){ri(ot,At,s,it);break t}$t&&$t(r,tt,X),r==="focusout"&&X&&tt.type==="number"&&X.memoizedProps.value!=null&&ki(tt,"number",tt.value)}switch($t=X?Er(X):window,r){case"focusin":(qe($t)||$t.contentEditable==="true")&&(Os=$t,Pf=X,rl=null);break;case"focusout":rl=Pf=Os=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,sy(ot,s,it);break;case"selectionchange":if(Fb)break;case"keydown":case"keyup":sy(ot,s,it)}var It;if(Cr)t:{switch(r){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Wt?nt(r,s)&&(kt="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(v&&s.locale!=="ko"&&(Wt||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Wt&&(It=Qo()):(br=it,Vi="value"in br?br.value:br.textContent,Wt=!0)),$t=Bc(X,kt),0<$t.length&&(kt=new Wo(kt,r,null,s,it),ot.push({event:kt,listeners:$t}),It?kt.data=It:(It=_t(s),It!==null&&(kt.data=It)))),(It=y?He(r,s):Jt(r,s))&&(kt=Bc(X,"onBeforeInput"),0<kt.length&&($t=new Wo("onBeforeInput","beforeinput",null,s,it),ot.push({event:$t,listeners:kt}),$t.data=It)),CS(ot,r,X,s,it)}M0(ot,i)})}function Nl(r,i,s){return{instance:r,listener:i,currentTarget:s}}function Bc(r,i){for(var s=i+"Capture",l=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ca(r,s),f!=null&&l.unshift(Nl(r,f,p)),f=Ca(r,i),f!=null&&l.push(Nl(r,f,p))),r.tag===3)return l;r=r.return}return[]}function ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function D0(r,i,s,l,f){for(var p=i._reactName,E=[];s!==null&&s!==l;){var S=s,V=S.alternate,X=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||X===null||(V=X,f?(X=Ca(s,p),X!=null&&E.unshift(Nl(s,X,V))):f||(X=Ca(s,p),X!=null&&E.push(Nl(s,X,V)))),s=s.return}E.length!==0&&r.push({event:i,listeners:E})}var NS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function O0(r){return(typeof r=="string"?r:""+r).replace(NS,`
`).replace(DS,"")}function k0(r,i){return i=O0(i),O0(r)===i}function zc(){}function pe(r,i,s,l,f,p){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||qn(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&qn(r,""+l);break;case"className":Tr(r,"class",l);break;case"tabIndex":Tr(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(r,s,l);break;case"style":$o(r,l,p);break;case"data":if(i!=="object"){Tr(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(s);break}l=Ss(""+l),r.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&pe(r,i,"name",f.name,f,null),pe(r,i,"formEncType",f.formEncType,f,null),pe(r,i,"formMethod",f.formMethod,f,null),pe(r,i,"formTarget",f.formTarget,f,null)):(pe(r,i,"encType",f.encType,f,null),pe(r,i,"method",f.method,f,null),pe(r,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(s);break}l=Ss(""+l),r.setAttribute(s,l);break;case"onClick":l!=null&&(r.onclick=zc);break;case"onScroll":l!=null&&Yt("scroll",r);break;case"onScrollEnd":l!=null&&Yt("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}s=Ss(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,""+l):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":l===!0?r.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,l):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(s,l):r.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(s):r.setAttribute(s,l);break;case"popover":Yt("beforetoggle",r),Yt("toggle",r),Oi(r,"popover",l);break;case"xlinkActuate":sn(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oi(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=xf.get(s)||s,Oi(r,s,l))}}function sp(r,i,s,l,f,p){switch(s){case"style":$o(r,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"children":typeof l=="string"?qn(r,l):(typeof l=="number"||typeof l=="bigint")&&qn(r,""+l);break;case"onScroll":l!=null&&Yt("scroll",r);break;case"onScrollEnd":l!=null&&Yt("scrollend",r);break;case"onClick":l!=null&&(r.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),p=r[Ve]||null,p=p!=null?p[s]:null,typeof p=="function"&&r.removeEventListener(i,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,l,f);break t}s in r?r[s]=l:l===!0?r.setAttribute(s,""):Oi(r,s,l)}}}function cn(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",r),Yt("load",r);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:pe(r,i,p,E,s,null)}}f&&pe(r,i,"srcSet",s.srcSet,s,null),l&&pe(r,i,"src",s.src,s,null);return;case"input":Yt("invalid",r);var S=p=E=f=null,V=null,X=null;for(l in s)if(s.hasOwnProperty(l)){var it=s[l];if(it!=null)switch(l){case"name":f=it;break;case"type":E=it;break;case"checked":V=it;break;case"defaultChecked":X=it;break;case"value":p=it;break;case"defaultValue":S=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,i));break;default:pe(r,i,l,it,s,null)}}Sa(r,p,S,V,X,E,f,!1),bs(r);return;case"select":Yt("invalid",r),l=E=p=null;for(f in s)if(s.hasOwnProperty(f)&&(S=s[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:pe(r,i,f,S,s,null)}i=p,s=E,r.multiple=!!l,i!=null?Zr(r,!!l,i,!1):s!=null&&Zr(r,!!l,s,!0);return;case"textarea":Yt("invalid",r),p=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(S=s[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:pe(r,i,E,S,s,null)}Aa(r,l,f,p),bs(r);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(l=s[V],l!=null))switch(V){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:pe(r,i,V,l,s,null)}return;case"dialog":Yt("beforetoggle",r),Yt("toggle",r),Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":Yt("load",r);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Yt(Ml[l],r);break;case"image":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"embed":case"source":case"link":Yt("error",r),Yt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(l=s[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:pe(r,i,X,l,s,null)}return;default:if(Ko(i)){for(it in s)s.hasOwnProperty(it)&&(l=s[it],l!==void 0&&sp(r,i,it,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&pe(r,i,S,l,s,null))}function OS(r,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,V=null,X=null,it=null;for(et in s){var ot=s[et];if(s.hasOwnProperty(et)&&ot!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":V=ot;default:l.hasOwnProperty(et)||pe(r,i,et,null,l,ot)}}for(var tt in l){var et=l[tt];if(ot=s[tt],l.hasOwnProperty(tt)&&(et!=null||ot!=null))switch(tt){case"type":p=et;break;case"name":f=et;break;case"checked":X=et;break;case"defaultChecked":it=et;break;case"value":E=et;break;case"defaultValue":S=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,i));break;default:et!==ot&&pe(r,i,tt,et,l,ot)}}kn(r,E,S,V,X,it,p,f);return;case"select":et=E=S=tt=null;for(p in s)if(V=s[p],s.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":et=V;default:l.hasOwnProperty(p)||pe(r,i,p,null,l,V)}for(f in l)if(p=l[f],V=s[f],l.hasOwnProperty(f)&&(p!=null||V!=null))switch(f){case"value":tt=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==V&&pe(r,i,f,p,l,V)}i=S,s=E,l=et,tt!=null?Zr(r,!!s,tt,!1):!!l!=!!s&&(i!=null?Zr(r,!!s,i,!0):Zr(r,!!s,s?[]:"",!1));return;case"textarea":et=tt=null;for(S in s)if(f=s[S],s.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pe(r,i,S,null,l,f)}for(E in l)if(f=l[E],p=s[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":tt=f;break;case"defaultValue":et=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&pe(r,i,E,f,l,p)}fe(r,tt,et);return;case"option":for(var Pt in s)if(tt=s[Pt],s.hasOwnProperty(Pt)&&tt!=null&&!l.hasOwnProperty(Pt))switch(Pt){case"selected":r.selected=!1;break;default:pe(r,i,Pt,null,l,tt)}for(V in l)if(tt=l[V],et=s[V],l.hasOwnProperty(V)&&tt!==et&&(tt!=null||et!=null))switch(V){case"selected":r.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:pe(r,i,V,tt,l,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in s)tt=s[Ot],s.hasOwnProperty(Ot)&&tt!=null&&!l.hasOwnProperty(Ot)&&pe(r,i,Ot,null,l,tt);for(X in l)if(tt=l[X],et=s[X],l.hasOwnProperty(X)&&tt!==et&&(tt!=null||et!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:pe(r,i,X,tt,l,et)}return;default:if(Ko(i)){for(var me in s)tt=s[me],s.hasOwnProperty(me)&&tt!==void 0&&!l.hasOwnProperty(me)&&sp(r,i,me,void 0,l,tt);for(it in l)tt=l[it],et=s[it],!l.hasOwnProperty(it)||tt===et||tt===void 0&&et===void 0||sp(r,i,it,tt,l,et);return}}for(var q in s)tt=s[q],s.hasOwnProperty(q)&&tt!=null&&!l.hasOwnProperty(q)&&pe(r,i,q,null,l,tt);for(ot in l)tt=l[ot],et=s[ot],!l.hasOwnProperty(ot)||tt===et||tt==null&&et==null||pe(r,i,ot,tt,l,et)}var op=null,lp=null;function jc(r){return r.nodeType===9?r:r.ownerDocument}function V0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function up(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cp=null;function kS(){var r=window.event;return r&&r.type==="popstate"?r===cp?!1:(cp=r,!0):(cp=null,!1)}var L0=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(r){return U0.resolve(null).then(r).catch(LS)}:L0;function LS(r){setTimeout(function(){throw r})}function Zi(r){return r==="head"}function B0(r,i){var s=i,l=0,f=0;do{var p=s.nextSibling;if(r.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=r.ownerDocument;if(s&1&&Dl(E.documentElement),s&2&&Dl(E.body),s&4)for(s=E.head,Dl(s),E=s.firstChild;E;){var S=E.nextSibling,V=E.nodeName;E[Ea]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=S}}if(f===0){r.removeChild(p),zl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);zl(i)}function hp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hp(s),Di(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function US(r,i,s,l){for(;r.nodeType===1;){var f=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ea])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=ur(r.nextSibling),r===null)break}return null}function BS(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=ur(r.nextSibling),r===null))return null;return r}function fp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function zS(r,i){var s=r.ownerDocument;if(r.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function ur(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var dp=null;function z0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return r;i--}else s==="/$"&&i++}r=r.previousSibling}return null}function j0(r,i,s){switch(i=jc(s),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Dl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Di(r)}var tr=new Map,G0=new Set;function Gc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var gi=U.d;U.d={f:jS,r:GS,D:HS,C:qS,L:FS,m:$S,X:YS,S:KS,M:QS};function jS(){var r=gi.f(),i=Oc();return r||i}function GS(r){var i=vr(r);i!==null&&i.tag===5&&i.type==="form"?l_(i):gi.r(r)}var io=typeof document>"u"?null:document;function H0(r,i,s){var l=io;if(l&&typeof i=="string"&&i){var f=Pe(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),G0.has(f)||(G0.add(f),r={rel:r,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),cn(i,"link",r),Ne(i),l.head.appendChild(i)))}}function HS(r){gi.D(r),H0("dns-prefetch",r,null)}function qS(r,i){gi.C(r,i),H0("preconnect",r,i)}function FS(r,i,s){gi.L(r,i,s);var l=io;if(l&&r&&i){var f='link[rel="preload"][as="'+Pe(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Pe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Pe(s.imageSizes)+'"]')):f+='[href="'+Pe(r)+'"]';var p=f;switch(i){case"style":p=ao(r);break;case"script":p=so(r)}tr.has(p)||(r=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),tr.set(p,r),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ol(p))||i==="script"&&l.querySelector(kl(p))||(i=l.createElement("link"),cn(i,"link",r),Ne(i),l.head.appendChild(i)))}}function $S(r,i){gi.m(r,i);var s=io;if(s&&r){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Pe(l)+'"][href="'+Pe(r)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=so(r)}if(!tr.has(p)&&(r=_({rel:"modulepreload",href:r},i),tr.set(p,r),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(kl(p)))return}l=s.createElement("link"),cn(l,"link",r),Ne(l),s.head.appendChild(l)}}}function KS(r,i,s){gi.S(r,i,s);var l=io;if(l&&r){var f=Tn(l).hoistableStyles,p=ao(r);i=i||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Ol(p)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},s),(s=tr.get(p))&&pp(r,s);var V=E=l.createElement("link");Ne(V),cn(V,"link",r),V._p=new Promise(function(X,it){V.onload=X,V.onerror=it}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function YS(r,i){gi.X(r,i);var s=io;if(s&&r){var l=Tn(s).hoistableScripts,f=so(r),p=l.get(f);p||(p=s.querySelector(kl(f)),p||(r=_({src:r,async:!0},i),(i=tr.get(f))&&mp(r,i),p=s.createElement("script"),Ne(p),cn(p,"link",r),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function QS(r,i){gi.M(r,i);var s=io;if(s&&r){var l=Tn(s).hoistableScripts,f=so(r),p=l.get(f);p||(p=s.querySelector(kl(f)),p||(r=_({src:r,async:!0,type:"module"},i),(i=tr.get(f))&&mp(r,i),p=s.createElement("script"),Ne(p),cn(p,"link",r),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function q0(r,i,s,l){var f=(f=at.current)?Gc(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ao(s.href),s=Tn(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=ao(s.href);var p=Tn(f).hoistableStyles,E=p.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=f.querySelector(Ol(r)))&&!p._p&&(E.instance=p,E.state.loading=5),tr.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},tr.set(r,s),p||XS(f,r,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(s),s=Tn(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ao(r){return'href="'+Pe(r)+'"'}function Ol(r){return'link[rel="stylesheet"]['+r+"]"}function F0(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function XS(r,i,s,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",s),Ne(i),r.head.appendChild(i))}function so(r){return'[src="'+Pe(r)+'"]'}function kl(r){return"script[async]"+r}function $0(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+Pe(s.href)+'"]');if(l)return i.instance=l,Ne(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Ne(l),cn(l,"style",f),Hc(l,s.precedence,r),i.instance=l;case"stylesheet":f=ao(s.href);var p=r.querySelector(Ol(f));if(p)return i.state.loading|=4,i.instance=p,Ne(p),p;l=F0(s),(f=tr.get(f))&&pp(l,f),p=(r.ownerDocument||r).createElement("link"),Ne(p);var E=p;return E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),cn(p,"link",l),i.state.loading|=4,Hc(p,s.precedence,r),i.instance=p;case"script":return p=so(s.src),(f=r.querySelector(kl(p)))?(i.instance=f,Ne(f),f):(l=s,(f=tr.get(p))&&(l=_({},s),mp(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),Ne(f),cn(f,"link",l),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,s.precedence,r));return i.instance}function Hc(r,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function pp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function mp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var qc=null;function K0(r,i,s){if(qc===null){var l=new Map,f=qc=new Map;f.set(s,l)}else f=qc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(r))return l;for(l.set(r,null),s=s.getElementsByTagName(r),f=0;f<s.length;f++){var p=s[f];if(!(p[Ea]||p[Ge]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=r+E;var S=l.get(E);S?S.push(p):l.set(E,[p])}}return l}function Y0(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function ZS(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Vl=null;function WS(){}function JS(r,i,s){if(Vl===null)throw Error(a(475));var l=Vl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ao(s.href),p=r.querySelector(Ol(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Fc.bind(l),r.then(l,l)),i.state.loading|=4,i.instance=p,Ne(p);return}p=r.ownerDocument||r,s=F0(s),(f=tr.get(f))&&pp(s,f),p=p.createElement("link"),Ne(p);var E=p;E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),cn(p,"link",s),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Fc.bind(l),r.addEventListener("load",i),r.addEventListener("error",i))}}function tA(){if(Vl===null)throw Error(a(475));var r=Vl;return r.stylesheets&&r.count===0&&gp(r,r.stylesheets),0<r.count?function(i){var s=setTimeout(function(){if(r.stylesheets&&gp(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(s)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $c=null;function gp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$c=new Map,i.forEach(eA,r),$c=null,Fc.call(r))}function eA(r,i){if(!(i.state.loading&4)){var s=$c.get(r);if(s)var l=s.get(null);else{s=new Map,$c.set(r,s);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,f),s.set(E,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var Pl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function nA(r,i,s,l,f,p,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function X0(r,i,s,l,f,p,E,S,V,X,it,ot){return r=new nA(r,i,s,E,S,V,X,ot),i=1,p===!0&&(i|=24),p=Pn(3,null,null,i),r.current=p,p.stateNode=r,i=Zf(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:i},ed(p),r}function Z0(r){return r?(r=Ls,r):Ls}function W0(r,i,s,l,f,p){f=Z0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ui(i),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=Bi(r,l,i),s!==null&&(jn(s,r,i),fl(s,r,i))}function J0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function yp(r,i){J0(r,i),(r=r.alternate)&&J0(r,i)}function tv(r){if(r.tag===13){var i=Ps(r,67108864);i!==null&&jn(i,r,67108864),yp(r,67108864)}}var Kc=!0;function rA(r,i,s,l){var f=D.T;D.T=null;var p=U.p;try{U.p=2,_p(r,i,s,l)}finally{U.p=p,D.T=f}}function iA(r,i,s,l){var f=D.T;D.T=null;var p=U.p;try{U.p=8,_p(r,i,s,l)}finally{U.p=p,D.T=f}}function _p(r,i,s,l){if(Kc){var f=vp(l);if(f===null)ap(r,i,l,Yc,s),nv(r,l);else if(sA(f,r,i,s,l))l.stopPropagation();else if(nv(r,l),i&4&&-1<aA.indexOf(r)){for(;f!==null;){var p=vr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=ye(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var V=1<<31-vt(E);S.entanglements[1]|=V,E&=~V}Or(p),(ue&6)===0&&(Nc=ie()+500,xl(0))}}break;case 13:S=Ps(p,2),S!==null&&jn(S,p,2),Oc(),yp(p,2)}if(p=vp(l),p===null&&ap(r,i,l,Yc,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else ap(r,i,l,null,s)}}function vp(r){return r=Fn(r),Ep(r)}var Yc=null;function Ep(r){if(Yc=null,r=Yr(r),r!==null){var i=u(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=h(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Yc=r,null}function ev(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case Qe:return 2;case Ce:return 8;case Me:case An:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var Tp=!1,Wi=null,Ji=null,ta=null,Ll=new Map,Ul=new Map,ea=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(r,i){switch(r){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function Bl(r,i,s,l,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},i!==null&&(i=vr(i),i!==null&&tv(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function sA(r,i,s,l,f){switch(i){case"focusin":return Wi=Bl(Wi,r,i,s,l,f),!0;case"dragenter":return Ji=Bl(Ji,r,i,s,l,f),!0;case"mouseover":return ta=Bl(ta,r,i,s,l,f),!0;case"pointerover":var p=f.pointerId;return Ll.set(p,Bl(Ll.get(p)||null,r,i,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Ul.set(p,Bl(Ul.get(p)||null,r,i,s,l,f)),!0}return!1}function rv(r){var i=Yr(r.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){r.blockedOn=i,Ou(r.priority,function(){if(s.tag===13){var l=zn();l=xi(l);var f=Ps(s,l);f!==null&&jn(f,s,l),yp(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qc(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=vp(r.nativeEvent);if(s===null){s=r.nativeEvent;var l=new s.constructor(s.type,s);Wr=l,s.target.dispatchEvent(l),Wr=null}else return i=vr(s),i!==null&&tv(i),r.blockedOn=s,!1;i.shift()}return!0}function iv(r,i,s){Qc(r)&&s.delete(i)}function oA(){Tp=!1,Wi!==null&&Qc(Wi)&&(Wi=null),Ji!==null&&Qc(Ji)&&(Ji=null),ta!==null&&Qc(ta)&&(ta=null),Ll.forEach(iv),Ul.forEach(iv)}function Xc(r,i){r.blockedOn===i&&(r.blockedOn=null,Tp||(Tp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oA)))}var Zc=null;function av(r){Zc!==r&&(Zc=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zc===r&&(Zc=null);for(var i=0;i<r.length;i+=3){var s=r[i],l=r[i+1],f=r[i+2];if(typeof l!="function"){if(Ep(l||s)===null)continue;break}var p=vr(s);p!==null&&(r.splice(i,3),i-=3,Ed(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function zl(r){function i(V){return Xc(V,r)}Wi!==null&&Xc(Wi,r),Ji!==null&&Xc(Ji,r),ta!==null&&Xc(ta,r),Ll.forEach(i),Ul.forEach(i);for(var s=0;s<ea.length;s++){var l=ea[s];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ea.length&&(s=ea[0],s.blockedOn===null);)rv(s),s.blockedOn===null&&ea.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],E=f[Ve]||null;if(typeof p=="function")E||av(s);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Ve]||null)S=E.formAction;else if(Ep(f)!==null)continue}else S=E.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),av(s)}}}function wp(r){this._internalRoot=r}Wc.prototype.render=wp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=zn();W0(s,l,r,i,null,null)},Wc.prototype.unmount=wp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;W0(r.current,2,null,r,null,null),Oc(),i[Hn]=null}};function Wc(r){this._internalRoot=r}Wc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Mi();r={blockedOn:null,target:r,priority:i};for(var s=0;s<ea.length&&i!==0&&i<ea[s].priority;s++);ea.splice(s,0,r),s===0&&rv(r)}};var sv=t.version;if(sv!=="19.1.0")throw Error(a(527,sv,"19.1.0"));U.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var lA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Tt=Jc.inject(lA),B=Jc}catch{}}return Gl.createRoot=function(r,i){if(!o(r))throw Error(a(299));var s=!1,l="",f=w_,p=b_,E=S_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=X0(r,1,!1,null,null,s,l,f,p,E,S,null),r[Hn]=i.current,ip(r),new wp(i)},Gl.hydrateRoot=function(r,i,s){if(!o(r))throw Error(a(299));var l=!1,f="",p=w_,E=b_,S=S_,V=null,X=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(V=s.unstable_transitionCallbacks),s.formState!==void 0&&(X=s.formState)),i=X0(r,1,!0,i,s??null,l,f,p,E,S,V,X),i.context=Z0(null),s=i.current,l=zn(),l=xi(l),f=Ui(l),f.callback=null,Bi(s,f,l),s=l,i.current.lanes=s,Kr(i,s),Or(i),r[Hn]=i.current,ip(r),new Wc(i)},Gl.version="19.1.0",Gl}var gv;function EA(){if(gv)return Ap.exports;gv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ap.exports=vA(),Ap.exports}var TA=EA();const wA=Gm(TA);var Eu={};(function n(t,e,a,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!t.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),A=T.getContext("2d");A.fillRect(0,0,1,1);var L=T.transferToImageBitmap();try{A.createPattern(L,"no-repeat")}catch{return!1}return!0}();function m(){}function g(T){var A=e.exports.Promise,L=A!==void 0?A:t.Promise;return typeof L=="function"?new L(T):(T(m,m),null)}var _=function(T,A){return{transform:function(L){if(T)return L;if(A.has(L))return A.get(L);var j=new OffscreenCanvas(L.width,L.height),rt=j.getContext("2d");return rt.drawImage(L,0,0),A.set(L,j),j},clear:function(){A.clear()}}}(d,new Map),w=function(){var T=Math.floor(16.666666666666668),A,L,j={},rt=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(A=function(ht){var at=Math.random();return j[at]=requestAnimationFrame(function mt(yt){rt===yt||rt+T-1<yt?(rt=yt,delete j[at],ht()):j[at]=requestAnimationFrame(mt)}),at},L=function(ht){j[ht]&&cancelAnimationFrame(j[ht])}):(A=function(ht){return setTimeout(ht,T)},L=function(ht){return clearTimeout(ht)}),{frame:A,cancel:L}}(),b=function(){var T,A,L={};function j(rt){function ht(at,mt){rt.postMessage({options:at||{},callback:mt})}rt.init=function(mt){var yt=mt.transferControlToOffscreen();rt.postMessage({canvas:yt},[yt])},rt.fire=function(mt,yt,Ct){if(A)return ht(mt,null),A;var jt=Math.random().toString(36).slice(2);return A=g(function(Nt){function Bt(Ft){Ft.data.callback===jt&&(delete L[jt],rt.removeEventListener("message",Bt),A=null,_.clear(),Ct(),Nt())}rt.addEventListener("message",Bt),ht(mt,jt),L[jt]=Bt.bind(null,{data:{callback:jt}})}),A},rt.reset=function(){rt.postMessage({reset:!0});for(var mt in L)L[mt](),delete L[mt]}}return function(){if(T)return T;if(!a&&u){var rt=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([rt])))}catch(ht){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",ht),null}j(T)}return T}}(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function F(T,A){return A?A(T):T}function W(T){return T!=null}function Q(T,A,L){return F(T&&W(T[A])?T[A]:M[A],L)}function pt(T){return T<0?0:Math.floor(T)}function dt(T,A){return Math.floor(Math.random()*(A-T))+T}function ut(T){return parseInt(T,16)}function gt(T){return T.map(ct)}function ct(T){var A=String(T).replace(/[^0-9a-f]/gi,"");return A.length<6&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]),{r:ut(A.substring(0,2)),g:ut(A.substring(2,4)),b:ut(A.substring(4,6))}}function Et(T){var A=Q(T,"origin",Object);return A.x=Q(A,"x",Number),A.y=Q(A,"y",Number),A}function k(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function C(T){var A=T.getBoundingClientRect();T.width=A.width,T.height=A.height}function I(T){var A=document.createElement("canvas");return A.style.position="fixed",A.style.top="0px",A.style.left="0px",A.style.pointerEvents="none",A.style.zIndex=T,A}function O(T,A,L,j,rt,ht,at,mt,yt){T.save(),T.translate(A,L),T.rotate(ht),T.scale(j,rt),T.arc(0,0,1,at,mt,yt),T.restore()}function N(T){var A=T.angle*(Math.PI/180),L=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-A+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function P(T,A){A.x+=Math.cos(A.angle2D)*A.velocity+A.drift,A.y+=Math.sin(A.angle2D)*A.velocity+A.gravity,A.velocity*=A.decay,A.flat?(A.wobble=0,A.wobbleX=A.x+10*A.scalar,A.wobbleY=A.y+10*A.scalar,A.tiltSin=0,A.tiltCos=0,A.random=1):(A.wobble+=A.wobbleSpeed,A.wobbleX=A.x+10*A.scalar*Math.cos(A.wobble),A.wobbleY=A.y+10*A.scalar*Math.sin(A.wobble),A.tiltAngle+=.1,A.tiltSin=Math.sin(A.tiltAngle),A.tiltCos=Math.cos(A.tiltAngle),A.random=Math.random()+2);var L=A.tick++/A.totalTicks,j=A.x+A.random*A.tiltCos,rt=A.y+A.random*A.tiltSin,ht=A.wobbleX+A.random*A.tiltCos,at=A.wobbleY+A.random*A.tiltSin;if(T.fillStyle="rgba("+A.color.r+", "+A.color.g+", "+A.color.b+", "+(1-L)+")",T.beginPath(),h&&A.shape.type==="path"&&typeof A.shape.path=="string"&&Array.isArray(A.shape.matrix))T.fill(U(A.shape.path,A.shape.matrix,A.x,A.y,Math.abs(ht-j)*.1,Math.abs(at-rt)*.1,Math.PI/10*A.wobble));else if(A.shape.type==="bitmap"){var mt=Math.PI/10*A.wobble,yt=Math.abs(ht-j)*.1,Ct=Math.abs(at-rt)*.1,jt=A.shape.bitmap.width*A.scalar,Nt=A.shape.bitmap.height*A.scalar,Bt=new DOMMatrix([Math.cos(mt)*yt,Math.sin(mt)*yt,-Math.sin(mt)*Ct,Math.cos(mt)*Ct,A.x,A.y]);Bt.multiplySelf(new DOMMatrix(A.shape.matrix));var Ft=T.createPattern(_.transform(A.shape.bitmap),"no-repeat");Ft.setTransform(Bt),T.globalAlpha=1-L,T.fillStyle=Ft,T.fillRect(A.x-jt/2,A.y-Nt/2,jt,Nt),T.globalAlpha=1}else if(A.shape==="circle")T.ellipse?T.ellipse(A.x,A.y,Math.abs(ht-j)*A.ovalScalar,Math.abs(at-rt)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI):O(T,A.x,A.y,Math.abs(ht-j)*A.ovalScalar,Math.abs(at-rt)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI);else if(A.shape==="star")for(var Mt=Math.PI/2*3,he=4*A.scalar,ne=8*A.scalar,ie=A.x,an=A.y,Qe=5,Ce=Math.PI/Qe;Qe--;)ie=A.x+Math.cos(Mt)*ne,an=A.y+Math.sin(Mt)*ne,T.lineTo(ie,an),Mt+=Ce,ie=A.x+Math.cos(Mt)*he,an=A.y+Math.sin(Mt)*he,T.lineTo(ie,an),Mt+=Ce;else T.moveTo(Math.floor(A.x),Math.floor(A.y)),T.lineTo(Math.floor(A.wobbleX),Math.floor(rt)),T.lineTo(Math.floor(ht),Math.floor(at)),T.lineTo(Math.floor(j),Math.floor(A.wobbleY));return T.closePath(),T.fill(),A.tick<A.totalTicks}function x(T,A,L,j,rt){var ht=A.slice(),at=T.getContext("2d"),mt,yt,Ct=g(function(jt){function Nt(){mt=yt=null,at.clearRect(0,0,j.width,j.height),_.clear(),rt(),jt()}function Bt(){a&&!(j.width===o.width&&j.height===o.height)&&(j.width=T.width=o.width,j.height=T.height=o.height),!j.width&&!j.height&&(L(T),j.width=T.width,j.height=T.height),at.clearRect(0,0,j.width,j.height),ht=ht.filter(function(Ft){return P(at,Ft)}),ht.length?mt=w.frame(Bt):Nt()}mt=w.frame(Bt),yt=Nt});return{addFettis:function(jt){return ht=ht.concat(jt),Ct},canvas:T,promise:Ct,reset:function(){mt&&w.cancel(mt),yt&&yt()}}}function K(T,A){var L=!T,j=!!Q(A||{},"resize"),rt=!1,ht=Q(A,"disableForReducedMotion",Boolean),at=u&&!!Q(A||{},"useWorker"),mt=at?b():null,yt=L?k:C,Ct=T&&mt?!!T.__confetti_initialized:!1,jt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Nt;function Bt(Mt,he,ne){for(var ie=Q(Mt,"particleCount",pt),an=Q(Mt,"angle",Number),Qe=Q(Mt,"spread",Number),Ce=Q(Mt,"startVelocity",Number),Me=Q(Mt,"decay",Number),An=Q(Mt,"gravity",Number),Xe=Q(Mt,"drift",Number),Dn=Q(Mt,"colors",gt),On=Q(Mt,"ticks",Number),Tt=Q(Mt,"shapes"),B=Q(Mt,"scalar"),wt=!!Q(Mt,"flat"),vt=Et(Mt),Rt=ie,Ht=[],ae=T.width*vt.x,ge=T.height*vt.y;Rt--;)Ht.push(N({x:ae,y:ge,angle:an,spread:Qe,startVelocity:Ce,color:Dn[Rt%Dn.length],shape:Tt[dt(0,Tt.length)],ticks:On,decay:Me,gravity:An,drift:Xe,scalar:B,flat:wt}));return Nt?Nt.addFettis(Ht):(Nt=x(T,Ht,yt,he,ne),Nt.promise)}function Ft(Mt){var he=ht||Q(Mt,"disableForReducedMotion",Boolean),ne=Q(Mt,"zIndex",Number);if(he&&jt)return g(function(Ce){Ce()});L&&Nt?T=Nt.canvas:L&&!T&&(T=I(ne),document.body.appendChild(T)),j&&!Ct&&yt(T);var ie={width:T.width,height:T.height};mt&&!Ct&&mt.init(T),Ct=!0,mt&&(T.__confetti_initialized=!0);function an(){if(mt){var Ce={getBoundingClientRect:function(){if(!L)return T.getBoundingClientRect()}};yt(Ce),mt.postMessage({resize:{width:Ce.width,height:Ce.height}});return}ie.width=ie.height=null}function Qe(){Nt=null,j&&(rt=!1,t.removeEventListener("resize",an)),L&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,Ct=!1)}return j&&!rt&&(rt=!0,t.addEventListener("resize",an,!1)),mt?mt.fire(Mt,ie,Qe):Bt(Mt,ie,Qe)}return Ft.reset=function(){mt&&mt.reset(),Nt&&Nt.reset()},Ft}var G;function D(){return G||(G=K(null,{useWorker:!0,resize:!0})),G}function U(T,A,L,j,rt,ht,at){var mt=new Path2D(T),yt=new Path2D;yt.addPath(mt,new DOMMatrix(A));var Ct=new Path2D;return Ct.addPath(yt,new DOMMatrix([Math.cos(at)*rt,Math.sin(at)*rt,-Math.sin(at)*ht,Math.cos(at)*ht,L,j])),Ct}function H(T){if(!h)throw new Error("path confetti are not supported in this browser");var A,L;typeof T=="string"?A=T:(A=T.path,L=T.matrix);var j=new Path2D(A),rt=document.createElement("canvas"),ht=rt.getContext("2d");if(!L){for(var at=1e3,mt=at,yt=at,Ct=0,jt=0,Nt,Bt,Ft=0;Ft<at;Ft+=2)for(var Mt=0;Mt<at;Mt+=2)ht.isPointInPath(j,Ft,Mt,"nonzero")&&(mt=Math.min(mt,Ft),yt=Math.min(yt,Mt),Ct=Math.max(Ct,Ft),jt=Math.max(jt,Mt));Nt=Ct-mt,Bt=jt-yt;var he=10,ne=Math.min(he/Nt,he/Bt);L=[ne,0,0,ne,-Math.round(Nt/2+mt)*ne,-Math.round(Bt/2+yt)*ne]}return{type:"path",path:A,matrix:L}}function Z(T){var A,L=1,j="#000000",rt='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?A=T:(A=T.text,L="scalar"in T?T.scalar:L,rt="fontFamily"in T?T.fontFamily:rt,j="color"in T?T.color:j);var ht=10*L,at=""+ht+"px "+rt,mt=new OffscreenCanvas(ht,ht),yt=mt.getContext("2d");yt.font=at;var Ct=yt.measureText(A),jt=Math.ceil(Ct.actualBoundingBoxRight+Ct.actualBoundingBoxLeft),Nt=Math.ceil(Ct.actualBoundingBoxAscent+Ct.actualBoundingBoxDescent),Bt=2,Ft=Ct.actualBoundingBoxLeft+Bt,Mt=Ct.actualBoundingBoxAscent+Bt;jt+=Bt+Bt,Nt+=Bt+Bt,mt=new OffscreenCanvas(jt,Nt),yt=mt.getContext("2d"),yt.font=at,yt.fillStyle=j,yt.fillText(A,Ft,Mt);var he=1/L;return{type:"bitmap",bitmap:mt.transferToImageBitmap(),matrix:[he,0,0,he,-jt*he/2,-Nt*he/2]}}e.exports=function(){return D().apply(this,arguments)},e.exports.reset=function(){D().reset()},e.exports.create=K,e.exports.shapeFromPath=H,e.exports.shapeFromText=Z})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Eu,!1);const bA=Eu.exports;Eu.exports.create;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,a)=>a?a.toUpperCase():e.toLowerCase()),yv=n=>{const t=AA(n);return t.charAt(0).toUpperCase()+t.slice(1)},CE=(...n)=>n.filter((t,e,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===e).join(" ").trim(),RA=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=St.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:h,...d},m)=>St.createElement("svg",{ref:m,...CA,width:t,height:t,stroke:n,strokeWidth:a?Number(e)*24/Number(t):e,className:CE("lucide",o),...!u&&!RA(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,_])=>St.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=(n,t)=>{const e=St.forwardRef(({className:a,...o},u)=>St.createElement(IA,{ref:u,iconNode:t,className:CE(`lucide-${SA(yv(n))}`,`lucide-${n}`,a),...o}));return e.displayName=yv(n),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],MA=IE("menu",xA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xE=IE("x",NA),DA=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(n){const t=[];let e=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},OA=function(n){const t=[];let e=0,a=0;for(;e<n.length;){const o=n[e++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],h=n[e++],d=n[e++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=n[e++],h=n[e++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},NE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,_=u>>2,w=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,M=g&63;m||(M=64,h||(b=64)),a.push(e[_],e[w],e[b],e[M])}return a.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(ME(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):OA(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const w=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||w==null)throw new kA;const b=u<<2|d>>4;if(a.push(b),g!==64){const M=d<<4&240|g>>2;if(a.push(M),w!==64){const F=g<<6&192|w;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VA=function(n){const t=ME(n);return NE.encodeByteArray(t,!0)},Rh=function(n){return VA(n).replace(/\./g,"")},DE=function(n){try{return NE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=()=>PA().__FIREBASE_DEFAULTS__,UA=()=>{if(typeof process>"u"||typeof _v>"u")return;const n=_v.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&DE(n[1]);return t&&JSON.parse(t)},sf=()=>{try{return DA()||LA()||UA()||BA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OE=n=>{var t,e;return(e=(t=sf())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},zA=n=>{const t=OE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},kE=()=>{var n;return(n=sf())==null?void 0:n.config},VE=n=>{var t;return(t=sf())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rh(JSON.stringify(e)),Rh(JSON.stringify(h)),""].join(".")}const tu={};function HA(){const n={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?n.emulator.push(t):n.prod.push(t);return n}function qA(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let vv=!1;function LE(n,t){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||tu[n]===t||tu[n]||vv)return;tu[n]=t;function e(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=HA().prod.length>0;function h(){const b=document.getElementById(a);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{vv=!0,h()},b}function _(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=qA(a),M=e("text"),F=document.getElementById(M)||document.createElement("span"),W=e("learnmore"),Q=document.getElementById(W)||document.createElement("a"),pt=e("preprendIcon"),dt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ut=b.element;d(ut),_(Q,W);const gt=g();m(dt,pt),ut.append(dt,F,Q,gt),document.body.appendChild(ut)}u?(F.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function $A(){var t;const n=(t=sf())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XA(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZA(){return!$A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((n,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="FirebaseError";class Ci extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=t2,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?e2(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ci(o,d,a)}}function e2(n,t){return n.replace(n2,(e,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const n2=/\{\$([^}]+)}/g;function r2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ss(n,t){if(n===t)return!0;const e=Object.keys(n),a=Object.keys(t);for(const o of e){if(!a.includes(o))return!1;const u=n[o],h=t[o];if(Ev(u)&&Ev(h)){if(!ss(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!e.includes(o))return!1;return!0}function Ev(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){const t=[];for(const[e,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function i2(n,t){const e=new a2(n,t);return e.subscribe.bind(e)}class a2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let o;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");s2(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:a},o.next===void 0&&(o.next=xp),o.error===void 0&&(o.error=xp),o.complete===void 0&&(o.complete=xp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(n){return n&&n._delegate?n._delegate:n}class os{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new jA;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u2(t))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xa){return this.instances.has(t)}getOptions(t=Xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(t,e){const a=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const o of a)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:l2(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Xa){return this.component?this.component.multipleInstances?t:Xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l2(n){return n===Xa?void 0:n}function u2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qt||(Qt={}));const h2={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},f2=Qt.INFO,d2={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},p2=(n,t,...e)=>{if(t<n.logLevel)return;const a=new Date().toISOString(),o=d2[t];if(o)console[o](`[${a}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qm{constructor(t){this.name=t,this._logLevel=f2,this._logHandler=p2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?h2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const m2=(n,t)=>t.some(e=>n instanceof e);let Tv,wv;function g2(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y2(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,em=new WeakMap,BE=new WeakMap,Mp=new WeakMap,Fm=new WeakMap;function _2(n){const t=new Promise((e,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{e(ua(n.result)),o()},h=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&UE.set(e,n)}).catch(()=>{}),Fm.set(t,n),t}function v2(n){if(em.has(n))return;const t=new Promise((e,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});em.set(n,t)}let nm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return em.get(n);if(t==="objectStoreNames")return n.objectStoreNames||BE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ua(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function E2(n){nm=n(nm)}function T2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=n.call(Np(this),t,...e);return BE.set(a,t.sort?t.sort():[t]),ua(a)}:y2().includes(n)?function(...t){return n.apply(Np(this),t),ua(UE.get(this))}:function(...t){return ua(n.apply(Np(this),t))}}function w2(n){return typeof n=="function"?T2(n):(n instanceof IDBTransaction&&v2(n),m2(n,g2())?new Proxy(n,nm):n)}function ua(n){if(n instanceof IDBRequest)return _2(n);if(Mp.has(n))return Mp.get(n);const t=w2(n);return t!==n&&(Mp.set(n,t),Fm.set(t,n)),t}const Np=n=>Fm.get(n);function b2(n,t,{blocked:e,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=ua(h);return a&&h.addEventListener("upgradeneeded",m=>{a(ua(h.result),m.oldVersion,m.newVersion,ua(h.transaction),m)}),e&&h.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const S2=["get","getKey","getAll","getAllKeys","count"],A2=["put","add","delete","clear"],Dp=new Map;function bv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Dp.get(t))return Dp.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,o=A2.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(o||S2.includes(e)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return Dp.set(t,u),u}E2(n=>({...n,get:(t,e,a)=>bv(t,e)||n.get(t,e,a),has:(t,e)=>!!bv(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(C2(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function C2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rm="@firebase/app",Sv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new qm("@firebase/app"),I2="@firebase/app-compat",x2="@firebase/analytics-compat",M2="@firebase/analytics",N2="@firebase/app-check-compat",D2="@firebase/app-check",O2="@firebase/auth",k2="@firebase/auth-compat",V2="@firebase/database",P2="@firebase/data-connect",L2="@firebase/database-compat",U2="@firebase/functions",B2="@firebase/functions-compat",z2="@firebase/installations",j2="@firebase/installations-compat",G2="@firebase/messaging",H2="@firebase/messaging-compat",q2="@firebase/performance",F2="@firebase/performance-compat",$2="@firebase/remote-config",K2="@firebase/remote-config-compat",Y2="@firebase/storage",Q2="@firebase/storage-compat",X2="@firebase/firestore",Z2="@firebase/ai",W2="@firebase/firestore-compat",J2="firebase",tR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",eR={[rm]:"fire-core",[I2]:"fire-core-compat",[M2]:"fire-analytics",[x2]:"fire-analytics-compat",[D2]:"fire-app-check",[N2]:"fire-app-check-compat",[O2]:"fire-auth",[k2]:"fire-auth-compat",[V2]:"fire-rtdb",[P2]:"fire-data-connect",[L2]:"fire-rtdb-compat",[U2]:"fire-fn",[B2]:"fire-fn-compat",[z2]:"fire-iid",[j2]:"fire-iid-compat",[G2]:"fire-fcm",[H2]:"fire-fcm-compat",[q2]:"fire-perf",[F2]:"fire-perf-compat",[$2]:"fire-rc",[K2]:"fire-rc-compat",[Y2]:"fire-gcs",[Q2]:"fire-gcs-compat",[X2]:"fire-fst",[W2]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[J2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,nR=new Map,am=new Map;function Av(n,t){try{n.container.addComponent(t)}catch(e){wi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Eo(n){const t=n.name;if(am.has(t))return wi.debug(`There were multiple attempts to register component ${t}.`),!1;am.set(t,n);for(const e of Ch.values())Av(e,n);for(const e of nR.values())Av(e,n);return!0}function $m(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Tu("app","Firebase",rR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,e,a){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=tR;function zE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw ca.create("bad-app-name",{appName:String(o)});if(e||(e=kE()),!e)throw ca.create("no-options");const u=Ch.get(o);if(u){if(ss(e,u.options)&&ss(a,u.config))return u;throw ca.create("duplicate-app",{appName:o})}const h=new c2(o);for(const m of am.values())h.addComponent(m);const d=new iR(e,a,h);return Ch.set(o,d),d}function jE(n=im){const t=Ch.get(n);if(!t&&n===im&&kE())return zE();if(!t)throw ca.create("no-app",{appName:n});return t}function ha(n,t,e){let a=eR[n]??n;e&&(a+=`-${e}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),wi.warn(h.join(" "));return}Eo(new os(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="firebase-heartbeat-database",sR=1,ou="firebase-heartbeat-store";let Op=null;function GE(){return Op||(Op=b2(aR,sR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ou)}catch(e){console.warn(e)}}}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),Op}async function oR(n){try{const e=(await GE()).transaction(ou),a=await e.objectStore(ou).get(HE(n));return await e.done,a}catch(t){if(t instanceof Ci)wi.warn(t.message);else{const e=ca.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});wi.warn(e.message)}}}async function Rv(n,t){try{const a=(await GE()).transaction(ou,"readwrite");await a.objectStore(ou).put(t,HE(n)),await a.done}catch(e){if(e instanceof Ci)wi.warn(e.message);else{const a=ca.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});wi.warn(a.message)}}}function HE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,uR=30;class cR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new fR(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Cv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>uR){const h=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){wi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:a,unsentEntries:o}=hR(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return wi.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function hR(n,t=lR){const e=[];let a=n.slice();for(const o of n){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Iv(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class fR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await oR(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Iv(n){return Rh(JSON.stringify({version:2,heartbeats:n})).length}function dR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let a=1;a<n.length;a++)n[a].date<e&&(e=n[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n){Eo(new os("platform-logger",t=>new R2(t),"PRIVATE")),Eo(new os("heartbeat",t=>new cR(t),"PRIVATE")),ha(rm,Sv,n),ha(rm,Sv,"esm2020"),ha("fire-js","")}pR("");function qE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mR=qE,FE=new Tu("auth","Firebase",qE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new qm("@firebase/auth");function gR(n,...t){Ih.logLevel<=Qt.WARN&&Ih.warn(`Auth (${Do}): ${n}`,...t)}function hh(n,...t){Ih.logLevel<=Qt.ERROR&&Ih.error(`Auth (${Do}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(n,...t){throw Ym(n,...t)}function mr(n,...t){return Ym(n,...t)}function Km(n,t,e){const a={...mR(),[t]:e};return new Tu("auth","Firebase",a).create(t,{appName:n.name})}function ns(n){return Km(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yR(n,t,e){const a=e;if(!(t instanceof a))throw a.name!==t.constructor.name&&Gr(n,"argument-error"),Km(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ym(n,...t){if(typeof n!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(e,...a)}return FE.create(n,...t)}function Lt(n,t,...e){if(!n)throw Ym(t,...e)}function vi(n){const t="INTERNAL ASSERTION FAILED: "+n;throw hh(t),new Error(t)}function bi(n,t){n||vi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function _R(){return xv()==="http:"||xv()==="https:"}function xv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_R()||YA()||"connection"in navigator)?navigator.onLine:!0}function ER(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,e){this.shortDelay=t,this.longDelay=e,bi(e>t,"Short delay should be less than long delay!"),this.isMobile=FA()||QA()}get(){return vR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n,t){bi(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bR=new bu(3e4,6e4);function Xm(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Oo(n,t,e,a,o={}){return KE(n,o,async()=>{let u={},h={};a&&(t==="GET"?h=a:u={body:JSON.stringify(a)});const d=wu({key:n.config.apiKey,...h}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:m,...u};return KA()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&No(n.emulatorConfig.host)&&(g.credentials="include"),$E.fetch()(await YE(n,n.config.apiHost,e,d),g)})}async function KE(n,t,e){n._canInitEmulator=!1;const a={...TR,...t};try{const o=new AR(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw th(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw th(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw th(n,"user-disabled",h);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Km(n,_,g);Gr(n,_)}}catch(o){if(o instanceof Ci)throw o;Gr(n,"network-request-failed",{message:String(o)})}}async function SR(n,t,e,a,o={}){const u=await Oo(n,t,e,a,o);return"mfaPendingCredential"in u&&Gr(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function YE(n,t,e,a){const o=`${t}${e}?${a}`,u=n,h=u.config.emulator?Qm(n.config,o):`${n.config.apiScheme}://${o}`;return wR.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class AR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(mr(this.auth,"network-request-failed")),bR.get())})}}function th(n,t,e){const a={appName:n.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const o=mr(n,t,a);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(n,t){return Oo(n,"POST","/v1/accounts:delete",t)}async function xh(n,t){return Oo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CR(n,t=!1){const e=ir(n),a=await e.getIdToken(t),o=Zm(a);Lt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:eu(kp(o.auth_time)),issuedAtTime:eu(kp(o.iat)),expirationTime:eu(kp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kp(n){return Number(n)*1e3}function Zm(n){const[t,e,a]=n.split(".");if(t===void 0||e===void 0||a===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=DE(e);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Mv(n){const t=Zm(n);return Lt(t,"internal-error"),Lt(typeof t.exp<"u","internal-error"),Lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(n,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof Ci&&IR(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function IR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(n){var w;const t=n.auth,e=await n.getIdToken(),a=await lu(n,xh(t,{idToken:e}));Lt(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=(w=o.providerUserInfo)!=null&&w.length?QE(o.providerUserInfo):[],h=NR(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function MR(n){const t=ir(n);await Mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function NR(n,t){return[...n.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function QE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(n,t){const e=await KE(n,{},async()=>{const a=wu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,h=await YE(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return n.emulatorConfig&&No(n.emulatorConfig.host)&&(m.credentials="include"),$E.fetch()(h,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function OR(n,t){return Oo(n,"POST","/v2/accounts:revokeToken",Xm(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Lt(t.idToken,"internal-error"),Lt(typeof t.idToken<"u","internal-error"),Lt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Lt(t.length!==0,"internal-error");const e=Mv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:o,expiresIn:u}=await DR(t,e);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:o,expirationTime:u}=e,h=new po;return a&&(Lt(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(Lt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Lt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(n,t){Lt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class dr{constructor({uid:t,auth:e,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new xR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await lu(this,this.stsTokenManager.getToken(this.auth,t));return Lt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return CR(this,t)}reload(){return MR(this)}_assign(t){this!==t&&(Lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new dr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await Mh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(ns(this.auth));const t=await this.getIdToken();return await lu(this,RR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const a=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,h=e.photoURL??void 0,d=e.tenantId??void 0,m=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:w,emailVerified:b,isAnonymous:M,providerData:F,stsTokenManager:W}=e;Lt(w&&W,t,"internal-error");const Q=po.fromJSON(this.name,W);Lt(typeof w=="string",t,"internal-error"),ra(a,t.name),ra(o,t.name),Lt(typeof b=="boolean",t,"internal-error"),Lt(typeof M=="boolean",t,"internal-error"),ra(u,t.name),ra(h,t.name),ra(d,t.name),ra(m,t.name),ra(g,t.name),ra(_,t.name);const pt=new dr({uid:w,auth:t,email:o,emailVerified:b,displayName:a,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:Q,createdAt:g,lastLoginAt:_});return F&&Array.isArray(F)&&(pt.providerData=F.map(dt=>({...dt}))),m&&(pt._redirectEventId=m),pt}static async _fromIdTokenResponse(t,e,a=!1){const o=new po;o.updateFromServerResponse(e);const u=new dr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Mh(u),u}static async _fromGetAccountInfoResponse(t,e,a){const o=e.users[0];Lt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new po;d.updateFromIdToken(a);const m=new dr({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;function Ei(n){bi(n instanceof Function,"Expected a class definition");let t=Nv.get(n);return t?(bi(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Nv.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}XE.type="NONE";const Dv=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n,t,e){return`firebase:${n}:${t}:${e}`}class mo{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xh(this.auth,{idToken:t}).catch(()=>{});return e?dr._fromGetAccountInfoResponse(this.auth,e,t):null}return dr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new mo(Ei(Dv),t,a);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ei(Dv);const h=fh(a,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(h);if(_){let w;if(typeof _=="string"){const b=await xh(t,{idToken:_}).catch(()=>{});if(!b)break;w=await dr._fromGetAccountInfoResponse(t,b,_)}else w=dr._fromJSON(t,_);g!==u&&(d=w),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new mo(u,t,a):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new mo(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nT(t))return"Blackberry";if(rT(t))return"Webos";if(WE(t))return"Safari";if((t.includes("chrome/")||JE(t))&&!t.includes("edge/"))return"Chrome";if(eT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function ZE(n=vn()){return/firefox\//i.test(n)}function WE(n=vn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function JE(n=vn()){return/crios\//i.test(n)}function tT(n=vn()){return/iemobile/i.test(n)}function eT(n=vn()){return/android/i.test(n)}function nT(n=vn()){return/blackberry/i.test(n)}function rT(n=vn()){return/webos/i.test(n)}function Wm(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kR(n=vn()){var t;return Wm(n)&&!!((t=window.navigator)!=null&&t.standalone)}function VR(){return XA()&&document.documentMode===10}function iT(n=vn()){return Wm(n)||eT(n)||rT(n)||nT(n)||/windows phone/i.test(n)||tT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n,t=[]){let e;switch(n){case"Browser":e=Ov(vn());break;case"Worker":e=`${Ov(vn())}-${n}`;break;default:e=n}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Do}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=u=>new Promise((h,d)=>{try{const m=t(u);h(m)}catch(m){d(m)}});a.onAbort=e,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(n,t={}){return Oo(n,"GET","/v2/passwordPolicy",Xm(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=6;class BR{constructor(t){var a;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??UR,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=t.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,e,a,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new PR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ei(e)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await mo.create(this,t),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xh(this,{idToken:t}),a=await dr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(hr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let a=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===d)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Mh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ER()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hr(this.app))return Promise.reject(ns(this));const e=t?ir(t):null;return e&&Lt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hr(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LR(this),e=new BR(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Tu("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await OR(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ei(t)||this._popupRedirectResolver;Lt(e,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Ei(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,a,o);return()=>{h=!0,m()}}else{const m=t.addObserver(e);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&gR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function of(n){return ir(n)}class kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=i2(e=>this.observer=e)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jR(n){Jm=n}function GR(n){return Jm.loadJS(n)}function HR(){return Jm.gapiScript}function qR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n,t){const e=$m(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ss(u,t??{}))return o;Gr(o,"already-initialized")}return e.initialize({options:t})}function $R(n,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(Ei);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function KR(n,t,e){const a=of(n);Lt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=sT(t),{host:h,port:d}=YR(t),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Lt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Lt(ss(g,a.config.emulator)&&ss(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,No(h)?(PE(`${u}//${h}${m}`),LE("Auth",!0)):QR()}function sT(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function YR(n){const t=sT(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Vv(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:Vv(h)}}}function Vv(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function QR(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return vi("not implemented")}_getIdTokenResponse(t){return vi("not implemented")}_linkToIdToken(t,e){return vi("not implemented")}_getReauthenticationResolver(t){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(n,t){return SR(n,"POST","/v1/accounts:signInWithIdp",Xm(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="http://localhost";class ls extends oT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Gr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...u}=e;if(!a||!o)return null;const h=new ls(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return go(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,go(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,go(t,e)}buildRequest(){const t={requestUri:XR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=wu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Su{constructor(){super("facebook.com")}static credential(t){return ls._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ia.credential(t.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ls._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return _i.credential(e,a)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Su{constructor(){super("github.com")}static credential(t){return ls._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return aa.credentialFromTaggedObject(t)}static credentialFromError(t){return aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return aa.credential(t.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Su{constructor(){super("twitter.com")}static credential(t,e){return ls._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return sa.credentialFromTaggedObject(t)}static credentialFromError(t){return sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return sa.credential(e,a)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,o=!1){const u=await dr._fromIdTokenResponse(t,a,o),h=Pv(a);return new To({user:u,providerId:h,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const o=Pv(a);return new To({user:t,providerId:o,_tokenResponse:a,operationType:e})}}function Pv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Ci{constructor(t,e,a,o){super(e.code,e.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,o){return new Nh(t,e,a,o)}}function lT(n,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(n,u,t,a):u})}async function ZR(n,t,e=!1){const a=await lu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return To._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,t,e=!1){const{auth:a}=n;if(hr(a.app))return Promise.reject(ns(a));const o="reauthenticate";try{const u=await lu(n,lT(a,o,t,n),e);Lt(u.idToken,a,"internal-error");const h=Zm(u.idToken);Lt(h,a,"internal-error");const{sub:d}=h;return Lt(n.uid===d,a,"user-mismatch"),To._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,t,e=!1){if(hr(n.app))return Promise.reject(ns(n));const a="signIn",o=await lT(n,a,t),u=await To._fromIdTokenResponse(n,a,o);return e||await n._updateCurrentUser(u.user),u}function tC(n,t,e,a){return ir(n).onIdTokenChanged(t,e,a)}function eC(n,t,e){return ir(n).beforeAuthStateChanged(t,e)}function uT(n,t,e,a){return ir(n).onAuthStateChanged(t,e,a)}function nC(n){return ir(n).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1e3,iC=10;class hT extends cT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),o=this.localCache[e];a!==o&&t(e,o,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!e&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);VR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,iC):o()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}hT.type="LOCAL";const aC=hT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT extends cT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}fT.type="SESSION";const dT=fT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const a=new lf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,u)),m=await sC(d);e.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=eg("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function lC(n){Pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function uC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function hC(){return pT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firebaseLocalStorageDb",fC=1,Oh="firebaseLocalStorage",gT="fbase_key";class Au{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function uf(n,t){return n.transaction([Oh],t?"readwrite":"readonly").objectStore(Oh)}function dC(){const n=indexedDB.deleteDatabase(mT);return new Au(n).toPromise()}function lm(){const n=indexedDB.open(mT,fC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Oh,{keyPath:gT})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Oh)?t(a):(a.close(),await dC(),t(await lm()))})})}async function Lv(n,t,e){const a=uf(n,!0).put({[gT]:t,value:e});return new Au(a).toPromise()}async function pC(n,t){const e=uf(n,!1).get(t),a=await new Au(e).toPromise();return a===void 0?null:a.value}function Uv(n,t){const e=uf(n,!0).delete(t);return new Au(e).toPromise()}const mC=800,gC=3;class yT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>gC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(hC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,a;if(this.activeServiceWorker=await uC(),!this.activeServiceWorker)return;this.sender=new oC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(a=t[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Lv(t,Dh,"1"),await Uv(t,Dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>Lv(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>pC(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Uv(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=uf(o,!1).getAll();return new Au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yT.type="LOCAL";const yC=yT;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(n,t){return t?Ei(t):(Lt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends oT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,e){return go(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function _C(n){return JR(n.auth,new ng(n),n.bypassAuthState)}function vC(n){const{auth:t,user:e}=n;return Lt(e,t,"internal-error"),WR(e,new ng(n),n.bypassAuthState)}async function EC(n){const{auth:t,user:e}=n;return Lt(e,t,"internal-error"),ZR(e,new ng(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,e,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:e,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _C;case"linkViaPopup":case"linkViaRedirect":return EC;case"reauthViaPopup":case"reauthViaRedirect":return vC;default:Gr(this.auth,"internal-error")}}resolve(t){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new bu(2e3,1e4);async function wC(n,t,e){if(hr(n.app))return Promise.reject(mr(n,"operation-not-supported-in-this-environment"));const a=of(n);yR(n,t,tg);const o=_T(a,e);return new Ja(a,"signInViaPopup",t,o).executeNotNull()}class Ja extends vT{constructor(t,e,a,o,u){super(t,e,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Lt(t,this.auth,"internal-error"),t}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const t=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if((a=(e=this.authWindow)==null?void 0:e.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,TC.get())};t()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="pendingRedirect",dh=new Map;class SC extends vT{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=dh.get(this.auth._key());if(!t){try{const a=await AC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}dh.set(this.auth._key(),t)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AC(n,t){const e=IC(t),a=CC(n);if(!await a._isAvailable())return!1;const o=await a._get(e)==="true";return await a._remove(e),o}function RC(n,t){dh.set(n._key(),t)}function CC(n){return Ei(n._redirectPersistence)}function IC(n){return fh(bC,n.config.apiKey,n.name)}async function xC(n,t,e=!1){if(hr(n.app))return Promise.reject(ns(n));const a=of(n),o=_T(a,t),h=await new SC(a,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=10*60*1e3;class NC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!DC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!ET(t)){const o=((a=t.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";e.onError(mr(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=MC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(t))}saveEventToCache(t){this.cachedEventUids.add(Bv(t)),this.lastProcessedEventTime=Date.now()}}function Bv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function ET({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function DC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(n,t={}){return Oo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VC=/^https?/;async function PC(n){if(n.config.emulator)return;const{authorizedDomains:t}=await OC(n);for(const e of t)try{if(LC(e))return}catch{}Gr(n,"unauthorized-domain")}function LC(n){const t=sm(),{protocol:e,hostname:a}=new URL(t);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&a===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===a}if(!VC.test(e))return!1;if(kC.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new bu(3e4,6e4);function zv(){const n=Pr().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function BC(n){return new Promise((t,e)=>{var o,u,h;function a(){zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zv(),e(mr(n,"network-request-failed"))},timeout:UC.get()})}if((u=(o=Pr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((h=Pr().gapi)!=null&&h.load)a();else{const d=qR("iframefcb");return Pr()[d]=()=>{gapi.load?a():e(mr(n,"network-request-failed"))},GR(`${HR()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw ph=null,t})}let ph=null;function zC(n){return ph=ph||BC(n),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new bu(5e3,15e3),GC="__/auth/iframe",HC="emulator/auth/iframe",qC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $C(n){const t=n.config;Lt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Qm(t,HC):`https://${n.config.authDomain}/${GC}`,a={apiKey:t.apiKey,appName:n.name,v:Do},o=FC.get(n.config.apiHost);o&&(a.eid=o);const u=n._getFrameworks();return u.length&&(a.fw=u.join(",")),`${e}?${wu(a).slice(1)}`}async function KC(n){const t=await zC(n),e=Pr().gapi;return Lt(e,n,"internal-error"),t.open({where:document.body,url:$C(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=mr(n,"network-request-failed"),d=Pr().setTimeout(()=>{u(h)},jC.get());function m(){Pr().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QC=500,XC=600,ZC="_blank",WC="http://localhost";class jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JC(n,t,e,a=QC,o=XC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...YC,width:a.toString(),height:o.toString(),top:u,left:h},g=vn().toLowerCase();e&&(d=JE(g)?ZC:e),ZE(g)&&(t=t||WC,m.scrollbars="yes");const _=Object.entries(m).reduce((b,[M,F])=>`${b}${M}=${F},`,"");if(kR(g)&&d!=="_self")return tI(t||"",d),new jv(null);const w=window.open(t||"",d,_);Lt(w,n,"popup-blocked");try{w.focus()}catch{}return new jv(w)}function tI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="__/auth/handler",nI="emulator/auth/handler",rI=encodeURIComponent("fac");async function Gv(n,t,e,a,o,u){Lt(n.config.authDomain,n,"auth-domain-config-required"),Lt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:a,v:Do,eventId:o};if(t instanceof tg){t.setDefaultLanguage(n.languageCode),h.providerId=t.providerId||"",r2(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,w]of Object.entries({}))h[_]=w}if(t instanceof Su){const _=t.getScopes().filter(w=>w!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${rI}=${encodeURIComponent(m)}`:"";return`${iI(n)}?${wu(d).slice(1)}${g}`}function iI({config:n}){return n.emulator?Qm(n,nI):`https://${n.authDomain}/${eI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class aI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dT,this._completeRedirectFn=xC,this._overrideRedirectResult=RC}async _openPopup(t,e,a,o){var h;bi((h=this.eventManagers[t._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await Gv(t,e,a,sm(),o);return JC(t,u,eg())}async _openRedirect(t,e,a,o){await this._originValidation(t);const u=await Gv(t,e,a,sm(),o);return lC(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await KC(t),a=new NC(t);return e.register("authEvent",o=>(Lt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Vp,{type:Vp},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Vp];u!==void 0&&e(!!u),Gr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=PC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return iT()||WE()||Wm()}}const sI=aI;var Hv="@firebase/auth",qv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uI(n){Eo(new os("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;Lt(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(n)},g=new zR(a,o,u,m);return $R(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),Eo(new os("auth-internal",t=>{const e=of(t.getProvider("auth").getImmediate());return(a=>new oI(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ha(Hv,qv,lI(n)),ha(Hv,qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=5*60,hI=VE("authIdTokenMaxAge")||cI;let Fv=null;const fI=n=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>hI)return;const o=e==null?void 0:e.token;Fv!==o&&(Fv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dI(n=jE()){const t=$m(n,"auth");if(t.isInitialized())return t.getImmediate();const e=FR(n,{popupRedirectResolver:sI,persistence:[yC,aC,dT]}),a=VE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=fI(u.toString());eC(e,h,()=>h(e.currentUser)),tC(e,d=>h(d))}}const o=OE("auth");return o&&KR(e,`http://${o}`),e}function pI(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}jR({loadJS(n){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=t,a.onerror=o=>{const u=mr("internal-error");u.customData=o,e(u)},a.type="text/javascript",a.charset="UTF-8",pI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uI("Browser");var mI="firebase",gI="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha(mI,gI,"app");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fa,TT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,C){function I(){}I.prototype=C.prototype,k.D=C.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(O,N,P){for(var x=Array(arguments.length-2),K=2;K<arguments.length;K++)x[K-2]=arguments[K];return C.prototype[N].apply(O,x)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,C,I){I||(I=0);var O=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)O[N]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(N=0;16>N;++N)O[N]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=k.g[0],I=k.g[1],N=k.g[2];var P=k.g[3],x=C+(P^I&(N^P))+O[0]+3614090360&4294967295;C=I+(x<<7&4294967295|x>>>25),x=P+(N^C&(I^N))+O[1]+3905402710&4294967295,P=C+(x<<12&4294967295|x>>>20),x=N+(I^P&(C^I))+O[2]+606105819&4294967295,N=P+(x<<17&4294967295|x>>>15),x=I+(C^N&(P^C))+O[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=C+(P^I&(N^P))+O[4]+4118548399&4294967295,C=I+(x<<7&4294967295|x>>>25),x=P+(N^C&(I^N))+O[5]+1200080426&4294967295,P=C+(x<<12&4294967295|x>>>20),x=N+(I^P&(C^I))+O[6]+2821735955&4294967295,N=P+(x<<17&4294967295|x>>>15),x=I+(C^N&(P^C))+O[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=C+(P^I&(N^P))+O[8]+1770035416&4294967295,C=I+(x<<7&4294967295|x>>>25),x=P+(N^C&(I^N))+O[9]+2336552879&4294967295,P=C+(x<<12&4294967295|x>>>20),x=N+(I^P&(C^I))+O[10]+4294925233&4294967295,N=P+(x<<17&4294967295|x>>>15),x=I+(C^N&(P^C))+O[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=C+(P^I&(N^P))+O[12]+1804603682&4294967295,C=I+(x<<7&4294967295|x>>>25),x=P+(N^C&(I^N))+O[13]+4254626195&4294967295,P=C+(x<<12&4294967295|x>>>20),x=N+(I^P&(C^I))+O[14]+2792965006&4294967295,N=P+(x<<17&4294967295|x>>>15),x=I+(C^N&(P^C))+O[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=C+(N^P&(I^N))+O[1]+4129170786&4294967295,C=I+(x<<5&4294967295|x>>>27),x=P+(I^N&(C^I))+O[6]+3225465664&4294967295,P=C+(x<<9&4294967295|x>>>23),x=N+(C^I&(P^C))+O[11]+643717713&4294967295,N=P+(x<<14&4294967295|x>>>18),x=I+(P^C&(N^P))+O[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=C+(N^P&(I^N))+O[5]+3593408605&4294967295,C=I+(x<<5&4294967295|x>>>27),x=P+(I^N&(C^I))+O[10]+38016083&4294967295,P=C+(x<<9&4294967295|x>>>23),x=N+(C^I&(P^C))+O[15]+3634488961&4294967295,N=P+(x<<14&4294967295|x>>>18),x=I+(P^C&(N^P))+O[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=C+(N^P&(I^N))+O[9]+568446438&4294967295,C=I+(x<<5&4294967295|x>>>27),x=P+(I^N&(C^I))+O[14]+3275163606&4294967295,P=C+(x<<9&4294967295|x>>>23),x=N+(C^I&(P^C))+O[3]+4107603335&4294967295,N=P+(x<<14&4294967295|x>>>18),x=I+(P^C&(N^P))+O[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=C+(N^P&(I^N))+O[13]+2850285829&4294967295,C=I+(x<<5&4294967295|x>>>27),x=P+(I^N&(C^I))+O[2]+4243563512&4294967295,P=C+(x<<9&4294967295|x>>>23),x=N+(C^I&(P^C))+O[7]+1735328473&4294967295,N=P+(x<<14&4294967295|x>>>18),x=I+(P^C&(N^P))+O[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=C+(I^N^P)+O[5]+4294588738&4294967295,C=I+(x<<4&4294967295|x>>>28),x=P+(C^I^N)+O[8]+2272392833&4294967295,P=C+(x<<11&4294967295|x>>>21),x=N+(P^C^I)+O[11]+1839030562&4294967295,N=P+(x<<16&4294967295|x>>>16),x=I+(N^P^C)+O[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=C+(I^N^P)+O[1]+2763975236&4294967295,C=I+(x<<4&4294967295|x>>>28),x=P+(C^I^N)+O[4]+1272893353&4294967295,P=C+(x<<11&4294967295|x>>>21),x=N+(P^C^I)+O[7]+4139469664&4294967295,N=P+(x<<16&4294967295|x>>>16),x=I+(N^P^C)+O[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=C+(I^N^P)+O[13]+681279174&4294967295,C=I+(x<<4&4294967295|x>>>28),x=P+(C^I^N)+O[0]+3936430074&4294967295,P=C+(x<<11&4294967295|x>>>21),x=N+(P^C^I)+O[3]+3572445317&4294967295,N=P+(x<<16&4294967295|x>>>16),x=I+(N^P^C)+O[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=C+(I^N^P)+O[9]+3654602809&4294967295,C=I+(x<<4&4294967295|x>>>28),x=P+(C^I^N)+O[12]+3873151461&4294967295,P=C+(x<<11&4294967295|x>>>21),x=N+(P^C^I)+O[15]+530742520&4294967295,N=P+(x<<16&4294967295|x>>>16),x=I+(N^P^C)+O[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=C+(N^(I|~P))+O[0]+4096336452&4294967295,C=I+(x<<6&4294967295|x>>>26),x=P+(I^(C|~N))+O[7]+1126891415&4294967295,P=C+(x<<10&4294967295|x>>>22),x=N+(C^(P|~I))+O[14]+2878612391&4294967295,N=P+(x<<15&4294967295|x>>>17),x=I+(P^(N|~C))+O[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=C+(N^(I|~P))+O[12]+1700485571&4294967295,C=I+(x<<6&4294967295|x>>>26),x=P+(I^(C|~N))+O[3]+2399980690&4294967295,P=C+(x<<10&4294967295|x>>>22),x=N+(C^(P|~I))+O[10]+4293915773&4294967295,N=P+(x<<15&4294967295|x>>>17),x=I+(P^(N|~C))+O[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=C+(N^(I|~P))+O[8]+1873313359&4294967295,C=I+(x<<6&4294967295|x>>>26),x=P+(I^(C|~N))+O[15]+4264355552&4294967295,P=C+(x<<10&4294967295|x>>>22),x=N+(C^(P|~I))+O[6]+2734768916&4294967295,N=P+(x<<15&4294967295|x>>>17),x=I+(P^(N|~C))+O[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=C+(N^(I|~P))+O[4]+4149444226&4294967295,C=I+(x<<6&4294967295|x>>>26),x=P+(I^(C|~N))+O[11]+3174756917&4294967295,P=C+(x<<10&4294967295|x>>>22),x=N+(C^(P|~I))+O[2]+718787259&4294967295,N=P+(x<<15&4294967295|x>>>17),x=I+(P^(N|~C))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+P&4294967295}a.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var I=C-this.blockSize,O=this.B,N=this.h,P=0;P<C;){if(N==0)for(;P<=I;)o(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<C;)if(O[N++]=k.charCodeAt(P++),N==this.blockSize){o(this,O),N=0;break}}else for(;P<C;)if(O[N++]=k[P++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=C},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var I=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=I&255,I/=256;for(this.u(k),k=Array(16),C=I=0;4>C;++C)for(var O=0;32>O;O+=8)k[I++]=this.g[C]>>>O&255;return k};function u(k,C){var I=d;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=C(k)}function h(k,C){this.h=C;for(var I=[],O=!0,N=k.length-1;0<=N;N--){var P=k[N]|0;O&&P==C||(I[N]=P,O=!1)}this.g=I}var d={};function m(k){return-128<=k&&128>k?u(k,function(C){return new h([C|0],0>C?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return Q(g(-k));for(var C=[],I=1,O=0;k>=I;O++)C[O]=k/I|0,I*=4294967296;return new h(C,0)}function _(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return Q(_(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(C,8)),O=w,N=0;N<k.length;N+=8){var P=Math.min(8,k.length-N),x=parseInt(k.substring(N,N+P),C);8>P?(P=g(Math.pow(C,P)),O=O.j(P).add(g(x))):(O=O.j(I),O=O.add(g(x)))}return O}var w=m(0),b=m(1),M=m(16777216);n=h.prototype,n.m=function(){if(W(this))return-Q(this).m();for(var k=0,C=1,I=0;I<this.g.length;I++){var O=this.i(I);k+=(0<=O?O:4294967296+O)*C,C*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(F(this))return"0";if(W(this))return"-"+Q(this).toString(k);for(var C=g(Math.pow(k,6)),I=this,O="";;){var N=gt(I,C).g;I=pt(I,N.j(C));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=N,F(I))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function F(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function W(k){return k.h==-1}n.l=function(k){return k=pt(this,k),W(k)?-1:F(k)?0:1};function Q(k){for(var C=k.g.length,I=[],O=0;O<C;O++)I[O]=~k.g[O];return new h(I,~k.h).add(b)}n.abs=function(){return W(this)?Q(this):this},n.add=function(k){for(var C=Math.max(this.g.length,k.g.length),I=[],O=0,N=0;N<=C;N++){var P=O+(this.i(N)&65535)+(k.i(N)&65535),x=(P>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);O=x>>>16,P&=65535,x&=65535,I[N]=x<<16|P}return new h(I,I[I.length-1]&-2147483648?-1:0)};function pt(k,C){return k.add(Q(C))}n.j=function(k){if(F(this)||F(k))return w;if(W(this))return W(k)?Q(this).j(Q(k)):Q(Q(this).j(k));if(W(k))return Q(this.j(Q(k)));if(0>this.l(M)&&0>k.l(M))return g(this.m()*k.m());for(var C=this.g.length+k.g.length,I=[],O=0;O<2*C;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<k.g.length;N++){var P=this.i(O)>>>16,x=this.i(O)&65535,K=k.i(N)>>>16,G=k.i(N)&65535;I[2*O+2*N]+=x*G,dt(I,2*O+2*N),I[2*O+2*N+1]+=P*G,dt(I,2*O+2*N+1),I[2*O+2*N+1]+=x*K,dt(I,2*O+2*N+1),I[2*O+2*N+2]+=P*K,dt(I,2*O+2*N+2)}for(O=0;O<C;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=C;O<2*C;O++)I[O]=0;return new h(I,0)};function dt(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function ut(k,C){this.g=k,this.h=C}function gt(k,C){if(F(C))throw Error("division by zero");if(F(k))return new ut(w,w);if(W(k))return C=gt(Q(k),C),new ut(Q(C.g),Q(C.h));if(W(C))return C=gt(k,Q(C)),new ut(Q(C.g),C.h);if(30<k.g.length){if(W(k)||W(C))throw Error("slowDivide_ only works with positive integers.");for(var I=b,O=C;0>=O.l(k);)I=ct(I),O=ct(O);var N=Et(I,1),P=Et(O,1);for(O=Et(O,2),I=Et(I,2);!F(O);){var x=P.add(O);0>=x.l(k)&&(N=N.add(I),P=x),O=Et(O,1),I=Et(I,1)}return C=pt(k,N.j(C)),new ut(N,C)}for(N=w;0<=k.l(C);){for(I=Math.max(1,Math.floor(k.m()/C.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=g(I),x=P.j(C);W(x)||0<x.l(k);)I-=O,P=g(I),x=P.j(C);F(P)&&(P=b),N=N.add(P),k=pt(k,x)}return new ut(N,k)}n.A=function(k){return gt(this,k).h},n.and=function(k){for(var C=Math.max(this.g.length,k.g.length),I=[],O=0;O<C;O++)I[O]=this.i(O)&k.i(O);return new h(I,this.h&k.h)},n.or=function(k){for(var C=Math.max(this.g.length,k.g.length),I=[],O=0;O<C;O++)I[O]=this.i(O)|k.i(O);return new h(I,this.h|k.h)},n.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),I=[],O=0;O<C;O++)I[O]=this.i(O)^k.i(O);return new h(I,this.h^k.h)};function ct(k){for(var C=k.g.length+1,I=[],O=0;O<C;O++)I[O]=k.i(O)<<1|k.i(O-1)>>>31;return new h(I,k.h)}function Et(k,C){var I=C>>5;C%=32;for(var O=k.g.length-I,N=[],P=0;P<O;P++)N[P]=0<C?k.i(P+I)>>>C|k.i(P+I+1)<<32-C:k.i(P+I);return new h(N,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,TT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,fa=h}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,$l,bT,mh,um,ST,AT,RT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=e(this);function o(c,y){if(y)t:{var v=a;c=c.split(".");for(var R=0;R<c.length-1;R++){var $=c[R];if(!($ in v))break t;v=v[$]}c=c[c.length-1],R=v[c],y=y(R),y!=R&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,R=!1,$={next:function(){if(!R&&v<c.length){var nt=v++;return{value:y(nt,c[nt]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,b.apply(null,arguments)}function M(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function F(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,$,nt){for(var _t=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)_t[Wt-2]=arguments[Wt];return y.prototype[$].apply(R,_t)}}function W(c){const y=c.length;if(0<y){const v=Array(y);for(let R=0;R<y;R++)v[R]=c[R];return v}return[]}function Q(c,y){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(m(R)){const $=c.length||0,nt=R.length||0;c.length=$+nt;for(let _t=0;_t<nt;_t++)c[$+_t]=R[_t]}else c.push(R)}}class pt{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function dt(c){return/^[\s\xa0]*$/.test(c)}function ut(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function gt(c){return gt[" "](c),c}gt[" "]=function(){};var ct=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Et(c,y,v){for(const R in c)y.call(v,c[R],R,c)}function k(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(v in R)c[v]=R[v];for(let nt=0;nt<I.length;nt++)v=I[nt],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function P(c){d.setTimeout(()=>{throw c},0)}function x(){var c=Z;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,v){const R=G.get();R.set(y,v),this.h?this.h.next=R:this.g=R,this.h=R}}var G=new pt(()=>new D,c=>c.reset());class D{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let U,H=!1,Z=new K,T=()=>{const c=d.Promise.resolve(void 0);U=()=>{c.then(A)}};var A=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){P(v)}var y=G;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}H=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function ht(c,y){if(j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ct){t:{try{gt(y.nodeName);var $=!0;break t}catch{}$=!1}$||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:at[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ht.aa.h.call(this)}}F(ht,j);var at={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Ct(c,y,v,R,$){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!R,this.ha=$,this.key=++yt,this.da=this.fa=!1}function jt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nt(c){this.src=c,this.g={},this.h=0}Nt.prototype.add=function(c,y,v,R,$){var nt=c.toString();c=this.g[nt],c||(c=this.g[nt]=[],this.h++);var _t=Ft(c,y,R,$);return-1<_t?(y=c[_t],v||(y.fa=!1)):(y=new Ct(y,this.src,nt,!!R,$),y.fa=v,c.push(y)),y};function Bt(c,y){var v=y.type;if(v in c.g){var R=c.g[v],$=Array.prototype.indexOf.call(R,y,void 0),nt;(nt=0<=$)&&Array.prototype.splice.call(R,$,1),nt&&(jt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ft(c,y,v,R){for(var $=0;$<c.length;++$){var nt=c[$];if(!nt.da&&nt.listener==y&&nt.capture==!!v&&nt.ha==R)return $}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),he={};function ne(c,y,v,R,$){if(Array.isArray(y)){for(var nt=0;nt<y.length;nt++)ne(c,y[nt],v,R,$);return null}return v=On(v),c&&c[mt]?c.K(y,v,g(R)?!!R.capture:!1,$):ie(c,y,v,!1,R,$)}function ie(c,y,v,R,$,nt){if(!y)throw Error("Invalid event type");var _t=g($)?!!$.capture:!!$,Wt=Xe(c);if(Wt||(c[Mt]=Wt=new Nt(c)),v=Wt.add(y,v,R,_t,nt),v.proxy)return v;if(R=an(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)rt||($=_t),$===void 0&&($=!1),c.addEventListener(y.toString(),R,$);else if(c.attachEvent)c.attachEvent(Me(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function an(){function c(v){return y.call(c.src,c.listener,v)}const y=An;return c}function Qe(c,y,v,R,$){if(Array.isArray(y))for(var nt=0;nt<y.length;nt++)Qe(c,y[nt],v,R,$);else R=g(R)?!!R.capture:!!R,v=On(v),c&&c[mt]?(c=c.i,y=String(y).toString(),y in c.g&&(nt=c.g[y],v=Ft(nt,v,R,$),-1<v&&(jt(nt[v]),Array.prototype.splice.call(nt,v,1),nt.length==0&&(delete c.g[y],c.h--)))):c&&(c=Xe(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ft(y,v,R,$)),(v=-1<c?y[c]:null)&&Ce(v))}function Ce(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[mt])Bt(y.i,c);else{var v=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(v,R,c.capture):y.detachEvent?y.detachEvent(Me(v),R):y.addListener&&y.removeListener&&y.removeListener(R),(v=Xe(y))?(Bt(v,c),v.h==0&&(v.src=null,y[Mt]=null)):jt(c)}}}function Me(c){return c in he?he[c]:he[c]="on"+c}function An(c,y){if(c.da)c=!0;else{y=new ht(y,this);var v=c.listener,R=c.ha||c.src;c.fa&&Ce(c),c=v.call(R,y)}return c}function Xe(c){return c=c[Mt],c instanceof Nt?c:null}var Dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function On(c){return typeof c=="function"?c:(c[Dn]||(c[Dn]=function(y){return c.handleEvent(y)}),c[Dn])}function Tt(){L.call(this),this.i=new Nt(this),this.M=this,this.F=null}F(Tt,L),Tt.prototype[mt]=!0,Tt.prototype.removeEventListener=function(c,y,v,R){Qe(this,c,y,v,R)};function B(c,y){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new j(y,c);else if(y instanceof j)y.target=y.target||c;else{var $=y;y=new j(R,c),O(y,$)}if($=!0,v)for(var nt=v.length-1;0<=nt;nt--){var _t=y.g=v[nt];$=wt(_t,R,!0,y)&&$}if(_t=y.g=c,$=wt(_t,R,!0,y)&&$,$=wt(_t,R,!1,y)&&$,v)for(nt=0;nt<v.length;nt++)_t=y.g=v[nt],$=wt(_t,R,!1,y)&&$}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],R=0;R<v.length;R++)jt(v[R]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,v,R){return this.i.add(String(c),y,!1,v,R)},Tt.prototype.L=function(c,y,v,R){return this.i.add(String(c),y,!0,v,R)};function wt(c,y,v,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,nt=0;nt<y.length;++nt){var _t=y[nt];if(_t&&!_t.da&&_t.capture==v){var Wt=_t.listener,He=_t.ha||_t.src;_t.fa&&Bt(c.i,_t),$=Wt.call(He,R)!==!1&&$}}return $&&!R.defaultPrevented}function vt(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Rt(c){c.g=vt(()=>{c.g=null,c.i&&(c.i=!1,Rt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ht extends L{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Rt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(c){L.call(this),this.h=c,this.g={}}F(ae,L);var ge=[];function Ee(c){Et(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ce(y)},c),c.g={}}ae.prototype.N=function(){ae.aa.N.call(this),Ee(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=d.JSON.stringify,En=d.JSON.parse,je=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ii(){}Ii.prototype.h=null;function ys(c){return c.h||(c.h=c.i())}function yr(){}var $r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){j.call(this,"d")}F(Kr,j);function Bo(){j.call(this,"c")}F(Bo,j);var _r={},zo=null;function xi(){return zo=zo||new Tt}_r.La="serverreachability";function _s(c){j.call(this,_r.La,c)}F(_s,j);function Mi(c){const y=xi();B(y,new _s(y))}_r.STAT_EVENT="statevent";function Ou(c,y){j.call(this,_r.STAT_EVENT,c),this.stat=y}F(Ou,j);function we(c){const y=xi();B(y,new Ou(y,c))}_r.Ma="timingevent";function Ge(c,y){j.call(this,_r.Ma,c),this.size=y}F(Ge,j);function Ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function jo(c,y,v,R,$,nt){c.info(function(){if(c.g)if(nt)for(var _t="",Wt=nt.split("&"),He=0;He<Wt.length;He++){var Jt=Wt[He].split("=");if(1<Jt.length){var We=Jt[0];Jt=Jt[1];var qe=We.split("_");_t=2<=qe.length&&qe[1]=="type"?_t+(We+"="+Jt+"&"):_t+(We+"=redacted&")}}else _t=null;else _t=nt;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+y+`
`+v+`
`+_t})}function Rf(c,y,v,R,$,nt,_t){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+y+`
`+v+`
`+nt+" "+_t})}function Ni(c,y,v,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ea(c,v)+(R?" "+R:"")})}function ku(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function Ea(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var nt=$[0];if(nt!="noop"&&nt!="stop"&&nt!="close")for(var _t=1;_t<$.length;_t++)$[_t]=""}}}}return ye(v)}catch{return y}}var Di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function Er(){}F(Er,Ii),Er.prototype.g=function(){return new XMLHttpRequest},Er.prototype.i=function(){return{}},vr=new Er;function Tn(c,y,v,R){this.j=c,this.i=y,this.l=v,this.R=R||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var Go={},vs={};function ar(c,y,v){c.L=1,c.v=Aa(kn(y)),c.m=v,c.P=!0,Qr(c,null)}function Qr(c,y){c.F=Date.now(),Ta(c),c.A=kn(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Yo(v.i,"t",R),c.C=0,v=c.j.J,c.h=new Ne,c.g=Xu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ht(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,R=c.ca;var $="readystatechange";Array.isArray($)||($&&(ge[0]=$.toString()),$=ge);for(var nt=0;nt<$.length;nt++){var _t=ne(v,$[nt],R||y.handleEvent,!1,y.h||y);if(!_t)break;y.g[_t.key]=_t}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mi(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}Tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Kn(c)==3?y.j():this.Y(c)},Tn.prototype.Y=function(c){try{if(c==this.g)t:{const qe=Kn(this.g);var y=this.g.Ba();const ri=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||qe!=4||y==7||(y==8||0>=ri?Mi(3):Mi(2)),Oi(this);var v=this.g.Z();this.X=v;e:if(Vu(this)){var R=Gu(this.g);c="";var $=R.length,nt=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Tr(this);var _t="";break e}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(nt&&y==$-1)});R.length=0,this.h.g+=c,this.C=0,_t=this.h.g}else _t=this.g.oa();if(this.o=v==200,Rf(this.i,this.u,this.A,this.l,this.R,qe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,He=this.g;if((Wt=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Wt)){var Jt=Wt;break e}}Jt=null}if(v=Jt)Ni(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,v);else{this.o=!1,this.s=3,we(12),sn(this),Tr(this);break t}}if(this.P){v=!0;let on;for(;!this.J&&this.C<_t.length;)if(on=Pu(this,_t),on==vs){qe==4&&(this.s=4,we(14),v=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Go){this.s=4,we(15),Ni(this.i,this.l,_t,"[Invalid Chunk]"),v=!1;break}else Ni(this.i,this.l,on,null),wa(this,on);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||_t.length!=0||this.h.h||(this.s=1,we(16),v=!1),this.o=this.o&&v,!v)Ni(this.i,this.l,_t,"[Invalid Chunked Response]"),sn(this),Tr(this);else if(0<_t.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+_t.length),Oa(We),We.M=!0,we(11))}}else Ni(this.i,this.l,_t,null),wa(this,_t);qe==4&&sn(this),this.o&&!this.J&&(qe==4?Ku(this.j,this):(this.o=!1,Ta(this)))}else Nf(this.g),v==400&&0<_t.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),sn(this),Tr(this)}}}catch{}finally{}};function Vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,y){var v=c.C,R=y.indexOf(`
`,v);return R==-1?vs:(v=Number(y.substring(v,R)),isNaN(v)?Go:(R+=1,R+v>y.length?vs:(y=y.slice(R,R+v),c.C=R+v,y)))}Tn.prototype.cancel=function(){this.J=!0,sn(this)};function Ta(c){c.S=Date.now()+c.I,Lu(c,c.I)}function Lu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ve(b(c.ba,c),y)}function Oi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(Mi(),we(17)),sn(this),this.s=2,Tr(this)):Lu(this,this.S-c)};function Tr(c){c.j.G==0||c.J||Ku(c.j,c)}function sn(c){Oi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ee(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function wa(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ho(v.h,c))){if(!c.K&&Ho(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ns(v),xs(v);else break t;Jo(v),we(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ve(b(v.Za,v),6e3));if(1>=Ts(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ni(v,11)}else if((c.K||v.g==c)&&Ns(v),!dt(y))for($=v.Da.g.parse(y),y=0;y<$.length;y++){let Jt=$[y];if(v.T=Jt[0],Jt=Jt[1],v.G==2)if(Jt[0]=="c"){v.K=Jt[1],v.ia=Jt[2];const We=Jt[3];We!=null&&(v.la=We,v.j.info("VER="+v.la));const qe=Jt[4];qe!=null&&(v.Aa=qe,v.j.info("SVER="+v.Aa));const ri=Jt[5];ri!=null&&typeof ri=="number"&&0<ri&&(R=1.5*ri,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const on=c.g;if(on){const Ir=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var nt=R.h;nt.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(ws(nt,nt.h),nt.h=null))}if(R.D){const el=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(R.ya=el,fe(R.I,R.D,el))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var _t=c;if(R.qa=Qu(R,R.J?R.ia:null,R.W),_t.K){wn(R.h,_t);var Wt=_t,He=R.L;He&&(Wt.I=He),Wt.B&&(Oi(Wt),Ta(Wt)),R.g=_t}else Fu(R);0<v.i.length&&Ms(v)}else Jt[0]!="stop"&&Jt[0]!="close"||ni(v,7);else v.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?ni(v,7):Zo(v):Jt[0]!="noop"&&v.l&&v.l.ta(Jt),v.v=0)}}Mi(4)}catch{}}var Uu=class{constructor(c,y){this.g=c,this.map=y}};function Xr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Es(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ts(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ws(c,y){c.g?c.g.add(y):c.h=y}function wn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Xr.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return W(c.i)}function Cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,R=0;R<v;R++)y.push(c[R]);return y}y=[],v=0;for(R in c)y[v++]=c[R];return y}function bs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const R in c)y[v++]=R;return y}}}function Fo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=bs(c),R=Cf(c),$=R.length,nt=0;nt<$;nt++)y.call(void 0,R[nt],v&&v[nt],c)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),$=null;if(0<=R){var nt=c[v].substring(0,R);$=c[v].substring(R+1)}else nt=c[v];y(nt,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pe){this.h=c.h,Sa(this,c.j),this.o=c.o,this.g=c.g,ki(this,c.s),this.l=c.l;var y=c.i,v=new Wr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Zr(this,v),this.m=c.m}else c&&(y=String(c).match(ba))?(this.h=!1,Sa(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),ki(this,y[4]),this.l=qn(y[5]||"",!0),Zr(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new Wr(null,this.h))}Pe.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ra(y,$o,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ra(y,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ra(v,v.charAt(0)=="/"?xf:Ko,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ra(v,Ss)),c.join("")};function kn(c){return new Pe(c)}function Sa(c,y,v){c.j=v?qn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ki(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Zr(c,y,v){y instanceof Wr?(c.i=y,zu(c.i,c.h)):(v||(y=Ra(y,Mf)),c.i=new Wr(y,c.h))}function fe(c,y,v){c.i.set(y,v)}function Aa(c){return fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ra(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Bu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Ko=/[#\?:]/g,xf=/[#\?]/g,Mf=/[#\?@]/g,Ss=/#/g;function Wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Fn(c){c.g||(c.g=new Map,c.h=0,c.i&&If(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Wr.prototype,n.add=function(c,y){Fn(this),this.i=null,c=wr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Jr(c,y){Fn(c),y=wr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ti(c,y){return Fn(c),y=wr(c,y),c.g.has(y)}n.forEach=function(c,y){Fn(this),this.g.forEach(function(v,R){v.forEach(function($){c.call(y,$,R,this)},this)},this)},n.na=function(){Fn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let R=0;R<y.length;R++){const $=c[R];for(let nt=0;nt<$.length;nt++)v.push(y[R])}return v},n.V=function(c){Fn(this);let y=[];if(typeof c=="string")ti(this,c)&&(y=y.concat(this.g.get(wr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},n.set=function(c,y){return Fn(this),this.i=null,c=wr(this,c),ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yo(c,y,v){Jr(c,y),0<v.length&&(c.i=null,c.g.set(wr(c,y),W(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var R=y[v];const nt=encodeURIComponent(String(R)),_t=this.V(R);for(R=0;R<_t.length;R++){var $=nt;_t[R]!==""&&($+="="+encodeURIComponent(String(_t[R]))),c.push($)}}return this.i=c.join("&")};function wr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zu(c,y){y&&!c.j&&(Fn(c),c.i=null,c.g.forEach(function(v,R){var $=R.toLowerCase();R!=$&&(Jr(this,R),Yo(this,$,v))},c)),c.j=y}function Ca(c,y){const v=new Hn;if(d.Image){const R=new Image;R.onload=M($n,v,"TestLoadImage: loaded",!0,y,R),R.onerror=M($n,v,"TestLoadImage: error",!1,y,R),R.onabort=M($n,v,"TestLoadImage: abort",!1,y,R),R.ontimeout=M($n,v,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function sr(c,y){const v=new Hn,R=new AbortController,$=setTimeout(()=>{R.abort(),$n(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(nt=>{clearTimeout($),nt.ok?$n(v,"TestPingServer: ok",!0,y):$n(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),$n(v,"TestPingServer: error",!1,y)})}function $n(c,y,v,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(v)}catch{}}function Ia(){this.g=new je}function br(c,y,v){const R=v||"";try{Fo(c,function($,nt){let _t=$;g($)&&(_t=ye($)),y.push(R+nt+"="+encodeURIComponent(_t))})}catch($){throw y.push(R+"type="+encodeURIComponent("_badmap")),$}}function Vi(c){this.l=c.Ub||null,this.j=c.eb||!1}F(Vi,Ii),Vi.prototype.g=function(){return new ei(this.l,this.j)},Vi.prototype.i=function(c){return function(){return c}}({});function ei(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(ei,Tt),n=ei.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ar(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Sr(this):Ar(this),this.readyState==3&&Qo(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},n.Qa=function(c){this.g&&(this.response=c,Sr(this))},n.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ar(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return Et(c,function(v,R){y+=R,y+=":",y+=v,y+=`\r
`}),y}function Ze(c,y,v){t:{for(R in v){var R=!1;break t}R=!0}R||(v=Xo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):fe(c,y,v))}function oe(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(oe,Tt);var As=/^https?$/i,xa=["POST","PUT"];n=oe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?ys(this.o):ys(vr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(nt){ju(this,nt);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)v.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const nt of R.keys())v.set(nt,R.get(nt));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(nt=>nt.toLowerCase()=="content-type"),$=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xa,y,void 0))||R||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,_t]of v)this.g.setRequestHeader(nt,_t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(c),this.u=!1}catch(nt){ju(this,nt)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Rs(c),Rr(c)}function Rs(c){c.A||(c.A=!0,B(c,"complete"),B(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,B(this,"complete"),B(this,"abort"),Rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Cs(this):this.bb())},n.bb=function(){Cs(this)};function Cs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)vt(c.Ea,0,c);else if(B(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const _t=c.Z();t:switch(_t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var R;if(R=_t===0){var $=String(c.D).match(ba)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),R=!As.test($?$.toLowerCase():"")}v=R}if(v)B(c,"complete"),B(c,"success");else{c.m=6;try{var nt=2<Kn(c)?c.g.statusText:""}catch{nt=""}c.l=nt+" ["+c.Z()+"]",Rs(c)}}finally{Rr(c)}}}}function Rr(c,y){if(c.g){Ma(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||B(c,"ready");try{v.onreadystatechange=R}catch{}}}function Ma(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),En(y)}};function Gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Nf(c){const y={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(dt(c[R]))continue;var v=N(c[R]);const $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const nt=y[$]||[];y[$]=nt,nt.push(v)}k(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Is(c){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,c),this.cb=Na("retryDelaySeedMs",1e4,c),this.Wa=Na("forwardChannelMaxRetries",2,c),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xr(c&&c.concurrentRequestLimit),this.Da=new Ia,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Is.prototype,n.la=8,n.G=1,n.connect=function(c,y,v,R){we(0),this.W=c,this.H=y||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=Qu(this,null,this.W),Ms(this)};function Zo(c){if(Hu(c),c.G==3){var y=c.U++,v=kn(c.I);if(fe(v,"SID",c.K),fe(v,"RID",y),fe(v,"TYPE","terminate"),Da(c,v),y=new Tn(c,c.j,y),y.L=2,y.v=Aa(kn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ta(y)}Yu(c)}function xs(c){c.g&&(Oa(c),c.g.cancel(),c.g=null)}function Hu(c){xs(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ns(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ms(c){if(!Es(c.h)&&!c.s){c.s=!0;var y=c.Ga;U||T(),H||(U(),H=!0),Z.add(y,c),c.B=0}}function Df(c,y){return Ts(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ve(b(c.Ga,c,y),tl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Tn(this,this.j,c);let nt=this.o;if(this.S&&(nt?(nt=C(nt),O(nt,this.S)):nt=this.S),this.m!==null||this.O||($.H=nt,nt=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=qu(this,$,y),v=kn(this.I),fe(v,"RID",c),fe(v,"CVER",22),this.D&&fe(v,"X-HTTP-Session-Id",this.D),Da(this,v),nt&&(this.O?y="headers="+encodeURIComponent(String(Xo(nt)))+"&"+y:this.m&&Ze(v,this.m,nt)),ws(this.h,$),this.Ua&&fe(v,"TYPE","init"),this.P?(fe(v,"$req",y),fe(v,"SID","null"),$.T=!0,ar($,v,null)):ar($,v,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||Es(this.h)||Wo(this))};function Wo(c,y){var v;y?v=y.l:v=c.U++;const R=kn(c.I);fe(R,"SID",c.K),fe(R,"RID",v),fe(R,"AID",c.T),Da(c,R),c.m&&c.o&&Ze(R,c.m,c.o),v=new Tn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ws(c.h,v),ar(v,R,y)}function Da(c,y){c.H&&Et(c.H,function(v,R){fe(y,R,v)}),c.l&&Fo({},function(v,R){fe(y,R,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);var R=c.l?b(c.l.Na,c.l,c):null;t:{var $=c.i;let nt=-1;for(;;){const _t=["count="+v];nt==-1?0<v?(nt=$[0].g,_t.push("ofs="+nt)):nt=0:_t.push("ofs="+nt);let Wt=!0;for(let He=0;He<v;He++){let Jt=$[He].g;const We=$[He].map;if(Jt-=nt,0>Jt)nt=Math.max(0,$[He].g-100),Wt=!1;else try{br(We,_t,"req"+Jt+"_")}catch{R&&R(We)}}if(Wt){R=_t.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,R}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;U||T(),H||(U(),H=!0),Z.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ve(b(c.Fa,c),tl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ve(b(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),xs(this),$u(this))};function Oa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new Tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=kn(c.qa);fe(y,"RID","rpc"),fe(y,"SID",c.K),fe(y,"AID",c.T),fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&fe(y,"TO",c.ja),fe(y,"TYPE","xmlhttp"),Da(c,y),c.m&&c.o&&Ze(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Aa(kn(y)),v.m=null,v.P=!0,Qr(v,c)}n.Za=function(){this.C!=null&&(this.C=null,xs(this),Jo(this),we(19))};function Ns(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ku(c,y){var v=null;if(c.g==y){Ns(c),Oa(c),c.g=null;var R=2}else if(Ho(c.h,y))v=y.D,wn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;R=xi(),B(R,new Ge(R,v)),Ms(c)}else Fu(c);else if($=y.s,$==3||$==0&&0<y.X||!(R==1&&Df(c,y)||R==2&&Jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),$){case 1:ni(c,5);break;case 4:ni(c,10);break;case 3:ni(c,6);break;default:ni(c,2)}}}function tl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function ni(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),R=c.Xa;const $=!R;R=new Pe(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Sa(R,"https"),Aa(R),$?Ca(R.toString(),v):sr(R.toString(),v)}else we(2);c.G=0,c.l&&c.l.sa(y),Yu(c),Hu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ka,y),Q(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Qu(c,y,v){var R=v instanceof Pe?kn(v):new Pe(v);if(R.g!="")y&&(R.g=y+"."+R.g),ki(R,R.s);else{var $=d.location;R=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var nt=new Pe(null);R&&Sa(nt,R),y&&(nt.g=y),$&&ki(nt,$),v&&(nt.l=v),R=nt}return v=c.D,y=c.ya,v&&y&&fe(R,v,y),fe(R,"VER",c.la),Da(c,R),R}function Xu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new oe(new Vi({eb:v})):new oe(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}n=Zu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ds(){}Ds.prototype.g=function(c,y){return new bn(c,y)};function bn(c,y){Tt.call(this),this.g=new Is(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!dt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!dt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Cr(this)}F(bn,Tt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Zo(this.g)},bn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ye(c),c=v);y.i.push(new Uu(y.Ya++,c)),y.G==3&&Ms(y)},bn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,bn.aa.N.call(this)};function Wu(c){Kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}F(Wu,Kr);function Ju(){Bo.call(this),this.status=1}F(Ju,Bo);function Cr(c){this.g=c}F(Cr,Zu),Cr.prototype.ua=function(){B(this.g,"a")},Cr.prototype.ta=function(c){B(this.g,new Wu(c))},Cr.prototype.sa=function(c){B(this.g,new Ju)},Cr.prototype.ra=function(){B(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,RT=function(){return new Ds},AT=function(){return xi()},ST=_r,um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,mh=Di,Yr.COMPLETE="complete",bT=Yr,yr.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,$l=yr,oe.prototype.listenOnce=oe.prototype.L,oe.prototype.getLastError=oe.prototype.Ka,oe.prototype.getLastErrorCode=oe.prototype.Ba,oe.prototype.getStatus=oe.prototype.Z,oe.prototype.getResponseJson=oe.prototype.Oa,oe.prototype.getResponseText=oe.prototype.oa,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Ha,wT=oe}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Yv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new qm("@firebase/firestore");function lo(){return us.logLevel}function bt(n,...t){if(us.logLevel<=Qt.DEBUG){const e=t.map(rg);us.debug(`Firestore (${ko}): ${n}`,...e)}}function Si(n,...t){if(us.logLevel<=Qt.ERROR){const e=t.map(rg);us.error(`Firestore (${ko}): ${n}`,...e)}}function wo(n,...t){if(us.logLevel<=Qt.WARN){const e=t.map(rg);us.warn(`Firestore (${ko}): ${n}`,...e)}}function rg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n,t,e){let a="Unexpected state";typeof t=="string"?a=t:e=t,CT(n,a,e)}function CT(n,t,e){let a=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{a+=" CONTEXT: "+JSON.stringify(e)}catch{a+=" CONTEXT: "+e}throw Si(a),new Error(a)}function le(n,t,e,a){let o="Unexpected state";typeof e=="string"?o=e:a=e,n||CT(t,o,a)}function zt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Ci{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(yn.UNAUTHENTICATED))}shutdown(){}}class _I{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class vI{constructor(t){this.t=t,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){le(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,e(m)):Promise.resolve();let u=new da;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new da,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new da)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(le(typeof a.accessToken=="string",31837,{l:a}),new IT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string",2055,{h:t}),new yn(t)}}class EI{constructor(t,e,a){this.P=t,this.T=e,this.I=a,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TI{constructor(t,e,a){this.P=t,this.T=e,this.I=a}getToken(){return Promise.resolve(new EI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){le(this.o===void 0,3512);const a=u=>{u.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,bt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(le(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Qv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<n;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=bI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<e&&(a+=t.charAt(o[u]%62))}return a}}function Xt(n,t){return n<t?-1:n>t?1:0}function cm(n,t){const e=Math.min(n.length,t.length);for(let a=0;a<e;a++){const o=n.charAt(a),u=t.charAt(a);if(o!==u)return Pp(o)===Pp(u)?Xt(o,u):Pp(o)?1:-1}return Xt(n.length,t.length)}const SI=55296,AI=57343;function Pp(n){const t=n.charCodeAt(0);return t>=SI&&t<=AI}function bo(n,t,e){return n.length===t.length&&n.every((a,o)=>e(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="__name__";class kr{constructor(t,e,a){e===void 0?e=0:e>t.length&&Vt(637,{offset:e,range:t.length}),a===void 0?a=t.length-e:a>t.length-e&&Vt(1746,{length:a,range:t.length-e}),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return kr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof kr?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let o=0;o<a;o++){const u=kr.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Xt(t.length,e.length)}static compareSegments(t,e){const a=kr.isNumericId(t),o=kr.isNumericId(e);return a&&!o?-1:!a&&o?1:a&&o?kr.extractNumericId(t).compare(kr.extractNumericId(e)):cm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fa.fromString(t.substring(4,t.length-2))}}class Ae extends kr{construct(t,e,a){return new Ae(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new xt(ft.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(o=>o.length>0))}return new Ae(e)}static emptyPath(){return new Ae([])}}const RI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends kr{construct(t,e,a){return new fn(t,e,a)}static isValidIdentifier(t){return RI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new fn([Xv])}static fromServerFormat(t){const e=[];let a="",o=0;const u=()=>{if(a.length===0)throw new xt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new xt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new xt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fn(e)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(Ae.fromString(t))}static fromName(t){return new Dt(Ae.fromString(t).popFirst(5))}static empty(){return new Dt(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new Ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(n,t,e){if(!e)throw new xt(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function II(n,t,e,a){if(t===!0&&a===!0)throw new xt(ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Zv(n){if(!Dt.isDocumentKey(n))throw new xt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ag(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Vt(12329,{type:typeof n})}function uu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ag(n);throw new xt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ru(n,t){if(!xT(n))throw new xt(ft.INVALID_ARGUMENT,"JSON must be an object");let e;for(const a in t)if(t[a]){const o=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in n)){e=`JSON missing required field: '${a}'`;break}const h=n[a];if(o&&typeof h!==o){e=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){e=`Expected '${a}' field to equal '${u.value}'`;break}}if(e)throw new xt(ft.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=-62135596800,Jv=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(t){return Te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*Jv);return new Te(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Wv)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ru(t,Te._jsonSchema))return new Te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Wv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:ze("string",Te._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new Te(0,0))}static max(){return new Ut(new Te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function xI(n,t){const e=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=Ut.fromTimestamp(a===1e9?new Te(e+1,0):new Te(e,a));return new pa(o,Dt.empty(),t)}function MI(n){return new pa(n.readTime,n.key,cu)}class pa{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new pa(Ut.min(),Dt.empty(),cu)}static max(){return new pa(Ut.max(),Dt.empty(),cu)}}function NI(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Dt.comparator(n.documentKey,t.documentKey),e!==0?e:Xt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==DI)throw n;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(a,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.reject(e)}static resolve(t){return new lt((e,a)=>{e(t)})}static reject(t){return new lt((e,a)=>{a(t)})}static waitFor(t){return new lt((e,a)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&e()},m=>a(m))}),h=!0,u===o&&e()})}static or(t){let e=lt.resolve(!1);for(const a of t)e=e.next(o=>o?lt.resolve(o):a());return e}static forEach(t,e){const a=[];return t.forEach((o,u)=>{a.push(e.call(this,o,u))}),this.waitFor(a)}static mapArray(t,e){return new lt((a,o)=>{const u=t.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next(_=>{h[g]=_,++d,d===u&&a(h)},_=>o(_))}})}static doWhile(t,e){return new lt((a,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):a()};u()})}}function kI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Po(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>e.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}cf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function hf(n){return n==null}function kh(n){return n===0&&1/n==-1/0}function VI(n){return typeof n=="number"&&Number.isInteger(n)&&!kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="";function PI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=t1(t)),t=LI(n.get(e),t);return t1(t)}function LI(n,t){let e=t;const a=n.length;for(let o=0;o<a;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case MT:e+="";break;default:e+=u}}return e}function t1(n){return n+MT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ds(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function NT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,e){this.comparator=t,this.root=e||hn.EMPTY}insert(t,e){return new Re(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return e+a.left.size;o<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nh(this.root,t,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nh(this.root,t,this.comparator,!0)}}class nh{constructor(t,e,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?a(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hn{constructor(t,e,a,o,u){this.key=t,this.value=e,this.color=a??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,o,u){return new hn(t??this.key,e??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,a),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Vt(27949);return t+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(t,e,a,o,u){return this}insert(t,e,a){return new hn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new n1(this.data.getIterator())}getIteratorFrom(t){return new n1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ye(this.comparator);return e.data=t,e}}class n1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.fields=t,t.sort(fn.comparator)}static empty(){return new pr([])}unionWith(t){let e=new Ye(fn.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new pr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bo(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new DT("Invalid base64 string: "+u):u}}(t);return new dn(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new dn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let o=0;o<e.length;o++)a[o]=e.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const UI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(n){if(le(!!n,39018),typeof n=="string"){let t=0;const e=UI.exec(n);if(le(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ga(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="server_timestamp",kT="__type__",VT="__previous_value__",PT="__local_write_time__";function og(n){var e,a;return((a=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[kT])==null?void 0:a.stringValue)===OT}function ff(n){const t=n.mapValue.fields[VT];return og(t)?ff(t):t}function hu(n){const t=ma(n.mapValue.fields[PT].timestampValue);return new Te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,e,a,o,u,h,d,m,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const Vh="(default)";class fu{constructor(t,e){this.projectId=t,this.database=e||Vh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(t){return t instanceof fu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__type__",zI="__max__",rh={mapValue:{}},UT="__vector__",Ph="value";function ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?og(n)?4:GI(n)?9007199254740991:jI(n)?10:11:Vt(28295,{value:n})}function Hr(n,t){if(n===t)return!0;const e=ya(n);if(e!==ya(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return hu(n).isEqual(hu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ma(o.timestampValue),d=ma(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return ga(o.bytesValue).isEqual(ga(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return ke(o.geoPointValue.latitude)===ke(u.geoPointValue.latitude)&&ke(o.geoPointValue.longitude)===ke(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ke(o.integerValue)===ke(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ke(o.doubleValue),d=ke(u.doubleValue);return h===d?kh(h)===kh(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return bo(n.arrayValue.values||[],t.arrayValue.values||[],Hr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(e1(h)!==e1(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Hr(h[m],d[m])))return!1;return!0}(n,t);default:return Vt(52216,{left:n})}}function du(n,t){return(n.values||[]).find(e=>Hr(e,t))!==void 0}function So(n,t){if(n===t)return 0;const e=ya(n),a=ya(t);if(e!==a)return Xt(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=ke(u.integerValue||u.doubleValue),m=ke(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return r1(n.timestampValue,t.timestampValue);case 4:return r1(hu(n),hu(t));case 5:return cm(n.stringValue,t.stringValue);case 6:return function(u,h){const d=ga(u),m=ga(h);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Xt(d[g],m[g]);if(_!==0)return _}return Xt(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Xt(ke(u.latitude),ke(h.latitude));return d!==0?d:Xt(ke(u.longitude),ke(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return i1(n.arrayValue,t.arrayValue);case 10:return function(u,h){var b,M,F,W;const d=u.fields||{},m=h.fields||{},g=(b=d[Ph])==null?void 0:b.arrayValue,_=(M=m[Ph])==null?void 0:M.arrayValue,w=Xt(((F=g==null?void 0:g.values)==null?void 0:F.length)||0,((W=_==null?void 0:_.values)==null?void 0:W.length)||0);return w!==0?w:i1(g,_)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let w=0;w<m.length&&w<_.length;++w){const b=cm(m[w],_[w]);if(b!==0)return b;const M=So(d[m[w]],g[_[w]]);if(M!==0)return M}return Xt(m.length,_.length)}(n.mapValue,t.mapValue);default:throw Vt(23264,{he:e})}}function r1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Xt(n,t);const e=ma(n),a=ma(t),o=Xt(e.seconds,a.seconds);return o!==0?o:Xt(e.nanos,a.nanos)}function i1(n,t){const e=n.values||[],a=t.values||[];for(let o=0;o<e.length&&o<a.length;++o){const u=So(e[o],a[o]);if(u)return u}return Xt(e.length,a.length)}function Ao(n){return hm(n)}function hm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const a=ma(e);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ga(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Dt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let a="[",o=!0;for(const u of e.values||[])o?o=!1:a+=",",a+=hm(u);return a+"]"}(n.arrayValue):"mapValue"in n?function(e){const a=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${hm(e.fields[h])}`;return o+"}"}(n.mapValue):Vt(61005,{value:n})}function gh(n){switch(ya(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ff(n);return t?16+gh(t):16;case 5:return 2*n.stringValue.length;case 6:return ga(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+gh(u),0)}(n.arrayValue);case 10:case 11:return function(a){let o=0;return ds(a.fields,(u,h)=>{o+=u.length+gh(h)}),o}(n.mapValue);default:throw Vt(13486,{value:n})}}function fm(n){return!!n&&"integerValue"in n}function lg(n){return!!n&&"arrayValue"in n}function a1(n){return!!n&&"nullValue"in n}function s1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yh(n){return!!n&&"mapValue"in n}function jI(n){var e,a;return((a=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[LT])==null?void 0:a.stringValue)===UT}function nu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ds(n.mapValue.fields,(e,a)=>t.mapValue.fields[e]=nu(a)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nu(n.arrayValue.values[e]);return t}return{...n}}function GI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.value=t}static empty(){return new nr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!yh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(e)}setAll(t){let e=fn.emptyPath(),a={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,a,o),a={},o=[],e=d.popLast()}h?a[d.lastSegment()]=nu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,a,o)}delete(t){const e=this.field(t.popLast());yh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Hr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=e.mapValue.fields[t.get(a)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,a){ds(e,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new nr(nu(this.value))}}function BT(n){const t=[];return ds(n.fields,(e,a)=>{const o=new fn([e]);if(yh(a)){const u=BT(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new pr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t,e,a,o,u,h,d){this.key=t,this.documentType=e,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new _n(t,0,Ut.min(),Ut.min(),Ut.min(),nr.empty(),0)}static newFoundDocument(t,e,a,o){return new _n(t,1,e,Ut.min(),a,o,0)}static newNoDocument(t,e){return new _n(t,2,e,Ut.min(),Ut.min(),nr.empty(),0)}static newUnknownDocument(t,e){return new _n(t,3,e,Ut.min(),Ut.min(),nr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof _n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e){this.position=t,this.inclusive=e}}function o1(n,t,e){let a=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?a=Dt.comparator(Dt.fromName(h.referenceValue),e.key):a=So(h,e.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function l1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Hr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e="asc"){this.field=t,this.dir=e}}function HI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{}class Ke extends zT{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new FI(t,e,a):e==="array-contains"?new YI(t,a):e==="in"?new QI(t,a):e==="not-in"?new XI(t,a):e==="array-contains-any"?new ZI(t,a):new Ke(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new $I(t,a):new KI(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(So(e,this.value)):e!==null&&ya(this.value)===ya(e)&&this.matchesComparison(So(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends zT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new qr(t,e)}matches(t){return jT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jT(n){return n.op==="and"}function GT(n){return qI(n)&&jT(n)}function qI(n){for(const t of n.filters)if(t instanceof qr)return!1;return!0}function dm(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+Ao(n.value);if(GT(n))return n.filters.map(t=>dm(t)).join(",");{const t=n.filters.map(e=>dm(e)).join(",");return`${n.op}(${t})`}}function HT(n,t){return n instanceof Ke?function(a,o){return o instanceof Ke&&a.op===o.op&&a.field.isEqual(o.field)&&Hr(a.value,o.value)}(n,t):n instanceof qr?function(a,o){return o instanceof qr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&HT(h,o.filters[d]),!0):!1}(n,t):void Vt(19439)}function qT(n){return n instanceof Ke?function(e){return`${e.field.canonicalString()} ${e.op} ${Ao(e.value)}`}(n):n instanceof qr?function(e){return e.op.toString()+" {"+e.getFilters().map(qT).join(" ,")+"}"}(n):"Filter"}class FI extends Ke{constructor(t,e,a){super(t,e,a),this.key=Dt.fromName(a.referenceValue)}matches(t){const e=Dt.comparator(t.key,this.key);return this.matchesComparison(e)}}class $I extends Ke{constructor(t,e){super(t,"in",e),this.keys=FT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class KI extends Ke{constructor(t,e){super(t,"not-in",e),this.keys=FT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function FT(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map(a=>Dt.fromName(a.referenceValue))}class YI extends Ke{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return lg(e)&&du(e.arrayValue,this.value)}}class QI extends Ke{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&du(this.value.arrayValue,e)}}class XI extends Ke{constructor(t,e){super(t,"not-in",e)}matches(t){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!du(this.value.arrayValue,e)}}class ZI extends Ke{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!lg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>du(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,e=null,a=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function u1(n,t=null,e=[],a=[],o=null,u=null,h=null){return new WI(n,t,e,a,o,u,h)}function ug(n){const t=zt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>dm(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),hf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>Ao(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>Ao(a)).join(",")),t.Te=e}return t.Te}function cg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!HI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!HT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!l1(n.startAt,t.startAt)&&l1(n.endAt,t.endAt)}function pm(n){return Dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,e=null,a=[],o=[],u=null,h="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JI(n,t,e,a,o,u,h,d){return new df(n,t,e,a,o,u,h,d)}function hg(n){return new df(n)}function c1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tx(n){return n.collectionGroup!==null}function ru(n){const t=zt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ye(fn.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Uh(u,a))}),e.has(fn.keyField().canonicalString())||t.Ie.push(new Uh(fn.keyField(),a))}return t.Ie}function Lr(n){const t=zt(n);return t.Ee||(t.Ee=ex(t,ru(n))),t.Ee}function ex(n,t){if(n.limitType==="F")return u1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Uh(o.field,u)});const e=n.endAt?new Lh(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new Lh(n.startAt.position,n.startAt.inclusive):null;return u1(n.path,n.collectionGroup,t,n.filters,n.limit,e,a)}}function mm(n,t,e){return new df(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function pf(n,t){return cg(Lr(n),Lr(t))&&n.limitType===t.limitType}function $T(n){return`${ug(Lr(n))}|lt:${n.limitType}`}function uo(n){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(o=>qT(o)).join(", ")}]`),hf(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(o=>Ao(o)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(o=>Ao(o)).join(",")),`Target(${a})`}(Lr(n))}; limitType=${n.limitType})`}function mf(n,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Dt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(n,t)&&function(a,o){for(const u of ru(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(a,o){return!(a.startAt&&!function(h,d,m){const g=o1(h,d,m);return h.inclusive?g<=0:g<0}(a.startAt,ru(a),o)||a.endAt&&!function(h,d,m){const g=o1(h,d,m);return h.inclusive?g>=0:g>0}(a.endAt,ru(a),o))}(n,t)}function nx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KT(n){return(t,e)=>{let a=!1;for(const o of ru(n)){const u=rx(o,t,e);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function rx(n,t,e){const a=n.field.isKeyField()?Dt.comparator(t.key,e.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?So(m,g):Vt(42886)}(n.field,t,e);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Vt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[e]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ds(this.inner,(e,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Re(Dt.comparator);function Ai(){return ix}const YT=new Re(Dt.comparator);function Kl(...n){let t=YT;for(const e of n)t=t.insert(e.key,e);return t}function QT(n){let t=YT;return n.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function ts(){return iu()}function XT(){return iu()}function iu(){return new ps(n=>n.toString(),(n,t)=>n.isEqual(t))}const ax=new Re(Dt.comparator),sx=new Ye(Dt.comparator);function Zt(...n){let t=sx;for(const e of n)t=t.add(e);return t}const ox=new Ye(Xt);function lx(){return ox}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(t)?"-0":t}}function ZT(n){return{integerValue:""+n}}function ux(n,t){return VI(t)?ZT(t):fg(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function cx(n,t,e){return n instanceof Bh?function(o,u){const h={fields:{[kT]:{stringValue:OT},[PT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=ff(u)),u&&(h.fields[VT]=u),{mapValue:h}}(e,t):n instanceof pu?JT(n,t):n instanceof mu?tw(n,t):function(o,u){const h=WT(o,u),d=h1(h)+h1(o.Ae);return fm(h)&&fm(o.Ae)?ZT(d):fg(o.serializer,d)}(n,t)}function hx(n,t,e){return n instanceof pu?JT(n,t):n instanceof mu?tw(n,t):e}function WT(n,t){return n instanceof zh?function(a){return fm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Bh extends gf{}class pu extends gf{constructor(t){super(),this.elements=t}}function JT(n,t){const e=ew(t);for(const a of n.elements)e.some(o=>Hr(o,a))||e.push(a);return{arrayValue:{values:e}}}class mu extends gf{constructor(t){super(),this.elements=t}}function tw(n,t){let e=ew(t);for(const a of n.elements)e=e.filter(o=>!Hr(o,a));return{arrayValue:{values:e}}}class zh extends gf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function h1(n){return ke(n.integerValue||n.doubleValue)}function ew(n){return lg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fx(n,t){return n.field.isEqual(t.field)&&function(a,o){return a instanceof pu&&o instanceof pu||a instanceof mu&&o instanceof mu?bo(a.elements,o.elements,Hr):a instanceof zh&&o instanceof zh?Hr(a.Ae,o.Ae):a instanceof Bh&&o instanceof Bh}(n.transform,t.transform)}class dx{constructor(t,e){this.version=t,this.transformResults=e}}class Ti{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _h(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class yf{}function nw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new iw(n.key,Ti.none()):new Cu(n.key,n.data,Ti.none());{const e=n.data,a=nr.empty();let o=new Ye(fn.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new ms(n.key,a,new pr(o.toArray()),Ti.none())}}function px(n,t,e){n instanceof Cu?function(o,u,h){const d=o.value.clone(),m=d1(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,e):n instanceof ms?function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=d1(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(rw(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function au(n,t,e,a){return n instanceof Cu?function(u,h,d,m){if(!_h(u.precondition,h))return d;const g=u.value.clone(),_=p1(u.fieldTransforms,m,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,e,a):n instanceof ms?function(u,h,d,m){if(!_h(u.precondition,h))return d;const g=p1(u.fieldTransforms,m,h),_=h.data;return _.setAll(rw(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(n,t,e,a):function(u,h,d){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,e)}function mx(n,t){let e=null;for(const a of n.fieldTransforms){const o=t.data.field(a.field),u=WT(a.transform,o||null);u!=null&&(e===null&&(e=nr.empty()),e.set(a.field,u))}return e||null}function f1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&bo(a,o,(u,h)=>fx(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Cu extends yf{constructor(t,e,a,o=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends yf{constructor(t,e,a,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=n.data.field(e);t.set(e,a)}}),t}function d1(n,t,e){const a=new Map;le(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);a.set(u.field,hx(h,d,e[o]))}return a}function p1(n,t,e){const a=new Map;for(const o of n){const u=o.transform,h=e.data.field(o.field);a.set(o.field,cx(u,h,t))}return a}class iw extends yf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gx extends yf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,e,a,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&px(u,t,a[o])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=au(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=au(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=XT();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=e.has(o.key)?null:d;const m=nw(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ut.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Zt())}isEqual(t){return this.batchId===t.batchId&&bo(this.mutations,t.mutations,(e,a)=>f1(e,a))&&bo(this.baseMutations,t.baseMutations,(e,a)=>f1(e,a))}}class dg{constructor(t,e,a,o){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=o}static from(t,e,a){le(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=function(){return ax}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new dg(t,e,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ee;function Ex(n){switch(n){case ft.OK:return Vt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Vt(15467,{code:n})}}function aw(n){if(n===void 0)return Si("GRPC error has no .code"),ft.UNKNOWN;switch(n){case Be.OK:return ft.OK;case Be.CANCELLED:return ft.CANCELLED;case Be.UNKNOWN:return ft.UNKNOWN;case Be.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Be.INTERNAL:return ft.INTERNAL;case Be.UNAVAILABLE:return ft.UNAVAILABLE;case Be.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Be.NOT_FOUND:return ft.NOT_FOUND;case Be.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Be.ABORTED:return ft.ABORTED;case Be.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Be.DATA_LOSS:return ft.DATA_LOSS;default:return Vt(39323,{code:n})}}(ee=Be||(Be={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new fa([4294967295,4294967295],0);function m1(n){const t=Tx().encode(n),e=new TT;return e.update(t),new Uint8Array(e.digest())}function g1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new fa([e,a],0),new fa([o,u],0)]}class pg{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new Yl(`Invalid padding: ${e}`);if(a<0)throw new Yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=fa.fromNumber(this.ge)}ye(t,e,a){let o=t.add(e.multiply(fa.fromNumber(a)));return o.compare(wx)===1&&(o=new fa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=m1(t),[a,o]=g1(e);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(t,e,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new pg(u,o,e);return a.forEach(d=>h.insert(d)),h}insert(t){if(this.ge===0)return;const e=m1(t),[a,o]=g1(e);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.Se(h)}}Se(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e,a,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const o=new Map;return o.set(t,Iu.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new _f(Ut.min(),o,new Re(Xt),Ai(),Zt())}}class Iu{constructor(t,e,a,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new Iu(a,e,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,e,a,o){this.be=t,this.removedTargetIds=e,this.key=a,this.De=o}}class sw{constructor(t,e){this.targetId=t,this.Ce=e}}class ow{constructor(t,e,a=dn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=o}}class y1{constructor(){this.ve=0,this.Fe=_1(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Zt(),e=Zt(),a=Zt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:a=a.add(o);break;default:Vt(38017,{changeType:u})}}),new Iu(this.Me,this.xe,t,e,a)}qe(){this.Oe=!1,this.Fe=_1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ai(),this.Je=ih(),this.He=ih(),this.Ye=new Re(Xt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const a=this.nt(e);switch(t.state){case 0:this.rt(e)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),a.Le(t.resumeToken));break;default:Vt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((a,o)=>{this.rt(o)&&e(o)})}st(t){const e=t.targetId,a=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(pm(u))if(a===0){const h=new Dt(u.path);this.et(e,h,_n.newNoDocument(h,Ut.min()))}else le(a===1,20013,{expectedCount:a});else{const h=this._t(e);if(h!==a){const d=this.ut(t),m=d?this.ct(d,t,h):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=e;let h,d;try{h=ga(a).toUint8Array()}catch(m){if(m instanceof DT)return wo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new pg(h,o,u)}catch(m){return wo(m instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,a){return e.Ce.count===a-this.Pt(t,e.targetId)?0:2}Pt(t,e){const a=this.Ge.getRemoteKeysForTarget(e);let o=0;return a.forEach(u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)}),o}Tt(t){const e=new Map;this.ze.forEach((u,h)=>{const d=this.ot(h);if(d){if(u.current&&pm(d.target)){const m=new Dt(d.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,_n.newNoDocument(m,t))}u.Be&&(e.set(h,u.ke()),u.qe())}});let a=Zt();this.He.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.je.forEach((u,h)=>h.setReadTime(t));const o=new _f(t,e,this.Ye,this.je,a);return this.je=Ai(),this.Je=ih(),this.He=ih(),this.Ye=new Re(Xt),o}Xe(t,e){if(!this.rt(t))return;const a=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,a),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),a&&(this.je=this.je.insert(e,a))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new y1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ye(Xt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ye(Xt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||bt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new y1),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ih(){return new Re(Dt.comparator)}function _1(){return new Re(Dt.comparator)}const Sx={asc:"ASCENDING",desc:"DESCENDING"},Ax={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rx={and:"AND",or:"OR"};class Cx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function gm(n,t){return n.useProto3Json||hf(t)?t:{value:t}}function jh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ix(n,t){return jh(n,t.toTimestamp())}function Ur(n){return le(!!n,49232),Ut.fromTimestamp(function(e){const a=ma(e);return new Te(a.seconds,a.nanos)}(n))}function mg(n,t){return ym(n,t).canonicalString()}function ym(n,t){const e=function(o){return new Ae(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?e:e.child(t)}function uw(n){const t=Ae.fromString(n);return le(pw(t),10190,{key:t.toString()}),t}function _m(n,t){return mg(n.databaseId,t.path)}function Lp(n,t){const e=uw(t);if(e.get(1)!==n.databaseId.projectId)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Dt(hw(e))}function cw(n,t){return mg(n.databaseId,t)}function xx(n){const t=uw(n);return t.length===4?Ae.emptyPath():hw(t)}function vm(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hw(n){return le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function v1(n,t,e){return{name:_m(n,t),fields:e.value.mapValue.fields}}function Mx(n,t){let e;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Vt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(le(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(le(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ft.UNKNOWN:aw(g.code);return new xt(_,g.message||"")}(h);e=new ow(a,o,u,d||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Lp(n,a.document.name),u=Ur(a.document.updateTime),h=a.document.createTime?Ur(a.document.createTime):Ut.min(),d=new nr({mapValue:{fields:a.document.fields}}),m=_n.newFoundDocument(o,u,h,d),g=a.targetIds||[],_=a.removedTargetIds||[];e=new vh(g,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Lp(n,a.document),u=a.readTime?Ur(a.readTime):Ut.min(),h=_n.newNoDocument(o,u),d=a.removedTargetIds||[];e=new vh([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Lp(n,a.document),u=a.removedTargetIds||[];e=new vh([],u,o,null)}else{if(!("filter"in t))return Vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new vx(o,u),d=a.targetId;e=new sw(d,h)}}return e}function Nx(n,t){let e;if(t instanceof Cu)e={update:v1(n,t.key,t.value)};else if(t instanceof iw)e={delete:_m(n,t.key)};else if(t instanceof ms)e={update:v1(n,t.key,t.data),updateMask:zx(t.fieldMask)};else{if(!(t instanceof gx))return Vt(16599,{Vt:t.type});e={verify:_m(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof Bh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof mu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zh)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Vt(20930,{transform:h.transform})}(0,a))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Ix(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Vt(27497)}(n,t.precondition)),e}function Dx(n,t){return n&&n.length>0?(le(t!==void 0,14353),n.map(e=>function(o,u){let h=o.updateTime?Ur(o.updateTime):Ur(u);return h.isEqual(Ut.min())&&(h=Ur(u)),new dx(h,o.transformResults||[])}(e,t))):[]}function Ox(n,t){return{documents:[cw(n,t.path)]}}function kx(n,t){const e={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=cw(n,o);const u=function(g){if(g.length!==0)return dw(qr.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:co(b.field),direction:Lx(b.dir)}}(_))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=gm(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:e,parent:o}}function Vx(n){let t=xx(n.parent);const e=n.structuredQuery,a=e.from?e.from.length:0;let o=null;if(a>0){le(a===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=function(w){const b=fw(w);return b instanceof qr&&GT(b)?b.getFilters():[b]}(e.where));let h=[];e.orderBy&&(h=function(w){return w.map(b=>function(F){return new Uh(ho(F.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(b))}(e.orderBy));let d=null;e.limit&&(d=function(w){let b;return b=typeof w=="object"?w.value:w,hf(b)?null:b}(e.limit));let m=null;e.startAt&&(m=function(w){const b=!!w.before,M=w.values||[];return new Lh(M,b)}(e.startAt));let g=null;return e.endAt&&(g=function(w){const b=!w.before,M=w.values||[];return new Lh(M,b)}(e.endAt)),JI(t,o,h,u,d,"F",m,g)}function Px(n,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function fw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=ho(e.unaryFilter.field);return Ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(e.unaryFilter.field);return Ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(e.unaryFilter.field);return Ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ho(e.unaryFilter.field);return Ke.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ke.create(ho(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return qr.create(e.compositeFilter.filters.map(a=>fw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}}(e.compositeFilter.op))}(n):Vt(30097,{filter:n})}function Lx(n){return Sx[n]}function Ux(n){return Ax[n]}function Bx(n){return Rx[n]}function co(n){return{fieldPath:n.canonicalString()}}function ho(n){return fn.fromServerFormat(n.fieldPath)}function dw(n){return n instanceof Ke?function(e){if(e.op==="=="){if(s1(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NAN"}};if(a1(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(s1(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NAN"}};if(a1(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(e.field),op:Ux(e.op),value:e.value}}}(n):n instanceof qr?function(e){const a=e.getFilters().map(o=>dw(o));return a.length===1?a[0]:{compositeFilter:{op:Bx(e.op),filters:a}}}(n):Vt(54877,{filter:n})}function zx(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function pw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,e,a,o,u=Ut.min(),h=Ut.min(),d=dn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new la(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t){this.yt=t}}function Gx(n){const t=Vx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.Cn=new qx}addToCollectionParentIndex(t,e){return this.Cn.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(pa.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(pa.min())}updateCollectionGroup(t,e,a){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class qx{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e]||new Ye(Ae.comparator),u=!o.has(a);return this.index[e]=o.add(a),u}has(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ye(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mw=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(mw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="LruGarbageCollector",Fx=1048576;function w1([n,t],[e,a]){const o=Xt(n,e);return o===0?Xt(t,a):o}class $x{constructor(t){this.Ir=t,this.buffer=new Ye(w1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();w1(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Kx{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){bt(T1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Po(e)?bt(T1,"Ignoring IndexedDB error during garbage collection: ",e):await Vo(e)}await this.Vr(3e5)})}}class Yx{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return lt.resolve(cf.ce);const a=new $x(e);return this.mr.forEachTarget(t,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.mr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(E1)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E1):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let a,o,u,h,d,m,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(a=w,d=Date.now(),this.removeTargets(t,a,e))).next(w=>(u=w,m=Date.now(),this.removeOrphanedDocuments(t,a))).next(w=>(g=Date.now(),lo()<=Qt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function Qx(n,t){return new Yx(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.changes=new ps(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_n.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?lt.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,e,a,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(a!==null&&au(a.mutation,o,pr.empty(),Te.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,Zt()).next(()=>a))}getLocalViewOfDocuments(t,e,a=Zt()){const o=ts();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,a).next(u=>{let h=Kl();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const a=ts();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,Zt()))}populateOverlays(t,e,a){const o=[];return a.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,a,o){let u=Ai();const h=iu(),d=function(){return iu()}();return e.forEach((m,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ms)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),au(_.mutation,g,_.mutation.getFieldMask(),Te.now())):h.set(g.key,pr.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,_)=>h.set(g,_)),e.forEach((g,_)=>d.set(g,new Zx(_,h.get(g)??null))),d))}recalculateAndSaveOverlays(t,e){const a=iu();let o=new Re((h,d)=>h-d),u=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let _=a.get(m)||pr.empty();_=d.applyToLocalView(g,_),a.set(m,_);const w=(o.get(d.batchId)||Zt()).add(m);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,w=XT();_.forEach(b=>{if(!u.has(b)){const M=nw(e.get(b),a.get(b));M!==null&&w.set(b,M),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,w))}return lt.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,o){return function(h){return Dt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):tx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,o):this.getDocumentsMatchingCollectionQuery(t,e,a,o)}getNextDocuments(t,e,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,o-u.size):lt.resolve(ts());let d=cu,m=u;return h.next(g=>lt.forEach(g,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),u.get(_)?lt.resolve():this.remoteDocumentCache.getEntry(t,_).next(b=>{m=m.insert(_,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Zt())).next(_=>({batchId:d,changes:QT(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Dt(e)).next(a=>{let o=Kl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,a,o){const u=e.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(t,u).next(d=>lt.forEach(d,m=>{const g=function(w,b){return new df(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(_=>{_.forEach((w,b)=>{h=h.insert(w,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,u,o))).next(h=>{u.forEach((m,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,_n.newInvalidDocument(_)))});let d=Kl();return h.forEach((m,g)=>{const _=u.get(m);_!==void 0&&au(_.mutation,g,pr.empty(),Te.now()),mf(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return lt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Ur(o.createTime)}}(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(o){return{name:o.name,query:Gx(o.bundledQuery),readTime:Ur(o.readTime)}}(e)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.overlays=new Re(Dt.comparator),this.qr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const a=ts();return lt.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((o,u)=>{this.St(t,e,u)}),lt.resolve()}removeOverlaysForBatchId(t,e,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(a)),lt.resolve()}getOverlaysForCollection(t,e,a){const o=ts(),u=e.length+1,h=new Dt(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return lt.resolve(o)}getOverlaysForCollectionGroup(t,e,a,o){let u=new Re((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=ts(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ts(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return lt.resolve(d)}St(t,e,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new _x(e,a));let u=this.qr.get(e);u===void 0&&(u=Zt(),this.qr.set(e,u)),this.qr.set(e,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Qr=new Ye(nn.$r),this.Ur=new Ye(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const a=new nn(t,e);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.Gr(new nn(t,e))}zr(t,e){t.forEach(a=>this.removeReference(a,e))}jr(t){const e=new Dt(new Ae([])),a=new nn(e,t),o=new nn(e,t+1),u=[];return this.Ur.forEachInRange([a,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Dt(new Ae([])),a=new nn(e,t),o=new nn(e,t+1);let u=Zt();return this.Ur.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new nn(t,0),a=this.Qr.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class nn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Dt.comparator(t.key,e.key)||Xt(t.Yr,e.Yr)}static Kr(t,e){return Xt(t.Yr,e.Yr)||Dt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(nn.$r)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new yx(u,e,a,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new nn(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return lt.resolve(h)}lookupMutationBatch(t,e){return lt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,o=this.ei(a),u=o<0?0:o;return lt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new nn(e,0),o=new nn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],h=>{const d=this.Xr(h.Yr);u.push(d)}),lt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new Ye(Xt);return e.forEach(o=>{const u=new nn(o,0),h=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],d=>{a=a.add(d.Yr)})}),lt.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,o=a.length+1;let u=a;Dt.isDocumentKey(u)||(u=u.child(""));const h=new nn(new Dt(u),0);let d=new Ye(Xt);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)},h),lt.resolve(this.ti(d))}ti(t){const e=[];return t.forEach(a=>{const o=this.Xr(a);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){le(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return lt.forEach(e.mutations,o=>{const u=new nn(o.key,e.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=a})}ir(t){}containsKey(t,e){const a=new nn(e,0),o=this.Zr.firstAfterOrEqual(a);return lt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.ri=t,this.docs=function(){return new Re(Dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,o=this.docs.get(a),u=o?o.size:0,h=this.ri(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return lt.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(e))}getEntries(t,e){let a=Ai();return e.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),lt.resolve(a)}getDocumentsMatchingQuery(t,e,a,o){let u=Ai();const h=e.path,d=new Dt(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||NI(MI(_),a)<=0||(o.has(_.key)||mf(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return lt.resolve(u)}getAllFromCollectionGroup(t,e,a,o){Vt(9500)}ii(t,e){return lt.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new iM(this)}getSize(t){return lt.resolve(this.size)}}class iM extends Xx{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)}),lt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t){this.persistence=t,this.si=new ps(e=>ug(e),cg),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(t,e){return this.si.forEach((a,o)=>e(o)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this.oi&&(this.oi=e),lt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ro(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.Pr(e),lt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,a){let o=0;const u=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=e&&a.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),lt.waitFor(u).next(()=>o)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const a=this.si.get(e)||null;return lt.resolve(a)}addMatchingKeys(t,e,a){return this._i.Wr(e,a),lt.resolve()}removeMatchingKeys(t,e,a){this._i.zr(e,a);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),lt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const a=this._i.Hr(e);return lt.resolve(a)}containsKey(t,e){return lt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,e){this.ui={},this.overlays={},this.ci=new cf(0),this.li=!1,this.li=!0,this.hi=new eM,this.referenceDelegate=t(this),this.Pi=new aM(this),this.indexManager=new Hx,this.remoteDocumentCache=function(o){return new rM(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new jx(e),this.Ii=new Jx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.ui[t.toKey()];return a||(a=new nM(e,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,a){bt("MemoryPersistence","Starting transaction:",t);const o=new sM(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,e){return lt.or(Object.values(this.ui).map(a=>()=>a.containsKey(t,e)))}}class sM extends OI{constructor(t){super(),this.currentSequenceNumber=t}}class yg{constructor(t){this.persistence=t,this.Ri=new gg,this.Vi=null}static mi(t){return new yg(t)}get fi(){if(this.Vi)return this.Vi;throw Vt(60996)}addReference(t,e,a){return this.Ri.addReference(a,e),this.fi.delete(a.toString()),lt.resolve()}removeReference(t,e,a){return this.Ri.removeReference(a,e),this.fi.add(a.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),lt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>a.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.fi,a=>{const o=Dt.fromPath(a);return this.gi(t,o).next(u=>{u||e.removeEntry(o,Ut.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(a=>{a?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return lt.or([()=>lt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Gh{constructor(t,e){this.persistence=t,this.pi=new ps(a=>PI(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Qx(this,e)}static mi(t,e){return new Gh(t,e)}Ei(){}di(t){return lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(o=>a+o))}wr(t){let e=0;return this.pr(t,a=>{e++}).next(()=>e)}pr(t,e){return lt.forEach(this.pi,(a,o)=>this.br(t,a,o).next(u=>u?lt.resolve():e(o)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,h=>this.br(t,h,e).next(d=>{d||(a++,u.removeEntry(h,Ut.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.pi.set(a,t.currentSequenceNumber),lt.resolve()}removeReference(t,e,a){return this.pi.set(a,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=gh(t.data.value)),e}br(t,e,a){return lt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return lt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,e,a,o){this.targetId=t,this.fromCache=e,this.Es=a,this.ds=o}static As(t,e){let a=Zt(),o=Zt();for(const u of e.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _g(t,e.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ZA()?8:kI(vn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,a,o){const u={result:null};return this.ys(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(t,e,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new oM;return this.Ss(t,e,h).next(d=>{if(u.result=d,this.Vs)return this.bs(t,e,h,d.size)})}).next(()=>u.result)}bs(t,e,a,o){return a.documentReadCount<this.fs?(lo()<=Qt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",uo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),lt.resolve()):(lo()<=Qt.DEBUG&&bt("QueryEngine","Query:",uo(e),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(lo()<=Qt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",uo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Lr(e))):lt.resolve())}ys(t,e){if(c1(e))return lt.resolve(null);let a=Lr(e);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=mm(e,null,"F"),a=Lr(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=Zt(...u);return this.ps.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,a).next(m=>{const g=this.Ds(e,d);return this.Cs(e,g,h,m.readTime)?this.ys(t,mm(e,null,"F")):this.vs(t,g,e,m)}))})))}ws(t,e,a,o){return c1(e)||o.isEqual(Ut.min())?lt.resolve(null):this.ps.getDocuments(t,a).next(u=>{const h=this.Ds(e,u);return this.Cs(e,h,a,o)?lt.resolve(null):(lo()<=Qt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(e)),this.vs(t,h,e,xI(o,cu)).next(d=>d))})}Ds(t,e){let a=new Ye(KT(t));return e.forEach((o,u)=>{mf(t,u)&&(a=a.add(u))}),a}Cs(t,e,a,o){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,a){return lo()<=Qt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",uo(e)),this.ps.getDocumentsMatchingQuery(t,e,pa.min(),a)}vs(t,e,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",uM=3e8;class cM{constructor(t,e,a,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new Re(Xt),this.xs=new ps(u=>ug(u),cg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Wx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function hM(n,t,e,a){return new cM(n,t,e,a)}async function yw(n,t){const e=zt(n);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let o;return e.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let m=Zt();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(a,m).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function fM(n,t){const e=zt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const w=g.batch,b=w.keys();let M=lt.resolve();return b.forEach(F=>{M=M.next(()=>_.getEntry(m,F)).next(W=>{const Q=g.docVersions.get(F);le(Q!==null,48541),W.version.compareTo(Q)<0&&(w.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),_.addEntry(W)))})}),M.next(()=>d.mutationQueue.removeMutationBatch(m,w))}(e,a,t,u).next(()=>u.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Zt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(a,o))})}function _w(n){const t=zt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function dM(n,t){const e=zt(n),a=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach((_,w)=>{const b=o.get(w);if(!b)return;d.push(e.Pi.removeMatchingKeys(u,_.removedDocuments,w).next(()=>e.Pi.addMatchingKeys(u,_.addedDocuments,w)));let M=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?M=M.withResumeToken(dn.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,a)),o=o.insert(w,M),function(W,Q,pt){return W.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=uM?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0}(b,M,_)&&d.push(e.Pi.updateTargetData(u,M))});let m=Ai(),g=Zt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(pM(u,h,t.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!a.isEqual(Ut.min())){const _=e.Pi.getLastRemoteSnapshotVersion(u).next(w=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(_)}return lt.waitFor(d).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(e.Ms=o,u))}function pM(n,t,e){let a=Zt(),o=Zt();return e.forEach(u=>a=a.add(u)),t.getEntries(n,a).next(u=>{let h=Ai();return e.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ut.min())?(t.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),h=h.insert(d,m)):bt(vg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:h,qs:o}})}function mM(n,t){const e=zt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=sg),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function gM(n,t){const e=zt(n);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return e.Pi.getTargetData(a,t).next(u=>u?(o=u,lt.resolve(o)):e.Pi.allocateTargetId(a).next(h=>(o=new la(t,h,"TargetPurposeListen",a.currentSequenceNumber),e.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=e.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(a.targetId,a),e.xs.set(t,a.targetId)),a})}async function Em(n,t,e){const a=zt(n),o=a.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Po(h))throw h;bt(vg,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function b1(n,t,e){const a=zt(n);let o=Ut.min(),u=Zt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,_){const w=zt(m),b=w.xs.get(_);return b!==void 0?lt.resolve(w.Ms.get(b)):w.Pi.getTargetData(g,_)}(a,h,Lr(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>a.Fs.getDocumentsMatchingQuery(h,t,e?o:Ut.min(),e?u:Zt())).next(d=>(yM(a,nx(t),d),{documents:d,Qs:u})))}function yM(n,t,e){let a=n.Os.get(t)||Ut.min();e.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),n.Os.set(t,a)}class S1{constructor(){this.activeTargetIds=lx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _M{constructor(){this.Mo=new S1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,a){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new S1,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="ConnectivityMonitor";class R1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){bt(A1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){bt(A1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function Tm(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="RestConnection",EM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Vh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,e,a,o,u){const h=Tm(),d=this.zo(t,e.toUriEncodedString());bt(Up,`Sending RPC '${t}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),_=No(g);return this.Jo(t,d,m,a,_).then(w=>(bt(Up,`Received RPC '${t}' ${h}: `,w),w),w=>{throw wo(Up,`RPC '${t}' ${h} failed with error: `,w,"url: ",d,"request:",a),w})}Ho(t,e,a,o,u,h){return this.Go(t,e,a,o,u)}jo(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ko}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}zo(t,e){const a=EM[t];return`${this.Uo}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class bM extends TM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,a,o,u){const h=Tm();return new Promise((d,m)=>{const g=new wT;g.setWithCredentials(!0),g.listenOnce(bT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const w=g.getResponseJson();bt(gn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(w)),d(w);break;case mh.TIMEOUT:bt(gn,`RPC '${t}' ${h} timed out`),m(new xt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const b=g.getStatus();if(bt(gn,`RPC '${t}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M==null?void 0:M.error;if(F&&F.status&&F.message){const W=function(pt){const dt=pt.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(dt)>=0?dt:ft.UNKNOWN}(F.status);m(new xt(W,F.message))}else m(new xt(ft.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new xt(ft.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{bt(gn,`RPC '${t}' ${h} completed.`)}});const _=JSON.stringify(o);bt(gn,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",_,a,15)})}T_(t,e,a){const o=Tm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=RT(),d=AT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,a),m.encodeInitMessageHeaders=!0;const _=u.join("");bt(gn,`Creating RPC '${t}' stream ${o}: ${_}`,m);const w=h.createWebChannel(_,m);this.I_(w);let b=!1,M=!1;const F=new wM({Yo:Q=>{M?bt(gn,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(b||(bt(gn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),b=!0),bt(gn,`RPC '${t}' stream ${o} sending:`,Q),w.send(Q))},Zo:()=>w.close()}),W=(Q,pt,dt)=>{Q.listen(pt,ut=>{try{dt(ut)}catch(gt){setTimeout(()=>{throw gt},0)}})};return W(w,$l.EventType.OPEN,()=>{M||(bt(gn,`RPC '${t}' stream ${o} transport opened.`),F.o_())}),W(w,$l.EventType.CLOSE,()=>{M||(M=!0,bt(gn,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(w))}),W(w,$l.EventType.ERROR,Q=>{M||(M=!0,wo(gn,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),F.a_(new xt(ft.UNAVAILABLE,"The operation could not be completed")))}),W(w,$l.EventType.MESSAGE,Q=>{var pt;if(!M){const dt=Q.data[0];le(!!dt,16349);const ut=dt,gt=(ut==null?void 0:ut.error)||((pt=ut[0])==null?void 0:pt.error);if(gt){bt(gn,`RPC '${t}' stream ${o} received error:`,gt);const ct=gt.status;let Et=function(I){const O=Be[I];if(O!==void 0)return aw(O)}(ct),k=gt.message;Et===void 0&&(Et=ft.INTERNAL,k="Unknown error status: "+ct+" with message "+gt.message),M=!0,F.a_(new xt(Et,k)),w.close()}else bt(gn,`RPC '${t}' stream ${o} received:`,dt),F.u_(dt)}}),W(d,ST.STAT_EVENT,Q=>{Q.stat===um.PROXY?bt(gn,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===um.NOPROXY&&bt(gn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.__()},0),F}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(n){return new Cx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,e,a=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-a);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="PersistentStream";class Ew{constructor(t,e,a,o,u,h,d,m){this.Mi=t,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(Si(e.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===e&&this.G_(a,o)},a=>{t(()=>{const o=new xt(ft.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(t,e){const a=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return bt(C1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(bt(C1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SM extends Ew{constructor(t,e,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Mx(this.serializer,t),a=function(u){if(!("targetChange"in u))return Ut.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ut.min():h.readTime?Ur(h.readTime):Ut.min()}(t);return this.listener.H_(e,a)}Y_(t){const e={};e.database=vm(this.serializer),e.addTarget=function(u,h){let d;const m=h.target;if(d=pm(m)?{documents:Ox(u,m)}:{query:kx(u,m).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=lw(u,h.resumeToken);const g=gm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ut.min())>0){d.readTime=jh(u,h.snapshotVersion.toTimestamp());const g=gm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const a=Px(this.serializer,t);a&&(e.labels=a),this.q_(e)}Z_(t){const e={};e.database=vm(this.serializer),e.removeTarget=t,this.q_(e)}}class AM extends Ew{constructor(t,e,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return le(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,le(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){le(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Dx(t.writeResults,t.commitTime),a=Ur(t.commitTime);return this.listener.na(a,e)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>Nx(this.serializer,a))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{}class CM extends RM{constructor(t,e,a,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(t,ym(e,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(ft.UNKNOWN,u.toString())})}Ho(t,e,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(t,ym(e,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new xt(ft.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class IM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(e),this.aa=!1):bt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="RemoteStore";class xM{constructor(t,e,a,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{a.enqueueAndForget(async()=>{gs(this)&&(bt(cs,"Restarting streams for network reachability change."),await async function(m){const g=zt(m);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ef(g)}(this))})}),this.Ra=new IM(a,o)}}async function Ef(n){if(gs(n))for(const t of n.da)await t(!0)}async function xu(n){for(const t of n.da)await t(!1)}function Tw(n,t){const e=zt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),bg(e)?wg(e):Lo(e).O_()&&Tg(e,t))}function Eg(n,t){const e=zt(n),a=Lo(e);e.Ia.delete(t),a.O_()&&ww(e,t),e.Ia.size===0&&(a.O_()?a.L_():gs(e)&&e.Ra.set("Unknown"))}function Tg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ut.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Lo(n).Y_(t)}function ww(n,t){n.Va.Ue(t),Lo(n).Z_(t)}function wg(n){n.Va=new bx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Lo(n).start(),n.Ra.ua()}function bg(n){return gs(n)&&!Lo(n).x_()&&n.Ia.size>0}function gs(n){return zt(n).Ea.size===0}function bw(n){n.Va=void 0}async function MM(n){n.Ra.set("Online")}async function NM(n){n.Ia.forEach((t,e)=>{Tg(n,t)})}async function DM(n,t){bw(n),bg(n)?(n.Ra.ha(t),wg(n)):n.Ra.set("Unknown")}async function OM(n,t,e){if(n.Ra.set("Online"),t instanceof ow&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))}(n,t)}catch(a){bt(cs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Hh(n,a)}else if(t instanceof vh?n.Va.Ze(t):t instanceof sw?n.Va.st(t):n.Va.tt(t),!e.isEqual(Ut.min()))try{const a=await _w(n.localStore);e.compareTo(a)>=0&&await function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const _=u.Ia.get(m);if(!_)return;u.Ia.set(m,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),ww(u,m);const w=new la(_.target,m,g,_.sequenceNumber);Tg(u,w)}),u.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(a){bt(cs,"Failed to raise snapshot:",a),await Hh(n,a)}}async function Hh(n,t,e){if(!Po(t))throw t;n.Ea.add(1),await xu(n),n.Ra.set("Offline"),e||(e=()=>_w(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{bt(cs,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Ef(n)})}function Sw(n,t){return t().catch(e=>Hh(n,e,t))}async function Tf(n){const t=zt(n),e=_a(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:sg;for(;kM(t);)try{const o=await mM(t.localStore,a);if(o===null){t.Ta.length===0&&e.L_();break}a=o.batchId,VM(t,o)}catch(o){await Hh(t,o)}Aw(t)&&Rw(t)}function kM(n){return gs(n)&&n.Ta.length<10}function VM(n,t){n.Ta.push(t);const e=_a(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Aw(n){return gs(n)&&!_a(n).x_()&&n.Ta.length>0}function Rw(n){_a(n).start()}async function PM(n){_a(n).ra()}async function LM(n){const t=_a(n);for(const e of n.Ta)t.ea(e.mutations)}async function UM(n,t,e){const a=n.Ta.shift(),o=dg.from(a,t,e);await Sw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Tf(n)}async function BM(n,t){t&&_a(n).X_&&await async function(a,o){if(function(h){return Ex(h)&&h!==ft.ABORTED}(o.code)){const u=a.Ta.shift();_a(a).B_(),await Sw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Tf(a)}}(n,t),Aw(n)&&Rw(n)}async function I1(n,t){const e=zt(n);e.asyncQueue.verifyOperationInProgress(),bt(cs,"RemoteStore received new credentials");const a=gs(e);e.Ea.add(3),await xu(e),a&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ef(e)}async function zM(n,t){const e=zt(n);t?(e.Ea.delete(2),await Ef(e)):t||(e.Ea.add(2),await xu(e),e.Ra.set("Unknown"))}function Lo(n){return n.ma||(n.ma=function(e,a,o){const u=zt(e);return u.sa(),new SM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:MM.bind(null,n),t_:NM.bind(null,n),r_:DM.bind(null,n),H_:OM.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),bg(n)?wg(n):n.Ra.set("Unknown")):(await n.ma.stop(),bw(n))})),n.ma}function _a(n){return n.fa||(n.fa=function(e,a,o){const u=zt(e);return u.sa(),new AM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:PM.bind(null,n),r_:BM.bind(null,n),ta:LM.bind(null,n),na:UM.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Tf(n)):(await n.fa.stop(),n.Ta.length>0&&(bt(cs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,e,a,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,o,u){const h=Date.now()+a,d=new Sg(t,e,h,o,u);return d.start(a),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(n,t){if(Si("AsyncQueue",`${t}: ${n}`),Po(n))return new xt(ft.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(t){return new yo(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||Dt.comparator(e.key,a.key):(e,a)=>Dt.comparator(e.key,a.key),this.keyedMap=Kl(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof yo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new yo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.ga=new Re(Dt.comparator)}track(t){const e=t.doc.key,a=this.ga.get(e);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(e,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(e):t.type===1&&a.type===2?this.ga=this.ga.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,a)=>{t.push(a)}),t}}class Co{constructor(t,e,a,o,u,h,d,m,g){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,a,o,u){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new Co(t,e,yo.emptySet(e),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==a[o].type||!e[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class GM{constructor(){this.queries=M1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,a){const o=zt(e),u=o.queries;o.queries=M1(),u.forEach((h,d)=>{for(const m of d.Sa)m.onError(a)})})(this,new xt(ft.ABORTED,"Firestore shutting down"))}}function M1(){return new ps(n=>$T(n),pf)}async function HM(n,t){const e=zt(n);let a=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(a=2):(u=new jM,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=Ag(h,`Initialization of query '${uo(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Rg(e)}async function qM(n,t){const e=zt(n),a=t.query;let o=3;const u=e.queries.get(a);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function FM(n,t){const e=zt(n);let a=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(a=!0);h.wa=o}}a&&Rg(e)}function $M(n,t,e){const a=zt(n),o=a.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);a.queries.delete(t)}function Rg(n){n.Ca.forEach(t=>{t.next()})}var wm,N1;(N1=wm||(wm={})).Ma="default",N1.Cache="cache";class KM{constructor(t,e,a){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Co(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const a=e!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.key=t}}class Iw{constructor(t){this.key=t}}class YM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zt(),this.mutatedKeys=Zt(),this.eu=KT(t),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(t,e){const a=e?e.iu:new x1,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,w)=>{const b=o.get(_),M=mf(this.query,w)?w:null,F=!!b&&this.mutatedKeys.has(b.key),W=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Q=!1;b&&M?b.data.isEqual(M.data)?F!==W&&(a.track({type:3,doc:M}),Q=!0):this.su(b,M)||(a.track({type:2,doc:M}),Q=!0,(m&&this.eu(M,m)>0||g&&this.eu(M,g)<0)&&(d=!0)):!b&&M?(a.track({type:0,doc:M}),Q=!0):b&&!M&&(a.track({type:1,doc:b}),Q=!0,(m||g)&&(d=!0)),Q&&(M?(h=h.add(M),u=W?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:h,iu:a,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort((_,w)=>function(M,F){const W=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Rt:Q})}};return W(M)-W(F)}(_.type,w.type)||this.eu(_.doc,w.doc)),this.ou(a),o=o??!1;const d=e&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,h.length!==0||g?{snapshot:new Co(this.query,t.tu,u,h,t.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Zt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const e=[];return t.forEach(a=>{this.Xa.has(a)||e.push(new Iw(a))}),this.Xa.forEach(a=>{t.has(a)||e.push(new Cw(a))}),e}cu(t){this.Ya=t.Qs,this.Xa=Zt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class QM{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class XM{constructor(t){this.key=t,this.hu=!1}}class ZM{constructor(t,e,a,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ps(d=>$T(d),pf),this.Iu=new Map,this.Eu=new Set,this.du=new Re(Dt.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WM(n,t,e=!0){const a=kw(n);let o;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await xw(a,t,e,!0),o}async function JM(n,t){const e=kw(n);await xw(e,t,!0,!1)}async function xw(n,t,e,a){const o=await gM(n.localStore,Lr(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,e);let d;return a&&(d=await tN(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&e&&Tw(n.remoteStore,o),d}async function tN(n,t,e,a,o){n.pu=(w,b,M)=>async function(W,Q,pt,dt){let ut=Q.view.ru(pt);ut.Cs&&(ut=await b1(W.localStore,Q.query,!1).then(({documents:k})=>Q.view.ru(k,ut)));const gt=dt&&dt.targetChanges.get(Q.targetId),ct=dt&&dt.targetMismatches.get(Q.targetId)!=null,Et=Q.view.applyChanges(ut,W.isPrimaryClient,gt,ct);return O1(W,Q.targetId,Et.au),Et.snapshot}(n,w,b,M);const u=await b1(n.localStore,t,!0),h=new YM(t,u.Qs),d=h.ru(u.documents),m=Iu.createSynthesizedTargetChangeForCurrentChange(e,a&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,m);O1(n,e,g.au);const _=new QM(t,e,h);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function eN(n,t,e){const a=zt(n),o=a.Tu.get(t),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter(h=>!pf(h,t))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),e&&Eg(a.remoteStore,o.targetId),bm(a,o.targetId)}).catch(Vo)):(bm(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function nN(n,t){const e=zt(n),a=e.Tu.get(t),o=e.Iu.get(a.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),Eg(e.remoteStore,a.targetId))}async function rN(n,t,e){const a=cN(n);try{const o=await function(h,d){const m=zt(h),g=Te.now(),_=d.reduce((M,F)=>M.add(F.key),Zt());let w,b;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>{let F=Ai(),W=Zt();return m.Ns.getEntries(M,_).next(Q=>{F=Q,F.forEach((pt,dt)=>{dt.isValidDocument()||(W=W.add(pt))})}).next(()=>m.localDocuments.getOverlayedDocuments(M,F)).next(Q=>{w=Q;const pt=[];for(const dt of d){const ut=mx(dt,w.get(dt.key).overlayedDocument);ut!=null&&pt.push(new ms(dt.key,ut,BT(ut.value.mapValue),Ti.exists(!0)))}return m.mutationQueue.addMutationBatch(M,g,pt,d)}).next(Q=>{b=Q;const pt=Q.applyToLocalDocumentSet(w,W);return m.documentOverlayCache.saveOverlays(M,Q.batchId,pt)})}).then(()=>({batchId:b.batchId,changes:QT(w)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Vu[h.currentUser.toKey()];g||(g=new Re(Xt)),g=g.insert(d,m),h.Vu[h.currentUser.toKey()]=g}(a,o.batchId,e),await Mu(a,o.changes),await Tf(a.remoteStore)}catch(o){const u=Ag(o,"Failed to persist write");e.reject(u)}}async function Mw(n,t){const e=zt(n);try{const a=await dM(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Au.get(u);h&&(le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?le(h.hu,14607):o.removedDocuments.size>0&&(le(h.hu,42227),h.hu=!1))}),await Mu(e,a,t)}catch(a){await Vo(a)}}function D1(n,t,e){const a=zt(n);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const o=[];a.Tu.forEach((u,h)=>{const d=h.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=zt(h);m.onlineState=d;let g=!1;m.queries.forEach((_,w)=>{for(const b of w.Sa)b.va(d)&&(g=!0)}),g&&Rg(m)}(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function iN(n,t,e){const a=zt(n);a.sharedClientState.updateQueryState(t,"rejected",e);const o=a.Au.get(t),u=o&&o.key;if(u){let h=new Re(Dt.comparator);h=h.insert(u,_n.newNoDocument(u,Ut.min()));const d=Zt().add(u),m=new _f(Ut.min(),new Map,new Re(Xt),h,d);await Mw(a,m),a.du=a.du.remove(u),a.Au.delete(t),Ig(a)}else await Em(a.localStore,t,!1).then(()=>bm(a,t,e)).catch(Vo)}async function aN(n,t){const e=zt(n),a=t.batch.batchId;try{const o=await fM(e.localStore,t);Dw(e,a,null),Nw(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await Mu(e,o)}catch(o){await Vo(o)}}async function sN(n,t,e){const a=zt(n);try{const o=await function(h,d){const m=zt(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(w=>(le(w!==null,37113),_=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(a.localStore,t);Dw(a,t,e),Nw(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await Mu(a,o)}catch(o){await Vo(o)}}function Nw(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function Dw(n,t,e){const a=zt(n);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function bm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const a of n.Iu.get(t))n.Tu.delete(a),e&&n.Pu.yu(a,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(a=>{n.Ru.containsKey(a)||Ow(n,a)})}function Ow(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Eg(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Ig(n))}function O1(n,t,e){for(const a of e)a instanceof Cw?(n.Ru.addReference(a.key,t),oN(n,a)):a instanceof Iw?(bt(Cg,"Document no longer in limbo: "+a.key),n.Ru.removeReference(a.key,t),n.Ru.containsKey(a.key)||Ow(n,a.key)):Vt(19791,{wu:a})}function oN(n,t){const e=t.key,a=e.path.canonicalString();n.du.get(e)||n.Eu.has(a)||(bt(Cg,"New document in limbo: "+e),n.Eu.add(a),Ig(n))}function Ig(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Dt(Ae.fromString(t)),a=n.fu.next();n.Au.set(a,new XM(e)),n.du=n.du.insert(e,a),Tw(n.remoteStore,new la(Lr(hg(e.path)),a,"TargetPurposeLimboResolution",cf.ce))}}async function Mu(n,t,e){const a=zt(n),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach((d,m)=>{h.push(a.pu(m,t,e).then(g=>{var _;if((g||e)&&a.isPrimaryClient){const w=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(m.targetId))==null?void 0:_.current;a.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){o.push(g);const w=_g.As(m.targetId,g);u.push(w)}}))}),await Promise.all(h),a.Pu.H_(o),await async function(m,g){const _=zt(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>lt.forEach(g,b=>lt.forEach(b.Es,M=>_.persistence.referenceDelegate.addReference(w,b.targetId,M)).next(()=>lt.forEach(b.ds,M=>_.persistence.referenceDelegate.removeReference(w,b.targetId,M)))))}catch(w){if(!Po(w))throw w;bt(vg,"Failed to update sequence numbers: "+w)}for(const w of g){const b=w.targetId;if(!w.fromCache){const M=_.Ms.get(b),F=M.snapshotVersion,W=M.withLastLimboFreeSnapshotVersion(F);_.Ms=_.Ms.insert(b,W)}}}(a.localStore,u))}async function lN(n,t){const e=zt(n);if(!e.currentUser.isEqual(t)){bt(Cg,"User change. New user:",t.toKey());const a=await yw(e.localStore,t);e.currentUser=t,function(u,h){u.mu.forEach(d=>{d.forEach(m=>{m.reject(new xt(ft.CANCELLED,h))})}),u.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Mu(e,a.Ls)}}function uN(n,t){const e=zt(n),a=e.Au.get(t);if(a&&a.hu)return Zt().add(a.key);{let o=Zt();const u=e.Iu.get(t);if(!u)return o;for(const h of u){const d=e.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function kw(n){const t=zt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iN.bind(null,t),t.Pu.H_=FM.bind(null,t.eventManager),t.Pu.yu=$M.bind(null,t.eventManager),t}function cN(n){const t=zt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sN.bind(null,t),t}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return hM(this.persistence,new lM,t.initialUser,this.serializer)}Cu(t){return new gw(yg.mi,this.serializer)}Du(t){return new _M}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class hN extends qh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){le(this.persistence.referenceDelegate instanceof Gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Kx(a,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new gw(a=>Gh.mi(a,e),this.serializer)}}class Sm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>D1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lN.bind(null,this.syncEngine),await zM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new GM}()}createDatastore(t){const e=vf(t.databaseInfo.databaseId),a=function(u){return new bM(u)}(t.databaseInfo);return function(u,h,d,m){return new CM(u,h,d,m)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,o,u,h,d){return new xM(a,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>D1(this.syncEngine,e,0),function(){return R1.v()?new R1:new vM}())}createSyncEngine(t,e){return function(o,u,h,d,m,g,_){const w=new ZM(o,u,h,d,m,g);return _&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=zt(o);bt(cs,"RemoteStore shutting down."),u.Ea.add(5),await xu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Si("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="FirestoreClient";class dN{constructor(t,e,a,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{bt(va,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(bt(va,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=Ag(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function zp(n,t){n.asyncQueue.verifyOperationInProgress(),bt(va,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let a=e.initialUser;n.setCredentialChangeListener(async o=>{a.isEqual(o)||(await yw(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function k1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await pN(n);bt(va,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(a=>I1(t.remoteStore,a)),n.setAppCheckTokenChangeListener((a,o)=>I1(t.remoteStore,o)),n._onlineComponents=t}async function pN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt(va,"Using user provided OfflineComponentProvider");try{await zp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;wo("Error using user provided cache. Falling back to memory cache: "+e),await zp(n,new qh)}}else bt(va,"Using default OfflineComponentProvider"),await zp(n,new hN(void 0));return n._offlineComponents}async function Vw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt(va,"Using user provided OnlineComponentProvider"),await k1(n,n._uninitializedComponentsProvider._online)):(bt(va,"Using default OnlineComponentProvider"),await k1(n,new Sm))),n._onlineComponents}function mN(n){return Vw(n).then(t=>t.syncEngine)}async function gN(n){const t=await Vw(n),e=t.eventManager;return e.onListen=WM.bind(null,t.syncEngine),e.onUnlisten=eN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=JM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=nN.bind(null,t.syncEngine),e}function yN(n,t,e={}){const a=new da;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const _=new fN({next:b=>{_.Nu(),h.enqueueAndForget(()=>qM(u,w));const M=b.docs.has(d);!M&&b.fromCache?g.reject(new xt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&m&&m.source==="server"?g.reject(new xt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new KM(hg(d.path),_,{includeMetadataChanges:!0,qa:!0});return HM(u,w)}(await gN(n),n.asyncQueue,t,e,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firestore.googleapis.com",P1=!0;class L1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new xt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lw,this.ssl=P1}else this.host=t.host,this.ssl=t.ssl??P1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Fx)throw new xt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}II("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pw(t.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xg{constructor(t,e,a,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new yI;switch(a.type){case"firstParty":return new TI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new xt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=V1.get(e);a&&(bt("ComponentProvider","Removing Datastore"),V1.delete(e),a.terminate())}(this),Promise.resolve()}}function _N(n,t,e,a={}){var g;n=uu(n,xg);const o=No(t),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(PE(`https://${d}`),LE("Firestore",!0)),u.host!==Lw&&u.host!==d&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:a};if(!ss(m,h)&&(n._setSettings(m),a.mockUserToken)){let _,w;if(typeof a.mockUserToken=="string")_=a.mockUserToken,w=yn.MOCK_USER;else{_=GA(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new xt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new yn(b)}n._authCredentials=new _I(new IT(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Mg(this.firestore,t,this._query)}}class rn{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,a){if(Ru(e,rn._jsonSchema))return new rn(t,a||null,new Dt(Ae.fromString(e.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:ze("string",rn._jsonSchemaVersion),referencePath:ze("string")};class gu extends Mg{constructor(t,e,a){super(t,e,hg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new Dt(t))}withConverter(t){return new gu(this.firestore,t,this._path)}}function Ng(n,t,...e){if(n=ir(n),arguments.length===1&&(t=ig.newId()),CI("doc","path",t),n instanceof xg){const a=Ae.fromString(t,...e);return Zv(a),new rn(n,null,new Dt(a))}{if(!(n instanceof rn||n instanceof gu))throw new xt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Ae.fromString(t,...e));return Zv(a),new rn(n.firestore,n instanceof gu?n.converter:null,new Dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="AsyncQueue";class B1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vw(this,"async_queue_retry"),this._c=()=>{const a=Bp();a&&bt(U1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const e=Bp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Bp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new da;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Po(t))throw t;bt(U1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(a=>{throw this.nc=a,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",z1(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=e,e}enqueueAfterDelay(t,e,a){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Sg.createAndSchedule(this,t,e,a,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Vt(47125,{Pc:z1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function z1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Dg extends xg{constructor(t,e,a,o){super(t,e,a,o),this.type="firestore",this._queue=new B1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new B1(t),this._firestoreClient=void 0,await t}}}function vN(n,t){const e=typeof n=="object"?n:jE(),a=typeof n=="string"?n:Vh,o=$m(e,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=zA("firestore");u&&_N(o,...u)}return o}function Uw(n){if(n._terminated)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||EN(n),n._firestoreClient}function EN(n){var a,o,u;const t=n._freezeSettings(),e=function(d,m,g,_){return new BI(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Pw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new dN(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rr(dn.fromBase64String(t))}catch(e){throw new xt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new rr(dn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ru(t,rr._jsonSchema))return rr.fromBase64String(t.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:ze("string",rr._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new xt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(t){if(Ru(t,Br._jsonSchema))return new Br(t.latitude,t.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:ze("string",Br._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ru(t,zr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new zr(t.vectorValues);throw new xt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:ze("string",zr._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^__.*__$/;class wN{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new ms(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cu(t,this.data,e,this.fieldTransforms)}}function zw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ac:n})}}class kg{constructor(t,e,a,o,u,h){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new kg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),a=this.Vc({path:e,fc:!1});return a.gc(t),a}yc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),a=this.Vc({path:e,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(zw(this.Ac)&&TN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bN{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||vf(t)}Cc(t,e,a,o=!1){return new kg({Ac:t,methodName:e,Dc:a,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SN(n){const t=n._freezeSettings(),e=vf(n._databaseId);return new bN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function AN(n,t,e,a,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);qw("Data must be an object, but it was:",h,a);const d=Gw(a,h);let m,g;if(u.merge)m=new pr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const b=RN(t,w,e);if(!h.contains(b))throw new xt(ft.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);IN(_,b)||_.push(b)}m=new pr(_),g=h.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=h.fieldTransforms;return new wN(new nr(d),m,g)}function jw(n,t){if(Hw(n=ir(n)))return qw("Unsupported field value:",t,n),Gw(n,t);if(n instanceof Bw)return function(a,o){if(!zw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let m=jw(d,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(n,t)}return function(a,o){if((a=ir(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ux(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Te.fromDate(a);return{timestampValue:jh(o.serializer,u)}}if(a instanceof Te){const u=new Te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(a instanceof Br)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof rr)return{bytesValue:lw(o.serializer,a._byteString)};if(a instanceof rn){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof zr)return function(h,d){return{mapValue:{fields:{[LT]:{stringValue:UT},[Ph]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return fg(d.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${ag(a)}`)}(n,t)}function Gw(n,t){const e={};return NT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ds(n,(a,o)=>{const u=jw(o,t.mc(a));u!=null&&(e[a]=u)}),{mapValue:{fields:e}}}function Hw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Te||n instanceof Br||n instanceof rr||n instanceof rn||n instanceof Bw||n instanceof zr)}function qw(n,t,e){if(!Hw(e)||!xT(e)){const a=ag(e);throw a==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+a)}}function RN(n,t,e){if((t=ir(t))instanceof Og)return t._internalPath;if(typeof t=="string")return Fw(n,t);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,e)}const CN=new RegExp("[~\\*/\\[\\]]");function Fw(n,t,e){if(t.search(CN)>=0)throw Fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Og(...t.split("."))._internalPath}catch{throw Fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Fh(n,t,e,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new xt(ft.INVALID_ARGUMENT,d+n+m)}function IN(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,e,a,o,u){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Kw("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class xN extends $w{data(){return super.data()}}function Kw(n,t){return typeof t=="string"?Fw(n,t):t instanceof Og?t._internalPath:t._delegate._internalPath}class MN{convertValue(t,e="none"){switch(ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ga(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Vt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return ds(t,(o,u)=>{a[o]=this.convertValue(u,e)}),a}convertVectorValue(t){var a,o,u;const e=(u=(o=(a=t.fields)==null?void 0:a[Ph].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>ke(h.doubleValue));return new zr(e)}convertGeoPoint(t){return new Br(ke(t.latitude),ke(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=ff(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const e=ma(t);return new Te(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=Ae.fromString(t);le(pw(a),9688,{name:t});const o=new fu(a.get(1),a.get(3)),u=new Dt(a.popFirst(5));return o.isEqual(e)||Si(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n,t,e){let a;return a=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,a}class Ql{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rs extends $w{constructor(t,e,a,o,u,h){super(t,e,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field(Kw("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=rs._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}rs._jsonSchemaVersion="firestore/documentSnapshot/1.0",rs._jsonSchema={type:ze("string",rs._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class Eh extends rs{data(t={}){return super.data(t)}}class su{constructor(t,e,a,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new Eh(this._firestore,this._userDataWriter,a.key,a,new Ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:DN(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=su._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(e.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){n=uu(n,rn);const t=uu(n.firestore,Dg);return yN(Uw(t),n._key).then(e=>PN(t,n,e))}su._jsonSchemaVersion="firestore/querySnapshot/1.0",su._jsonSchema={type:ze("string",su._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class kN extends MN{constructor(t){super(),this.firestore=t}convertBytes(t){return new rr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,e)}}function $h(n,t,e){n=uu(n,rn);const a=uu(n.firestore,Dg),o=NN(n.converter,t,e);return VN(a,[AN(SN(a),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,Ti.none())])}function VN(n,t){return function(a,o){const u=new da;return a.asyncQueue.enqueueAndForget(async()=>rN(await mN(a),o,u)),u.promise}(Uw(n),t)}function PN(n,t,e){const a=e.docs.get(t._key),o=new kN(n);return new rs(n,o,t._key,a,new Ql(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){ko=o})(Do),Eo(new os("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new Dg(new vI(a.getProvider("auth-internal")),new wI(h,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new xt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,_)}(h,o),h);return u={useFetchStreams:e,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),ha(Kv,Yv,t),ha(Kv,Yv,"esm2020")})();const LN={apiKey:"AIzaSyAsv8TV5YSdGLup4nImBjaaaEKbwe9lRm8",authDomain:"chartle-c4a68.firebaseapp.com",projectId:"chartle-c4a68",storageBucket:"chartle-c4a68.appspot.com",messagingSenderId:"1031120307533",appId:"1:1031120307533:web:a51ef04dabbcecd020e304",measurementId:"G-SCBHLT03DM"},Yw=zE(LN),is=dI(Yw),UN=new _i,Vg=vN(Yw),Qw=St.createContext({user:null});function BN({children:n}){const[t,e]=St.useState(null);return St.useEffect(()=>uT(is,e),[]),J.jsx(Qw.Provider,{value:{user:t},children:n})}function zN(){return St.useContext(Qw)}function jN({onOpen:n,dateLabel:t,overridden:e}){var _;const{user:a}=zN(),[o,u]=St.useState(!1),h=St.useRef(null),d=a?a.photoURL?J.jsx("img",{src:a.photoURL,alt:"Account",className:"h-6 w-6 rounded-full object-cover",referrerPolicy:"no-referrer"}):J.jsx("span",{"aria-label":"Account",className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-400 text-xs font-semibold text-white",children:(_=a.displayName)==null?void 0:_.charAt(0).toUpperCase()}):"Sign in",m=[{id:"help",label:"Help"},{id:"history",label:"History"},{id:"auth",label:d}],g=w=>{n==null||n(w),u(!1)};return St.useEffect(()=>{const w=b=>{o&&h.current&&!h.current.contains(b.target)&&u(!1)};return o&&(document.addEventListener("mousedown",w),document.addEventListener("touchstart",w)),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("touchstart",w)}},[o]),J.jsx("header",{className:"fixed inset-x-0 top-0 z-50 border-b border-gray-300 dark:border-gray-700 backdrop-blur-md",style:{backgroundColor:"var(--header-bg-color)"},children:J.jsxs("div",{className:"relative mx-auto w-full max-w-[700px] px-4 py-3 h-[52px]",children:[J.jsx("span",{className:`absolute left-4 top-1/2 -translate-y-1/2 text-sm ${e?"bg-yellow-100 dark:bg-yellow-900 px-2 py-0.5 rounded text-yellow-800 dark:text-yellow-300":"text-[color:var(--axis-text-color)]"}`,children:t}),J.jsx("h1",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center",children:J.jsx("img",{src:"/Chartle_web_header.jpg",alt:"Chartle logo",className:"h-9 sm:h-10 w-auto",style:{display:"inline-block"}})}),J.jsx("button",{"aria-label":"Toggle menu",onClick:()=>u(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-12 w-12 items-center justify-center rounded-lg p-3 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-600 active:bg-gray-300 dark:active:bg-gray-700 touch-manipulation",children:o?J.jsx(xE,{className:"h-6 w-6"}):J.jsx(MA,{className:"h-6 w-6"})}),o&&J.jsxs("div",{ref:h,children:[J.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),J.jsx("nav",{className:"absolute right-4 top-full w-48 origin-top rounded-md [background-color:var(--guessed-box)] shadow-md z-50",children:J.jsx("ul",{className:"flex flex-col divide-y divide-gray-200 dark:divide-gray-700",children:m.map(({id:w,label:b})=>J.jsx("li",{children:J.jsx("button",{onClick:()=>g(w),className:"block w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 active:bg-gray-200 dark:active:bg-gray-700 touch-manipulation",children:w==="auth"&&a?"Account":typeof b=="string"?b:"Account"})},w))})})]})]})})}function Th(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Xw(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Pg(n){let t,e,a;n.length!==2?(t=Th,e=(d,m)=>Th(n(d),m),a=(d,m)=>n(d)-m):(t=n===Th||n===Xw?n:GN,e=n,a=n);function o(d,m,g=0,_=d.length){if(g<_){if(t(m,m)!==0)return _;do{const w=g+_>>>1;e(d[w],m)<0?g=w+1:_=w}while(g<_)}return g}function u(d,m,g=0,_=d.length){if(g<_){if(t(m,m)!==0)return _;do{const w=g+_>>>1;e(d[w],m)<=0?g=w+1:_=w}while(g<_)}return g}function h(d,m,g=0,_=d.length){const w=o(d,m,g,_-1);return w>g&&a(d[w-1],m)>-a(d[w],m)?w-1:w}return{left:o,center:h,right:u}}function GN(){return 0}function HN(n){return n===null?NaN:+n}const qN=Pg(Th),FN=qN.right;Pg(HN).center;class Am extends Map{constructor(t,e=YN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[a,o]of t)this.set(a,o)}get(t){return super.get(j1(this,t))}has(t){return super.has(j1(this,t))}set(t,e){return super.set($N(this,t),e)}delete(t){return super.delete(KN(this,t))}}function j1({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):e}function $N({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):(n.set(a,e),e)}function KN({_intern:n,_key:t},e){const a=t(e);return n.has(a)&&(e=n.get(a),n.delete(a)),e}function YN(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Rm(n){return n}function Kh(n,...t){return Zw(n,Rm,Rm,t)}function QN(n,t,...e){return Zw(n,Rm,t,e)}function Zw(n,t,e,a){return function o(u,h){if(h>=a.length)return e(u);const d=new Am,m=a[h++];let g=-1;for(const _ of u){const w=m(_,++g,u),b=d.get(w);b?b.push(_):d.set(w,[_])}for(const[_,w]of d)d.set(_,o(w,h));return t(d)}(n,0)}const XN=Math.sqrt(50),ZN=Math.sqrt(10),WN=Math.sqrt(2);function Yh(n,t,e){const a=(t-n)/Math.max(0,e),o=Math.floor(Math.log10(a)),u=a/Math.pow(10,o),h=u>=XN?10:u>=ZN?5:u>=WN?2:1;let d,m,g;return o<0?(g=Math.pow(10,-o)/h,d=Math.round(n*g),m=Math.round(t*g),d/g<n&&++d,m/g>t&&--m,g=-g):(g=Math.pow(10,o)*h,d=Math.round(n/g),m=Math.round(t/g),d*g<n&&++d,m*g>t&&--m),m<d&&.5<=e&&e<2?Yh(n,t,e*2):[d,m,g]}function JN(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const a=t<n,[o,u,h]=a?Yh(t,n,e):Yh(n,t,e);if(!(u>=o))return[];const d=u-o+1,m=new Array(d);if(a)if(h<0)for(let g=0;g<d;++g)m[g]=(u-g)/-h;else for(let g=0;g<d;++g)m[g]=(u-g)*h;else if(h<0)for(let g=0;g<d;++g)m[g]=(o+g)/-h;else for(let g=0;g<d;++g)m[g]=(o+g)*h;return m}function Cm(n,t,e){return t=+t,n=+n,e=+e,Yh(n,t,e)[2]}function t4(n,t,e){t=+t,n=+n,e=+e;const a=t<n,o=a?Cm(t,n,e):Cm(n,t,e);return(a?-1:1)*(o<0?1/-o:o)}function oa(n,t){let e;if(t===void 0)for(const a of n)a!=null&&(e<a||e===void 0&&a>=a)&&(e=a);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&(e<o||e===void 0&&o>=o)&&(e=o)}return e}function Im(n,t){let e;if(t===void 0)for(const a of n)a!=null&&(e>a||e===void 0&&a>=a)&&(e=a);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&(e>o||e===void 0&&o>=o)&&(e=o)}return e}function e4(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var a=-1,o=Math.max(0,Math.ceil((t-n)/e))|0,u=new Array(o);++a<o;)u[a]=n+a*e;return u}function n4(n){return n}var jp=1,Gp=2,xm=3,Xl=4,G1=1e-6;function r4(n){return"translate("+n+",0)"}function i4(n){return"translate(0,"+n+")"}function a4(n){return t=>+n(t)}function s4(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function o4(){return!this.__axis}function Ww(n,t){var e=[],a=null,o=null,u=6,h=6,d=3,m=typeof window<"u"&&window.devicePixelRatio>1?0:.5,g=n===jp||n===Xl?-1:1,_=n===Xl||n===Gp?"x":"y",w=n===jp||n===xm?r4:i4;function b(M){var F=a??(t.ticks?t.ticks.apply(t,e):t.domain()),W=o??(t.tickFormat?t.tickFormat.apply(t,e):n4),Q=Math.max(u,0)+d,pt=t.range(),dt=+pt[0]+m,ut=+pt[pt.length-1]+m,gt=(t.bandwidth?s4:a4)(t.copy(),m),ct=M.selection?M.selection():M,Et=ct.selectAll(".domain").data([null]),k=ct.selectAll(".tick").data(F,t).order(),C=k.exit(),I=k.enter().append("g").attr("class","tick"),O=k.select("line"),N=k.select("text");Et=Et.merge(Et.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(I),O=O.merge(I.append("line").attr("stroke","currentColor").attr(_+"2",g*u)),N=N.merge(I.append("text").attr("fill","currentColor").attr(_,g*Q).attr("dy",n===jp?"0em":n===xm?"0.71em":"0.32em")),M!==ct&&(Et=Et.transition(M),k=k.transition(M),O=O.transition(M),N=N.transition(M),C=C.transition(M).attr("opacity",G1).attr("transform",function(P){return isFinite(P=gt(P))?w(P+m):this.getAttribute("transform")}),I.attr("opacity",G1).attr("transform",function(P){var x=this.parentNode.__axis;return w((x&&isFinite(x=x(P))?x:gt(P))+m)})),C.remove(),Et.attr("d",n===Xl||n===Gp?h?"M"+g*h+","+dt+"H"+m+"V"+ut+"H"+g*h:"M"+m+","+dt+"V"+ut:h?"M"+dt+","+g*h+"V"+m+"H"+ut+"V"+g*h:"M"+dt+","+m+"H"+ut),k.attr("opacity",1).attr("transform",function(P){return w(gt(P)+m)}),O.attr(_+"2",g*u),N.attr(_,g*Q).text(W),ct.filter(o4).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===Gp?"start":n===Xl?"end":"middle"),ct.each(function(){this.__axis=gt})}return b.scale=function(M){return arguments.length?(t=M,b):t},b.ticks=function(){return e=Array.from(arguments),b},b.tickArguments=function(M){return arguments.length?(e=M==null?[]:Array.from(M),b):e.slice()},b.tickValues=function(M){return arguments.length?(a=M==null?null:Array.from(M),b):a&&a.slice()},b.tickFormat=function(M){return arguments.length?(o=M,b):o},b.tickSize=function(M){return arguments.length?(u=h=+M,b):u},b.tickSizeInner=function(M){return arguments.length?(u=+M,b):u},b.tickSizeOuter=function(M){return arguments.length?(h=+M,b):h},b.tickPadding=function(M){return arguments.length?(d=+M,b):d},b.offset=function(M){return arguments.length?(m=+M,b):m},b}function Jw(n){return Ww(xm,n)}function Mm(n){return Ww(Xl,n)}var l4={value:()=>{}};function tb(){for(var n=0,t=arguments.length,e={},a;n<t;++n){if(!(a=arguments[n]+"")||a in e||/[\s.]/.test(a))throw new Error("illegal type: "+a);e[a]=[]}return new wh(e)}function wh(n){this._=n}function u4(n,t){return n.trim().split(/^|\s+/).map(function(e){var a="",o=e.indexOf(".");if(o>=0&&(a=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:a}})}wh.prototype=tb.prototype={constructor:wh,on:function(n,t){var e=this._,a=u4(n+"",e),o,u=-1,h=a.length;if(arguments.length<2){for(;++u<h;)if((o=(n=a[u]).type)&&(o=c4(e[o],n.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<h;)if(o=(n=a[u]).type)e[o]=H1(e[o],n.name,t);else if(t==null)for(o in e)e[o]=H1(e[o],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new wh(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var e=new Array(o),a=0,o,u;a<o;++a)e[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],a=0,o=u.length;a<o;++a)u[a].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var a=this._[n],o=0,u=a.length;o<u;++o)a[o].value.apply(t,e)}};function c4(n,t){for(var e=0,a=n.length,o;e<a;++e)if((o=n[e]).name===t)return o.value}function H1(n,t,e){for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n[a]=l4,n=n.slice(0,a).concat(n.slice(a+1));break}return e!=null&&n.push({name:t,value:e}),n}var Nm="http://www.w3.org/1999/xhtml";const q1={svg:"http://www.w3.org/2000/svg",xhtml:Nm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wf(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),q1.hasOwnProperty(t)?{space:q1[t],local:n}:n}function h4(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Nm&&t.documentElement.namespaceURI===Nm?t.createElement(n):t.createElementNS(e,n)}}function f4(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Lg(n){var t=wf(n);return(t.local?f4:h4)(t)}function d4(){}function Ug(n){return n==null?d4:function(){return this.querySelector(n)}}function p4(n){typeof n!="function"&&(n=Ug(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=new Array(h),m,g,_=0;_<h;++_)(m=u[_])&&(g=n.call(m,m.__data__,_,u))&&("__data__"in m&&(g.__data__=m.__data__),d[_]=g);return new Gn(a,this._parents)}function m4(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function g4(){return[]}function eb(n){return n==null?g4:function(){return this.querySelectorAll(n)}}function y4(n){return function(){return m4(n.apply(this,arguments))}}function _4(n){typeof n=="function"?n=y4(n):n=eb(n);for(var t=this._groups,e=t.length,a=[],o=[],u=0;u<e;++u)for(var h=t[u],d=h.length,m,g=0;g<d;++g)(m=h[g])&&(a.push(n.call(m,m.__data__,g,h)),o.push(m));return new Gn(a,o)}function nb(n){return function(){return this.matches(n)}}function rb(n){return function(t){return t.matches(n)}}var v4=Array.prototype.find;function E4(n){return function(){return v4.call(this.children,n)}}function T4(){return this.firstElementChild}function w4(n){return this.select(n==null?T4:E4(typeof n=="function"?n:rb(n)))}var b4=Array.prototype.filter;function S4(){return Array.from(this.children)}function A4(n){return function(){return b4.call(this.children,n)}}function R4(n){return this.selectAll(n==null?S4:A4(typeof n=="function"?n:rb(n)))}function C4(n){typeof n!="function"&&(n=nb(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=[],m,g=0;g<h;++g)(m=u[g])&&n.call(m,m.__data__,g,u)&&d.push(m);return new Gn(a,this._parents)}function ib(n){return new Array(n.length)}function I4(){return new Gn(this._enter||this._groups.map(ib),this._parents)}function Qh(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Qh.prototype={constructor:Qh,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function x4(n){return function(){return n}}function M4(n,t,e,a,o,u){for(var h=0,d,m=t.length,g=u.length;h<g;++h)(d=t[h])?(d.__data__=u[h],a[h]=d):e[h]=new Qh(n,u[h]);for(;h<m;++h)(d=t[h])&&(o[h]=d)}function N4(n,t,e,a,o,u,h){var d,m,g=new Map,_=t.length,w=u.length,b=new Array(_),M;for(d=0;d<_;++d)(m=t[d])&&(b[d]=M=h.call(m,m.__data__,d,t)+"",g.has(M)?o[d]=m:g.set(M,m));for(d=0;d<w;++d)M=h.call(n,u[d],d,u)+"",(m=g.get(M))?(a[d]=m,m.__data__=u[d],g.delete(M)):e[d]=new Qh(n,u[d]);for(d=0;d<_;++d)(m=t[d])&&g.get(b[d])===m&&(o[d]=m)}function D4(n){return n.__data__}function O4(n,t){if(!arguments.length)return Array.from(this,D4);var e=t?N4:M4,a=this._parents,o=this._groups;typeof n!="function"&&(n=x4(n));for(var u=o.length,h=new Array(u),d=new Array(u),m=new Array(u),g=0;g<u;++g){var _=a[g],w=o[g],b=w.length,M=k4(n.call(_,_&&_.__data__,g,a)),F=M.length,W=d[g]=new Array(F),Q=h[g]=new Array(F),pt=m[g]=new Array(b);e(_,w,W,Q,pt,M,t);for(var dt=0,ut=0,gt,ct;dt<F;++dt)if(gt=W[dt]){for(dt>=ut&&(ut=dt+1);!(ct=Q[ut])&&++ut<F;);gt._next=ct||null}}return h=new Gn(h,a),h._enter=d,h._exit=m,h}function k4(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function V4(){return new Gn(this._exit||this._groups.map(ib),this._parents)}function P4(n,t,e){var a=this.enter(),o=this,u=this.exit();return typeof n=="function"?(a=n(a),a&&(a=a.selection())):a=a.append(n+""),t!=null&&(o=t(o),o&&(o=o.selection())),e==null?u.remove():e(u),a&&o?a.merge(o).order():o}function L4(n){for(var t=n.selection?n.selection():n,e=this._groups,a=t._groups,o=e.length,u=a.length,h=Math.min(o,u),d=new Array(o),m=0;m<h;++m)for(var g=e[m],_=a[m],w=g.length,b=d[m]=new Array(w),M,F=0;F<w;++F)(M=g[F]||_[F])&&(b[F]=M);for(;m<o;++m)d[m]=e[m];return new Gn(d,this._parents)}function U4(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var a=n[t],o=a.length-1,u=a[o],h;--o>=0;)(h=a[o])&&(u&&h.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(h,u),u=h);return this}function B4(n){n||(n=z4);function t(w,b){return w&&b?n(w.__data__,b.__data__):!w-!b}for(var e=this._groups,a=e.length,o=new Array(a),u=0;u<a;++u){for(var h=e[u],d=h.length,m=o[u]=new Array(d),g,_=0;_<d;++_)(g=h[_])&&(m[_]=g);m.sort(t)}return new Gn(o,this._parents).order()}function z4(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function j4(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function G4(){return Array.from(this)}function H4(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a=n[t],o=0,u=a.length;o<u;++o){var h=a[o];if(h)return h}return null}function q4(){let n=0;for(const t of this)++n;return n}function F4(){return!this.node()}function $4(n){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var o=t[e],u=0,h=o.length,d;u<h;++u)(d=o[u])&&n.call(d,d.__data__,u,o);return this}function K4(n){return function(){this.removeAttribute(n)}}function Y4(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Q4(n,t){return function(){this.setAttribute(n,t)}}function X4(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function Z4(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function W4(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function J4(n,t){var e=wf(n);if(arguments.length<2){var a=this.node();return e.local?a.getAttributeNS(e.space,e.local):a.getAttribute(e)}return this.each((t==null?e.local?Y4:K4:typeof t=="function"?e.local?W4:Z4:e.local?X4:Q4)(e,t))}function ab(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function tD(n){return function(){this.style.removeProperty(n)}}function eD(n,t,e){return function(){this.style.setProperty(n,t,e)}}function nD(n,t,e){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(n):this.style.setProperty(n,a,e)}}function rD(n,t,e){return arguments.length>1?this.each((t==null?tD:typeof t=="function"?nD:eD)(n,t,e??"")):Io(this.node(),n)}function Io(n,t){return n.style.getPropertyValue(t)||ab(n).getComputedStyle(n,null).getPropertyValue(t)}function iD(n){return function(){delete this[n]}}function aD(n,t){return function(){this[n]=t}}function sD(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function oD(n,t){return arguments.length>1?this.each((t==null?iD:typeof t=="function"?sD:aD)(n,t)):this.node()[n]}function sb(n){return n.trim().split(/^|\s+/)}function Bg(n){return n.classList||new ob(n)}function ob(n){this._node=n,this._names=sb(n.getAttribute("class")||"")}ob.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function lb(n,t){for(var e=Bg(n),a=-1,o=t.length;++a<o;)e.add(t[a])}function ub(n,t){for(var e=Bg(n),a=-1,o=t.length;++a<o;)e.remove(t[a])}function lD(n){return function(){lb(this,n)}}function uD(n){return function(){ub(this,n)}}function cD(n,t){return function(){(t.apply(this,arguments)?lb:ub)(this,n)}}function hD(n,t){var e=sb(n+"");if(arguments.length<2){for(var a=Bg(this.node()),o=-1,u=e.length;++o<u;)if(!a.contains(e[o]))return!1;return!0}return this.each((typeof t=="function"?cD:t?lD:uD)(e,t))}function fD(){this.textContent=""}function dD(n){return function(){this.textContent=n}}function pD(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function mD(n){return arguments.length?this.each(n==null?fD:(typeof n=="function"?pD:dD)(n)):this.node().textContent}function gD(){this.innerHTML=""}function yD(n){return function(){this.innerHTML=n}}function _D(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function vD(n){return arguments.length?this.each(n==null?gD:(typeof n=="function"?_D:yD)(n)):this.node().innerHTML}function ED(){this.nextSibling&&this.parentNode.appendChild(this)}function TD(){return this.each(ED)}function wD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bD(){return this.each(wD)}function SD(n){var t=typeof n=="function"?n:Lg(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function AD(){return null}function RD(n,t){var e=typeof n=="function"?n:Lg(n),a=t==null?AD:typeof t=="function"?t:Ug(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})}function CD(){var n=this.parentNode;n&&n.removeChild(this)}function ID(){return this.each(CD)}function xD(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function MD(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function ND(n){return this.select(n?MD:xD)}function DD(n){return arguments.length?this.property("__data__",n):this.node().__data__}function OD(n){return function(t){n.call(this,t,this.__data__)}}function kD(n){return n.trim().split(/^|\s+/).map(function(t){var e="",a=t.indexOf(".");return a>=0&&(e=t.slice(a+1),t=t.slice(0,a)),{type:t,name:e}})}function VD(n){return function(){var t=this.__on;if(t){for(var e=0,a=-1,o=t.length,u;e<o;++e)u=t[e],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):t[++a]=u;++a?t.length=a:delete this.__on}}}function PD(n,t,e){return function(){var a=this.__on,o,u=OD(t);if(a){for(var h=0,d=a.length;h<d;++h)if((o=a[h]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=e),o.value=t;return}}this.addEventListener(n.type,u,e),o={type:n.type,name:n.name,value:t,listener:u,options:e},a?a.push(o):this.__on=[o]}}function LD(n,t,e){var a=kD(n+""),o,u=a.length,h;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,g=d.length,_;m<g;++m)for(o=0,_=d[m];o<u;++o)if((h=a[o]).type===_.type&&h.name===_.name)return _.value}return}for(d=t?PD:VD,o=0;o<u;++o)this.each(d(a[o],t,e));return this}function cb(n,t,e){var a=ab(n),o=a.CustomEvent;typeof o=="function"?o=new o(t,e):(o=a.document.createEvent("Event"),e?(o.initEvent(t,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(t,!1,!1)),n.dispatchEvent(o)}function UD(n,t){return function(){return cb(this,n,t)}}function BD(n,t){return function(){return cb(this,n,t.apply(this,arguments))}}function zD(n,t){return this.each((typeof t=="function"?BD:UD)(n,t))}function*jD(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a=n[t],o=0,u=a.length,h;o<u;++o)(h=a[o])&&(yield h)}var hb=[null];function Gn(n,t){this._groups=n,this._parents=t}function Nu(){return new Gn([[document.documentElement]],hb)}function GD(){return this}Gn.prototype=Nu.prototype={constructor:Gn,select:p4,selectAll:_4,selectChild:w4,selectChildren:R4,filter:C4,data:O4,enter:I4,exit:V4,join:P4,merge:L4,selection:GD,order:U4,sort:B4,call:j4,nodes:G4,node:H4,size:q4,empty:F4,each:$4,attr:J4,style:rD,property:oD,classed:hD,text:mD,html:vD,raise:TD,lower:bD,append:SD,insert:RD,remove:ID,clone:ND,datum:DD,on:LD,dispatch:zD,[Symbol.iterator]:jD};function er(n){return typeof n=="string"?new Gn([[document.querySelector(n)]],[document.documentElement]):new Gn([[n]],hb)}function HD(n){return er(Lg(n).call(document.documentElement))}function qD(n){let t;for(;t=n.sourceEvent;)n=t;return n}function FD(n,t){if(n=qD(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var a=e.createSVGPoint();return a.x=n.clientX,a.y=n.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}}return[n.pageX,n.pageY]}function zg(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function fb(n,t){var e=Object.create(n.prototype);for(var a in t)e[a]=t[a];return e}function Du(){}var yu=.7,Xh=1/yu,_o="\\s*([+-]?\\d+)\\s*",_u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$D=/^#([0-9a-f]{3,8})$/,KD=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),YD=new RegExp(`^rgb\\(${jr},${jr},${jr}\\)$`),QD=new RegExp(`^rgba\\(${_o},${_o},${_o},${_u}\\)$`),XD=new RegExp(`^rgba\\(${jr},${jr},${jr},${_u}\\)$`),ZD=new RegExp(`^hsl\\(${_u},${jr},${jr}\\)$`),WD=new RegExp(`^hsla\\(${_u},${jr},${jr},${_u}\\)$`),F1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zg(Du,hs,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:$1,formatHex:$1,formatHex8:JD,formatHsl:tO,formatRgb:K1,toString:K1});function $1(){return this.rgb().formatHex()}function JD(){return this.rgb().formatHex8()}function tO(){return db(this).formatHsl()}function K1(){return this.rgb().formatRgb()}function hs(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=$D.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?Y1(t):e===3?new Nn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=KD.exec(n))?new Nn(t[1],t[2],t[3],1):(t=YD.exec(n))?new Nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QD.exec(n))?sh(t[1],t[2],t[3],t[4]):(t=XD.exec(n))?sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZD.exec(n))?Z1(t[1],t[2]/100,t[3]/100,1):(t=WD.exec(n))?Z1(t[1],t[2]/100,t[3]/100,t[4]):F1.hasOwnProperty(n)?Y1(F1[n]):n==="transparent"?new Nn(NaN,NaN,NaN,0):null}function Y1(n){return new Nn(n>>16&255,n>>8&255,n&255,1)}function sh(n,t,e,a){return a<=0&&(n=t=e=NaN),new Nn(n,t,e,a)}function eO(n){return n instanceof Du||(n=hs(n)),n?(n=n.rgb(),new Nn(n.r,n.g,n.b,n.opacity)):new Nn}function Dm(n,t,e,a){return arguments.length===1?eO(n):new Nn(n,t,e,a??1)}function Nn(n,t,e,a){this.r=+n,this.g=+t,this.b=+e,this.opacity=+a}zg(Nn,Dm,fb(Du,{brighter(n){return n=n==null?Xh:Math.pow(Xh,n),new Nn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?yu:Math.pow(yu,n),new Nn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Nn(as(this.r),as(this.g),as(this.b),Zh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q1,formatHex:Q1,formatHex8:nO,formatRgb:X1,toString:X1}));function Q1(){return`#${es(this.r)}${es(this.g)}${es(this.b)}`}function nO(){return`#${es(this.r)}${es(this.g)}${es(this.b)}${es((isNaN(this.opacity)?1:this.opacity)*255)}`}function X1(){const n=Zh(this.opacity);return`${n===1?"rgb(":"rgba("}${as(this.r)}, ${as(this.g)}, ${as(this.b)}${n===1?")":`, ${n})`}`}function Zh(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function as(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function es(n){return n=as(n),(n<16?"0":"")+n.toString(16)}function Z1(n,t,e,a){return a<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new fr(n,t,e,a)}function db(n){if(n instanceof fr)return new fr(n.h,n.s,n.l,n.opacity);if(n instanceof Du||(n=hs(n)),!n)return new fr;if(n instanceof fr)return n;n=n.rgb();var t=n.r/255,e=n.g/255,a=n.b/255,o=Math.min(t,e,a),u=Math.max(t,e,a),h=NaN,d=u-o,m=(u+o)/2;return d?(t===u?h=(e-a)/d+(e<a)*6:e===u?h=(a-t)/d+2:h=(t-e)/d+4,d/=m<.5?u+o:2-u-o,h*=60):d=m>0&&m<1?0:h,new fr(h,d,m,n.opacity)}function rO(n,t,e,a){return arguments.length===1?db(n):new fr(n,t,e,a??1)}function fr(n,t,e,a){this.h=+n,this.s=+t,this.l=+e,this.opacity=+a}zg(fr,rO,fb(Du,{brighter(n){return n=n==null?Xh:Math.pow(Xh,n),new fr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?yu:Math.pow(yu,n),new fr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,a=e+(e<.5?e:1-e)*t,o=2*e-a;return new Nn(Hp(n>=240?n-240:n+120,o,a),Hp(n,o,a),Hp(n<120?n+240:n-120,o,a),this.opacity)},clamp(){return new fr(W1(this.h),oh(this.s),oh(this.l),Zh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Zh(this.opacity);return`${n===1?"hsl(":"hsla("}${W1(this.h)}, ${oh(this.s)*100}%, ${oh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function W1(n){return n=(n||0)%360,n<0?n+360:n}function oh(n){return Math.max(0,Math.min(1,n||0))}function Hp(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const jg=n=>()=>n;function iO(n,t){return function(e){return n+e*t}}function aO(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(a){return Math.pow(n+a*t,e)}}function sO(n){return(n=+n)==1?pb:function(t,e){return e-t?aO(t,e,n):jg(isNaN(t)?e:t)}}function pb(n,t){var e=t-n;return e?iO(n,e):jg(isNaN(n)?t:n)}const Wh=function n(t){var e=sO(t);function a(o,u){var h=e((o=Dm(o)).r,(u=Dm(u)).r),d=e(o.g,u.g),m=e(o.b,u.b),g=pb(o.opacity,u.opacity);return function(_){return o.r=h(_),o.g=d(_),o.b=m(_),o.opacity=g(_),o+""}}return a.gamma=n,a}(1);function oO(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,a=t.slice(),o;return function(u){for(o=0;o<e;++o)a[o]=n[o]*(1-u)+t[o]*u;return a}}function lO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function uO(n,t){var e=t?t.length:0,a=n?Math.min(e,n.length):0,o=new Array(a),u=new Array(e),h;for(h=0;h<a;++h)o[h]=Gg(n[h],t[h]);for(;h<e;++h)u[h]=t[h];return function(d){for(h=0;h<a;++h)u[h]=o[h](d);return u}}function cO(n,t){var e=new Date;return n=+n,t=+t,function(a){return e.setTime(n*(1-a)+t*a),e}}function cr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function hO(n,t){var e={},a={},o;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in n?e[o]=Gg(n[o],t[o]):a[o]=t[o];return function(u){for(o in e)a[o]=e[o](u);return a}}var Om=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qp=new RegExp(Om.source,"g");function fO(n){return function(){return n}}function dO(n){return function(t){return n(t)+""}}function mb(n,t){var e=Om.lastIndex=qp.lastIndex=0,a,o,u,h=-1,d=[],m=[];for(n=n+"",t=t+"";(a=Om.exec(n))&&(o=qp.exec(t));)(u=o.index)>e&&(u=t.slice(e,u),d[h]?d[h]+=u:d[++h]=u),(a=a[0])===(o=o[0])?d[h]?d[h]+=o:d[++h]=o:(d[++h]=null,m.push({i:h,x:cr(a,o)})),e=qp.lastIndex;return e<t.length&&(u=t.slice(e),d[h]?d[h]+=u:d[++h]=u),d.length<2?m[0]?dO(m[0].x):fO(t):(t=m.length,function(g){for(var _=0,w;_<t;++_)d[(w=m[_]).i]=w.x(g);return d.join("")})}function Gg(n,t){var e=typeof t,a;return t==null||e==="boolean"?jg(t):(e==="number"?cr:e==="string"?(a=hs(t))?(t=a,Wh):mb:t instanceof hs?Wh:t instanceof Date?cO:lO(t)?oO:Array.isArray(t)?uO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hO:cr)(n,t)}function pO(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var J1=180/Math.PI,km={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gb(n,t,e,a,o,u){var h,d,m;return(h=Math.sqrt(n*n+t*t))&&(n/=h,t/=h),(m=n*e+t*a)&&(e-=n*m,a-=t*m),(d=Math.sqrt(e*e+a*a))&&(e/=d,a/=d,m/=d),n*a<t*e&&(n=-n,t=-t,m=-m,h=-h),{translateX:o,translateY:u,rotate:Math.atan2(t,n)*J1,skewX:Math.atan(m)*J1,scaleX:h,scaleY:d}}var lh;function mO(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?km:gb(t.a,t.b,t.c,t.d,t.e,t.f)}function gO(n){return n==null||(lh||(lh=document.createElementNS("http://www.w3.org/2000/svg","g")),lh.setAttribute("transform",n),!(n=lh.transform.baseVal.consolidate()))?km:(n=n.matrix,gb(n.a,n.b,n.c,n.d,n.e,n.f))}function yb(n,t,e,a){function o(g){return g.length?g.pop()+" ":""}function u(g,_,w,b,M,F){if(g!==w||_!==b){var W=M.push("translate(",null,t,null,e);F.push({i:W-4,x:cr(g,w)},{i:W-2,x:cr(_,b)})}else(w||b)&&M.push("translate("+w+t+b+e)}function h(g,_,w,b){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),b.push({i:w.push(o(w)+"rotate(",null,a)-2,x:cr(g,_)})):_&&w.push(o(w)+"rotate("+_+a)}function d(g,_,w,b){g!==_?b.push({i:w.push(o(w)+"skewX(",null,a)-2,x:cr(g,_)}):_&&w.push(o(w)+"skewX("+_+a)}function m(g,_,w,b,M,F){if(g!==w||_!==b){var W=M.push(o(M)+"scale(",null,",",null,")");F.push({i:W-4,x:cr(g,w)},{i:W-2,x:cr(_,b)})}else(w!==1||b!==1)&&M.push(o(M)+"scale("+w+","+b+")")}return function(g,_){var w=[],b=[];return g=n(g),_=n(_),u(g.translateX,g.translateY,_.translateX,_.translateY,w,b),h(g.rotate,_.rotate,w,b),d(g.skewX,_.skewX,w,b),m(g.scaleX,g.scaleY,_.scaleX,_.scaleY,w,b),g=_=null,function(M){for(var F=-1,W=b.length,Q;++F<W;)w[(Q=b[F]).i]=Q.x(M);return w.join("")}}}var yO=yb(mO,"px, ","px)","deg)"),_O=yb(gO,", ",")",")"),xo=0,Zl=0,Hl=0,_b=1e3,Jh,Wl,tf=0,fs=0,bf=0,vu=typeof performance=="object"&&performance.now?performance:Date,vb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Hg(){return fs||(vb(vO),fs=vu.now()+bf)}function vO(){fs=0}function ef(){this._call=this._time=this._next=null}ef.prototype=Eb.prototype={constructor:ef,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Hg():+e)+(t==null?0:+t),!this._next&&Wl!==this&&(Wl?Wl._next=this:Jh=this,Wl=this),this._call=n,this._time=e,Vm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vm())}};function Eb(n,t,e){var a=new ef;return a.restart(n,t,e),a}function EO(){Hg(),++xo;for(var n=Jh,t;n;)(t=fs-n._time)>=0&&n._call.call(void 0,t),n=n._next;--xo}function tE(){fs=(tf=vu.now())+bf,xo=Zl=0;try{EO()}finally{xo=0,wO(),fs=0}}function TO(){var n=vu.now(),t=n-tf;t>_b&&(bf-=t,tf=n)}function wO(){for(var n,t=Jh,e,a=1/0;t;)t._call?(a>t._time&&(a=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Jh=e);Wl=n,Vm(a)}function Vm(n){if(!xo){Zl&&(Zl=clearTimeout(Zl));var t=n-fs;t>24?(n<1/0&&(Zl=setTimeout(tE,n-vu.now()-bf)),Hl&&(Hl=clearInterval(Hl))):(Hl||(tf=vu.now(),Hl=setInterval(TO,_b)),xo=1,vb(tE))}}function eE(n,t,e){var a=new ef;return t=t==null?0:+t,a.restart(o=>{a.stop(),n(o+t)},t,e),a}var bO=tb("start","end","cancel","interrupt"),SO=[],Tb=0,nE=1,Pm=2,bh=3,rE=4,Lm=5,Sh=6;function Sf(n,t,e,a,o,u){var h=n.__transition;if(!h)n.__transition={};else if(e in h)return;AO(n,e,{name:t,index:a,group:o,on:bO,tween:SO,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Tb})}function qg(n,t){var e=gr(n,t);if(e.state>Tb)throw new Error("too late; already scheduled");return e}function Fr(n,t){var e=gr(n,t);if(e.state>bh)throw new Error("too late; already running");return e}function gr(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function AO(n,t,e){var a=n.__transition,o;a[t]=e,e.timer=Eb(u,0,e.time);function u(g){e.state=nE,e.timer.restart(h,e.delay,e.time),e.delay<=g&&h(g-e.delay)}function h(g){var _,w,b,M;if(e.state!==nE)return m();for(_ in a)if(M=a[_],M.name===e.name){if(M.state===bh)return eE(h);M.state===rE?(M.state=Sh,M.timer.stop(),M.on.call("interrupt",n,n.__data__,M.index,M.group),delete a[_]):+_<t&&(M.state=Sh,M.timer.stop(),M.on.call("cancel",n,n.__data__,M.index,M.group),delete a[_])}if(eE(function(){e.state===bh&&(e.state=rE,e.timer.restart(d,e.delay,e.time),d(g))}),e.state=Pm,e.on.call("start",n,n.__data__,e.index,e.group),e.state===Pm){for(e.state=bh,o=new Array(b=e.tween.length),_=0,w=-1;_<b;++_)(M=e.tween[_].value.call(n,n.__data__,e.index,e.group))&&(o[++w]=M);o.length=w+1}}function d(g){for(var _=g<e.duration?e.ease.call(null,g/e.duration):(e.timer.restart(m),e.state=Lm,1),w=-1,b=o.length;++w<b;)o[w].call(n,_);e.state===Lm&&(e.on.call("end",n,n.__data__,e.index,e.group),m())}function m(){e.state=Sh,e.timer.stop(),delete a[t];for(var g in a)return;delete n.__transition}}function RO(n,t){var e=n.__transition,a,o,u=!0,h;if(e){t=t==null?null:t+"";for(h in e){if((a=e[h]).name!==t){u=!1;continue}o=a.state>Pm&&a.state<Lm,a.state=Sh,a.timer.stop(),a.on.call(o?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete e[h]}u&&delete n.__transition}}function CO(n){return this.each(function(){RO(this,n)})}function IO(n,t){var e,a;return function(){var o=Fr(this,n),u=o.tween;if(u!==e){a=e=u;for(var h=0,d=a.length;h<d;++h)if(a[h].name===t){a=a.slice(),a.splice(h,1);break}}o.tween=a}}function xO(n,t,e){var a,o;if(typeof e!="function")throw new Error;return function(){var u=Fr(this,n),h=u.tween;if(h!==a){o=(a=h).slice();for(var d={name:t,value:e},m=0,g=o.length;m<g;++m)if(o[m].name===t){o[m]=d;break}m===g&&o.push(d)}u.tween=o}}function MO(n,t){var e=this._id;if(n+="",arguments.length<2){for(var a=gr(this.node(),e).tween,o=0,u=a.length,h;o<u;++o)if((h=a[o]).name===n)return h.value;return null}return this.each((t==null?IO:xO)(e,n,t))}function Fg(n,t,e){var a=n._id;return n.each(function(){var o=Fr(this,a);(o.value||(o.value={}))[t]=e.apply(this,arguments)}),function(o){return gr(o,a).value[t]}}function wb(n,t){var e;return(typeof t=="number"?cr:t instanceof hs?Wh:(e=hs(t))?(t=e,Wh):mb)(n,t)}function NO(n){return function(){this.removeAttribute(n)}}function DO(n){return function(){this.removeAttributeNS(n.space,n.local)}}function OO(n,t,e){var a,o=e+"",u;return function(){var h=this.getAttribute(n);return h===o?null:h===a?u:u=t(a=h,e)}}function kO(n,t,e){var a,o=e+"",u;return function(){var h=this.getAttributeNS(n.space,n.local);return h===o?null:h===a?u:u=t(a=h,e)}}function VO(n,t,e){var a,o,u;return function(){var h,d=e(this),m;return d==null?void this.removeAttribute(n):(h=this.getAttribute(n),m=d+"",h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d)))}}function PO(n,t,e){var a,o,u;return function(){var h,d=e(this),m;return d==null?void this.removeAttributeNS(n.space,n.local):(h=this.getAttributeNS(n.space,n.local),m=d+"",h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d)))}}function LO(n,t){var e=wf(n),a=e==="transform"?_O:wb;return this.attrTween(n,typeof t=="function"?(e.local?PO:VO)(e,a,Fg(this,"attr."+n,t)):t==null?(e.local?DO:NO)(e):(e.local?kO:OO)(e,a,t))}function UO(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function BO(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function zO(n,t){var e,a;function o(){var u=t.apply(this,arguments);return u!==a&&(e=(a=u)&&BO(n,u)),e}return o._value=t,o}function jO(n,t){var e,a;function o(){var u=t.apply(this,arguments);return u!==a&&(e=(a=u)&&UO(n,u)),e}return o._value=t,o}function GO(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var a=wf(n);return this.tween(e,(a.local?zO:jO)(a,t))}function HO(n,t){return function(){qg(this,n).delay=+t.apply(this,arguments)}}function qO(n,t){return t=+t,function(){qg(this,n).delay=t}}function FO(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?HO:qO)(t,n)):gr(this.node(),t).delay}function $O(n,t){return function(){Fr(this,n).duration=+t.apply(this,arguments)}}function KO(n,t){return t=+t,function(){Fr(this,n).duration=t}}function YO(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?$O:KO)(t,n)):gr(this.node(),t).duration}function QO(n,t){if(typeof t!="function")throw new Error;return function(){Fr(this,n).ease=t}}function XO(n){var t=this._id;return arguments.length?this.each(QO(t,n)):gr(this.node(),t).ease}function ZO(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;Fr(this,n).ease=e}}function WO(n){if(typeof n!="function")throw new Error;return this.each(ZO(this._id,n))}function JO(n){typeof n!="function"&&(n=nb(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=[],m,g=0;g<h;++g)(m=u[g])&&n.call(m,m.__data__,g,u)&&d.push(m);return new Ri(a,this._parents,this._name,this._id)}function tk(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,a=t.length,o=e.length,u=Math.min(a,o),h=new Array(a),d=0;d<u;++d)for(var m=t[d],g=e[d],_=m.length,w=h[d]=new Array(_),b,M=0;M<_;++M)(b=m[M]||g[M])&&(w[M]=b);for(;d<a;++d)h[d]=t[d];return new Ri(h,this._parents,this._name,this._id)}function ek(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function nk(n,t,e){var a,o,u=ek(t)?qg:Fr;return function(){var h=u(this,n),d=h.on;d!==a&&(o=(a=d).copy()).on(t,e),h.on=o}}function rk(n,t){var e=this._id;return arguments.length<2?gr(this.node(),e).on.on(n):this.each(nk(e,n,t))}function ik(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function ak(){return this.on("end.remove",ik(this._id))}function sk(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Ug(n));for(var a=this._groups,o=a.length,u=new Array(o),h=0;h<o;++h)for(var d=a[h],m=d.length,g=u[h]=new Array(m),_,w,b=0;b<m;++b)(_=d[b])&&(w=n.call(_,_.__data__,b,d))&&("__data__"in _&&(w.__data__=_.__data__),g[b]=w,Sf(g[b],t,e,b,g,gr(_,e)));return new Ri(u,this._parents,t,e)}function ok(n){var t=this._name,e=this._id;typeof n!="function"&&(n=eb(n));for(var a=this._groups,o=a.length,u=[],h=[],d=0;d<o;++d)for(var m=a[d],g=m.length,_,w=0;w<g;++w)if(_=m[w]){for(var b=n.call(_,_.__data__,w,m),M,F=gr(_,e),W=0,Q=b.length;W<Q;++W)(M=b[W])&&Sf(M,t,e,W,b,F);u.push(b),h.push(_)}return new Ri(u,h,t,e)}var lk=Nu.prototype.constructor;function uk(){return new lk(this._groups,this._parents)}function ck(n,t){var e,a,o;return function(){var u=Io(this,n),h=(this.style.removeProperty(n),Io(this,n));return u===h?null:u===e&&h===a?o:o=t(e=u,a=h)}}function bb(n){return function(){this.style.removeProperty(n)}}function hk(n,t,e){var a,o=e+"",u;return function(){var h=Io(this,n);return h===o?null:h===a?u:u=t(a=h,e)}}function fk(n,t,e){var a,o,u;return function(){var h=Io(this,n),d=e(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(n),Io(this,n))),h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d))}}function dk(n,t){var e,a,o,u="style."+t,h="end."+u,d;return function(){var m=Fr(this,n),g=m.on,_=m.value[u]==null?d||(d=bb(t)):void 0;(g!==e||o!==_)&&(a=(e=g).copy()).on(h,o=_),m.on=a}}function pk(n,t,e){var a=(n+="")=="transform"?yO:wb;return t==null?this.styleTween(n,ck(n,a)).on("end.style."+n,bb(n)):typeof t=="function"?this.styleTween(n,fk(n,a,Fg(this,"style."+n,t))).each(dk(this._id,n)):this.styleTween(n,hk(n,a,t),e).on("end.style."+n,null)}function mk(n,t,e){return function(a){this.style.setProperty(n,t.call(this,a),e)}}function gk(n,t,e){var a,o;function u(){var h=t.apply(this,arguments);return h!==o&&(a=(o=h)&&mk(n,h,e)),a}return u._value=t,u}function yk(n,t,e){var a="style."+(n+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,gk(n,t,e??""))}function _k(n){return function(){this.textContent=n}}function vk(n){return function(){var t=n(this);this.textContent=t??""}}function Ek(n){return this.tween("text",typeof n=="function"?vk(Fg(this,"text",n)):_k(n==null?"":n+""))}function Tk(n){return function(t){this.textContent=n.call(this,t)}}function wk(n){var t,e;function a(){var o=n.apply(this,arguments);return o!==e&&(t=(e=o)&&Tk(o)),t}return a._value=n,a}function bk(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,wk(n))}function Sk(){for(var n=this._name,t=this._id,e=Sb(),a=this._groups,o=a.length,u=0;u<o;++u)for(var h=a[u],d=h.length,m,g=0;g<d;++g)if(m=h[g]){var _=gr(m,t);Sf(m,n,e,g,h,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Ri(a,this._parents,n,e)}function Ak(){var n,t,e=this,a=e._id,o=e.size();return new Promise(function(u,h){var d={value:h},m={value:function(){--o===0&&u()}};e.each(function(){var g=Fr(this,a),_=g.on;_!==n&&(t=(n=_).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(m)),g.on=t}),o===0&&u()})}var Rk=0;function Ri(n,t,e,a){this._groups=n,this._parents=t,this._name=e,this._id=a}function Sb(){return++Rk}var yi=Nu.prototype;Ri.prototype={constructor:Ri,select:sk,selectAll:ok,selectChild:yi.selectChild,selectChildren:yi.selectChildren,filter:JO,merge:tk,selection:uk,transition:Sk,call:yi.call,nodes:yi.nodes,node:yi.node,size:yi.size,empty:yi.empty,each:yi.each,on:rk,attr:LO,attrTween:GO,style:pk,styleTween:yk,text:Ek,textTween:bk,remove:ak,tween:MO,delay:FO,duration:YO,ease:XO,easeVarying:WO,end:Ak,[Symbol.iterator]:yi[Symbol.iterator]};const iE=n=>+n;function Ck(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Ik={time:null,delay:0,duration:250,ease:Ck};function xk(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function Mk(n){var t,e;n instanceof Ri?(t=n._id,n=n._name):(t=Sb(),(e=Ik).time=Hg(),n=n==null?null:n+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var h=a[u],d=h.length,m,g=0;g<d;++g)(m=h[g])&&Sf(m,n,t,g,h,e||xk(m,t));return new Ri(a,this._parents,n,t)}Nu.prototype.interrupt=CO;Nu.prototype.transition=Mk;const Um=Math.PI,Bm=2*Um,Za=1e-6,Nk=Bm-Za;function Ab(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Dk(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return Ab;const e=10**t;return function(a){this._+=a[0];for(let o=1,u=a.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+a[o]}}class Ok{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ab:Dk(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,a,o){this._append`Q${+t},${+e},${this._x1=+a},${this._y1=+o}`}bezierCurveTo(t,e,a,o,u,h){this._append`C${+t},${+e},${+a},${+o},${this._x1=+u},${this._y1=+h}`}arcTo(t,e,a,o,u){if(t=+t,e=+e,a=+a,o=+o,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,d=this._y1,m=a-t,g=o-e,_=h-t,w=d-e,b=_*_+w*w;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(b>Za)if(!(Math.abs(w*m-g*_)>Za)||!u)this._append`L${this._x1=t},${this._y1=e}`;else{let M=a-h,F=o-d,W=m*m+g*g,Q=M*M+F*F,pt=Math.sqrt(W),dt=Math.sqrt(b),ut=u*Math.tan((Um-Math.acos((W+b-Q)/(2*pt*dt)))/2),gt=ut/dt,ct=ut/pt;Math.abs(gt-1)>Za&&this._append`L${t+gt*_},${e+gt*w}`,this._append`A${u},${u},0,0,${+(w*M>_*F)},${this._x1=t+ct*m},${this._y1=e+ct*g}`}}arc(t,e,a,o,u,h){if(t=+t,e=+e,a=+a,h=!!h,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(o),m=a*Math.sin(o),g=t+d,_=e+m,w=1^h,b=h?o-u:u-o;this._x1===null?this._append`M${g},${_}`:(Math.abs(this._x1-g)>Za||Math.abs(this._y1-_)>Za)&&this._append`L${g},${_}`,a&&(b<0&&(b=b%Bm+Bm),b>Nk?this._append`A${a},${a},0,1,${w},${t-d},${e-m}A${a},${a},0,1,${w},${this._x1=g},${this._y1=_}`:b>Za&&this._append`A${a},${a},0,${+(b>=Um)},${w},${this._x1=t+a*Math.cos(u)},${this._y1=e+a*Math.sin(u)}`)}rect(t,e,a,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${a=+a}v${+o}h${-a}Z`}toString(){return this._}}var aE={},Fp={},$p=34,ql=10,Kp=13;function Rb(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function kk(n,t){var e=Rb(n);return function(a,o){return t(e(a),o,n)}}function sE(n){var t=Object.create(null),e=[];return n.forEach(function(a){for(var o in a)o in t||e.push(t[o]=o)}),e}function xn(n,t){var e=n+"",a=e.length;return a<t?new Array(t-a+1).join(0)+e:e}function Vk(n){return n<0?"-"+xn(-n,6):n>9999?"+"+xn(n,6):xn(n,4)}function Pk(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),a=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":Vk(n.getUTCFullYear())+"-"+xn(n.getUTCMonth()+1,2)+"-"+xn(n.getUTCDate(),2)+(o?"T"+xn(t,2)+":"+xn(e,2)+":"+xn(a,2)+"."+xn(o,3)+"Z":a?"T"+xn(t,2)+":"+xn(e,2)+":"+xn(a,2)+"Z":e||t?"T"+xn(t,2)+":"+xn(e,2)+"Z":"")}function Lk(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function a(w,b){var M,F,W=o(w,function(Q,pt){if(M)return M(Q,pt-1);F=Q,M=b?kk(Q,b):Rb(Q)});return W.columns=F||[],W}function o(w,b){var M=[],F=w.length,W=0,Q=0,pt,dt=F<=0,ut=!1;w.charCodeAt(F-1)===ql&&--F,w.charCodeAt(F-1)===Kp&&--F;function gt(){if(dt)return Fp;if(ut)return ut=!1,aE;var Et,k=W,C;if(w.charCodeAt(k)===$p){for(;W++<F&&w.charCodeAt(W)!==$p||w.charCodeAt(++W)===$p;);return(Et=W)>=F?dt=!0:(C=w.charCodeAt(W++))===ql?ut=!0:C===Kp&&(ut=!0,w.charCodeAt(W)===ql&&++W),w.slice(k+1,Et-1).replace(/""/g,'"')}for(;W<F;){if((C=w.charCodeAt(Et=W++))===ql)ut=!0;else if(C===Kp)ut=!0,w.charCodeAt(W)===ql&&++W;else if(C!==e)continue;return w.slice(k,Et)}return dt=!0,w.slice(k,F)}for(;(pt=gt())!==Fp;){for(var ct=[];pt!==aE&&pt!==Fp;)ct.push(pt),pt=gt();b&&(ct=b(ct,Q++))==null||M.push(ct)}return M}function u(w,b){return w.map(function(M){return b.map(function(F){return _(M[F])}).join(n)})}function h(w,b){return b==null&&(b=sE(w)),[b.map(_).join(n)].concat(u(w,b)).join(`
`)}function d(w,b){return b==null&&(b=sE(w)),u(w,b).join(`
`)}function m(w){return w.map(g).join(`
`)}function g(w){return w.map(_).join(n)}function _(w){return w==null?"":w instanceof Date?Pk(w):t.test(w+="")?'"'+w.replace(/"/g,'""')+'"':w}return{parse:a,parseRows:o,format:h,formatBody:d,formatRows:m,formatRow:g,formatValue:_}}var Uk=Lk(","),Bk=Uk.parse;function Cb(n){for(var t in n){var e=n[t].trim(),a,o;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(a=+e))e=a;else if(o=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))zk&&o[4]&&!o[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[t]=e}return n}const zk=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function jk(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function Gk(n,t){return fetch(n,t).then(jk)}function Hk(n){return function(t,e,a){return arguments.length===2&&typeof e=="function"&&(a=e,e=void 0),Gk(t,e).then(function(o){return n(o,a)})}}var Ib=Hk(Bk);function qk(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function nf(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,a=n.slice(0,e);return[a.length>1?a[0]+a.slice(2):a,+n.slice(e+1)]}function Mo(n){return n=nf(Math.abs(n)),n?n[1]:NaN}function Fk(n,t){return function(e,a){for(var o=e.length,u=[],h=0,d=n[0],m=0;o>0&&d>0&&(m+d+1>a&&(d=Math.max(1,a-m)),u.push(e.substring(o-=d,o+d)),!((m+=d+1)>a));)d=n[h=(h+1)%n.length];return u.reverse().join(t)}}function $k(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var Kk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rf(n){if(!(t=Kk.exec(n)))throw new Error("invalid format: "+n);var t;return new $g({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rf.prototype=$g.prototype;function $g(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}$g.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yk(n){t:for(var t=n.length,e=1,a=-1,o;e<t;++e)switch(n[e]){case".":a=o=e;break;case"0":a===0&&(a=e),o=e;break;default:if(!+n[e])break t;a>0&&(a=0);break}return a>0?n.slice(0,a)+n.slice(o+1):n}var xb;function Qk(n,t){var e=nf(n,t);if(!e)return n+"";var a=e[0],o=e[1],u=o-(xb=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,h=a.length;return u===h?a:u>h?a+new Array(u-h+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+nf(n,Math.max(0,t+u-1))[0]}function oE(n,t){var e=nf(n,t);if(!e)return n+"";var a=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}const lE={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:qk,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>oE(n*100,t),r:oE,s:Qk,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function uE(n){return n}var cE=Array.prototype.map,hE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xk(n){var t=n.grouping===void 0||n.thousands===void 0?uE:Fk(cE.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",a=n.currency===void 0?"":n.currency[1]+"",o=n.decimal===void 0?".":n.decimal+"",u=n.numerals===void 0?uE:$k(cE.call(n.numerals,String)),h=n.percent===void 0?"%":n.percent+"",d=n.minus===void 0?"":n.minus+"",m=n.nan===void 0?"NaN":n.nan+"";function g(w){w=rf(w);var b=w.fill,M=w.align,F=w.sign,W=w.symbol,Q=w.zero,pt=w.width,dt=w.comma,ut=w.precision,gt=w.trim,ct=w.type;ct==="n"?(dt=!0,ct="g"):lE[ct]||(ut===void 0&&(ut=12),gt=!0,ct="g"),(Q||b==="0"&&M==="=")&&(Q=!0,b="0",M="=");var Et=W==="$"?e:W==="#"&&/[boxX]/.test(ct)?"0"+ct.toLowerCase():"",k=W==="$"?a:/[%p]/.test(ct)?h:"",C=lE[ct],I=/[defgprs%]/.test(ct);ut=ut===void 0?6:/[gprs]/.test(ct)?Math.max(1,Math.min(21,ut)):Math.max(0,Math.min(20,ut));function O(N){var P=Et,x=k,K,G,D;if(ct==="c")x=C(N)+x,N="";else{N=+N;var U=N<0||1/N<0;if(N=isNaN(N)?m:C(Math.abs(N),ut),gt&&(N=Yk(N)),U&&+N==0&&F!=="+"&&(U=!1),P=(U?F==="("?F:d:F==="-"||F==="("?"":F)+P,x=(ct==="s"?hE[8+xb/3]:"")+x+(U&&F==="("?")":""),I){for(K=-1,G=N.length;++K<G;)if(D=N.charCodeAt(K),48>D||D>57){x=(D===46?o+N.slice(K+1):N.slice(K))+x,N=N.slice(0,K);break}}}dt&&!Q&&(N=t(N,1/0));var H=P.length+N.length+x.length,Z=H<pt?new Array(pt-H+1).join(b):"";switch(dt&&Q&&(N=t(Z+N,Z.length?pt-x.length:1/0),Z=""),M){case"<":N=P+N+x+Z;break;case"=":N=P+Z+N+x;break;case"^":N=Z.slice(0,H=Z.length>>1)+P+N+x+Z.slice(H);break;default:N=Z+P+N+x;break}return u(N)}return O.toString=function(){return w+""},O}function _(w,b){var M=g((w=rf(w),w.type="f",w)),F=Math.max(-8,Math.min(8,Math.floor(Mo(b)/3)))*3,W=Math.pow(10,-F),Q=hE[8+F/3];return function(pt){return M(W*pt)+Q}}return{format:g,formatPrefix:_}}var uh,Mb,Nb;Zk({thousands:",",grouping:[3],currency:["$",""]});function Zk(n){return uh=Xk(n),Mb=uh.format,Nb=uh.formatPrefix,uh}function Wk(n){return Math.max(0,-Mo(Math.abs(n)))}function Jk(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mo(t)/3)))*3-Mo(Math.abs(n)))}function t3(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Mo(t)-Mo(n))+1}function Kg(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const fE=Symbol("implicit");function Db(){var n=new Am,t=[],e=[],a=fE;function o(u){let h=n.get(u);if(h===void 0){if(a!==fE)return a;n.set(u,h=t.push(u)-1)}return e[h%e.length]}return o.domain=function(u){if(!arguments.length)return t.slice();t=[],n=new Am;for(const h of u)n.has(h)||n.set(h,t.push(h)-1);return o},o.range=function(u){return arguments.length?(e=Array.from(u),o):e.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.copy=function(){return Db(t,e).unknown(a)},Kg.apply(o,arguments),o}function Ob(){var n=Db().unknown(void 0),t=n.domain,e=n.range,a=0,o=1,u,h,d=!1,m=0,g=0,_=.5;delete n.unknown;function w(){var b=t().length,M=o<a,F=M?o:a,W=M?a:o;u=(W-F)/Math.max(1,b-m+g*2),d&&(u=Math.floor(u)),F+=(W-F-u*(b-m))*_,h=u*(1-m),d&&(F=Math.round(F),h=Math.round(h));var Q=e4(b).map(function(pt){return F+u*pt});return e(M?Q.reverse():Q)}return n.domain=function(b){return arguments.length?(t(b),w()):t()},n.range=function(b){return arguments.length?([a,o]=b,a=+a,o=+o,w()):[a,o]},n.rangeRound=function(b){return[a,o]=b,a=+a,o=+o,d=!0,w()},n.bandwidth=function(){return h},n.step=function(){return u},n.round=function(b){return arguments.length?(d=!!b,w()):d},n.padding=function(b){return arguments.length?(m=Math.min(1,g=+b),w()):m},n.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),w()):m},n.paddingOuter=function(b){return arguments.length?(g=+b,w()):g},n.align=function(b){return arguments.length?(_=Math.max(0,Math.min(1,b)),w()):_},n.copy=function(){return Ob(t(),[a,o]).round(d).paddingInner(m).paddingOuter(g).align(_)},Kg.apply(w(),arguments)}function e3(n){return function(){return n}}function n3(n){return+n}var dE=[0,1];function fo(n){return n}function zm(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:e3(isNaN(t)?NaN:.5)}function r3(n,t){var e;return n>t&&(e=n,n=t,t=e),function(a){return Math.max(n,Math.min(t,a))}}function i3(n,t,e){var a=n[0],o=n[1],u=t[0],h=t[1];return o<a?(a=zm(o,a),u=e(h,u)):(a=zm(a,o),u=e(u,h)),function(d){return u(a(d))}}function a3(n,t,e){var a=Math.min(n.length,t.length)-1,o=new Array(a),u=new Array(a),h=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++h<a;)o[h]=zm(n[h],n[h+1]),u[h]=e(t[h],t[h+1]);return function(d){var m=FN(n,d,1,a)-1;return u[m](o[m](d))}}function s3(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function o3(){var n=dE,t=dE,e=Gg,a,o,u,h=fo,d,m,g;function _(){var b=Math.min(n.length,t.length);return h!==fo&&(h=r3(n[0],n[b-1])),d=b>2?a3:i3,m=g=null,w}function w(b){return b==null||isNaN(b=+b)?u:(m||(m=d(n.map(a),t,e)))(a(h(b)))}return w.invert=function(b){return h(o((g||(g=d(t,n.map(a),cr)))(b)))},w.domain=function(b){return arguments.length?(n=Array.from(b,n3),_()):n.slice()},w.range=function(b){return arguments.length?(t=Array.from(b),_()):t.slice()},w.rangeRound=function(b){return t=Array.from(b),e=pO,_()},w.clamp=function(b){return arguments.length?(h=b?!0:fo,_()):h!==fo},w.interpolate=function(b){return arguments.length?(e=b,_()):e},w.unknown=function(b){return arguments.length?(u=b,w):u},function(b,M){return a=b,o=M,_()}}function l3(){return o3()(fo,fo)}function u3(n,t,e,a){var o=t4(n,t,e),u;switch(a=rf(a??",f"),a.type){case"s":{var h=Math.max(Math.abs(n),Math.abs(t));return a.precision==null&&!isNaN(u=Jk(o,h))&&(a.precision=u),Nb(a,h)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(u=t3(o,Math.max(Math.abs(n),Math.abs(t))))&&(a.precision=u-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(u=Wk(o))&&(a.precision=u-(a.type==="%")*2);break}}return Mb(a)}function c3(n){var t=n.domain;return n.ticks=function(e){var a=t();return JN(a[0],a[a.length-1],e??10)},n.tickFormat=function(e,a){var o=t();return u3(o[0],o[o.length-1],e??10,a)},n.nice=function(e){e==null&&(e=10);var a=t(),o=0,u=a.length-1,h=a[o],d=a[u],m,g,_=10;for(d<h&&(g=h,h=d,d=g,g=o,o=u,u=g);_-- >0;){if(g=Cm(h,d,e),g===m)return a[o]=h,a[u]=d,t(a);if(g>0)h=Math.floor(h/g)*g,d=Math.ceil(d/g)*g;else if(g<0)h=Math.ceil(h*g)/g,d=Math.floor(d*g)/g;else break;m=g}return n},n}function vo(){var n=l3();return n.copy=function(){return s3(n,vo())},Kg.apply(n,arguments),c3(n)}function oo(n){return function(){return n}}function h3(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const a=Math.floor(e);if(!(a>=0))throw new RangeError(`invalid digits: ${e}`);t=a}return n},()=>new Ok(t)}function f3(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function kb(n){this._context=n}kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function d3(n){return new kb(n)}function p3(n){return n[0]}function m3(n){return n[1]}function Vb(n,t){var e=oo(!0),a=null,o=d3,u=null,h=h3(d);n=typeof n=="function"?n:n===void 0?p3:oo(n),t=typeof t=="function"?t:t===void 0?m3:oo(t);function d(m){var g,_=(m=f3(m)).length,w,b=!1,M;for(a==null&&(u=o(M=h())),g=0;g<=_;++g)!(g<_&&e(w=m[g],g,m))===b&&((b=!b)?u.lineStart():u.lineEnd()),b&&u.point(+n(w,g,m),+t(w,g,m));if(M)return u=null,M+""||null}return d.x=function(m){return arguments.length?(n=typeof m=="function"?m:oo(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:oo(+m),d):t},d.defined=function(m){return arguments.length?(e=typeof m=="function"?m:oo(!!m),d):e},d.curve=function(m){return arguments.length?(o=m,a!=null&&(u=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=u=null:u=o(a=m),d):a},d}function pE(n){return n<0?-1:1}function mE(n,t,e){var a=n._x1-n._x0,o=t-n._x1,u=(n._y1-n._y0)/(a||o<0&&-0),h=(e-n._y1)/(o||a<0&&-0),d=(u*o+h*a)/(a+o);return(pE(u)+pE(h))*Math.min(Math.abs(u),Math.abs(h),.5*Math.abs(d))||0}function gE(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function Yp(n,t,e){var a=n._x0,o=n._y0,u=n._x1,h=n._y1,d=(u-a)/3;n._context.bezierCurveTo(a+d,o+d*t,u-d,h-d*e,u,h)}function af(n){this._context=n}af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yp(this,this._t0,gE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,Yp(this,gE(this,e=mE(this,n,t)),e);break;default:Yp(this,this._t0,e=mE(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};Object.create(af.prototype).point=function(n,t){af.prototype.point.call(this,t,n)};function Pb(n){return new af(n)}function Jl(n,t,e){this.k=n,this.x=t,this.y=e}Jl.prototype={constructor:Jl,scale:function(n){return n===1?this:new Jl(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Jl(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Jl.prototype;function g3(n){const[t,e]=St.useState({width:0,height:0});return St.useEffect(()=>{const a=n.current;if(!a)return;const o=new ResizeObserver(([u])=>e(u.contentRect));return o.observe(a),()=>o.disconnect()},[n]),t}const Vr=["#3b9e9e","#4f7cac","#b48f2b","#8c6fa8","#d17968"],y3=JSON.parse('[{"country":"Afghanistan","population":37172386},{"country":"Albania","population":2866376},{"country":"Algeria","population":42228429},{"country":"American Samoa","population":55465},{"country":"Andorra","population":77006},{"country":"Angola","population":30809762},{"country":"Anguilla","population":15094},{"country":"Antarctica","population":1106},{"country":"Antigua and Barbuda","population":96286},{"country":"Argentina","population":44494502},{"country":"Armenia","population":2951776},{"country":"Aruba","population":105845},{"country":"Australia","population":24982688},{"country":"Austria","population":8840521},{"country":"Azerbaijan","population":9939800},{"country":"Bahamas","population":385640},{"country":"Bahrain","population":1569439},{"country":"Bangladesh","population":161356039},{"country":"Barbados","population":286641},{"country":"Belarus","population":9483499},{"country":"Belgium","population":11433256},{"country":"Belize","population":383071},{"country":"Benin","population":11485048},{"country":"Bermuda","population":63973},{"country":"Bhutan","population":754394},{"country":"Bolivia","population":11353142},{"country":"Bosnia and Herzegovina","population":3323929},{"country":"Botswana","population":2254126},{"country":"Bouvet Island","population":0},{"country":"Brazil","population":209469333},{"country":"British Indian Ocean Territory","population":0},{"country":"Brunei","population":428962},{"country":"Bulgaria","population":7025037},{"country":"Burkina Faso","population":19751535},{"country":"Burundi","population":11175378},{"country":"Cabo Verde","population":555987},{"country":"Cambodia","population":16249798},{"country":"Cameroon","population":25216237},{"country":"Canada","population":37057765},{"country":"Cape Verde","population":543767},{"country":"Cayman Islands","population":64174},{"country":"Central African Republic","population":4666377},{"country":"Chad","population":15477751},{"country":"Chile","population":18729160},{"country":"China","population":1392730000},{"country":"Christmas Island","population":1402},{"country":"Cocos (Keeling) Islands","population":596},{"country":"Colombia","population":49648685},{"country":"Comoros","population":832322},{"country":"Congo","population":5244363},{"country":"Cook Islands","population":17379},{"country":"Costa Rica","population":4999441},{"country":"Croatia","population":4087843},{"country":"Cuba","population":11338138},{"country":"Cyprus","population":1189265},{"country":"Czech Republic","population":10629928},{"country":"Denmark","population":5793636},{"country":"Djibouti","population":958920},{"country":"Dominica","population":71625},{"country":"Dominican Republic","population":10627165},{"country":"East Timor","population":1267972},{"country":"Ecuador","population":17084357},{"country":"Egypt","population":98423595},{"country":"El Salvador","population":6420744},{"country":"England","population":55619400},{"country":"Equatorial Guinea","population":1308974},{"country":"Eritrea","population":6213972},{"country":"Estonia","population":1321977},{"country":"Eswatini","population":1136191},{"country":"Ethiopia","population":109224559},{"country":"Falkland Islands","population":2840},{"country":"Faroe Islands","population":48497},{"country":"Fiji Islands","population":883483},{"country":"Finland","population":5515525},{"country":"France","population":66977107},{"country":"French Guiana","population":290691},{"country":"French Polynesia","population":277679},{"country":"French Southern territories","population":0},{"country":"Gabon","population":2119275},{"country":"Gambia","population":2280102},{"country":"Georgia","population":3726549},{"country":"Germany","population":82905782},{"country":"Ghana","population":29767108},{"country":"Gibraltar","population":33718},{"country":"Greece","population":10731726},{"country":"Greenland","population":56025},{"country":"Grenada","population":111454},{"country":"Guadeloupe","population":395700},{"country":"Guam","population":165768},{"country":"Guatemala","population":17247807},{"country":"Guinea","population":12414318},{"country":"Guinea-Bissau","population":1874309},{"country":"Guyana","population":779004},{"country":"Haiti","population":11123176},{"country":"Heard Island and McDonald Islands","population":0},{"country":"Holy See (Vatican City State)","population":825},{"country":"Honduras","population":9587522},{"country":"Hong Kong","population":7451000},{"country":"Hungary","population":9775564},{"country":"Iceland","population":352721},{"country":"India","population":1352617328},{"country":"Indonesia","population":267663435},{"country":"Iran","population":81800269},{"country":"Iraq","population":38433600},{"country":"Ireland","population":4867309},{"country":"Israel","population":8882800},{"country":"Italy","population":60421760},{"country":"Ivory Coast","population":25069229},{"country":"Jamaica","population":2934855},{"country":"Japan","population":126529100},{"country":"Jordan","population":9956011},{"country":"Kazakhstan","population":18272430},{"country":"Kenya","population":51393010},{"country":"Kiribati","population":115847},{"country":"Kuwait","population":4137309},{"country":"Kyrgyzstan","population":6322800},{"country":"Laos","population":7061507},{"country":"Latvia","population":1927174},{"country":"Lebanon","population":6848925},{"country":"Lesotho","population":2108132},{"country":"Liberia","population":4818977},{"country":"Libya","population":6678567},{"country":"Liechtenstein","population":37910},{"country":"Lithuania","population":2801543},{"country":"Luxembourg","population":607950},{"country":"Macao","population":631636},{"country":"North Macedonia","population":2084367},{"country":"Madagascar","population":26262368},{"country":"Malawi","population":18143315},{"country":"Malaysia","population":31528585},{"country":"Maldives","population":515696},{"country":"Mali","population":19077690},{"country":"Malta","population":484630},{"country":"Marshall Islands","population":58413},{"country":"Martinique","population":376480},{"country":"Mauritania","population":4403319},{"country":"Mauritius","population":1265303},{"country":"Mayotte","population":270372},{"country":"Mexico","population":126190788},{"country":"Micronesia, Federated States of","population":112640},{"country":"Moldova","population":2706049},{"country":"Monaco","population":38682},{"country":"Mongolia","population":3170208},{"country":"Montenegro","population":631219},{"country":"Montserrat","population":5900},{"country":"Morocco","population":36029138},{"country":"Mozambique","population":29495962},{"country":"Myanmar","population":53708395},{"country":"Namibia","population":2448255},{"country":"Nauru","population":12704},{"country":"Nepal","population":28087871},{"country":"Netherlands","population":17231624},{"country":"Netherlands Antilles","population":227049},{"country":"New Caledonia","population":284060},{"country":"New Zealand","population":4841000},{"country":"Nicaragua","population":6465513},{"country":"Niger","population":22442948},{"country":"Nigeria","population":195874740},{"country":"Niue","population":1624},{"country":"Norfolk Island","population":2169},{"country":"North Korea","population":25549819},{"country":"Northern Ireland","population":1885400},{"country":"Northern Mariana Islands","population":56882},{"country":"Norway","population":5311916},{"country":"Oman","population":4829483},{"country":"Pakistan","population":212215030},{"country":"Palau","population":17907},{"country":"Palestine","population":4569087},{"country":"Panama","population":4176873},{"country":"Papua New Guinea","population":8606316},{"country":"Paraguay","population":6956071},{"country":"Peru","population":31989256},{"country":"Philippines","population":106651922},{"country":"Pitcairn","population":67},{"country":"Poland","population":37974750},{"country":"Portugal","population":10283822},{"country":"Puerto Rico","population":3195153},{"country":"Qatar","population":2781677},{"country":"Reunion","population":859959},{"country":"Romania","population":19466145},{"country":"Russia","population":144478050},{"country":"Rwanda","population":12301939},{"country":"Saint Helena","population":6600},{"country":"Saint Kitts and Nevis","population":52441},{"country":"Saint Lucia","population":181889},{"country":"Saint Pierre and Miquelon","population":5888},{"country":"Saint Vincent and the Grenadines","population":110210},{"country":"Samoa","population":196130},{"country":"San Marino","population":33785},{"country":"Sao Tome and Principe","population":211028},{"country":"Saudi Arabia","population":33699947},{"country":"Scotland","population":5424800},{"country":"Senegal","population":15854360},{"country":"Serbia","population":6963764},{"country":"Seychelles","population":96762},{"country":"Sierra Leone","population":7650154},{"country":"Singapore","population":5638676},{"country":"Slovakia","population":5446771},{"country":"Slovenia","population":2073894},{"country":"Solomon Islands","population":652858},{"country":"Somalia","population":15008154},{"country":"South Africa","population":57779622},{"country":"South Georgia and the South Sandwich Islands","population":30},{"country":"South Korea","population":51606633},{"country":"South Sudan","population":10975920},{"country":"Spain","population":46796540},{"country":"Sri Lanka","population":21670000},{"country":"Sudan","population":41801533},{"country":"Suriname","population":575991},{"country":"Svalbard and Jan Mayen","population":2572},{"country":"Sweden","population":10175214},{"country":"Switzerland","population":8513227},{"country":"Syria","population":16906283},{"country":"Tajikistan","population":9100837},{"country":"Tanzania","population":56318348},{"country":"Thailand","population":69428524},{"country":"The Democratic Republic of Congo","population":84068091},{"country":"Togo","population":7889094},{"country":"Tokelau","population":1411},{"country":"Tonga","population":103197},{"country":"Trinidad and Tobago","population":1389858},{"country":"Tunisia","population":11565204},{"country":"Turkey","population":82319724},{"country":"Turkmenistan","population":5850908},{"country":"Turks and Caicos Islands","population":37665},{"country":"Tuvalu","population":11508},{"country":"Uganda","population":42723139},{"country":"Ukraine","population":44622516},{"country":"United Arab Emirates","population":9630959},{"country":"United Kingdom","population":66460344},{"country":"United States","population":326687501},{"country":"United States Minor Outlying Islands","population":300},{"country":"Uruguay","population":3449299},{"country":"Uzbekistan","population":32955400},{"country":"Vanuatu","population":292680},{"country":"Venezuela","population":28870195},{"country":"Vietnam","population":95540395},{"country":"Virgin Islands, British","population":29802},{"country":"Virgin Islands, U.S.","population":106977},{"country":"Wales","population":3139000},{"country":"Wallis and Futuna","population":15289},{"country":"Western Sahara","population":652271},{"country":"Yemen","population":28498687},{"country":"Zambia","population":17351822},{"country":"Zimbabwe","population":14439018}]'),_3=y3.filter(({population:n})=>n>=3e5).map(({country:n,population:t})=>({name:n,population:+t}));function v3({csvUrl:n,meta:t,target:e,others:a=[],guesses:o=[],setAvailableCountries:u}){const h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,d=St.useRef(null),m=St.useRef(null),{width:g,height:_}=g3(d),[w,b]=St.useState(null),[M,F]=St.useState(null),W=St.useRef(null);St.useEffect(()=>{n&&Ib(n,Cb).then(pt=>{if(!pt.length)return;const dt=Object.keys(pt[0]),ut=dt.filter(H=>/^\d{4}$/.test(H)),gt=ut.length>3;let ct;if(gt){const[H,Z]=dt;ct=pt.flatMap(T=>ut.map(A=>({Country:T[H],ISO:T[Z],Year:+A,Production:T[A]})))}else{const[H,Z,T]=dt,A=dt.find((L,j)=>j>2&&typeof pt[0][L]=="number");ct=pt.filter(L=>L[Z]&&typeof L[Z]=="string"&&L[Z].trim()!==""&&!L[Z].startsWith("OWID")&&(t.yearStart==null||L[T]>=t.yearStart)&&(t.yearEnd==null||L[T]<=t.yearEnd)).map(L=>({Country:L[H],ISO:L[Z],Year:L[T],Production:L[A]}))}console.log("Standardized data:",ct);const Et=ct.map(H=>H.Year),k=t.yearStart??Im(Et),C=t.yearEnd??oa(Et),I=C-k+1,O=Kh(ct.filter(H=>H.Year>=k&&H.Year<=C),H=>H.Country),N=.6,P=Array.from(O.entries()).filter(([H,Z])=>H===e?!0:new Set(Z.map(A=>A.Year)).size/I>=N).map(([H])=>H),x=3e5,K=new Map(Object.entries(_3).map(([H,Z])=>[Z.name||H,Z.population])),G=P.filter(H=>{if(H===e)return!0;const Z=K.get(H);return typeof Z=="number"&&Z>=x}),D=ct.filter(H=>G.includes(H.Country));b(ct),F(D),Array.from(new Set(ct.map(H=>H.Country)));const U=[...G];e&&!U.includes(e)&&U.push(e),u(U)})},[n]);const Q=pt=>{const dt=QN(pt.filter(gt=>gt.Country!==e&&typeof gt.Production=="number"&&!isNaN(gt.Production)),gt=>oa(gt,ct=>ct.Production),gt=>gt.Country);return Array.from(dt.entries()).sort((gt,ct)=>Xw(gt[1],ct[1])).map(([gt])=>gt).filter((gt,ct,Et)=>Et.indexOf(gt)===ct).filter(gt=>gt!==e)};return St.useEffect(()=>{if(!w||!M||!t||!e||g===0||_===0)return;const pt=requestAnimationFrame(()=>{var Tt;const dt=t.unitSuffix,ut=getComputedStyle(document.documentElement).getPropertyValue("--stroke-outline").trim(),gt=a.length?a:Q(M),ct=new Set([e,...gt,...o]),Et=Kh(w.filter(B=>ct.has(B.Country)),B=>B.Country),k={top:30,right:50,bottom:60,left:50},C=g-k.left-k.right,I=_-k.top-k.bottom,O=vo().domain([t.yearStart??Im(w,B=>B.Year),t.yearEnd??oa(w,B=>B.Year)]).range([0,C]),N=oa(Et,([,B])=>oa(B,wt=>wt.Production/t.scale)),P=vo().domain([0,N]).range([I,0]);(W.current===null||N>W.current)&&(W.current=N);const K=Vb().defined(B=>typeof B.Production=="number"&&!isNaN(B.Production)).curve(Pb).x(B=>O(B.Year)).y(B=>P(B.Production/t.scale));console.log("x-domain:",O.domain()),console.log("sample target years:",Et.get(e).map(B=>B.Year));const G=gt.map(B=>({id:`${B}-base`,country:B,rows:Et.get(B)??[],stroke:getComputedStyle(document.documentElement).getPropertyValue("--other-lines").trim(),width:1.5,opacity:.4})),D=[{id:`${e}-target`,country:e,rows:Et.get(e)??[],stroke:getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim(),width:4,opacity:1}],U=o.map((B,wt)=>{var Ht;const vt=Et.get(B)??[],Rt=((Ht=vt[0])==null?void 0:Ht.ISO)??B;return{id:`${B}-guess`,country:B,iso:Rt,rows:vt,stroke:Vr[wt],width:3,opacity:1}});U.length>0&&console.log("Guess lines data:",U.map(B=>({country:B.country,color:B.stroke}))),[...G,...D,...U];const H=er(m.current).attr("viewBox",[0,0,g,_]).attr("preserveAspectRatio","xMidYMid meet").style("overflow","visible");let Z=H.select("g.chart-root");Z.empty()&&(Z=H.append("g").attr("class","chart-root").attr("transform",`translate(${k.left},${k.top})`).call(B=>{B.append("g").attr("class","x-axis"),B.append("g").attr("class","y-axis")}));let T=Z.select("g.hover-layer");T.empty()&&(T=Z.append("g").attr("class","hover-layer"),T.append("line").attr("class","hover-line").attr("stroke","#6b7280").attr("stroke-width",1).attr("stroke-dasharray","4 4").attr("y1",0).style("opacity",0),T.append("circle").attr("class","hover-dot-target").attr("r",4).attr("fill","#c43333").attr("stroke","#ffffff").attr("stroke-width",1.5).style("opacity",0).attr("pointer-events","none"),T.append("text").attr("class","hover-year-label").attr("text-anchor","middle").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).attr("font-family","Open Sans, sans-serif").attr("dy","1.5em").style("opacity",0).attr("pointer-events","none"),T.append("rect").attr("class","hover-value-bg").attr("fill","#ffffff").attr("rx",3).attr("ry",3).style("opacity",0).attr("pointer-events","none"),T.append("text").attr("class","hover-value-label").attr("text-anchor","start").attr("font-size",14).attr("font-weight",600).attr("fill","#c43333").attr("font-family","Open Sans, sans-serif").style("opacity",0).attr("pointer-events","none"),T.append("rect").attr("class","hover-capture").attr("fill","transparent").attr("pointer-events","all").style("touch-action","none").style("user-select","none").style("-webkit-user-select","none").style("-moz-user-select","none").style("-ms-user-select","none")),T.select(".hover-line").attr("y2",I),T.select(".hover-capture").attr("width",C).attr("height",I),T.select(".hover-year-label").attr("y",I),T.selectAll("circle.guess-dot").remove();const A=T.selectAll("circle.guess-dot").data(U,B=>B.id);A.enter().append("circle").attr("class","guess-dot").attr("r",4).attr("fill",B=>B.country===e?getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim():B.stroke).attr("stroke","#ffffff").attr("stroke-width",1.5).style("opacity",0).attr("pointer-events","none"),A.exit().remove();const L=T.selectAll("g.guess-pill").data(U,B=>B.id),j=L.enter().append("g").attr("class","guess-pill").style("pointer-events","none").style("opacity",0);j.append("rect").attr("rx",3).attr("ry",3).attr("fill","#ffffff"),j.append("text").attr("font-size",14).attr("font-weight",600).attr("font-family","OpenSans,sans-serif"),L.exit().remove(),T.raise();const rt=Pg(B=>B.Year).left,ht=Et.get(e)??[],at=(B,wt)=>{if(!B.length)return null;const vt=rt(B,wt);if(vt<=0)return B[0].Production/t.scale;if(vt>=B.length)return B[B.length-1].Production/t.scale;const Rt=B[vt-1],Ht=B[vt],ae=(wt-Rt.Year)/(Ht.Year-Rt.Year);return Rt.Production/t.scale+ae*(Ht.Production/t.scale-Rt.Production/t.scale)},mt=B=>{if(B==null)return"";const wt=Math.abs(B);let vt=B,Rt="";return wt>=1e9?(vt=B/1e9,Rt="B"):wt>=1e6?(vt=B/1e6,Rt="M"):wt>=1e3&&(vt=B/1e3,Rt="k"),vt.toFixed(1)+Rt+(t.unitSuffix||"")},yt=B=>{B.preventDefault();const[wt,vt]=FD(B,T.node()),Rt=Math.min(C,Math.max(0,wt)),Ht=Math.min(I,Math.max(0,vt)),ae=h?60:40;Bt.selectAll("path").interrupt().transition().duration(h?150:300).ease(iE).attr("opacity",.15),T.select(".hover-line").attr("x1",Rt).attr("x2",Rt).style("opacity",1);const ge=O.invert(Rt);T.select(".hover-year-label").attr("x",Rt).text(Math.round(ge)).style("opacity",1),Z.select(".x-axis").selectAll(".tick text").style("opacity",0);const Ee=at(ht,ge);if(Ee!=null){const ye=P(Ee);T.select(".hover-dot-target").attr("cx",Rt).attr("cy",ye).style("opacity",1);const je=T.select(".hover-value-label").attr("x",Rt+8).attr("y",ye-6).text(mt(Ee)).style("opacity",1).node().getBBox();T.select(".hover-value-bg").attr("x",je.x-4).attr("y",je.y-2).attr("width",je.width+8).attr("height",je.height+4).style("opacity",.85)}T.selectAll("g.guess-pill").each(function(ye){const En=at(ye.rows,ge);if(En==null){er(this).style("opacity",0);return}const je=P(En);if(!(Math.abs(je-Ht)<=ae)){er(this).style("opacity",0);return}if(ye.country===e){er(this).style("opacity",0);return}const yr=er(this).style("opacity",1).select("text").attr("fill",ye.stroke).attr("x",Rt+8).attr("y",je-6).text(mt(En)).node().getBBox();er(this).select("rect").attr("x",yr.x-4).attr("y",yr.y-2).attr("width",yr.width+8).attr("height",yr.height+4).style("opacity",.85)}),T.selectAll("circle.guess-dot").each(function(ye){const En=at(ye.rows,ge),je=er(this),Ii=ye.country===e?getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim():ye.stroke;je.style("opacity",En==null?0:1).attr("cx",Rt).attr("cy",P(En)).attr("fill",Ii)})},Ct=()=>{T.select(".hover-line").style("opacity",0),T.select(".hover-dot-target").style("opacity",0),T.select(".hover-year-label").style("opacity",0),T.select(".hover-value-label").style("opacity",0),T.select(".hover-value-bg").style("opacity",0),T.selectAll("g.guess-pill").style("opacity",0),T.selectAll("circle.guess-dot").style("opacity",0),Z.select(".x-axis").selectAll(".tick text").style("opacity",1),Bt.selectAll("path").interrupt().transition().duration(h?150:300).ease(iE).attr("opacity",.4)};T.select(".hover-capture").on("pointerenter pointerdown pointermove",yt).on("pointerup pointercancel",Ct).on("pointerleave",B=>{const wt=B.currentTarget.getBoundingClientRect(),vt=B.clientX,Rt=B.clientY;(vt<wt.left||vt>wt.right||Rt<wt.top||Rt>wt.bottom)&&Ct()}),Z.select(".x-axis").attr("transform",`translate(0,${I})`).call(Jw(O).ticks(Math.min(5,Math.floor(C/100))).tickFormat(B=>String(B))).selectAll(".tick text").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).attr("dy","0.95em").style("font-family","Open Sans, sans-serif");const jt=B=>{if(typeof B!="number"||isNaN(B))return"";const wt=Math.abs(B);let vt;return wt>=1e9?vt=(B/1e9).toFixed(1).replace(/\.0$/,"")+"B":wt>=1e6?vt=(B/1e6).toFixed(1).replace(/\.0$/,"")+"M":wt>=1e3?vt=(B/1e3).toFixed(1).replace(/\.0$/,"")+"k":vt=B.toString(),dt?`${vt}${dt}`:vt},Nt=B=>{B.call(Mm(P).ticks(4).tickSize(-C).tickSizeOuter(0).tickFormat(jt)),B.selectAll(".tick text").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).style("font-family","Open Sans, sans-serif"),B.selectAll(".domain").attr("stroke-opacity",0),B.selectAll(".tick line").attr("stroke",getComputedStyle(document.documentElement).getPropertyValue("--axis-lines-color").trim()).attr("stroke-opacity",.6).attr("stroke-width",1)};Z.select(".y-axis").call(Nt),Math.max(...Z.select(".y-axis").selectAll("text").nodes().map(B=>B.getBBox().width));let Bt=Z.select("g.base-lines");Bt.empty()&&(Bt=Z.append("g").attr("class","base-lines"));let Ft=Z.select("g.guess-lines");Ft.empty()&&(Ft=Z.append("g").attr("class","guess-lines"));const Mt=Bt.selectAll("g.base-line").data(G,B=>B.id);Mt.enter().append("g").attr("class","base-line").append("path").attr("fill","none").attr("stroke",B=>B.stroke).attr("stroke-width",B=>B.width).attr("opacity",B=>B.opacity).attr("d",B=>K(B.rows)),Mt.select("path").attr("stroke",B=>B.stroke).attr("stroke-width",B=>B.width).attr("opacity",B=>B.opacity).attr("d",B=>K(B.rows)),Mt.exit().remove();const ne=Ft.selectAll("g.guess-line").data(U,B=>B.id),ie=ne.enter().append("g").attr("class","guess-line");ie.append("path").attr("fill","none").attr("stroke",ut).attr("stroke-width",B=>B.width+2.5).attr("opacity",1).attr("d",B=>K(B.rows)),ie.append("path").attr("fill","none").attr("stroke",B=>B.stroke).attr("stroke-width",B=>B.width).attr("opacity",B=>B.opacity).attr("d",B=>K(B.rows)),ie.selectAll("path").each(function(){const B=this.getTotalLength();er(this).attr("stroke-dasharray",`${B} ${B}`).attr("stroke-dashoffset",B).transition().duration(2500).attr("stroke-dashoffset",0)}),ne.select("path:nth-child(1)").attr("stroke-width",B=>B.width+1.5).attr("d",B=>K(B.rows)),ne.select("path:nth-child(2)").attr("stroke",B=>B.stroke).attr("stroke-width",B=>B.width).attr("opacity",B=>B.opacity).attr("d",B=>K(B.rows)),ne.exit().remove();const an=4,Qe=4;function Ce(B,wt=12){const vt=B.nodes().map(Ht=>{const ae=er(Ht);return{node:ae,y:parseFloat(ae.attr("y")),x:parseFloat(ae.attr("x"))}});vt.sort((Ht,ae)=>Ht.y-ae.y);const Rt=[];for(let Ht=0;Ht<vt.length;Ht++){const ae=vt[Ht];let ge=ae.y,Ee=0,ye=-1;for(;!(!Rt.some(je=>Math.abs(je.y-ge)<wt)||(ye*=-1,Ee+=wt,ge=ae.y+ye*Ee,Ee>100)););ae.node.attr("y",ge),Rt.push({y:ge})}}ie.selectAll("path:last-child").each(function(B,wt){const vt=er(this);this.getTotalLength();const Rt=B.rows.filter(ye=>typeof ye.Production=="number"),Ht=Rt[Rt.length-1];if(!Ht)return;const ae=O(Ht.Year)+an,ge=P(Ht.Production/t.scale)+Qe,Ee=()=>{Z.append("text").attr("class",B.country===e?"target-label":"guess-label").attr("font-size",16).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",B.country===e?getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim():B.stroke).attr("stroke",ut).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",ae).attr("y",ge).text(B.iso),setTimeout(()=>{Ce(Z.selectAll("text.guess-label, text.target-label")),T.raise()},0)};B.country===e?Ee():vt.transition().duration(2500).attr("stroke-dashoffset",0).on("end",Ee)});const Me=D[0];let An=Z.select("g.target-line");if(An.empty()){An=Z.append("g").attr("class","target-line");const B=K(Me.rows),wt=An.append("path").attr("fill","none").attr("stroke",ut).attr("stroke-width",Me.width+2.5).attr("opacity",1).attr("d",B),vt=An.append("path").attr("fill","none").attr("stroke",Me.stroke).attr("stroke-width",Me.width).attr("opacity",Me.opacity).attr("d",B);[wt,vt].forEach(Rt=>{const Ht=Rt.node().getTotalLength();Rt.attr("stroke-dasharray",`${Ht} ${Ht}`).attr("stroke-dashoffset",Ht).transition().duration(2500).attr("stroke-dashoffset",0)})}else{const B=K(Me.rows);An.selectAll("path").data([0,1]).join("path").attr("fill","none").attr("stroke",(wt,vt)=>vt===0?strokeOutline:Me.stroke).attr("stroke-width",(wt,vt)=>vt===0?Me.width+2.5:Me.width).attr("opacity",Me.opacity).attr("d",B)}Z.selectAll("text.target-unknown-label, text.target-label").remove();const Xe=Et.get(e)??[],Dn=Xe.filter(B=>typeof B.Production=="number"),On=Dn[Dn.length-1];if(On){const B=O(On.Year)+4,wt=P(On.Production/t.scale)+4,vt=((Tt=Xe[0])==null?void 0:Tt.ISO)??e,Rt=()=>{Z.append("text").attr("class","target-label").attr("font-size",16).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim()).attr("stroke",ut).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",B).attr("y",wt).text(vt)},Ht=()=>{Z.append("text").attr("class","target-unknown-label").attr("font-size",16).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim()).attr("stroke",ut).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",B).attr("y",wt).text("xxx")};if(o.includes(e))Rt(),setTimeout(()=>T.raise(),0);else{An.select("path:nth-child(2)");const ge=setTimeout(()=>{o.includes(e)||Ht()},2500),Ee=new MutationObserver(()=>{o.includes(e)&&(clearTimeout(ge),Z.selectAll("text.target-unknown-label").remove(),Rt(),setTimeout(()=>T.raise(),0),Ee.disconnect())});return Ee.observe(m.current,{childList:!0,subtree:!0}),()=>Ee.disconnect()}}T.raise(),setTimeout(()=>{T.raise()},0)});return()=>cancelAnimationFrame(pt)},[w,t,g,_,e,a,o,Vr]),J.jsx("div",{ref:d,className:"w-full h-full",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:g>0&&_>0&&J.jsx("svg",{ref:m,className:"w-full h-full"})})}const jm=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Caribbean Netherlands","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Northern Cyprus","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"];function yE(n="",t=""){const e=t.length+1,a=n.length+1,o=Array.from({length:e},(u,h)=>Array.from({length:a},(d,m)=>h===0?m:h));for(let u=1;u<e;u++)for(let h=1;h<a;h++)o[u][h]=t[u-1]===n[h-1]?o[u-1][h-1]:1+Math.min(o[u-1][h],o[u][h-1],o[u-1][h-1]);return o[e-1][a-1]}const ch=["","","","","","","",""];function E3({guesses:n,onAddGuess:t,onShowResult:e,status:a,modalShown:o,max:u,targetData:h,countryToIso:d,clue:m=!1,validCountries:g=[],target:_}){const[w,b]=St.useState(""),[M,F]=St.useState(!1),[W,Q]=St.useState(""),[pt,dt]=St.useState({}),[ut,gt]=St.useState({}),[ct,Et]=St.useState(-1),k=a!=="playing",C=w.trim(),I=C.toLowerCase(),O=Math.min(n.length+1,u),N=g.includes(C),P=_&&C.toLowerCase()===_.toLowerCase(),x=(jm.some(L=>L.toLowerCase()===I)||P)&&N,K=St.useRef(null),G=St.useRef(!1);function D(){if(!G.current){const L=K.current;L.scrollTop+L.clientHeight>=L.scrollHeight-2||(G.current=!0)}}const U=[...jm];_&&!U.includes(_)&&U.push(_);const H=U.filter(L=>L.toLowerCase().includes(I)&&I).sort((L,j)=>{const rt=L.toLowerCase(),ht=j.toLowerCase(),at=g.includes(L),mt=g.includes(j);if(at&&!mt)return-1;if(!at&&mt)return 1;const yt=rt.startsWith(I),Ct=ht.startsWith(I);if(yt&&!Ct)return-1;if(!yt&&Ct)return 1;const jt=yE(rt,I),Nt=yE(ht,I);return jt!==Nt?jt-Nt:L.localeCompare(j)}).reverse();St.useEffect(()=>{if(M&&K.current){const L=K.current;L.scrollTop=L.scrollHeight}},[M,I]),St.useEffect(()=>{M||(G.current=!1)},[M]);function Z(L,j){if(j==null||j<=0){gt(Ct=>({...Ct,[L]:j??0}));return}const rt=50,ht=8,at=180;let mt=0;function yt(){if(gt(Bt=>({...Bt,[L]:mt})),mt>=j)return;const Ct=j-mt,jt=Ct>rt?Math.max(1,Math.round(Ct/60)):1;mt=Math.min(mt+jt,j);let Nt=ht;if(Ct<=rt){const Bt=1-(Ct-jt)/rt;Nt+=at*Math.pow(Bt,3)}setTimeout(yt,Nt)}yt()}const T=L=>{if(L.preventDefault(),!C){Q("Please enter a country.");return}if(!x){Q("Invalid country. Please select from the list.");return}if(!N&&!P){Q("This country has no data available.");return}if(n.some(yt=>yt.toLowerCase()===I)){Q("You already guessed that country.");return}Q(""),t(C);const j=C,rt=d[j],ht=h==null?void 0:h[rt],at=(ht==null?void 0:ht.direction)||"",mt=(ht==null?void 0:ht.distance_km)??0;if(m?Z(j,mt):gt(yt=>({...yt,[j]:mt})),m){let yt=function(){const Bt=50+Math.pow(Nt,1.4),Ft=Nt%ch.length,Mt=ch[Ft];dt(he=>({...he,[j]:Mt})),Nt++,Nt<=jt&&setTimeout(yt,Bt)};const Ct=ch.indexOf(at),jt=ch.length*4+Ct;let Nt=0;yt()}b(""),F(!1)},A=L=>{b(L),F(!1),Q("")};return J.jsxs("div",{className:"flex flex-col items-center gap-3 py-10",children:[J.jsx("div",{className:"h-6 flex items-end",children:n.length===0&&J.jsxs("p",{className:"text-[18px] font-medium text-gray-800 dark:text-white pt-0.5",children:["Guess the country in"," ",J.jsx("span",{className:"font-semibold text-[var(--target-red)]",children:"red"})]})}),(a==="won"||a==="lost")&&o?J.jsxs("div",{className:"w-full px-[50px] space-y-2",children:[J.jsx("div",{className:"text-center",children:J.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a==="won"?`${n.length}/${u}`:`X/${u}`})}),J.jsx("button",{onClick:e,className:"w-full p-4 text-white font-bold rounded-lg text-sm focus:outline-none focus:ring-4",style:{backgroundColor:"var(--first-guess)",transition:"background 0.2s"},onMouseEnter:L=>L.currentTarget.style.backgroundColor="var(--first-guess-dark)",onMouseLeave:L=>L.currentTarget.style.backgroundColor="var(--first-guess)",children:"Show Result"})]}):J.jsx("form",{onSubmit:T,className:"w-full px-[50px]",children:J.jsxs("div",{className:"relative",children:[J.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:J.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 20 20",children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 19l-4-4m0-7a7 7 0 11-14 0 7 7 0 0114 0z"})})}),J.jsx("input",{id:"guess-input",type:"text",placeholder:"Enter country",value:w,disabled:k,onChange:L=>{b(L.target.value),F(!0),Et(-1),Q("")},onKeyDown:L=>{L.key==="ArrowDown"?(L.preventDefault(),F(!0),Et(j=>j<H.length-1?j+1:0)):L.key==="ArrowUp"?(L.preventDefault(),F(!0),Et(j=>j>0?j-1:H.length-1)):L.key==="Enter"&&(ct>=0&&H[ct]?(L.preventDefault(),A(H[ct]),Et(-1)):!x&&H.length&&(L.preventDefault(),A(H[H.length-1])))},onBlur:()=>setTimeout(()=>F(!1),100),style:{backgroundColor:"var(--guessed-box)",color:"var(--text-color)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},className:`block w-full p-4 pl-10 text-sm rounded-lg
                                focus:ring-emerald-500 focus:border-emerald-500
                                disabled:bg-gray-100 dark:disabled:bg-gray-600
                                outline-none
                                ${C&&!x?"border border-red-500 dark:border-red-400":"border border-gray-300 dark:border-gray-600"}`,autoComplete:"on"}),J.jsx("button",{type:"submit",disabled:!x||k||n.length>=u,className:`text-white absolute right-2 bottom-2 font-medium rounded-lg text-sm px-4 py-2 disabled:bg-gray-400 ${x&&!k&&n.length<u?"bg-emerald-500 hover:bg-emerald-600 focus:ring-4 focus:ring-emerald-300":"bg-gray-300 text-gray-700 cursor-not-allowed"}`,children:`Guess ${O}/${u}`}),M&&H.length>0&&J.jsx("ul",{ref:K,onScroll:D,className:`absolute left-0 right-0 bottom-full mb-2 z-50 w-full max-h-60
                                        bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 
                                        rounded-lg shadow-lg overflow-y-auto`,children:H.map((L,j)=>{const ht=!g.includes(L);return J.jsxs("li",{className:`cursor-pointer py-4 px-4 text-sm flex justify-between items-center
                                            ${j===ct?"bg-emerald-50 dark:bg-emerald-700 font-semibold text-gray-900 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}
                                            ${ht?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-100"}`,onMouseDown:()=>{ht||(A(L),Et(-1))},onMouseEnter:()=>Et(j),children:[J.jsx("span",{children:L}),ht&&J.jsx("span",{className:"text-xs ml-2",children:"(no data)"})]},L)})})]})}),W&&J.jsx("p",{className:"text-sm text-red-600 mt-2 text-center",children:W}),n.length>0&&J.jsx("div",{className:"w-full px-[50px] flex flex-col space-y-2",children:[...n].reverse().map((L,j)=>{const rt=n.length-1-j,ht=d[L],at=h==null?void 0:h[ht],mt=at==null?void 0:at.direction,yt=m&&(pt[L]||mt)||"",Ct=ut[L]??(at==null?void 0:at.distance_km)??0;return J.jsxs("div",{className:"flex justify-between items-center w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600",style:{backgroundColor:"var(--bg-color)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},children:[J.jsx("span",{className:"font-semibold",style:{color:L.trim().toLowerCase()===_.trim().toLowerCase()?"#c43333":Vr[rt]??"#2A74B3"},children:`${rt+1}. ${L}`}),at&&m&&J.jsxs("span",{className:"flex items-center gap-1 text-gray-700 text-sm font-medium",children:[J.jsx("span",{children:yt}),J.jsxs("span",{children:[Ct," km"]})]})]},L)})})]})}function Uo({title:n,subtitle:t,open:e,onClose:a,children:o,footer:u=null}){return St.useEffect(()=>{const h=d=>d.key==="Escape"&&a();return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[a]),e?J.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-[var(--modal-overlay)] p-2 sm:p-4",role:"dialog","aria-modal":"true",tabIndex:-1,onClick:a,children:J.jsx("div",{className:"relative w-full max-w-sm md:max-w-lg lg:max-w-xl max-h-[85vh] flex flex-col",onClick:h=>h.stopPropagation(),children:J.jsxs("div",{className:"relative rounded-lg bg-[var(--modal-bg-color)] shadow-sm flex flex-col max-h-full",children:[(n||t)&&J.jsxs("div",{className:"flex flex-col gap-1 rounded-t border-b border-gray-200 p-4 md:p-5 dark:border-gray-600 flex-shrink-0",children:[n&&J.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n}),t&&J.jsx("div",{className:"text-base text-gray-600 dark:text-gray-300",children:t}),J.jsx("button",{"aria-label":"Close modal",onClick:a,className:"absolute top-4 right-4 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white",children:J.jsx(xE,{className:"h-3.5 w-3.5",strokeWidth:2})})]}),J.jsx("div",{className:"text-left leading-relaxed text-gray-500 dark:text-gray-300 p-4 md:p-5 flex-1 overflow-y-auto min-h-0",children:o}),u&&J.jsx("div",{className:"flex items-center rounded-b border-t border-gray-200 p-4 md:p-5 dark:border-gray-600 flex-shrink-0",children:u})]})})}):null}const Lb="chartle-history";function Yg(){try{return JSON.parse(localStorage.getItem(Lb))||{}}catch{return{}}}function Ub(n){localStorage.setItem(Lb,JSON.stringify(n))}function T3(n={},t={}){var a,o;const e={...n};for(const[u,h]of Object.entries(t)){if(!e[u]){e[u]=h;continue}const d=((a=e[u].guesses)==null?void 0:a.length)||0,m=((o=h.guesses)==null?void 0:o.length)||0;e[u]=m>d?h:e[u]}return e}function Qg(){return Yg()}async function Bb(){const n=Yg(),t=is.currentUser;if(!t)return n;const e=Ng(Vg,"histories",t.uid),a=await ON(e);if(!a.exists())return Object.keys(n).length&&await $h(e,n),n;const o=a.data()||{},u=T3(o,n);return Ub(u),await $h(e,u,{merge:!0}),u}async function w3(n){Ub(n);const t=is.currentUser;t&&await $h(Ng(Vg,"histories",t.uid),n,{merge:!0})}is.onAuthStateChanged(async n=>{if(!n)return;const t=Yg();Object.keys(t).length!==0&&await $h(Ng(Vg,"histories",n.uid),t,{merge:!0})});function b3({open:n,onClose:t,guesses:e,target:a,infoDescription:o,source:u,csvUrl:h,title:d,maxGuesses:m,subtitle:g,yearStart:_,yearEnd:w,gameDate:b,unitSuffix:M}){const[F,W]=St.useState(!1),Q=St.useRef(null),dt=(()=>{if(!e||!a)return"";const C=e.findIndex(I=>I===a);return C===-1?"".repeat(e.length)+"".repeat(m-e.length):"".repeat(C)+""+"".repeat(m-(C+1))})(),ut=[" Chartle.cc","",g?`${d} (${g})`:`${d}`,"",`Guessed in ${e.length} ${e.length===1?"try":"tries"}`,`${dt}`].filter(Boolean).join(`
`);async function gt(){const N={top:60,right:60,bottom:110,left:110},P=1080-N.left-N.right,x=1080-N.top-N.bottom,K=await Ib(h,Cb),G=Object.keys(K[0]),D=G.filter(Tt=>/^\d{4}$/.test(Tt)),U=D.length>3;let H;if(U){const[Tt,B]=G;H=K.flatMap(wt=>D.filter(vt=>wt[B]&&typeof wt[B]=="string"&&wt[B].trim()!==""&&!wt[B].startsWith("OWID")&&(_==null||+vt>=_)&&(w==null||+vt<=w)).map(vt=>({Country:wt[Tt],ISO:wt[B],Year:+vt,Production:wt[vt]})))}else{const[Tt,B,wt]=G,vt=G.find((Rt,Ht)=>Ht>2&&typeof K[0][Rt]=="number");H=K.filter(Rt=>Rt[B]&&typeof Rt[B]=="string"&&Rt[B].trim()!==""&&!Rt[B].startsWith("OWID")&&(_==null||Rt[wt]>=_)&&(w==null||Rt[wt]<=w)).map(Rt=>({Country:Rt[Tt],ISO:Rt[B],Year:Rt[wt],Production:Rt[vt]}))}const Z=isNaN(Number(_))?Im(H,Tt=>Tt.Year):Number(_),T=isNaN(Number(w))?oa(H,Tt=>Tt.Year):Number(w),A=T-Z+1,L=H.filter(Tt=>Tt.Year>=Z&&Tt.Year<=T),j=Kh(L,Tt=>Tt.ISO);Array.from(j.entries()).filter(([Tt,B])=>B.filter(vt=>vt.Production!=null&&vt.Production!=="").length/A>=.6).map(([Tt])=>Tt);const rt=H.filter(Tt=>Tt.Year>=Z&&Tt.Year<=T),ht=Kh(rt,Tt=>Tt.Country),at=getComputedStyle(document.documentElement),mt=at.getPropertyValue("--axis-text-color").trim()||"#222",yt=at.getPropertyValue("--grid-line").trim()||"#eee",Ct=at.getPropertyValue("--target-red").trim()||"#e33434",jt=at.getPropertyValue("--other-lines").trim()||"#888",Nt=vo().domain([Z,T]).range([0,P]),Bt=oa(H,Tt=>Tt.Production),Ft=vo().domain([0,Bt]).range([x,0]),Mt=Vb().defined(Tt=>typeof Tt.Production=="number"&&!isNaN(Tt.Production)).curve(Pb).x(Tt=>Nt(Tt.Year)).y(Tt=>Ft(Tt.Production)),he=HD("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("width",1080).attr("height",1080).attr("viewBox",[0,0,1080,1080]).style("background",at.getPropertyValue("--bg-color").trim()),ne=he.append("g").attr("transform",`translate(${N.left},${N.top})`);ne.append("g").attr("class","grid").selectAll("line").data(Ft.ticks(4)).join("line").attr("x1",0).attr("x2",P).attr("y1",Tt=>Ft(Tt)).attr("y2",Tt=>Ft(Tt)).attr("stroke",yt).attr("stroke-width",1).attr("opacity",.5),ne.append("g").attr("class","x-axis").attr("transform",`translate(0,${x})`).call(Jw(Nt).ticks(4).tickFormat(Tt=>String(Tt)).tickSize(6)).selectAll("text").attr("font-size",30).attr("font-weight",400).attr("fill",mt).attr("dy","0.95em").attr("font-family","Open Sans, sans-serif"),ne.append("g").attr("class","y-axis").call(Mm(Ft).ticks(4).tickFormat(k).tickSize(0)).selectAll("text").attr("font-size",30).attr("font-weight",400).attr("fill",mt).attr("font-family","Open Sans, sans-serif"),ne.select(".y-axis .domain").attr("stroke","none"),ne.selectAll(".y-axis .tick line").attr("stroke","none");const ie=Array.from(ht.keys()),an=new Set(e.concat([a]));ie.forEach(Tt=>{if(!an.has(Tt)){const B=ht.get(Tt)??[];ne.append("path").attr("fill","none").attr("stroke",jt).attr("stroke-width",2).attr("opacity",.4).attr("d",Mt(B))}});let Qe=[];e.forEach((Tt,B)=>{const wt=ht.get(Tt)??[];ne.append("path").attr("fill","none").attr("stroke",at.getPropertyValue("--stroke-outline").trim()).attr("stroke-width",12).attr("opacity",1).attr("d",Mt(wt)),ne.append("path").attr("fill","none").attr("stroke",Vr[B%Vr.length]).attr("stroke-width",6).attr("opacity",1).attr("d",Mt(wt));const vt=wt[wt.length-1];if(vt){const Rt=Tt===a;let Ht=Nt(vt.Year)+10,ae=Ft(vt.Production);const ge=18;Qe.forEach(Ee=>{Math.abs(Ht-Ee.x)<ge*2&&Math.abs(ae-Ee.y)<ge*2&&(ae+=ge*2)}),Qe.push({x:Ht,y:ae}),ne.append("text").attr("x",Ht).attr("y",ae).attr("font-size",32).attr("font-family","Open Sans, sans-serif").attr("font-weight","bold").attr("fill",Rt?Ct:Vr[B%Vr.length]).attr("stroke",at.getPropertyValue("--stroke-outline").trim()).attr("stroke-width",6).attr("paint-order","stroke").attr("alignment-baseline","middle").text(String(B+1))}});const Ce=ht.get(a)??[];ne.append("path").attr("fill","none").attr("stroke",at.getPropertyValue("--stroke-outline").trim()).attr("stroke-width",14).attr("opacity",1).attr("d",Mt(Ce)),ne.append("path").attr("fill","none").attr("stroke",Ct).attr("stroke-width",8).attr("opacity",1).attr("d",Mt(Ce)),he.append("text").attr("x",N.left).attr("y",1060).attr("text-anchor","start").attr("font-size",30).attr("font-family","Open Sans, sans-serif").attr("font-weight","bold").attr("fill",at.getPropertyValue("--text-color").trim()).text("chartle.cc"),he.append("text").attr("x",1080-N.right).attr("y",1060).attr("text-anchor","end").attr("font-size",30).attr("font-family","Open Sans, sans-serif").attr("font-weight","bold").attr("fill",at.getPropertyValue("--text-color").trim()).text(b||"");const An=new XMLSerializer().serializeToString(he.node()),Xe=new window.Image;Xe.width=1080,Xe.height=1080;const Dn=new Blob([An],{type:"image/svg+xml;charset=utf-8"}),On=URL.createObjectURL(Dn);return new Promise((Tt,B)=>{Xe.onload=function(){const wt=document.createElement("canvas");wt.width=1080,wt.height=1080;const vt=wt.getContext("2d");vt.fillStyle=at.getPropertyValue("--bg-color").trim(),vt.fillRect(0,0,1080,1080),vt.drawImage(Xe,0,0,1080,1080),wt.toBlob(Rt=>{Rt?Tt(Rt):B(new Error("PNG export failed"))},"image/png"),URL.revokeObjectURL(On)},Xe.onerror=B,Xe.src=On})}function ct(C){const I={1:0,2:0,3:0,4:0,5:0,Lost:0};return Object.values(C).forEach(O=>{var x;if(!Array.isArray(O.guesses))return;const N=(x=O.target)==null?void 0:x.toLowerCase(),P=O.guesses.findIndex(K=>(K==null?void 0:K.toLowerCase())===N);P>=0&&P<5?I[P+1]++:I.Lost++}),Object.entries(I).map(([O,N])=>({tries:O,count:N}))}function Et(C){const I=er(Q.current);I.selectAll("*").remove();const O={top:10,right:20,bottom:20,left:20},N=30,P=300-O.left-O.right,x=C.length*30,K=getComputedStyle(document.documentElement),G=K.getPropertyValue("--text-color").trim(),D=K.getPropertyValue("--target-red").trim(),U=I.attr("width",P+O.left+O.right).attr("height",x+O.top+O.bottom).append("g").attr("transform",`translate(${O.left},${O.top})`).style("font-family","Open Sans"),H=vo().domain([0,oa(C,T=>T.count)||1]).range([0,P-N]),Z=Ob().domain(C.map(T=>T.tries)).range([0,x]).padding(.2);U.selectAll(".bar").data(C).enter().append("rect").attr("x",N).attr("y",T=>Z(T.tries)).attr("width",T=>H(T.count)).attr("height",Z.bandwidth()).attr("fill",D),U.selectAll(".label").data(C.filter(T=>T.count>0)).enter().append("text").attr("x",T=>N+H(T.count)-5).attr("y",T=>Z(T.tries)+Z.bandwidth()/2+4).attr("text-anchor","end").attr("fill","#ffffff").style("font-family","'Open Sans', sans-serif").style("font-size","14px").text(T=>T.count),U.append("g").call(Mm(Z).tickSize(0)).selectAll("text").style("font-family","'Open Sans', sans-serif").style("font-size","14px").attr("fill",G).attr("text-anchor","start").attr("x",-5),U.selectAll(".domain").remove()}St.useEffect(()=>{n&&(Et(ct(Qg())),Bb().then(C=>{Et(ct(C))}))},[n]);const k=C=>{if(typeof C!="number"||isNaN(C))return"";const I=Math.abs(C);let O;return I>=1e9?O=(C/1e9).toFixed(1).replace(/\.0$/,"")+"B":I>=1e6?O=(C/1e6).toFixed(1).replace(/\.0$/,"")+"M":I>=1e3?O=(C/1e3).toFixed(1).replace(/\.0$/,"")+"k":O=C.toString(),M?`${O}${M}`:O};return J.jsx(Uo,{open:n,onClose:t,title:"You guessed it!",footer:J.jsx("div",{className:"flex justify-center w-full",children:J.jsx("button",{onClick:async()=>{try{const C=await gt(),I=new File([C],"chartle.png",{type:"image/png"}),O={title:"Chartle Result",text:ut,files:[I]};navigator.canShare&&navigator.canShare({files:[I]})?(await navigator.share(O),W(!0),setTimeout(()=>W(!1),2e3)):(await navigator.clipboard.writeText(ut),W(!0),setTimeout(()=>W(!1),2e3),alert("Sharing with image is not supported on this device/browser. Share text copied to clipboard."))}catch(C){console.error("Share failed:",C)}},className:"w-full sm:w-auto rounded-lg px-4 py-3 text-white font-bold focus:outline-none focus:ring-4",style:{backgroundColor:"var(--first-guess)",transition:"background 0.2s"},onMouseEnter:C=>C.currentTarget.style.backgroundColor="var(--first-guess-dark)",onMouseLeave:C=>C.currentTarget.style.backgroundColor="var(--first-guess)",children:F?"Copied!":"Share result"})}),children:J.jsxs("div",{className:"text-center max-h-[60vh] overflow-y-auto",children:[J.jsx("div",{className:"mb-4 space-y-3 [color:var(--text-color)] text-left",children:o.split(`
`).map((C,I)=>J.jsx("p",{children:C},I))}),J.jsxs("p",{className:"text-sm [color:var(--text-color)] mb-8 text-left",children:["Data source: ",u]}),J.jsx("p",{className:"text-lg font-semibold [color:var(--text-color)] mb-2 mt-6 text-left",children:"Your track record"}),J.jsx("div",{className:"mb-4",children:J.jsx("svg",{ref:Q,className:"w-full h-auto"})})]})})}function S3({open:n,onClose:t,target:e,infoDescription:a,source:o,csvUrl:u,guesses:h,title:d,maxGuesses:m}){const[g,_]=St.useState(!1),[w,b]=St.useState("");St.useEffect(()=>{},[u,e,h]);const M=[` Chartle  ${d}`,`X/${m} `,w,"chartle.cc"].join(`
`),F=async()=>{try{await navigator.clipboard.writeText(M),_(!0),setTimeout(()=>_(!1),2e3)}catch(W){console.error("Copy failed:",W)}};return J.jsx(Uo,{title:"Out of guesses",open:n,onClose:t,footer:J.jsx("div",{className:"flex justify-center w-full",children:J.jsx("button",{onClick:F,className:"w-full sm:w-auto rounded-lg px-4 py-3 text-white font-bold focus:outline-none focus:ring-4",style:{backgroundColor:"var(--first-guess)",transition:"background 0.2s"},onMouseEnter:W=>W.currentTarget.style.backgroundColor="var(--first-guess-dark)",onMouseLeave:W=>W.currentTarget.style.backgroundColor="var(--first-guess)",children:g?"Copied!":"Share result"})}),children:J.jsxs("div",{className:"text-center max-h-[60vh] overflow-y-auto",children:[J.jsxs("p",{className:"text-center mb-4 [color:var(--text-color)]",children:["The correct answer was ",J.jsx("strong",{children:e}),"."]}),J.jsx("div",{className:"mb-4 space-y-3 [color:var(--text-color)] text-left",children:a.split(`
`).map((W,Q)=>J.jsx("p",{children:W},Q))}),J.jsxs("p",{className:"text-sm [color:var(--text-color)] mb-8 text-left",children:["Data source: ",o]})]})})}function _E({open:n,onClose:t}){return J.jsx(Uo,{open:n,onClose:t,children:J.jsxs("div",{className:"space-y-4",children:[J.jsx("h2",{className:"text-xl font-semibold [color:var(--text-color)]",children:"How to play Chartle"}),J.jsxs("p",{className:"[color:var(--text-color)]",children:["Guess the country highlighted in"," ",J.jsx("span",{style:{color:"var(--target-red)"},className:"font-bold",children:"red"})," in todays chart."]}),J.jsx("p",{className:"[color:var(--text-color)]",children:"Type any country in the world into the box below the chart to see how it compares to the red target country."}),J.jsx("p",{className:"[color:var(--text-color)]",children:"Thats it, no other clues. Good luck!"}),J.jsx("div",{className:"flex justify-center",children:J.jsx("button",{onClick:t,className:"w-full sm:w-auto rounded-lg px-4 py-3 text-white font-bold focus:outline-none focus:ring-4",style:{backgroundColor:"var(--first-guess)",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--first-guess-dark)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--first-guess)",children:"Got it!"})})]})})}const vE="#c43333",A3="#d1d5db",R3="#4b5563";function C3(n){const t=n.getFullYear(),e=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return`${t}-${e}-${a}`}function I3(n){const t=new URL(window.location.href);t.searchParams.set("d",n),t.hash="",window.location.href=t.toString()}function x3({open:n,onClose:t,currentGameDate:e}){const[a,o]=St.useState([]),[u,h]=St.useState(!1);St.useEffect(()=>{n&&(h(!0),(async()=>{const m=await Bb(),g=[],_=new Date("2025-07-01"),w=new Date;for(;w>=_;){const b=C3(w),M=m[b]||{};g.push({key:b,date:new Date(w),guesses:Array.isArray(M.guesses)?M.guesses.slice(0,5):[],target:M.target||null}),w.setDate(w.getDate()-1)}o(g),h(!1)})())},[n]);const d=Array.from({length:10},(m,g)=>J.jsx("li",{className:"animate-pulse",children:J.jsxs("div",{className:"flex w-full items-center justify-between sm:px-1 px-3 sm:py-3 py-4",children:[J.jsx("span",{className:"h-4 w-24 sm:w-36 rounded bg-gray-200 dark:bg-gray-700"}),J.jsx("div",{className:"flex gap-2",children:Array.from({length:5},(_,w)=>J.jsx("span",{className:"block sm:h-4 sm:w-4 h-5 w-5 rounded-full bg-gray-300 dark:bg-gray-600"},w))})]})},`sk-${g}`));return J.jsx(Uo,{title:"History",open:n,onClose:t,footer:J.jsx("button",{onClick:t,className:"ms-auto rounded-lg px-5 py-2.5 text-white font-bold focus:outline-none focus:ring-4",style:{backgroundColor:"var(--first-guess)",transition:"background 0.2s"},onMouseEnter:m=>m.currentTarget.style.backgroundColor="var(--first-guess-dark)",onMouseLeave:m=>m.currentTarget.style.backgroundColor="var(--first-guess)",children:"Close"}),children:J.jsx("ul",{className:"max-h-[60vh] overflow-y-auto px-4 divide-y divide-gray-200 dark:divide-gray-700",children:u?d:a.map(({key:m,date:g,guesses:_,target:w})=>{const b=_.length>0,M=e===m,F=g.toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}),W=g.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"});return J.jsx("li",{className:"opacity-0 animate-fade-in",children:J.jsxs("button",{type:"button",onClick:()=>I3(m),className:"flex w-full items-center justify-between sm:px-1 px-3 sm:py-3 py-4 transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 focus:bg-gray-50 dark:focus:bg-gray-700",children:[J.jsxs("span",{className:`text-sm ${M?"font-bold":b?"font-bold text-gray-900 dark:text-white":"font-medium text-gray-800 dark:text-gray-300"}`,style:M?{color:"var(--second-guess)"}:{},children:[J.jsx("span",{className:"inline sm:hidden",children:W}),J.jsx("span",{className:"hidden sm:inline",children:F})]}),J.jsx("div",{className:"flex gap-2",children:Array.from({length:5},(Q,pt)=>{let dt="var(--modal-bg-color)",ut=A3;if(pt<_.length){const gt=_[pt]||"";w&&gt.toLowerCase()===w.toLowerCase()?(dt=vE,ut=vE):(dt="var(--history-wrong)",ut="var(--history-wrong)")}return J.jsx("span",{className:"block sm:h-4 sm:w-4 h-5 w-5 rounded-full border dark:border-gray-600",style:{backgroundColor:dt,borderColor:ut||R3}},pt)})})]})},m)})})})}function M3({open:n,onClose:t}){return J.jsx(Uo,{title:"Settings",open:n,onClose:t,footer:J.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300",children:"Close"}),children:J.jsx("p",{children:"Settings will go here."})})}const N3=St.forwardRef(function({children:t="Sign in with Google",className:e="",...a},o){return J.jsxs("button",{ref:o,"aria-label":"Sign in with Google",className:`group inline-flex items-center overflow-hidden rounded-md border
        border-gray-300 bg-white px-0.5 pr-4 text-gray-700 shadow
        hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-300
        dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200
        dark:hover:bg-gray-700 dark:focus:ring-gray-600
        ${e}`,...a,children:[J.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center",children:J.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:[J.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),J.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),J.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),J.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),J.jsx("span",{className:"ml-3 whitespace-nowrap text-sm tracking-wider",children:t})]})});function EE(n){return n?new Date(n).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):""}function D3({open:n,onClose:t}){const[e,a]=St.useState(null);St.useEffect(()=>uT(is,a),[]);const o=async()=>{try{await wC(is,UN),t()}catch(h){console.error(h),window.alert("Google signin failed. Please try again.")}},u=()=>nC(is);return J.jsx(Uo,{title:e?"Account":"Log in / Signup",open:n,onClose:t,footer:J.jsx("button",{onClick:t,className:"ms-auto rounded-lg px-5 py-2.5 text-white font-bold focus:outline-none focus:ring-4",style:{backgroundColor:"var(--first-guess)",transition:"background 0.2s"},onMouseEnter:h=>h.currentTarget.style.backgroundColor="var(--first-guess-dark)",onMouseLeave:h=>h.currentTarget.style.backgroundColor="var(--first-guess)",children:"Close"}),children:e?J.jsxs("div",{className:"flex w-full flex-col gap-4 rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-600 dark:bg-gray-900 sm:flex-row sm:items-center",children:[e.photoURL&&J.jsx("img",{src:e.photoURL,alt:"",className:"h-10 w-10 rounded-full",referrerPolicy:"no-referrer"}),J.jsxs("div",{className:"grow overflow-hidden",children:[J.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.displayName}),J.jsx("p",{className:"truncate text-sm text-gray-600 dark:text-gray-400",children:e.email}),J.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[J.jsx("span",{className:"font-medium",children:"Member since:"})," ",J.jsx("span",{className:"font-bold",children:EE(e.metadata.creationTime)})]}),J.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[J.jsx("span",{className:"font-medium",children:"Last signin:"})," ",J.jsx("span",{className:"font-bold",children:EE(e.metadata.lastSignInTime)})]})]}),J.jsx("button",{onClick:u,className:"shrink-0 whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-red-300 sm:ms-auto",style:{backgroundColor:"var(--target-red)",transition:"background 0.2s"},onMouseEnter:h=>h.currentTarget.style.backgroundColor="var(--target-red-dark)",onMouseLeave:h=>h.currentTarget.style.backgroundColor="var(--target-red)",children:"Sign out"})]}):J.jsx("div",{className:"flex justify-center py-4",children:J.jsx(N3,{onClick:o})})})}const O3="NU",k3="PN",V3="WS",P3="TK",L3="TO",U3="GT",B3="MX",z3="CA",j3="AR",G3="CL",H3="EC",q3="PE",F3="BO",$3="BR",K3="PY",Y3="UY",Q3="AQ",X3="FJ",Z3="AI",W3="AW",J3="BS",t6="BB",e6="BZ",n6="BM",r6="BQ",i6="CO",a6="CU",s6="CW",o6="DM",l6="GD",u6="GP",c6="GY",h6="HT",f6="HN",d6="JM",p6="MQ",m6="MS",g6="NI",y6="PA",_6="BQ",v6="SR",E6="VE",T6="GM",w6="GH",b6="GI",S6="GN",A6="LR",R6="ML",C6="MR",I6="MA",x6="PT",M6="SN",N6="GL",D6="GG",O6="IE",k6="JE",V6="IS",P6="SJ",L6="AO",U6="BW",B6="BI",z6="KM",j6="CG",G6="GA",H6="KE",q6="LS",F6="MW",$6="MZ",K6="NA",Y6="RW",Q6="SZ",X6="TZ",Z6="ZM",W6="ZW",J6="MG",tV="MU",eV="YT",nV="SC",rV="DZ",iV="BJ",aV="CM",sV="TD",oV="KI",lV="LY",uV="MT",cV="NE",hV="NG",fV="TG",dV="TN",pV="CY",mV="DJ",gV="EG",yV="ER",_V="ET",vV="GR",EV="IQ",TV="IL",wV="JO",bV="LB",SV="SD",AV="SY",RV="TR",CV="UG",IV="AD",xV="FR",MV="LI",NV="MC",DV="CH",OV="BE",kV="DE",VV="LU",PV="NL",LV="AL",UV="AT",BV="HR",zV="DK",jV="HU",GV="IT",HV="ME",qV="PL",FV="RS",$V="SK",KV="SI",YV="NO",QV="SE",XV="BY",ZV="BG",WV="EE",JV="FI",tP="GE",eP="LV",nP="LT",rP="MD",iP="RO",aP="UA",sP="AF",oP="BH",lP="IN",uP="IR",cP="KW",hP="MV",fP="NP",dP="OM",pP="PK",mP="QA",gP="SO",yP="TJ",_P="TM",vP="YE",EP="AM",TP="AZ",wP="KZ",bP="KG",SP="UZ",AP="ID",RP="AU",CP="NR",IP="TV",xP="VU",MP="KH",NP="LA",DP="MY",OP="MM",kP="SG",VP="TH",PP="VN",LP="BD",UP="BT",BP="CN",zP="PH",jP="MN",GP="GU",HP="JP",qP="FM",FP="PW",$P="RU",KP="ES",YP="ES",QP="MO",TE={"American Samoa":"AS","United States Minor Outlying Islands":"UM","Cook Islands":"CK","French Polynesia":"PF",Niue:O3,Pitcairn:k3,Samoa:V3,Tokelau:P3,Tonga:L3,"Wallis and Futuna":"WF","El Salvador":"SV",Guatemala:U3,Mexico:B3,Canada:z3,Argentina:j3,"Falkland Islands":"FK",Chile:G3,Ecuador:H3,Peru:q3,Bolivia:F3,Brazil:$3,Paraguay:K3,Uruguay:Y3,"South Georgia and South Sandwich Islands":"GS",Antarctica:Q3,Fiji:X3,"Saint Helena":"SH",Anguilla:Z3,"Antigua and Barbuda":"AG",Aruba:W3,Bahamas:J3,Barbados:t6,Belize:e6,Bermuda:n6,Bonaire:r6,"British Virgin Islands":"VG","Cayman Islands":"KY",Colombia:i6,"Costa Rica":"CR",Cuba:a6,Curacao:s6,Dominica:o6,"Dominican Republic":"DO","French Guiana":"GF",Grenada:l6,Guadeloupe:u6,Guyana:c6,Haiti:h6,Honduras:f6,Jamaica:d6,Martinique:p6,Montserrat:m6,Nicaragua:g6,Panama:y6,"Puerto Rico":"PR",Saba:_6,"Saint Barthelemy":"BL","Saint Eustatius":"BQ","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"MF","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC","Sint Maarten":"SX",Suriname:v6,"Trinidad and Tobago":"TT","Turks and Caicos Islands":"TC","US Virgin Islands":"VI",Venezuela:E6,"Burkina Faso":"BF","Cabo Verde":"CV","Cte d'Ivoire":"CI",Gambia:T6,Ghana:w6,Gibraltar:b6,Guinea:S6,"Guinea-Bissau":"GW",Liberia:A6,Mali:R6,Mauritania:C6,Morocco:I6,Portugal:x6,Senegal:M6,"Sierra Leone":"SL",Greenland:N6,Guernsey:D6,Ireland:O6,"Isle of Man":"IM",Jersey:k6,"United Kingdom":"GB",Iceland:V6,"Faroe Islands":"FO",Svalbard:P6,"Bouvet Island":"BV","New Zealand":"NZ",Angola:L6,Botswana:U6,Burundi:B6,Comoros:z6,Congo:j6,"Congo DRC":"CD",Gabon:G6,Kenya:H6,Lesotho:q6,Malawi:F6,"Juan De Nova Island":"TF",Mozambique:$6,Namibia:K6,Rwanda:Y6,"Sao Tome and Principe":"ST","South Africa":"ZA",Eswatini:Q6,Tanzania:X6,Zambia:Z6,Zimbabwe:W6,"British Indian Ocean Territory":"IO","French Southern Territories":"TF","Heard Island and McDonald Islands":"HM",Madagascar:J6,Mauritius:tV,Mayotte:eV,"Glorioso Islands":"TF",Runion:"RE",Seychelles:nV,Algeria:rV,Benin:iV,Cameroon:aV,"Central African Republic":"CF",Chad:sV,"Equatorial Guinea":"GQ",Kiribati:oV,Libya:lV,Malta:uV,Niger:cV,Nigeria:hV,Togo:fV,Tunisia:dV,Cyprus:pV,Djibouti:mV,Egypt:gV,Eritrea:yV,Ethiopia:_V,Greece:vV,Iraq:EV,Israel:TV,Jordan:wV,Lebanon:bV,"Palestinian Territory":"PS","South Sudan":"SS",Sudan:SV,Syria:AV,Turkey:RV,Uganda:CV,Andorra:IV,"United States":"US",France:xV,Liechtenstein:MV,Monaco:NV,Switzerland:DV,Belgium:OV,Germany:kV,Luxembourg:VV,Netherlands:PV,Albania:LV,Austria:UV,"Bosnia and Herzegovina":"BA",Croatia:BV,"Czech Republic":"CZ",Denmark:zV,Hungary:jV,Italy:GV,Montenegro:HV,Poland:qV,"San Marino":"SM",Serbia:FV,Slovakia:$V,Slovenia:KV,"North Macedonia":"MK","Vatican City":"VA",Norway:YV,Sweden:QV,Belarus:XV,Bulgaria:ZV,Estonia:WV,Finland:JV,Georgia:tP,Latvia:eP,Lithuania:nP,Moldova:rP,Romania:iP,Ukraine:aP,Afghanistan:sP,Bahrain:oP,India:lP,Iran:uP,Kuwait:cP,Maldives:hP,Nepal:fP,Oman:dP,Pakistan:pP,Qatar:mP,"Saudi Arabia":"SA",Somalia:gP,"Sri Lanka":"LK",Tajikistan:yP,Turkmenistan:_P,"United Arab Emirates":"AE",Yemen:vP,Armenia:EP,Azerbaijan:TP,Kazakhstan:wP,Kyrgyzstan:bP,Uzbekistan:SP,"Christmas Island":"CX","Cocos Islands":"CC",Indonesia:AP,"Timor-Leste":"TL",Australia:RP,Nauru:CP,"New Caledonia":"NC","Norfolk Island":"NF","Papua New Guinea":"PG","Solomon Islands":"SB",Tuvalu:IP,Vanuatu:xP,Cambodia:MP,Laos:NP,Malaysia:DP,Myanmar:OP,Singapore:kP,Thailand:VP,Vietnam:PP,Bangladesh:LP,Bhutan:UP,China:BP,"Brunei Darussalam":"BN",Philippines:zP,"South Korea":"KR",Mongolia:jP,"North Korea":"KP",Guam:GP,Japan:HP,"Marshall Islands":"MH",Micronesia:qP,"Northern Mariana Islands":"MP",Palau:FP,"Russian Federation":"RU",Russia:$P,Spain:KP,Canarias:YP,Macau:QP,"Hong Kong":"HK"},XP="NZ",ZP="GB",WP="WS",JP="NZ",t9="TO",e9="GT",n9="MX",r9="CA",i9="AR",a9="CL",s9="EC",o9="PE",l9="BO",u9="BR",c9="PY",h9="UY",f9="AQ",d9="FJ",p9="GB",m9="AW",g9="BS",y9="BB",_9="BZ",v9="GB",E9="NL",T9="CO",w9="CU",b9="NL",S9="DM",A9="GD",R9="FR",C9="GY",I9="HT",x9="HN",M9="JM",N9="FR",D9="GB",O9="NI",k9="PA",V9="NL",P9="SR",L9="VE",U9="GM",B9="GH",z9="GB",j9="GN",G9="LR",H9="ML",q9="MR",F9="MA",$9="PT",K9="SN",Y9="DK",Q9="GB",X9="IE",Z9="GB",W9="IS",J9="NO",t5="AO",e5="BW",n5="BI",r5="KM",i5="CG",a5="GA",s5="KE",o5="LS",l5="MW",u5="MZ",c5="NA",h5="RW",f5="SZ",d5="TZ",p5="ZM",m5="ZW",g5="MG",y5="MU",_5="FR",v5="SC",E5="DZ",T5="BJ",w5="CM",b5="TD",S5="KI",A5="LY",R5="MT",C5="NE",I5="NG",x5="TG",M5="TN",N5="CY",D5="DJ",O5="EG",k5="ER",V5="ET",P5="GR",L5="IQ",U5="IL",B5="JO",z5="LB",j5="SD",G5="SY",H5="TR",q5="UG",F5="AD",$5="FR",K5="LI",Y5="MC",Q5="CH",X5="BE",Z5="DE",W5="LU",J5="NL",tL="AL",eL="AT",nL="HR",rL="DK",iL="HU",aL="IT",sL="ME",oL="PL",lL="RS",uL="SK",cL="SI",hL="NO",fL="SE",dL="BY",pL="BG",mL="EE",gL="FI",yL="GE",_L="LV",vL="LT",EL="MD",TL="RO",wL="UA",bL="AF",SL="BH",AL="IN",RL="IR",CL="KW",IL="MV",xL="NP",ML="OM",NL="PK",DL="QA",OL="SO",kL="TJ",VL="TM",PL="YE",LL="AM",UL="AZ",BL="KZ",zL="KG",jL="UZ",GL="ID",HL="AU",qL="NR",FL="TV",$L="VU",KL="KH",YL="LA",QL="MY",XL="MM",ZL="SG",WL="TH",JL="VN",tU="BD",eU="BT",nU="CN",rU="PH",iU="MN",aU="US",sU="JP",oU="FM",lU="PW",uU="RU",cU="ES",hU="ES",fU="MO",dU={"American Samoa":"US","United States Minor Outlying Islands":"US","Cook Islands":"NZ","French Polynesia":"FR",Niue:XP,Pitcairn:ZP,Samoa:WP,Tokelau:JP,Tonga:t9,"Wallis and Futuna":"FR","El Salvador":"SV",Guatemala:e9,Mexico:n9,Canada:r9,Argentina:i9,"Falkland Islands":"GB",Chile:a9,Ecuador:s9,Peru:o9,Bolivia:l9,Brazil:u9,Paraguay:c9,Uruguay:h9,"South Georgia and South Sandwich Islands":"GB",Antarctica:f9,Fiji:d9,"Saint Helena":"GB",Anguilla:p9,"Antigua and Barbuda":"AG",Aruba:m9,Bahamas:g9,Barbados:y9,Belize:_9,Bermuda:v9,Bonaire:E9,"British Virgin Islands":"GB","Cayman Islands":"GB",Colombia:T9,"Costa Rica":"CR",Cuba:w9,Curacao:b9,Dominica:S9,"Dominican Republic":"DO","French Guiana":"FR",Grenada:A9,Guadeloupe:R9,Guyana:C9,Haiti:I9,Honduras:x9,Jamaica:M9,Martinique:N9,Montserrat:D9,Nicaragua:O9,Panama:k9,"Puerto Rico":"US",Saba:V9,"Saint Barthelemy":"FR","Saint Eustatius":"NL","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"FR","Saint Pierre and Miquelon":"FR","Saint Vincent and the Grenadines":"VC","Sint Maarten":"NL",Suriname:P9,"Trinidad and Tobago":"TT","Turks and Caicos Islands":"GB","US Virgin Islands":"US",Venezuela:L9,"Burkina Faso":"BF","Cabo Verde":"CV","Cte d'Ivoire":"CI",Gambia:U9,Ghana:B9,Gibraltar:z9,Guinea:j9,"Guinea-Bissau":"GW",Liberia:G9,Mali:H9,Mauritania:q9,Morocco:F9,Portugal:$9,Senegal:K9,"Sierra Leone":"SL",Greenland:Y9,Guernsey:Q9,Ireland:X9,"Isle of Man":"GB",Jersey:Z9,"United Kingdom":"GB",Iceland:W9,"Faroe Islands":"DK",Svalbard:J9,"Bouvet Island":"NO","New Zealand":"NZ",Angola:t5,Botswana:e5,Burundi:n5,Comoros:r5,Congo:i5,"Congo DRC":"CD",Gabon:a5,Kenya:s5,Lesotho:o5,Malawi:l5,"Juan De Nova Island":"FR",Mozambique:u5,Namibia:c5,Rwanda:h5,"Sao Tome and Principe":"ST","South Africa":"ZA",Eswatini:f5,Tanzania:d5,Zambia:p5,Zimbabwe:m5,"British Indian Ocean Territory":"GB","French Southern Territories":"FR","Heard Island and McDonald Islands":"AU",Madagascar:g5,Mauritius:y5,Mayotte:_5,"Glorioso Islands":"FR",Runion:"FR",Seychelles:v5,Algeria:E5,Benin:T5,Cameroon:w5,"Central African Republic":"CF",Chad:b5,"Equatorial Guinea":"GQ",Kiribati:S5,Libya:A5,Malta:R5,Niger:C5,Nigeria:I5,Togo:x5,Tunisia:M5,Cyprus:N5,Djibouti:D5,Egypt:O5,Eritrea:k5,Ethiopia:V5,Greece:P5,Iraq:L5,Israel:U5,Jordan:B5,Lebanon:z5,"Palestinian Territory":"PS","South Sudan":"SS",Sudan:j5,Syria:G5,Turkey:H5,Uganda:q5,Andorra:F5,"United States":"US",France:$5,Liechtenstein:K5,Monaco:Y5,Switzerland:Q5,Belgium:X5,Germany:Z5,Luxembourg:W5,Netherlands:J5,Albania:tL,Austria:eL,"Bosnia and Herzegovina":"BA",Croatia:nL,"Czech Republic":"CZ",Denmark:rL,Hungary:iL,Italy:aL,Montenegro:sL,Poland:oL,"San Marino":"SM",Serbia:lL,Slovakia:uL,Slovenia:cL,"North Macedonia":"MK","Vatican City":"VA",Norway:hL,Sweden:fL,Belarus:dL,Bulgaria:pL,Estonia:mL,Finland:gL,Georgia:yL,Latvia:_L,Lithuania:vL,Moldova:EL,Romania:TL,Ukraine:wL,Afghanistan:bL,Bahrain:SL,India:AL,Iran:RL,Kuwait:CL,Maldives:IL,Nepal:xL,Oman:ML,Pakistan:NL,Qatar:DL,"Saudi Arabia":"SA",Somalia:OL,"Sri Lanka":"LK",Tajikistan:kL,Turkmenistan:VL,"United Arab Emirates":"AE",Yemen:PL,Armenia:LL,Azerbaijan:UL,Kazakhstan:BL,Kyrgyzstan:zL,Uzbekistan:jL,"Christmas Island":"AU","Cocos Islands":"AU",Indonesia:GL,"Timor-Leste":"TL",Australia:HL,Nauru:qL,"New Caledonia":"FR","Norfolk Island":"AU","Papua New Guinea":"PG","Solomon Islands":"SB",Tuvalu:FL,Vanuatu:$L,Cambodia:KL,Laos:YL,Malaysia:QL,Myanmar:XL,Singapore:ZL,Thailand:WL,Vietnam:JL,Bangladesh:tU,Bhutan:eU,China:nU,"Brunei Darussalam":"BN",Philippines:rU,"South Korea":"KR",Mongolia:iU,"North Korea":"KP",Guam:aU,Japan:sU,"Marshall Islands":"MH",Micronesia:oU,"Northern Mariana Islands":"US",Palau:lU,"Russian Federation":"RU",Russia:uU,Spain:cU,Canarias:hU,Macau:fU,"Hong Kong":"HK"},Ah=()=>new Date().toISOString().slice(0,10),pU=/^\d{4}-\d{2}-\d{2}$/;function Qp(n){const t=new Date;return t.setUTCDate(t.getUTCDate()+Number(n)),t.toISOString().slice(0,10)}function mU(){const n=new URLSearchParams(window.location.search),t=n.get("d")||n.get("date");let e=null;if(!t&&window.location.hash){const o=window.location.hash.match(/(?:^|[&#])d=([^&#]+)/);o&&(e=decodeURIComponent(o[1]))}const a=t||e;return a?pU.test(a)?a:a==="yesterday"?Qp(-1):a==="tomorrow"?Qp(1):a==="today"?Ah():/^[+-]\d+$/.test(a)?Qp(a):Ah():Ah()}function Xg(){const n=new URLSearchParams(window.location.search);return!!(n.get("d")||n.get("date")||window.location.hash&&/(?:^|[&#])d=/.test(window.location.hash))}function gU(){if(!Xg())return;const n=new URL(window.location.href);if(n.searchParams.delete("d"),n.searchParams.delete("date"),n.hash){const t=n.hash.replace(/^[#]/,"").split(/[&#]/).filter(e=>!e.startsWith("d=")).join("&");n.hash=t?`#${t}`:""}window.history.replaceState(null,"",`${n.pathname}${n.search}${n.hash}`)}const yU="1g0IsY1ReO2nyVJhZS90rkbOFueMqHO4iOpW8mtM79LI",_U="sheet2";async function vU(n){const t=n||new Date().toISOString().slice(0,10),e=`https://opensheet.elk.sh/${yU}/${_U}`,o=(await fetch(e).then(u=>u.json())).find(u=>u.date===t);if(!o)throw new Error(`No row found for ${t}`);return{title:o.title,subtitle:o.subtitle,source:o.source,scale:Number(o.scale||1),target:o.target,unitSuffix:o.unitSuffix||"",yearStart:o.yearStart||void 0,yearEnd:o.yearEnd||void 0,csvUrl:o.OWID_datalink,others:[],infoDescription:o.infoDescription||"",date:t}}var Xp={},Zp={},Wp={},wE;function EU(){return wE||(wE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=function(){for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];if(typeof window<"u"){var d;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(d=window).gtag.apply(d,u)}},e=t;n.default=e}(Wp)),Wp}var Jp={},bE;function TU(){return bE||(bE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function e(d){return d.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(m,g,_){return g>0&&g+m.length!==_.length&&m.search(t)>-1&&_.charAt(g-2)!==":"&&(_.charAt(g+m.length)!=="-"||_.charAt(g-1)==="-")&&_.charAt(g-1).search(/[^\s-]/)<0?m.toLowerCase():m.substr(1).search(/[A-Z]|\../)>-1?m:m.charAt(0).toUpperCase()+m.substr(1)})}function a(d){return typeof d=="string"&&d.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function u(d){return a(d)?(console.warn("This arg looks like an email address, redacting."),o):d}function h(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,_=d||"";return m&&(_=e(d)),g&&(_=u(_)),_}}(Jp)),Jp}var SE;function wU(){return SE||(SE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.GA4=void 0;var t=h(EU()),e=h(TU()),a=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],u=["page","hitType"];function h(K){return K&&K.__esModule?K:{default:K}}function d(K,G){if(K==null)return{};var D=m(K,G),U,H;if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(K);for(H=0;H<Z.length;H++)U=Z[H],!(G.indexOf(U)>=0)&&Object.prototype.propertyIsEnumerable.call(K,U)&&(D[U]=K[U])}return D}function m(K,G){if(K==null)return{};var D={},U=Object.keys(K),H,Z;for(Z=0;Z<U.length;Z++)H=U[Z],!(G.indexOf(H)>=0)&&(D[H]=K[H]);return D}function g(K){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},g(K)}function _(K){return M(K)||b(K)||dt(K)||w()}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(K){if(typeof Symbol<"u"&&K[Symbol.iterator]!=null||K["@@iterator"]!=null)return Array.from(K)}function M(K){if(Array.isArray(K))return ut(K)}function F(K,G){var D=Object.keys(K);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(K);G&&(U=U.filter(function(H){return Object.getOwnPropertyDescriptor(K,H).enumerable})),D.push.apply(D,U)}return D}function W(K){for(var G=1;G<arguments.length;G++){var D=arguments[G]!=null?arguments[G]:{};G%2?F(Object(D),!0).forEach(function(U){I(K,U,D[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(D)):F(Object(D)).forEach(function(U){Object.defineProperty(K,U,Object.getOwnPropertyDescriptor(D,U))})}return K}function Q(K,G){return ct(K)||gt(K,G)||dt(K,G)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dt(K,G){if(K){if(typeof K=="string")return ut(K,G);var D=Object.prototype.toString.call(K).slice(8,-1);if(D==="Object"&&K.constructor&&(D=K.constructor.name),D==="Map"||D==="Set")return Array.from(K);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return ut(K,G)}}function ut(K,G){(G==null||G>K.length)&&(G=K.length);for(var D=0,U=new Array(G);D<G;D++)U[D]=K[D];return U}function gt(K,G){var D=K==null?null:typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(D!=null){var U,H,Z,T,A=[],L=!0,j=!1;try{if(Z=(D=D.call(K)).next,G!==0)for(;!(L=(U=Z.call(D)).done)&&(A.push(U.value),A.length!==G);L=!0);}catch(rt){j=!0,H=rt}finally{try{if(!L&&D.return!=null&&(T=D.return(),Object(T)!==T))return}finally{if(j)throw H}}return A}}function ct(K){if(Array.isArray(K))return K}function Et(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}function k(K,G){for(var D=0;D<G.length;D++){var U=G[D];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(K,O(U.key),U)}}function C(K,G,D){return G&&k(K.prototype,G),Object.defineProperty(K,"prototype",{writable:!1}),K}function I(K,G,D){return G=O(G),G in K?Object.defineProperty(K,G,{value:D,enumerable:!0,configurable:!0,writable:!0}):K[G]=D,K}function O(K){var G=N(K,"string");return g(G)==="symbol"?G:String(G)}function N(K,G){if(g(K)!=="object"||K===null)return K;var D=K[Symbol.toPrimitive];if(D!==void 0){var U=D.call(K,G);if(g(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(K)}var P=function(){function K(){var G=this;Et(this,K),I(this,"reset",function(){G.isInitialized=!1,G._testMode=!1,G._currentMeasurementId,G._hasLoadedGA=!1,G._isQueuing=!1,G._queueGtag=[]}),I(this,"_gtag",function(){for(var D=arguments.length,U=new Array(D),H=0;H<D;H++)U[H]=arguments[H];G._testMode||G._isQueuing?G._queueGtag.push(U):t.default.apply(void 0,U)}),I(this,"_loadGA",function(D,U){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!G._hasLoadedGA){var Z=document.createElement("script");Z.async=!0,Z.src="".concat(H,"?id=").concat(D),U&&Z.setAttribute("nonce",U),document.body.appendChild(Z),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},G._hasLoadedGA=!0}}),I(this,"_toGtagOptions",function(D){if(D){var U={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},H=Object.entries(D).reduce(function(Z,T){var A=Q(T,2),L=A[0],j=A[1];return U[L]?Z[U[L]]=j:Z[L]=j,Z},{});return H}}),I(this,"initialize",function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!D)throw new Error("Require GA_MEASUREMENT_ID");var H=typeof D=="string"?[{trackingId:D}]:D;G._currentMeasurementId=H[0].trackingId;var Z=U.gaOptions,T=U.gtagOptions,A=U.nonce,L=U.testMode,j=L===void 0?!1:L,rt=U.gtagUrl;if(G._testMode=j,j||G._loadGA(G._currentMeasurementId,A,rt),G.isInitialized||(G._gtag("js",new Date),H.forEach(function(mt){var yt=W(W(W({},G._toGtagOptions(W(W({},Z),mt.gaOptions))),T),mt.gtagOptions);Object.keys(yt).length?G._gtag("config",mt.trackingId,yt):G._gtag("config",mt.trackingId)})),G.isInitialized=!0,!j){var ht=_(G._queueGtag);for(G._queueGtag=[],G._isQueuing=!1;ht.length;){var at=ht.shift();G._gtag.apply(G,_(at)),at[0]==="get"&&(G._isQueuing=!0)}}}),I(this,"set",function(D){if(!D){console.warn("`fieldsObject` is required in .set()");return}if(g(D)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(D).length===0&&console.warn("empty `fieldsObject` given to .set()"),G._gaCommand("set",D)}),I(this,"_gaCommandSendEvent",function(D,U,H,Z,T){G._gtag("event",U,W(W({event_category:D,event_label:H,value:Z},T&&{non_interaction:T.nonInteraction}),G._toGtagOptions(T)))}),I(this,"_gaCommandSendEventParameters",function(){for(var D=arguments.length,U=new Array(D),H=0;H<D;H++)U[H]=arguments[H];if(typeof U[0]=="string")G._gaCommandSendEvent.apply(G,_(U.slice(1)));else{var Z=U[0],T=Z.eventCategory,A=Z.eventAction,L=Z.eventLabel,j=Z.eventValue;Z.hitType;var rt=d(Z,a);G._gaCommandSendEvent(T,A,L,j,rt)}}),I(this,"_gaCommandSendTiming",function(D,U,H,Z){G._gtag("event","timing_complete",{name:U,value:H,event_category:D,event_label:Z})}),I(this,"_gaCommandSendPageview",function(D,U){if(U&&Object.keys(U).length){var H=G._toGtagOptions(U),Z=H.title,T=H.location,A=d(H,o);G._gtag("event","page_view",W(W(W(W({},D&&{page_path:D}),Z&&{page_title:Z}),T&&{page_location:T}),A))}else D?G._gtag("event","page_view",{page_path:D}):G._gtag("event","page_view")}),I(this,"_gaCommandSendPageviewParameters",function(){for(var D=arguments.length,U=new Array(D),H=0;H<D;H++)U[H]=arguments[H];if(typeof U[0]=="string")G._gaCommandSendPageview.apply(G,_(U.slice(1)));else{var Z=U[0],T=Z.page;Z.hitType;var A=d(Z,u);G._gaCommandSendPageview(T,A)}}),I(this,"_gaCommandSend",function(){for(var D=arguments.length,U=new Array(D),H=0;H<D;H++)U[H]=arguments[H];var Z=typeof U[0]=="string"?U[0]:U[0].hitType;switch(Z){case"event":G._gaCommandSendEventParameters.apply(G,U);break;case"pageview":G._gaCommandSendPageviewParameters.apply(G,U);break;case"timing":G._gaCommandSendTiming.apply(G,_(U.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Z));break;default:console.warn("Send command doesn't exist: ".concat(Z))}}),I(this,"_gaCommandSet",function(){for(var D=arguments.length,U=new Array(D),H=0;H<D;H++)U[H]=arguments[H];typeof U[0]=="string"&&(U[0]=I({},U[0],U[1])),G._gtag("set",G._toGtagOptions(U[0]))}),I(this,"_gaCommand",function(D){for(var U=arguments.length,H=new Array(U>1?U-1:0),Z=1;Z<U;Z++)H[Z-1]=arguments[Z];switch(D){case"send":G._gaCommandSend.apply(G,H);break;case"set":G._gaCommandSet.apply(G,H);break;default:console.warn("Command doesn't exist: ".concat(D))}}),I(this,"ga",function(){for(var D=arguments.length,U=new Array(D),H=0;H<D;H++)U[H]=arguments[H];if(typeof U[0]=="string")G._gaCommand.apply(G,U);else{var Z=U[0];G._gtag("get",G._currentMeasurementId,"client_id",function(T){G._isQueuing=!1;var A=G._queueGtag;for(Z({get:function(rt){return rt==="clientId"?T:rt==="trackingId"?G._currentMeasurementId:rt==="apiVersion"?"1":void 0}});A.length;){var L=A.shift();G._gtag.apply(G,_(L))}}),G._isQueuing=!0}return G.ga}),I(this,"event",function(D,U){if(typeof D=="string")G._gtag("event",D,G._toGtagOptions(U));else{var H=D.action,Z=D.category,T=D.label,A=D.value,L=D.nonInteraction,j=D.transport;if(!Z||!H){console.warn("args.category AND args.action are required in event()");return}var rt={hitType:"event",eventCategory:(0,e.default)(Z),eventAction:(0,e.default)(H)};T&&(rt.eventLabel=(0,e.default)(T)),typeof A<"u"&&(typeof A!="number"?console.warn("Expected `args.value` arg to be a Number."):rt.eventValue=A),typeof L<"u"&&(typeof L!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):rt.nonInteraction=L),typeof j<"u"&&(typeof j!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(j)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),rt.transport=j)),G._gaCommand("send",rt)}}),I(this,"send",function(D){G._gaCommand("send",D)}),this.reset()}return C(K,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),K}();n.GA4=P;var x=new P;n.default=x}(Zp)),Zp}var AE;function bU(){return AE||(AE=1,function(n){function t(d){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(d)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ReactGAImplementation=void 0;var e=o(wU());function a(d){if(typeof WeakMap!="function")return null;var m=new WeakMap,g=new WeakMap;return(a=function(w){return w?g:m})(d)}function o(d,m){if(d&&d.__esModule)return d;if(d===null||t(d)!=="object"&&typeof d!="function")return{default:d};var g=a(m);if(g&&g.has(d))return g.get(d);var _={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in d)if(b!=="default"&&Object.prototype.hasOwnProperty.call(d,b)){var M=w?Object.getOwnPropertyDescriptor(d,b):null;M&&(M.get||M.set)?Object.defineProperty(_,b,M):_[b]=d[b]}return _.default=d,g&&g.set(d,_),_}var u=e.GA4;n.ReactGAImplementation=u;var h=e.default;n.default=h}(Xp)),Xp}var SU=bU();const Af=Gm(SU),AU=()=>{Af.initialize("G-Y5KH49S1XK")},RU=()=>{Af.send({hitType:"pageview",page:window.location.pathname})},CU=(n,t)=>{Af.event({category:"Game",action:"Guess",label:n,value:t})},RE=(n,t,e)=>{Af.event({category:"Game",action:n==="won"?"Win":"Lose",label:e,value:t})},IU={usa:"United States",us:"United States","united states":"United States",uk:"United Kingdom","u.k.":"United Kingdom","Cte dIvoire":"Ivory Coast","Cote dIvoire":"Ivory Coast","dr congo":"Democratic Republic of the Congo","democratic republic congo":"Democratic Republic of the Congo","congo-kinshasa":"Democratic Republic of the Congo","congo-brazzaville":"Congo",swaziland:"Eswatini","czech republic":"Czechia",burma:"Myanmar","east timor":"Timor-Leste",taiwan:"Taiwan",venezuela:"Venezuela",lao:"Laos","south korea":"South Korea","north korea":"North Korea",macedonia:"North Macedonia",macao:"Macau","palestinian territories":"Palestine",...Object.fromEntries(["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Caribbean Netherlands","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Northern Cyprus","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"].map(n=>[n.toLowerCase(),n]))},Fl=5,Wa=mU(),tm=Xg(),xU=Qg(),Qa=xU[Wa]??null;function MU(){const[n,t]=St.useState(null),[e,a]=St.useState((Qa==null?void 0:Qa.guesses)??[]),[o,u]=St.useState((Qa==null?void 0:Qa.result)??"playing"),[h,d]=St.useState(!1),[m,g]=St.useState(!1),[_,w]=St.useState(!1),[b,M]=St.useState(null),[F,W]=St.useState([]),[Q,pt]=St.useState(null),dt=K=>pt(K),ut=()=>{ct(!1),localStorage.setItem("chartle-has-seen-help","true")},[gt,ct]=St.useState(!1);new Date(Wa).toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"});const Et=new Date(Wa).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});St.useEffect(()=>{AU(),RU()},[]),St.useEffect(()=>{localStorage.getItem("chartle-has-seen-help")||ct(!0)},[]),St.useEffect(()=>{vU(Wa).then(t).catch(K=>console.error(K.message))},[]),St.useEffect(()=>{Xg()&&gU()},[]);const k=(n==null?void 0:n.target)??null,C=k?dU[k]:null,I=k?k.toLowerCase():null,O=(n==null?void 0:n.infoDescription)??null,N=(n==null?void 0:n.source)??null;St.useEffect(()=>{if(!C)return;const K=`https://raw.githubusercontent.com/a-jiwa/chartle-data/main/countries/${C}.json`;fetch(K).then(G=>G.json()).then(M).catch(G=>console.error("Failed to fetch target country data:",G))},[C]),St.useEffect(()=>{if(o!=="won"){d(!1);return}const K=300,G=K+1e3,D=setTimeout(()=>{bA({particleCount:120,spread:70,origin:{y:.6},disableForReducedMotion:!0,colors:["#c43333",...Vr]})},K),U=setTimeout(()=>{d(!0),w(!0)},G);return()=>{clearTimeout(D),clearTimeout(U)}},[o]),St.useEffect(()=>{if(o!=="lost"){g(!1);return}const K=setTimeout(()=>{g(!0),w(!0)},3e3);return()=>clearTimeout(K)},[o]),St.useEffect(()=>{if(!k)return;const K=Qg();w3({...K,[Wa]:{target:k,guesses:e,result:o,title:n.title}})},[e,o,k]),St.useEffect(()=>{if(tm)return;const K=setInterval(()=>{Ah()!==Wa&&window.location.reload()},6e4);return()=>clearInterval(K)},[]),St.useEffect(()=>{if(!n)return;const K=Qa;if(!K)return;K.title===n.title||(a([]),u("playing"))},[n]);const P=()=>{o==="won"?d(!0):o==="lost"&&g(!0)},x=K=>{if(o!=="playing")return;const G=K.trim();if(!G)return;const D=G.toLowerCase().trim(),U=IU[D]||G.replace(/\b\w/g,Z=>Z.toUpperCase());jm.some(Z=>Z.toLowerCase()===D)&&a(Z=>{if(Z.some(L=>L.toLowerCase()===D)||Z.length>=Fl)return Z;const T=[...Z,U];CU(U,T.length),D===I?(u("won"),RE("won",T.length,k)):T.length>=Fl&&(u("lost"),RE("lost",T.length,k));const A=TE[U];if(A&&b&&b[A]){const{direction:L,distance_km:j}=b[A];console.log(`Your guess is ${j} km to the ${L}`)}return T})};return!n||!C?J.jsx("div",{className:"h-full antialiased flex flex-col items-center justify-center bg-[var(--bg-color)]",children:J.jsxs("div",{className:"text-center px-4",children:[J.jsxs("div",{className:"relative mx-auto mb-6 w-16 h-16",children:[J.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-gray-200 dark:border-gray-700"}),J.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-transparent border-t-gray-600 dark:border-t-gray-300 absolute top-0 left-0"})]}),J.jsx("p",{className:"text-lg font-medium text-[var(--text-color)] tracking-wide",children:"Loading"}),J.jsx("p",{className:"text-sm text-[var(--axis-text-color)] mt-2",children:tm?`Preparing ${Et}'s chart`:"Preparing today's chart"})]})}):J.jsxs("div",{className:"h-full antialiased flex flex-col items-center overflow-y-scroll",children:[J.jsx(jN,{onOpen:dt,dateLabel:Et,overridden:tm}),J.jsxs("div",{className:"pt-13 flex flex-col w-full max-w-[700px] h-full",children:[J.jsxs("div",{className:"flex-none h-2/3",children:[J.jsx("div",{className:"px-4 pb-2 grid grid-cols-[1fr_auto] items-start gap-y-1",children:J.jsxs("div",{children:[J.jsx("h2",{className:"mt-5 text-left font-semibold text-gray-900 dark:text-white text-[20px] md:text-[22px] leading-tight",children:n.title}),J.jsx("p",{className:"text-left text-gray-600 dark:text-gray-300 text-[16px] mt-1",children:n.subtitle})]})}),J.jsx(v3,{csvUrl:n.csvUrl,meta:n,target:k,others:n.others??[],guesses:e,guessColours:Vr,setAvailableCountries:W})]}),J.jsx("div",{className:"flex-none mt-8",children:J.jsx(E3,{guesses:e,onAddGuess:x,onShowResult:P,status:o,modalShown:_,max:Fl,guessColours:Vr,targetData:b,countryToIso:TE,validCountries:F,target:k})})]}),J.jsx(b3,{open:h,onClose:()=>d(!1),guesses:e,target:k,infoDescription:O,source:N,csvUrl:n.csvUrl,title:n.title,subtitle:n.subtitle,maxGuesses:Fl,yearStart:n.yearStart,yearEnd:n.yearEnd,gameDate:Et,unitSuffix:n.unitSuffix}),J.jsx(S3,{open:m,onClose:()=>g(!1),target:k,infoDescription:O,source:N,csvUrl:n.csvUrl,guesses:e,title:n.title,subtitle:n.subtitle,maxGuesses:Fl}),J.jsx(_E,{open:Q==="help",onClose:()=>pt(null)}),J.jsx(_E,{open:gt,onClose:ut}),J.jsx(x3,{open:Q==="history",onClose:()=>pt(null),currentGameDate:Wa}),J.jsx(M3,{open:Q==="settings",onClose:()=>pt(null)}),J.jsx(D3,{open:Q==="auth",onClose:()=>pt(null)})]})}wA.createRoot(document.getElementById("root")).render(J.jsx(pA.StrictMode,{children:J.jsx(BN,{children:J.jsx(MU,{})})}))});export default NU();
