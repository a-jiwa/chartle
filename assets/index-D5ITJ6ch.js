var eA=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var IU=eA((NU,vu)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function Bm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sp={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function nA(){if(iv)return Bl;iv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=t,Bl.jsx=e,Bl.jsxs=e,Bl}var rv;function iA(){return rv||(rv=1,Sp.exports=nA()),Sp.exports}var it=iA(),wp={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function rA(){if(av)return Ut;av=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(S){return S===null||typeof S!="object"?null:(S=T&&S[T]||S["@@iterator"],typeof S=="function"?S:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Z={};function $(S,A,q){this.props=S,this.context=A,this.refs=Z,this.updater=q||D}$.prototype.isReactComponent={},$.prototype.setState=function(S,A){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,A,"setState")},$.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ft(){}ft.prototype=$.prototype;function ht(S,A,q){this.props=S,this.context=A,this.refs=Z,this.updater=q||D}var W=ht.prototype=new ft;W.constructor=ht,j(W,$.prototype),W.isPureReactComponent=!0;var dt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},yt=Object.prototype.hasOwnProperty;function k(S,A,q,K,at,mt){return q=mt.ref,{$$typeof:n,type:S,key:A,ref:q!==void 0?q:null,props:mt}}function I(S,A){return k(S.type,A,void 0,void 0,void 0,S.props)}function C(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function V(S){var A={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(q){return A[q]})}var N=/\/+/g;function L(S,A){return typeof S=="object"&&S!==null&&S.key!=null?V(""+S.key):A.toString(36)}function M(){}function nt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(M,M):(S.status="pending",S.then(function(A){S.status==="pending"&&(S.status="fulfilled",S.value=A)},function(A){S.status==="pending"&&(S.status="rejected",S.reason=A)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function U(S,A,q,K,at){var mt=typeof S;(mt==="undefined"||mt==="boolean")&&(S=null);var pt=!1;if(S===null)pt=!0;else switch(mt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(S.$$typeof){case n:case t:pt=!0;break;case _:return pt=S._init,U(pt(S._payload),A,q,K,at)}}if(pt)return at=at(S),pt=K===""?"."+L(S,0):K,dt(at)?(q="",pt!=null&&(q=pt.replace(N,"$&/")+"/"),U(at,A,q,"",function(Bt){return Bt})):at!=null&&(C(at)&&(at=I(at,q+(at.key==null||S&&S.key===at.key?"":(""+at.key).replace(N,"$&/")+"/")+pt)),A.push(at)),1;pt=0;var _t=K===""?".":K+":";if(dt(S))for(var vt=0;vt<S.length;vt++)K=S[vt],mt=_t+L(K,vt),pt+=U(K,A,q,mt,at);else if(vt=w(S),typeof vt=="function")for(S=vt.call(S),vt=0;!(K=S.next()).done;)K=K.value,mt=_t+L(K,vt++),pt+=U(K,A,q,mt,at);else if(mt==="object"){if(typeof S.then=="function")return U(nt(S),A,q,K,at);throw A=String(S),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return pt}function x(S,A,q){if(S==null)return S;var K=[],at=0;return U(S,K,"","",function(mt){return A.call(q,mt,at++)}),K}function P(S){if(S._status===-1){var A=S._result;A=A(),A.then(function(q){(S._status===0||S._status===-1)&&(S._status=1,S._result=q)},function(q){(S._status===0||S._status===-1)&&(S._status=2,S._result=q)}),S._status===-1&&(S._status=0,S._result=A)}if(S._status===1)return S._result.default;throw S._result}var z=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Q(){}return Ut.Children={map:x,forEach:function(S,A,q){x(S,function(){A.apply(this,arguments)},q)},count:function(S){var A=0;return x(S,function(){A++}),A},toArray:function(S){return x(S,function(A){return A})||[]},only:function(S){if(!C(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ut.Component=$,Ut.Fragment=e,Ut.Profiler=o,Ut.PureComponent=ht,Ut.StrictMode=a,Ut.Suspense=m,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(S){return ct.H.useMemoCache(S)}},Ut.cache=function(S){return function(){return S.apply(null,arguments)}},Ut.cloneElement=function(S,A,q){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var K=j({},S.props),at=S.key,mt=void 0;if(A!=null)for(pt in A.ref!==void 0&&(mt=void 0),A.key!==void 0&&(at=""+A.key),A)!yt.call(A,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&A.ref===void 0||(K[pt]=A[pt]);var pt=arguments.length-2;if(pt===1)K.children=q;else if(1<pt){for(var _t=Array(pt),vt=0;vt<pt;vt++)_t[vt]=arguments[vt+2];K.children=_t}return k(S.type,at,void 0,void 0,mt,K)},Ut.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},Ut.createElement=function(S,A,q){var K,at={},mt=null;if(A!=null)for(K in A.key!==void 0&&(mt=""+A.key),A)yt.call(A,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(at[K]=A[K]);var pt=arguments.length-2;if(pt===1)at.children=q;else if(1<pt){for(var _t=Array(pt),vt=0;vt<pt;vt++)_t[vt]=arguments[vt+2];at.children=_t}if(S&&S.defaultProps)for(K in pt=S.defaultProps,pt)at[K]===void 0&&(at[K]=pt[K]);return k(S,mt,void 0,void 0,null,at)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(S){return{$$typeof:d,render:S}},Ut.isValidElement=C,Ut.lazy=function(S){return{$$typeof:_,_payload:{_status:-1,_result:S},_init:P}},Ut.memo=function(S,A){return{$$typeof:g,type:S,compare:A===void 0?null:A}},Ut.startTransition=function(S){var A=ct.T,q={};ct.T=q;try{var K=S(),at=ct.S;at!==null&&at(q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Q,z)}catch(mt){z(mt)}finally{ct.T=A}},Ut.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Ut.use=function(S){return ct.H.use(S)},Ut.useActionState=function(S,A,q){return ct.H.useActionState(S,A,q)},Ut.useCallback=function(S,A){return ct.H.useCallback(S,A)},Ut.useContext=function(S){return ct.H.useContext(S)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(S,A){return ct.H.useDeferredValue(S,A)},Ut.useEffect=function(S,A,q){var K=ct.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(S,A)},Ut.useId=function(){return ct.H.useId()},Ut.useImperativeHandle=function(S,A,q){return ct.H.useImperativeHandle(S,A,q)},Ut.useInsertionEffect=function(S,A){return ct.H.useInsertionEffect(S,A)},Ut.useLayoutEffect=function(S,A){return ct.H.useLayoutEffect(S,A)},Ut.useMemo=function(S,A){return ct.H.useMemo(S,A)},Ut.useOptimistic=function(S,A){return ct.H.useOptimistic(S,A)},Ut.useReducer=function(S,A,q){return ct.H.useReducer(S,A,q)},Ut.useRef=function(S){return ct.H.useRef(S)},Ut.useState=function(S){return ct.H.useState(S)},Ut.useSyncExternalStore=function(S,A,q){return ct.H.useSyncExternalStore(S,A,q)},Ut.useTransition=function(){return ct.H.useTransition()},Ut.version="19.1.0",Ut}var sv;function zm(){return sv||(sv=1,wp.exports=rA()),wp.exports}var bt=zm();const aA=Bm(bt);var bp={exports:{}},zl={},Ap={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function sA(){return ov||(ov=1,function(n){function t(x,P){var z=x.length;x.push(P);t:for(;0<z;){var Q=z-1>>>1,S=x[Q];if(0<o(S,P))x[Q]=P,x[z]=S,z=Q;else break t}}function e(x){return x.length===0?null:x[0]}function a(x){if(x.length===0)return null;var P=x[0],z=x.pop();if(z!==P){x[0]=z;t:for(var Q=0,S=x.length,A=S>>>1;Q<A;){var q=2*(Q+1)-1,K=x[q],at=q+1,mt=x[at];if(0>o(K,z))at<S&&0>o(mt,K)?(x[Q]=mt,x[at]=z,Q=at):(x[Q]=K,x[q]=z,Q=q);else if(at<S&&0>o(mt,z))x[Q]=mt,x[at]=z,Q=at;else break t}}return P}function o(x,P){var z=x.sortIndex-P.sortIndex;return z!==0?z:x.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],g=[],_=1,T=null,w=3,D=!1,j=!1,Z=!1,$=!1,ft=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function dt(x){for(var P=e(g);P!==null;){if(P.callback===null)a(g);else if(P.startTime<=x)a(g),P.sortIndex=P.expirationTime,t(m,P);else break;P=e(g)}}function ct(x){if(Z=!1,dt(x),!j)if(e(m)!==null)j=!0,yt||(yt=!0,L());else{var P=e(g);P!==null&&U(ct,P.startTime-x)}}var yt=!1,k=-1,I=5,C=-1;function V(){return $?!0:!(n.unstable_now()-C<I)}function N(){if($=!1,yt){var x=n.unstable_now();C=x;var P=!0;try{t:{j=!1,Z&&(Z=!1,ht(k),k=-1),D=!0;var z=w;try{e:{for(dt(x),T=e(m);T!==null&&!(T.expirationTime>x&&V());){var Q=T.callback;if(typeof Q=="function"){T.callback=null,w=T.priorityLevel;var S=Q(T.expirationTime<=x);if(x=n.unstable_now(),typeof S=="function"){T.callback=S,dt(x),P=!0;break e}T===e(m)&&a(m),dt(x)}else a(m);T=e(m)}if(T!==null)P=!0;else{var A=e(g);A!==null&&U(ct,A.startTime-x),P=!1}}break t}finally{T=null,w=z,D=!1}P=void 0}}finally{P?L():yt=!1}}}var L;if(typeof W=="function")L=function(){W(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,nt=M.port2;M.port1.onmessage=N,L=function(){nt.postMessage(null)}}else L=function(){ft(N,0)};function U(x,P){k=ft(function(){x(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(x){x.callback=null},n.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<x?Math.floor(1e3/x):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(x){switch(w){case 1:case 2:case 3:var P=3;break;default:P=w}var z=w;w=P;try{return x()}finally{w=z}},n.unstable_requestPaint=function(){$=!0},n.unstable_runWithPriority=function(x,P){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var z=w;w=x;try{return P()}finally{w=z}},n.unstable_scheduleCallback=function(x,P,z){var Q=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,x){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=z+S,x={id:_++,callback:P,priorityLevel:x,startTime:z,expirationTime:S,sortIndex:-1},z>Q?(x.sortIndex=z,t(g,x),e(m)===null&&x===e(g)&&(Z?(ht(k),k=-1):Z=!0,U(ct,z-Q))):(x.sortIndex=S,t(m,x),j||D||(j=!0,yt||(yt=!0,L()))),x},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(x){var P=w;return function(){var z=w;w=P;try{return x.apply(this,arguments)}finally{w=z}}}}(Rp)),Rp}var lv;function oA(){return lv||(lv=1,Ap.exports=sA()),Ap.exports}var Cp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function lA(){if(uv)return fn;uv=1;var n=zm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,_)},fn.flushSync=function(m){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=_,a.d.f()}},fn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},fn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},fn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:D}):_==="script"&&a.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},fn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);a.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},fn.requestFormReset=function(m){a.d.r(m)},fn.unstable_batchedUpdates=function(m,g){return m(g)},fn.useFormState=function(m,g,_){return h.H.useFormState(m,g,_)},fn.useFormStatus=function(){return h.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var cv;function uA(){if(cv)return Cp.exports;cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cp.exports=lA(),Cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function cA(){if(hv)return zl;hv=1;var n=oA(),t=zm(),e=uA();function a(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,s=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(s=r.return),i=r.return;while(i)}return r.tag===3?s:null}function h(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(a(188))}function m(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(a(188));return r!==i?null:i}for(var s=i,l=r;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),i;if(p===l)return d(f),r;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var E=!1,b=f.child;b;){if(b===s){E=!0,s=f,l=p;break}if(b===l){E=!0,l=f,s=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===s){E=!0,s=p,l=f;break}if(b===l){E=!0,l=p,s=f;break}b=b.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),W=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function nt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case $:return"Profiler";case Z:return"StrictMode";case ct:return"Suspense";case yt:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case W:return(i.displayName||"Context")+".Provider";case ht:return(i._context.displayName||"Context")+".Consumer";case dt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:nt(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return nt(i(r))}catch{}}return null}var U=Array.isArray,x=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},Q=[],S=-1;function A(i){return{current:i}}function q(i){0>S||(i.current=Q[S],Q[S]=null,S--)}function K(i,r){S++,Q[S]=i.current,i.current=r}var at=A(null),mt=A(null),pt=A(null),_t=A(null);function vt(i,r){switch(K(pt,r),K(mt,i),K(at,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?N0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=N0(r),i=D0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(at),K(at,i)}function Bt(){q(at),q(mt),q(pt)}function Yt(i){i.memoizedState!==null&&K(_t,i);var r=at.current,s=D0(r,i.type);r!==s&&(K(mt,i),K(at,s))}function Lt(i){mt.current===i&&(q(at),q(mt)),_t.current===i&&(q(_t),kl._currentValue=z)}var Qt=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,Vt=n.unstable_cancelCallback,_e=n.unstable_shouldYield,Ce=n.unstable_requestPaint,ge=n.unstable_now,yn=n.unstable_getCurrentPriorityLevel,_n=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,vn=n.unstable_NormalPriority,et=n.unstable_LowPriority,te=n.unstable_IdlePriority,Pt=n.log,Ht=n.unstable_setDisableYieldValue,It=null,Nt=null;function pe(i){if(typeof Pt=="function"&&Ht(i),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(It,i)}catch{}}var ie=Math.clz32?Math.clz32:Be,De=Math.log,un=Math.LN2;function Be(i){return i>>>=0,i===0?32:31-(De(i)/un|0)|0}var fi=256,wr=4194304;function cn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function fs(i,r,s){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=cn(l):(E&=b,E!==0?f=cn(E):s||(s=b&~i,s!==0&&(f=cn(s))))):(b=l&~p,b!==0?f=cn(b):E!==0?f=cn(E):s||(s=l&~i,s!==0&&(f=cn(s)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,s=r&-r,p>=s||p===32&&(s&4194048)!==0)?r:f}function pa(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ko(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var i=fi;return fi<<=1,(fi&4194048)===0&&(fi=256),i}function Po(){var i=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),i}function ji(i){for(var r=[],s=0;31>s;s++)r.push(i);return r}function Gi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Lo(i,r,s,l,f,p){var E=i.pendingLanes;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=s,i.entangledLanes&=s,i.errorRecoveryDisabledLanes&=s,i.shellSuspendCounter=0;var b=i.entanglements,O=i.expirationTimes,Y=i.hiddenUpdates;for(s=E&~s;0<s;){var rt=31-ie(s),ot=1<<rt;b[rt]=0,O[rt]=-1;var X=Y[rt];if(X!==null)for(Y[rt]=null,rt=0;rt<X.length;rt++){var J=X[rt];J!==null&&(J.lane&=-536870913)}s&=~ot}l!==0&&di(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(E&~r))}function di(i,r,s){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-ie(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|s&4194090}function Uo(i,r){var s=i.entangledLanes|=r;for(i=i.entanglements;s;){var l=31-ie(s),f=1<<l;f&r|i[l]&r&&(i[l]|=r),s&=~f}}function br(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ds(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ar(){var i=P.p;return i!==0?i:(i=window.event,i===void 0?32:Z0(i.type))}function Du(i,r){var s=P.p;try{return P.p=i,r()}finally{P.p=s}}var Ee=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ee,Oe="__reactProps$"+Ee,Bn="__reactContainer$"+Ee,Bo="__reactEvents$"+Ee,Af="__reactListeners$"+Ee,Rr="__reactHandles$"+Ee,Ou="__reactResources$"+Ee,ma="__reactMarker$"+Ee;function Cr(i){delete i[ze],delete i[Oe],delete i[Bo],delete i[Af],delete i[Rr]}function qi(i){var r=i[ze];if(r)return r;for(var s=i.parentNode;s;){if(r=s[Bn]||s[ze]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(i=P0(i);i!==null;){if(s=i[ze])return s;i=P0(i)}return r}i=s,s=i.parentNode}return null}function pi(i){if(i=i[ze]||i[Bn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function mi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(a(33))}function En(i){var r=i[Ou];return r||(r=i[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ie(i){i[ma]=!0}var zo=new Set,ps={};function ti(i,r){Hi(i,r),Hi(i+"Capture",r)}function Hi(i,r){for(ps[i]=r,i=0;i<r.length;i++)zo.add(r[i])}var ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},ga={};function Pu(i){return Qt.call(ga,i)?!0:Qt.call(Vu,i)?!1:ku.test(i)?ga[i]=!0:(Vu[i]=!0,!1)}function Ir(i,r,s){if(Pu(r))if(s===null)i.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+s)}}function gi(i,r,s){if(s===null)i.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+s)}}function tn(i,r,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttributeNS(r,s,""+l)}}var ya,Lu;function Fi(i){if(ya===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ya=r&&r[1]||"",Lu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+i+Lu}var ms=!1;function gs(i,r){if(!i||ms)return"";ms=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(J){var X=J}Reflect.construct(i,[],ot)}else{try{ot.call()}catch(J){X=J}i.call(ot.prototype)}}else{try{throw Error()}catch(J){X=J}(ot=i())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var O=E.split(`
`),Y=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===Y.length)for(l=O.length-1,f=Y.length-1;1<=l&&0<=f&&O[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==Y[f]){var rt=`
`+O[l].replace(" at new "," at ");return i.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",i.displayName)),rt}while(1<=l&&0<=f);break}}}finally{ms=!1,Error.prepareStackTrace=s}return(s=i?i.displayName||i.name:"")?Fi(s):""}function jo(i){switch(i.tag){case 26:case 27:case 5:return Fi(i.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return gs(i.type,!1);case 11:return gs(i.type.render,!1);case 1:return gs(i.type,!0);case 31:return Fi("Activity");default:return""}}function ys(i){try{var r="";do r+=jo(i),i=i.return;while(i);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Go(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rf(i){var r=Go(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(i,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function _s(i){i._valueTracker||(i._valueTracker=Rf(i))}function qo(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return i&&(l=Go(i)?i.checked?"true":"false":i.value),i=l,i!==s?(r.setValue(i),!0):!1}function _a(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Cf=/[\n"\\]/g;function ke(i){return i.replace(Cf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xn(i,r,s,l,f,p,E,b){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Tn(r)):i.value!==""+Tn(r)&&(i.value=""+Tn(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Mr(i,E,Tn(r)):s!=null?Mr(i,E,Tn(s)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+Tn(b):i.removeAttribute("name")}function va(i,r,s,l,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;s=s!=null?""+Tn(s):"",r=r!=null?""+Tn(r):s,b||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=b?i.checked:!!l,i.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Mr(i,r,s){r==="number"&&_a(i.ownerDocument)===i||i.defaultValue===""+s||(i.defaultValue=""+s)}function $i(i,r,s,l){if(i=i.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<i.length;s++)f=r.hasOwnProperty("$"+i[s].value),i[s].selected!==f&&(i[s].selected=f),f&&l&&(i[s].defaultSelected=!0)}else{for(s=""+Tn(s),r=null,f=0;f<i.length;f++){if(i[f].value===s){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function ce(i,r,s){if(r!=null&&(r=""+Tn(r),r!==i.value&&(i.value=r),s==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=s!=null?""+Tn(s):""}function Ea(i,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(U(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Tn(r),i.defaultValue=s,l=i.textContent,l===s&&l!==""&&l!==null&&(i.value=l)}function zn(i,r){if(r){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=r;return}}i.textContent=r}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(i,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,s):typeof s!="number"||s===0||Ta.has(r)?r==="float"?i.cssFloat=s:i[r]=(""+s).trim():i[r]=s+"px"}function Ho(i,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(i=i.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&Uu(i,f,l)}else for(var p in r)r.hasOwnProperty(p)&&Uu(i,p,r[p])}function Fo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(i){return Mf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ki=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yi=null,Qi=null;function $o(i){var r=pi(i);if(r&&(i=r.stateNode)){var s=i[Oe]||null;t:switch(i=r.stateNode,r.type){case"input":if(xn(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ke(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==i&&l.form===i.form){var f=l[Oe]||null;if(!f)throw Error(a(90));xn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===i.form&&qo(l)}break t;case"textarea":ce(i,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&$i(i,!!s.multiple,r,!1)}}}var yi=!1;function Bu(i,r,s){if(yi)return i(r,s);yi=!0;try{var l=i(r);return l}finally{if(yi=!1,(Yi!==null||Qi!==null)&&(Dc(),Yi&&(r=Yi,i=Qi,Qi=Yi=null,$o(r),i)))for(r=0;r<i.length;r++)$o(i[r])}}function Sa(i,r){var s=i.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(ei)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Gn=!1}var _i=null,xr=null,Xi=null;function Ko(){if(Xi)return Xi;var i,r=xr,s=r.length,l,f="value"in _i?_i.value:_i.textContent,p=f.length;for(i=0;i<s&&r[i]===f[i];i++);var E=s-i;for(l=1;l<=E&&r[s-l]===f[p-l];l++);return Xi=f.slice(i,1<l?1-l:void 0)}function vi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ei(){return!0}function Yo(){return!1}function Ke(i){function r(s,l,f,p,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(s=i[b],this[b]=s?s(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ei:Yo,this.isPropagationStopped=Yo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),r}var re={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=Ke(re),ba=_({},re,{view:0,detail:0}),zu=Ke(ba),Ts,Ss,Ti,Aa=_({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(Ts=i.screenX-Ti.screenX,Ss=i.screenY-Ti.screenY):Ss=Ts=0,Ti=i),Ts)},movementY:function(i){return"movementY"in i?i.movementY:Ss}}),qn=Ke(Aa),ju=_({},Aa,{dataTransfer:0}),xf=Ke(ju),Ra=_({},ba,{relatedTarget:0}),ws=Ke(Ra),Qo=_({},re,{animationName:0,elapsedTime:0,pseudoElement:0}),bs=Ke(Qo),Gu=_({},re,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),As=Ke(Gu),Nf=_({},re,{data:0}),Xo=Ke(Nf),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Hu[i])?!!r[i]:!1}function Ia(){return Zo}var Fu=_({},ba,{key:function(i){if(i.key){var r=Ca[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=vi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(i){return i.type==="keypress"?vi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rs=Ke(Fu),$u=_({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=Ke($u),Zi=_({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Ku=Ke(Zi),Yu=_({},re,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Ke(Yu),Xu=_({},Aa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Cs=Ke(Xu),Sn=_({},re,{newState:0,oldState:0}),Zu=Ke(Sn),Ju=[9,13,27,32],Si=ei&&"CompositionEvent"in window,c=null;ei&&"documentMode"in document&&(c=document.documentMode);var y=ei&&"TextEvent"in window&&!c,v=ei&&(!Si||c&&8<c&&11>=c),R=" ",H=!1;function tt(i,r){switch(i){case"keyup":return Ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xt=!1;function je(i,r){switch(i){case"compositionend":return gt(r);case"keypress":return r.which!==32?null:(H=!0,R);case"textInput":return i=r.data,i===R&&H?null:i;default:return null}}function Zt(i,r){if(Xt)return i==="compositionend"||!Si&&tt(i,r)?(i=Ko(),Xi=xr=_i=null,Xt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ye[i.type]:r==="textarea"}function Ji(i,r,s,l){Yi?Qi?Qi.push(l):Qi=[l]:Yi=l,r=Uc(r,"onChange"),0<r.length&&(s=new Es("onChange","change",null,s,l),i.push({event:s,listeners:r}))}var en=null,wi=null;function Wo(i){R0(i,0)}function Wu(i){var r=mi(i);if(qo(r))return i}function Kg(i,r){if(i==="change")return r}var Yg=!1;if(ei){var Df;if(ei){var Of="oninput"in document;if(!Of){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),Of=typeof Qg.oninput=="function"}Df=Of}else Df=!1;Yg=Df&&(!document.documentMode||9<document.documentMode)}function Xg(){en&&(en.detachEvent("onpropertychange",Zg),wi=en=null)}function Zg(i){if(i.propertyName==="value"&&Wu(wi)){var r=[];Ji(r,wi,i,jn(i)),Bu(Wo,r)}}function Nw(i,r,s){i==="focusin"?(Xg(),en=r,wi=s,en.attachEvent("onpropertychange",Zg)):i==="focusout"&&Xg()}function Dw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wu(wi)}function Ow(i,r){if(i==="click")return Wu(r)}function kw(i,r){if(i==="input"||i==="change")return Wu(r)}function Vw(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Nn=typeof Object.is=="function"?Object.is:Vw;function tl(i,r){if(Nn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var s=Object.keys(i),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Qt.call(r,f)||!Nn(i[f],r[f]))return!1}return!0}function Jg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wg(i,r){var s=Jg(i);i=0;for(var l;s;){if(s.nodeType===3){if(l=i+s.textContent.length,i<=r&&l>=r)return{node:s,offset:r-i};i=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Jg(s)}}function ty(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?ty(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ey(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=_a(i.document);r instanceof i.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)i=r.contentWindow;else break;r=_a(i.document)}return r}function kf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Pw=ei&&"documentMode"in document&&11>=document.documentMode,Is=null,Vf=null,el=null,Pf=!1;function ny(i,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pf||Is==null||Is!==_a(l)||(l=Is,"selectionStart"in l&&kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=Uc(Vf,"onSelect"),0<l.length&&(r=new Es("onSelect","select",null,r,s),i.push({event:r,listeners:l}),r.target=Is)))}function Ma(i,r){var s={};return s[i.toLowerCase()]=r.toLowerCase(),s["Webkit"+i]="webkit"+r,s["Moz"+i]="moz"+r,s}var Ms={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Lf={},iy={};ei&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function xa(i){if(Lf[i])return Lf[i];if(!Ms[i])return i;var r=Ms[i],s;for(s in r)if(r.hasOwnProperty(s)&&s in iy)return Lf[i]=r[s];return i}var ry=xa("animationend"),ay=xa("animationiteration"),sy=xa("animationstart"),Lw=xa("transitionrun"),Uw=xa("transitionstart"),Bw=xa("transitioncancel"),oy=xa("transitionend"),ly=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function ni(i,r){ly.set(i,r),ti(r,[i])}var uy=new WeakMap;function Hn(i,r){if(typeof i=="object"&&i!==null){var s=uy.get(i);return s!==void 0?s:(r={value:i,source:r,stack:ys(r)},uy.set(i,r),r)}return{value:i,source:r,stack:ys(r)}}var Fn=[],xs=0,Bf=0;function tc(){for(var i=xs,r=Bf=xs=0;r<i;){var s=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var p=Fn[r];if(Fn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&cy(s,f,p)}}function ec(i,r,s,l){Fn[xs++]=i,Fn[xs++]=r,Fn[xs++]=s,Fn[xs++]=l,Bf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function zf(i,r,s,l){return ec(i,r,s,l),nc(i)}function Ns(i,r){return ec(i,null,null,r),nc(i)}function cy(i,r,s){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=i.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-ie(s),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=s|536870912),p):null}function nc(i){if(50<Rl)throw Rl=0,$d=null,Error(a(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ds={};function zw(i,r,s,l){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,s,l){return new zw(i,r,s,l)}function jf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wi(i,r){var s=i.alternate;return s===null?(s=Dn(i.tag,r,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=r,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&65011712,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,r=i.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.refCleanup=i.refCleanup,s}function hy(i,r){i.flags&=65011714;var s=i.alternate;return s===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,r=s.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ic(i,r,s,l,f,p){var E=0;if(l=i,typeof i=="function")jf(i)&&(E=1);else if(typeof i=="string")E=Gb(i,s,at.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=Dn(31,s,r,f),i.elementType=C,i.lanes=p,i;case j:return Na(s.children,f,p,r);case Z:E=8,f|=24;break;case $:return i=Dn(12,s,r,f|2),i.elementType=$,i.lanes=p,i;case ct:return i=Dn(13,s,r,f),i.elementType=ct,i.lanes=p,i;case yt:return i=Dn(19,s,r,f),i.elementType=yt,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ft:case W:E=10;break t;case ht:E=9;break t;case dt:E=11;break t;case k:E=14;break t;case I:E=16,l=null;break t}E=29,s=Error(a(130,i===null?"null":typeof i,"")),l=null}return r=Dn(E,s,r,f),r.elementType=i,r.type=l,r.lanes=p,r}function Na(i,r,s,l){return i=Dn(7,i,l,r),i.lanes=s,i}function Gf(i,r,s){return i=Dn(6,i,null,r),i.lanes=s,i}function qf(i,r,s){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=s,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Os=[],ks=0,rc=null,ac=0,$n=[],Kn=0,Da=null,tr=1,er="";function Oa(i,r){Os[ks++]=ac,Os[ks++]=rc,rc=i,ac=r}function fy(i,r,s){$n[Kn++]=tr,$n[Kn++]=er,$n[Kn++]=Da,Da=i;var l=tr;i=er;var f=32-ie(l)-1;l&=~(1<<f),s+=1;var p=32-ie(r)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,tr=1<<32-ie(r)+f|s<<f|l,er=p+i}else tr=1<<p|s<<f|l,er=i}function Hf(i){i.return!==null&&(Oa(i,1),fy(i,1,0))}function Ff(i){for(;i===rc;)rc=Os[--ks],Os[ks]=null,ac=Os[--ks],Os[ks]=null;for(;i===Da;)Da=$n[--Kn],$n[Kn]=null,er=$n[--Kn],$n[Kn]=null,tr=$n[--Kn],$n[Kn]=null}var wn=null,Ae=null,ne=!1,ka=null,bi=!1,$f=Error(a(519));function Va(i){var r=Error(a(418,""));throw rl(Hn(r,i)),$f}function dy(i){var r=i.stateNode,s=i.type,l=i.memoizedProps;switch(r[ze]=i,r[Oe]=l,s){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(s=0;s<Il.length;s++)qt(Il[s],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":qt("invalid",r),va(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_s(r);break;case"select":qt("invalid",r);break;case"textarea":qt("invalid",r),Ea(r,l.value,l.defaultValue,l.children),_s(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||x0(r.textContent,s)?(l.popover!=null&&(qt("beforetoggle",r),qt("toggle",r)),l.onScroll!=null&&qt("scroll",r),l.onScrollEnd!=null&&qt("scrollend",r),l.onClick!=null&&(r.onclick=Bc),r=!0):r=!1,r||Va(i)}function py(i){for(wn=i.return;wn;)switch(wn.tag){case 5:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:wn=wn.return}}function nl(i){if(i!==wn)return!1;if(!ne)return py(i),ne=!0,!1;var r=i.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=i.type,s=!(s!=="form"&&s!=="button")||lp(i.type,i.memoizedProps)),s=!s),s&&Ae&&Va(i),py(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){Ae=ri(i.nextSibling);break t}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;i=i.nextSibling}Ae=null}}else r===27?(r=Ae,$r(i.type)?(i=fp,fp=null,Ae=i):Ae=r):Ae=wn?ri(i.stateNode.nextSibling):null;return!0}function il(){Ae=wn=null,ne=!1}function my(){var i=ka;return i!==null&&(Rn===null?Rn=i:Rn.push.apply(Rn,i),ka=null),i}function rl(i){ka===null?ka=[i]:ka.push(i)}var Kf=A(null),Pa=null,nr=null;function Nr(i,r,s){K(Kf,r._currentValue),r._currentValue=s}function ir(i){i._currentValue=Kf.current,q(Kf)}function Yf(i,r,s){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===s)break;i=i.return}}function Qf(i,r,s,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var b=p;p=f;for(var O=0;O<r.length;O++)if(b.context===r[O]){p.lanes|=s,b=p.alternate,b!==null&&(b.lanes|=s),Yf(p.return,s,i),l||(E=null);break t}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),Yf(E,s,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function al(i,r,s,l){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var b=f.type;Nn(f.pendingProps.value,E.value)||(i!==null?i.push(b):i=[b])}}else if(f===_t.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(kl):i=[kl])}f=f.return}i!==null&&Qf(r,i,s,l),r.flags|=262144}function sc(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function La(i){Pa=i,nr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return gy(Pa,i)}function oc(i,r){return Pa===null&&La(i),gy(i,r)}function gy(i,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},nr===null){if(i===null)throw Error(a(308));nr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else nr=nr.next=r;return s}var jw=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(s,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(s){return s()})}},Gw=n.unstable_scheduleCallback,qw=n.unstable_NormalPriority,qe={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new jw,data:new Map,refCount:0}}function sl(i){i.refCount--,i.refCount===0&&Gw(qw,function(){i.controller.abort()})}var ol=null,Zf=0,Vs=0,Ps=null;function Hw(i,r){if(ol===null){var s=ol=[];Zf=0,Vs=Wd(),Ps={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Zf++,r.then(yy,yy),r}function yy(){if(--Zf===0&&ol!==null){Ps!==null&&(Ps.status="fulfilled");var i=ol;ol=null,Vs=0,Ps=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Fw(i,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var _y=x.S;x.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hw(i,r),_y!==null&&_y(i,r)};var Ua=A(null);function Jf(){var i=Ua.current;return i!==null?i:ye.pooledCache}function lc(i,r){r===null?K(Ua,Ua.current):K(Ua,r.pool)}function vy(){var i=Jf();return i===null?null:{parent:qe._currentValue,pool:i}}var ll=Error(a(460)),Ey=Error(a(474)),uc=Error(a(542)),Wf={then:function(){}};function Ty(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cc(){}function Sy(i,r,s){switch(s=i[s],s===void 0?i.push(r):s!==r&&(r.then(cc,cc),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,by(i),i;default:if(typeof r.status=="string")r.then(cc,cc);else{if(i=ye,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,by(i),i}throw ul=r,ll}}var ul=null;function wy(){if(ul===null)throw Error(a(459));var i=ul;return ul=null,i}function by(i){if(i===ll||i===uc)throw Error(a(483))}var Dr=!1;function td(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Or(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function kr(i,r,s){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(oe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=nc(i),cy(i,null,s),r}return ec(i,l,r,s),nc(i)}function cl(i,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,s|=l,r.lanes=s,Uo(i,s)}}function nd(i,r){var s=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?f=p=r:p=p.next=r}else f=p=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=r:i.next=r,s.lastBaseUpdate=r}var id=!1;function hl(){if(id){var i=Ps;if(i!==null)throw i}}function fl(i,r,s,l){id=!1;var f=i.updateQueue;Dr=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,Y=O.next;O.next=null,E===null?p=Y:E.next=Y,E=O;var rt=i.alternate;rt!==null&&(rt=rt.updateQueue,b=rt.lastBaseUpdate,b!==E&&(b===null?rt.firstBaseUpdate=Y:b.next=Y,rt.lastBaseUpdate=O))}if(p!==null){var ot=f.baseState;E=0,rt=Y=O=null,b=p;do{var X=b.lane&-536870913,J=X!==b.lane;if(J?(Jt&X)===X:(l&X)===X){X!==0&&X===Vs&&(id=!0),rt!==null&&(rt=rt.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var xt=i,Rt=b;X=r;var de=s;switch(Rt.tag){case 1:if(xt=Rt.payload,typeof xt=="function"){ot=xt.call(de,ot,X);break t}ot=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Rt.payload,X=typeof xt=="function"?xt.call(de,ot,X):xt,X==null)break t;ot=_({},ot,X);break t;case 2:Dr=!0}}X=b.callback,X!==null&&(i.flags|=64,J&&(i.flags|=8192),J=f.callbacks,J===null?f.callbacks=[X]:J.push(X))}else J={lane:X,tag:b.tag,payload:b.payload,callback:b.callback,next:null},rt===null?(Y=rt=J,O=ot):rt=rt.next=J,E|=X;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);rt===null&&(O=ot),f.baseState=O,f.firstBaseUpdate=Y,f.lastBaseUpdate=rt,p===null&&(f.shared.lanes=0),Gr|=E,i.lanes=E,i.memoizedState=ot}}function Ay(i,r){if(typeof i!="function")throw Error(a(191,i));i.call(r)}function Ry(i,r){var s=i.callbacks;if(s!==null)for(i.callbacks=null,i=0;i<s.length;i++)Ay(s[i],r)}var Ls=A(null),hc=A(0);function Cy(i,r){i=cr,K(hc,i),K(Ls,r),cr=i|r.baseLanes}function rd(){K(hc,cr),K(Ls,Ls.current)}function ad(){cr=hc.current,q(Ls),q(hc)}var Vr=0,zt=null,he=null,Ve=null,fc=!1,Us=!1,Ba=!1,dc=0,dl=0,Bs=null,$w=0;function Me(){throw Error(a(321))}function sd(i,r){if(r===null)return!1;for(var s=0;s<r.length&&s<i.length;s++)if(!Nn(i[s],r[s]))return!1;return!0}function od(i,r,s,l,f,p){return Vr=p,zt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,x.H=i===null||i.memoizedState===null?c_:h_,Ba=!1,p=s(l,f),Ba=!1,Us&&(p=My(r,s,l,f)),Iy(i),p}function Iy(i){x.H=vc;var r=he!==null&&he.next!==null;if(Vr=0,Ve=he=zt=null,fc=!1,dl=0,Bs=null,r)throw Error(a(300));i===null||Qe||(i=i.dependencies,i!==null&&sc(i)&&(Qe=!0))}function My(i,r,s,l){zt=i;var f=0;do{if(Us&&(Bs=null),dl=0,Us=!1,25<=f)throw Error(a(301));if(f+=1,Ve=he=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}x.H=Ww,p=r(s,l)}while(Us);return p}function Kw(){var i=x.H,r=i.useState()[0];return r=typeof r.then=="function"?pl(r):r,i=i.useState()[0],(he!==null?he.memoizedState:null)!==i&&(zt.flags|=1024),r}function ld(){var i=dc!==0;return dc=0,i}function ud(i,r,s){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~s}function cd(i){if(fc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}fc=!1}Vr=0,Ve=he=zt=null,Us=!1,dl=dc=0,Bs=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?zt.memoizedState=Ve=i:Ve=Ve.next=i,Ve}function Pe(){if(he===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=he.next;var r=Ve===null?zt.memoizedState:Ve.next;if(r!==null)Ve=r,he=i;else{if(i===null)throw zt.alternate===null?Error(a(467)):Error(a(310));he=i,i={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ve===null?zt.memoizedState=Ve=i:Ve=Ve.next=i}return Ve}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(i){var r=dl;return dl+=1,Bs===null&&(Bs=[]),i=Sy(Bs,i,r),r=zt,(Ve===null?r.memoizedState:Ve.next)===null&&(r=r.alternate,x.H=r===null||r.memoizedState===null?c_:h_),i}function pc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return pl(i);if(i.$$typeof===W)return hn(i)}throw Error(a(438,String(i)))}function fd(i){var r=null,s=zt.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=zt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=hd(),zt.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(i),l=0;l<i;l++)s[l]=V;return r.index++,s}function rr(i,r){return typeof r=="function"?r(i):r}function mc(i){var r=Pe();return dd(r,he,i)}function dd(i,r,s){var l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var b=E=null,O=null,Y=r,rt=!1;do{var ot=Y.lane&-536870913;if(ot!==Y.lane?(Jt&ot)===ot:(Vr&ot)===ot){var X=Y.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ot===Vs&&(rt=!0);else if((Vr&X)===X){Y=Y.next,X===Vs&&(rt=!0);continue}else ot={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(b=O=ot,E=p):O=O.next=ot,zt.lanes|=X,Gr|=X;ot=Y.action,Ba&&s(p,ot),p=Y.hasEagerState?Y.eagerState:s(p,ot)}else X={lane:ot,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(b=O=X,E=p):O=O.next=X,zt.lanes|=ot,Gr|=ot;Y=Y.next}while(Y!==null&&Y!==r);if(O===null?E=p:O.next=b,!Nn(p,i.memoizedState)&&(Qe=!0,rt&&(s=Ps,s!==null)))throw s;i.memoizedState=p,i.baseState=E,i.baseQueue=O,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function pd(i){var r=Pe(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var l=s.dispatch,f=s.pending,p=r.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do p=i(p,E.action),E=E.next;while(E!==f);Nn(p,r.memoizedState)||(Qe=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),s.lastRenderedState=p}return[p,l]}function xy(i,r,s){var l=zt,f=Pe(),p=ne;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=r();var E=!Nn((he||f).memoizedState,s);E&&(f.memoizedState=s,Qe=!0),f=f.queue;var b=Oy.bind(null,l,f,i);if(ml(2048,8,b,[i]),f.getSnapshot!==r||E||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,zs(9,gc(),Dy.bind(null,l,f,s,r),null),ye===null)throw Error(a(349));p||(Vr&124)!==0||Ny(l,r,s)}return s}function Ny(i,r,s){i.flags|=16384,i={getSnapshot:r,value:s},r=zt.updateQueue,r===null?(r=hd(),zt.updateQueue=r,r.stores=[i]):(s=r.stores,s===null?r.stores=[i]:s.push(i))}function Dy(i,r,s,l){r.value=s,r.getSnapshot=l,ky(r)&&Vy(i)}function Oy(i,r,s){return s(function(){ky(r)&&Vy(i)})}function ky(i){var r=i.getSnapshot;i=i.value;try{var s=r();return!Nn(i,s)}catch{return!0}}function Vy(i){var r=Ns(i,2);r!==null&&Ln(r,i,2)}function md(i){var r=bn();if(typeof i=="function"){var s=i;if(i=s(),Ba){pe(!0);try{s()}finally{pe(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:i},r}function Py(i,r,s,l){return i.baseState=s,dd(i,he,typeof l=="function"?l:rr)}function Yw(i,r,s,l,f){if(_c(i))throw Error(a(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};x.T!==null?s(!0):p.isTransition=!1,l(p),s=r.pending,s===null?(p.next=r.pending=p,Ly(r,p)):(p.next=s.next,r.pending=s.next=p)}}function Ly(i,r){var s=r.action,l=r.payload,f=i.state;if(r.isTransition){var p=x.T,E={};x.T=E;try{var b=s(f,l),O=x.S;O!==null&&O(E,b),Uy(i,r,b)}catch(Y){gd(i,r,Y)}finally{x.T=p}}else try{p=s(f,l),Uy(i,r,p)}catch(Y){gd(i,r,Y)}}function Uy(i,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){By(i,r,l)},function(l){return gd(i,r,l)}):By(i,r,s)}function By(i,r,s){r.status="fulfilled",r.value=s,zy(r),i.state=s,r=i.pending,r!==null&&(s=r.next,s===r?i.pending=null:(s=s.next,r.next=s,Ly(i,s)))}function gd(i,r,s){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,zy(r),r=r.next;while(r!==l)}i.action=null}function zy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function jy(i,r){return r}function Gy(i,r){if(ne){var s=ye.formState;if(s!==null){t:{var l=zt;if(ne){if(Ae){e:{for(var f=Ae,p=bi;f.nodeType!==8;){if(!p){f=null;break e}if(f=ri(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ae=ri(f.nextSibling),l=f.data==="F!";break t}}Va(l)}l=!1}l&&(r=s[0])}}return s=bn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:r},s.queue=l,s=o_.bind(null,zt,l),l.dispatch=s,l=md(!1),p=Td.bind(null,zt,!1,l.queue),l=bn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,s=Yw.bind(null,zt,f,p,s),f.dispatch=s,l.memoizedState=i,[r,s,!1]}function qy(i){var r=Pe();return Hy(r,he,i)}function Hy(i,r,s){if(r=dd(i,r,jy)[0],i=mc(rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(E){throw E===ll?uc:E}else l=r;r=Pe();var f=r.queue,p=f.dispatch;return s!==r.memoizedState&&(zt.flags|=2048,zs(9,gc(),Qw.bind(null,f,s),null)),[l,p,i]}function Qw(i,r){i.action=r}function Fy(i){var r=Pe(),s=he;if(s!==null)return Hy(r,s,i);Pe(),r=r.memoizedState,s=Pe();var l=s.queue.dispatch;return s.memoizedState=i,[r,l,!1]}function zs(i,r,s,l){return i={tag:i,create:s,deps:l,inst:r,next:null},r=zt.updateQueue,r===null&&(r=hd(),zt.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=i.next=i:(l=s.next,s.next=i,i.next=l,r.lastEffect=i),i}function gc(){return{destroy:void 0,resource:void 0}}function $y(){return Pe().memoizedState}function yc(i,r,s,l){var f=bn();l=l===void 0?null:l,zt.flags|=i,f.memoizedState=zs(1|r,gc(),s,l)}function ml(i,r,s,l){var f=Pe();l=l===void 0?null:l;var p=f.memoizedState.inst;he!==null&&l!==null&&sd(l,he.memoizedState.deps)?f.memoizedState=zs(r,p,s,l):(zt.flags|=i,f.memoizedState=zs(1|r,p,s,l))}function Ky(i,r){yc(8390656,8,i,r)}function Yy(i,r){ml(2048,8,i,r)}function Qy(i,r){return ml(4,2,i,r)}function Xy(i,r){return ml(4,4,i,r)}function Zy(i,r){if(typeof r=="function"){i=i();var s=r(i);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Jy(i,r,s){s=s!=null?s.concat([i]):null,ml(4,4,Zy.bind(null,r,i),s)}function yd(){}function Wy(i,r){var s=Pe();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&sd(r,l[1])?l[0]:(s.memoizedState=[i,r],i)}function t_(i,r){var s=Pe();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&sd(r,l[1]))return l[0];if(l=i(),Ba){pe(!0);try{i()}finally{pe(!1)}}return s.memoizedState=[l,r],l}function _d(i,r,s){return s===void 0||(Vr&1073741824)!==0?i.memoizedState=r:(i.memoizedState=s,i=i0(),zt.lanes|=i,Gr|=i,s)}function e_(i,r,s,l){return Nn(s,r)?s:Ls.current!==null?(i=_d(i,s,l),Nn(i,r)||(Qe=!0),i):(Vr&42)===0?(Qe=!0,i.memoizedState=s):(i=i0(),zt.lanes|=i,Gr|=i,r)}function n_(i,r,s,l,f){var p=P.p;P.p=p!==0&&8>p?p:8;var E=x.T,b={};x.T=b,Td(i,!1,r,s);try{var O=f(),Y=x.S;if(Y!==null&&Y(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var rt=Fw(O,l);gl(i,r,rt,Pn(i))}else gl(i,r,l,Pn(i))}catch(ot){gl(i,r,{then:function(){},status:"rejected",reason:ot},Pn())}finally{P.p=p,x.T=E}}function Xw(){}function vd(i,r,s,l){if(i.tag!==5)throw Error(a(476));var f=i_(i).queue;n_(i,f,r,z,s===null?Xw:function(){return r_(i),s(l)})}function i_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:z},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:s},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function r_(i){var r=i_(i).next.queue;gl(i,r,{},Pn())}function Ed(){return hn(kl)}function a_(){return Pe().memoizedState}function s_(){return Pe().memoizedState}function Zw(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var s=Pn();i=Or(s);var l=kr(r,i,s);l!==null&&(Ln(l,r,s),cl(l,r,s)),r={cache:Xf()},i.payload=r;return}r=r.return}}function Jw(i,r,s){var l=Pn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},_c(i)?l_(r,s):(s=zf(i,r,s,l),s!==null&&(Ln(s,i,l),u_(s,r,l)))}function o_(i,r,s){var l=Pn();gl(i,r,s,l)}function gl(i,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(_c(i))l_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,b=p(E,s);if(f.hasEagerState=!0,f.eagerState=b,Nn(b,E))return ec(i,r,f,0),ye===null&&tc(),!1}catch{}finally{}if(s=zf(i,r,f,l),s!==null)return Ln(s,i,l),u_(s,r,l),!0}return!1}function Td(i,r,s,l){if(l={lane:2,revertLane:Wd(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(i)){if(r)throw Error(a(479))}else r=zf(i,s,l,2),r!==null&&Ln(r,i,2)}function _c(i){var r=i.alternate;return i===zt||r!==null&&r===zt}function l_(i,r){Us=fc=!0;var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}function u_(i,r,s){if((s&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,s|=l,r.lanes=s,Uo(i,s)}}var vc={readContext:hn,use:pc,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},c_={readContext:hn,use:pc,useCallback:function(i,r){return bn().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:Ky,useImperativeHandle:function(i,r,s){s=s!=null?s.concat([i]):null,yc(4194308,4,Zy.bind(null,r,i),s)},useLayoutEffect:function(i,r){return yc(4194308,4,i,r)},useInsertionEffect:function(i,r){yc(4,2,i,r)},useMemo:function(i,r){var s=bn();r=r===void 0?null:r;var l=i();if(Ba){pe(!0);try{i()}finally{pe(!1)}}return s.memoizedState=[l,r],l},useReducer:function(i,r,s){var l=bn();if(s!==void 0){var f=s(r);if(Ba){pe(!0);try{s(r)}finally{pe(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=Jw.bind(null,zt,i),[l.memoizedState,i]},useRef:function(i){var r=bn();return i={current:i},r.memoizedState=i},useState:function(i){i=md(i);var r=i.queue,s=o_.bind(null,zt,r);return r.dispatch=s,[i.memoizedState,s]},useDebugValue:yd,useDeferredValue:function(i,r){var s=bn();return _d(s,i,r)},useTransition:function(){var i=md(!1);return i=n_.bind(null,zt,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,s){var l=zt,f=bn();if(ne){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ye===null)throw Error(a(349));(Jt&124)!==0||Ny(l,r,s)}f.memoizedState=s;var p={value:s,getSnapshot:r};return f.queue=p,Ky(Oy.bind(null,l,p,i),[i]),l.flags|=2048,zs(9,gc(),Dy.bind(null,l,p,s,r),null),s},useId:function(){var i=bn(),r=ye.identifierPrefix;if(ne){var s=er,l=tr;s=(l&~(1<<32-ie(l)-1)).toString(32)+s,r="«"+r+"R"+s,s=dc++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=$w++,r="«"+r+"r"+s.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Ed,useFormState:Gy,useActionState:Gy,useOptimistic:function(i){var r=bn();r.memoizedState=r.baseState=i;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Td.bind(null,zt,!0,s),s.dispatch=r,[i,r]},useMemoCache:fd,useCacheRefresh:function(){return bn().memoizedState=Zw.bind(null,zt)}},h_={readContext:hn,use:pc,useCallback:Wy,useContext:hn,useEffect:Yy,useImperativeHandle:Jy,useInsertionEffect:Qy,useLayoutEffect:Xy,useMemo:t_,useReducer:mc,useRef:$y,useState:function(){return mc(rr)},useDebugValue:yd,useDeferredValue:function(i,r){var s=Pe();return e_(s,he.memoizedState,i,r)},useTransition:function(){var i=mc(rr)[0],r=Pe().memoizedState;return[typeof i=="boolean"?i:pl(i),r]},useSyncExternalStore:xy,useId:a_,useHostTransitionStatus:Ed,useFormState:qy,useActionState:qy,useOptimistic:function(i,r){var s=Pe();return Py(s,he,i,r)},useMemoCache:fd,useCacheRefresh:s_},Ww={readContext:hn,use:pc,useCallback:Wy,useContext:hn,useEffect:Yy,useImperativeHandle:Jy,useInsertionEffect:Qy,useLayoutEffect:Xy,useMemo:t_,useReducer:pd,useRef:$y,useState:function(){return pd(rr)},useDebugValue:yd,useDeferredValue:function(i,r){var s=Pe();return he===null?_d(s,i,r):e_(s,he.memoizedState,i,r)},useTransition:function(){var i=pd(rr)[0],r=Pe().memoizedState;return[typeof i=="boolean"?i:pl(i),r]},useSyncExternalStore:xy,useId:a_,useHostTransitionStatus:Ed,useFormState:Fy,useActionState:Fy,useOptimistic:function(i,r){var s=Pe();return he!==null?Py(s,he,i,r):(s.baseState=i,[i,s.queue.dispatch])},useMemoCache:fd,useCacheRefresh:s_},js=null,yl=0;function Ec(i){var r=yl;return yl+=1,js===null&&(js=[]),Sy(js,i,r)}function _l(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Tc(i,r){throw r.$$typeof===T?Error(a(525)):(i=Object.prototype.toString.call(r),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function f_(i){var r=i._init;return r(i._payload)}function d_(i){function r(G,B){if(i){var F=G.deletions;F===null?(G.deletions=[B],G.flags|=16):F.push(B)}}function s(G,B){if(!i)return null;for(;B!==null;)r(G,B),B=B.sibling;return null}function l(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function f(G,B){return G=Wi(G,B),G.index=0,G.sibling=null,G}function p(G,B,F){return G.index=F,i?(F=G.alternate,F!==null?(F=F.index,F<B?(G.flags|=67108866,B):F):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function E(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function b(G,B,F,st){return B===null||B.tag!==6?(B=Gf(F,G.mode,st),B.return=G,B):(B=f(B,F),B.return=G,B)}function O(G,B,F,st){var Tt=F.type;return Tt===j?rt(G,B,F.props.children,st,F.key):B!==null&&(B.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===I&&f_(Tt)===B.type)?(B=f(B,F.props),_l(B,F),B.return=G,B):(B=ic(F.type,F.key,F.props,null,G.mode,st),_l(B,F),B.return=G,B)}function Y(G,B,F,st){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=qf(F,G.mode,st),B.return=G,B):(B=f(B,F.children||[]),B.return=G,B)}function rt(G,B,F,st,Tt){return B===null||B.tag!==7?(B=Na(F,G.mode,st,Tt),B.return=G,B):(B=f(B,F),B.return=G,B)}function ot(G,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Gf(""+B,G.mode,F),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return F=ic(B.type,B.key,B.props,null,G.mode,F),_l(F,B),F.return=G,F;case D:return B=qf(B,G.mode,F),B.return=G,B;case I:var st=B._init;return B=st(B._payload),ot(G,B,F)}if(U(B)||L(B))return B=Na(B,G.mode,F,null),B.return=G,B;if(typeof B.then=="function")return ot(G,Ec(B),F);if(B.$$typeof===W)return ot(G,oc(G,B),F);Tc(G,B)}return null}function X(G,B,F,st){var Tt=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Tt!==null?null:b(G,B,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return F.key===Tt?O(G,B,F,st):null;case D:return F.key===Tt?Y(G,B,F,st):null;case I:return Tt=F._init,F=Tt(F._payload),X(G,B,F,st)}if(U(F)||L(F))return Tt!==null?null:rt(G,B,F,st,null);if(typeof F.then=="function")return X(G,B,Ec(F),st);if(F.$$typeof===W)return X(G,B,oc(G,F),st);Tc(G,F)}return null}function J(G,B,F,st,Tt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return G=G.get(F)||null,b(B,G,""+st,Tt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case w:return G=G.get(st.key===null?F:st.key)||null,O(B,G,st,Tt);case D:return G=G.get(st.key===null?F:st.key)||null,Y(B,G,st,Tt);case I:var jt=st._init;return st=jt(st._payload),J(G,B,F,st,Tt)}if(U(st)||L(st))return G=G.get(F)||null,rt(B,G,st,Tt,null);if(typeof st.then=="function")return J(G,B,F,Ec(st),Tt);if(st.$$typeof===W)return J(G,B,F,oc(B,st),Tt);Tc(B,st)}return null}function xt(G,B,F,st){for(var Tt=null,jt=null,St=B,Ct=B=0,Ze=null;St!==null&&Ct<F.length;Ct++){St.index>Ct?(Ze=St,St=null):Ze=St.sibling;var ee=X(G,St,F[Ct],st);if(ee===null){St===null&&(St=Ze);break}i&&St&&ee.alternate===null&&r(G,St),B=p(ee,B,Ct),jt===null?Tt=ee:jt.sibling=ee,jt=ee,St=Ze}if(Ct===F.length)return s(G,St),ne&&Oa(G,Ct),Tt;if(St===null){for(;Ct<F.length;Ct++)St=ot(G,F[Ct],st),St!==null&&(B=p(St,B,Ct),jt===null?Tt=St:jt.sibling=St,jt=St);return ne&&Oa(G,Ct),Tt}for(St=l(St);Ct<F.length;Ct++)Ze=J(St,G,Ct,F[Ct],st),Ze!==null&&(i&&Ze.alternate!==null&&St.delete(Ze.key===null?Ct:Ze.key),B=p(Ze,B,Ct),jt===null?Tt=Ze:jt.sibling=Ze,jt=Ze);return i&&St.forEach(function(Zr){return r(G,Zr)}),ne&&Oa(G,Ct),Tt}function Rt(G,B,F,st){if(F==null)throw Error(a(151));for(var Tt=null,jt=null,St=B,Ct=B=0,Ze=null,ee=F.next();St!==null&&!ee.done;Ct++,ee=F.next()){St.index>Ct?(Ze=St,St=null):Ze=St.sibling;var Zr=X(G,St,ee.value,st);if(Zr===null){St===null&&(St=Ze);break}i&&St&&Zr.alternate===null&&r(G,St),B=p(Zr,B,Ct),jt===null?Tt=Zr:jt.sibling=Zr,jt=Zr,St=Ze}if(ee.done)return s(G,St),ne&&Oa(G,Ct),Tt;if(St===null){for(;!ee.done;Ct++,ee=F.next())ee=ot(G,ee.value,st),ee!==null&&(B=p(ee,B,Ct),jt===null?Tt=ee:jt.sibling=ee,jt=ee);return ne&&Oa(G,Ct),Tt}for(St=l(St);!ee.done;Ct++,ee=F.next())ee=J(St,G,Ct,ee.value,st),ee!==null&&(i&&ee.alternate!==null&&St.delete(ee.key===null?Ct:ee.key),B=p(ee,B,Ct),jt===null?Tt=ee:jt.sibling=ee,jt=ee);return i&&St.forEach(function(tA){return r(G,tA)}),ne&&Oa(G,Ct),Tt}function de(G,B,F,st){if(typeof F=="object"&&F!==null&&F.type===j&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case w:t:{for(var Tt=F.key;B!==null;){if(B.key===Tt){if(Tt=F.type,Tt===j){if(B.tag===7){s(G,B.sibling),st=f(B,F.props.children),st.return=G,G=st;break t}}else if(B.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===I&&f_(Tt)===B.type){s(G,B.sibling),st=f(B,F.props),_l(st,F),st.return=G,G=st;break t}s(G,B);break}else r(G,B);B=B.sibling}F.type===j?(st=Na(F.props.children,G.mode,st,F.key),st.return=G,G=st):(st=ic(F.type,F.key,F.props,null,G.mode,st),_l(st,F),st.return=G,G=st)}return E(G);case D:t:{for(Tt=F.key;B!==null;){if(B.key===Tt)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){s(G,B.sibling),st=f(B,F.children||[]),st.return=G,G=st;break t}else{s(G,B);break}else r(G,B);B=B.sibling}st=qf(F,G.mode,st),st.return=G,G=st}return E(G);case I:return Tt=F._init,F=Tt(F._payload),de(G,B,F,st)}if(U(F))return xt(G,B,F,st);if(L(F)){if(Tt=L(F),typeof Tt!="function")throw Error(a(150));return F=Tt.call(F),Rt(G,B,F,st)}if(typeof F.then=="function")return de(G,B,Ec(F),st);if(F.$$typeof===W)return de(G,B,oc(G,F),st);Tc(G,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(s(G,B.sibling),st=f(B,F),st.return=G,G=st):(s(G,B),st=Gf(F,G.mode,st),st.return=G,G=st),E(G)):s(G,B)}return function(G,B,F,st){try{yl=0;var Tt=de(G,B,F,st);return js=null,Tt}catch(St){if(St===ll||St===uc)throw St;var jt=Dn(29,St,null,G.mode);return jt.lanes=st,jt.return=G,jt}finally{}}}var Gs=d_(!0),p_=d_(!1),Yn=A(null),Ai=null;function Pr(i){var r=i.alternate;K(He,He.current&1),K(Yn,i),Ai===null&&(r===null||Ls.current!==null||r.memoizedState!==null)&&(Ai=i)}function m_(i){if(i.tag===22){if(K(He,He.current),K(Yn,i),Ai===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ai=i)}}else Lr()}function Lr(){K(He,He.current),K(Yn,Yn.current)}function ar(i){q(Yn),Ai===i&&(Ai=null),q(He)}var He=A(0);function Sc(i){for(var r=i;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||hp(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Sd(i,r,s,l){r=i.memoizedState,s=s(l,r),s=s==null?r:_({},r,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var wd={enqueueSetState:function(i,r,s){i=i._reactInternals;var l=Pn(),f=Or(l);f.payload=r,s!=null&&(f.callback=s),r=kr(i,f,l),r!==null&&(Ln(r,i,l),cl(r,i,l))},enqueueReplaceState:function(i,r,s){i=i._reactInternals;var l=Pn(),f=Or(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=kr(i,f,l),r!==null&&(Ln(r,i,l),cl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var s=Pn(),l=Or(s);l.tag=2,r!=null&&(l.callback=r),r=kr(i,l,s),r!==null&&(Ln(r,i,s),cl(r,i,s))}};function g_(i,r,s,l,f,p,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,E):r.prototype&&r.prototype.isPureReactComponent?!tl(s,l)||!tl(f,p):!0}function y_(i,r,s,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==i&&wd.enqueueReplaceState(r,r.state,null)}function za(i,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(i=i.defaultProps){s===r&&(s=_({},s));for(var f in i)s[f]===void 0&&(s[f]=i[f])}return s}var wc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function __(i){wc(i)}function v_(i){console.error(i)}function E_(i){wc(i)}function bc(i,r){try{var s=i.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function T_(i,r,s){try{var l=i.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bd(i,r,s){return s=Or(s),s.tag=3,s.payload={element:null},s.callback=function(){bc(i,r)},s}function S_(i){return i=Or(i),i.tag=3,i}function w_(i,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){T_(r,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){T_(r,s,l),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function tb(i,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&al(r,s,f,!0),s=Yn.current,s!==null){switch(s.tag){case 13:return Ai===null?Yd():s.alternate===null&&Re===0&&(Re=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Wf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Xd(i,l,f)),!1;case 22:return s.flags|=65536,l===Wf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Xd(i,l,f)),!1}throw Error(a(435,s.tag))}return Xd(i,l,f),Yd(),!1}if(ne)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==$f&&(i=Error(a(422),{cause:l}),rl(Hn(i,s)))):(l!==$f&&(r=Error(a(423),{cause:l}),rl(Hn(r,s))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Hn(l,s),f=bd(i.stateNode,l,f),nd(i,f),Re!==4&&(Re=2)),!1;var p=Error(a(520),{cause:l});if(p=Hn(p,s),Al===null?Al=[p]:Al.push(p),Re!==4&&(Re=2),r===null)return!0;l=Hn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,i=f&-f,s.lanes|=i,i=bd(s.stateNode,l,i),nd(s,i),!1;case 1:if(r=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(qr===null||!qr.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=S_(f),w_(f,i,s,l),nd(s,f),!1}s=s.return}while(s!==null);return!1}var b_=Error(a(461)),Qe=!1;function nn(i,r,s,l){r.child=i===null?p_(r,null,s,l):Gs(r,i.child,s,l)}function A_(i,r,s,l,f){s=s.render;var p=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return La(r),l=od(i,r,s,E,p,f),b=ld(),i!==null&&!Qe?(ud(i,r,f),sr(i,r,f)):(ne&&b&&Hf(r),r.flags|=1,nn(i,r,l,f),r.child)}function R_(i,r,s,l,f){if(i===null){var p=s.type;return typeof p=="function"&&!jf(p)&&p.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=p,C_(i,r,p,l,f)):(i=ic(s.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Dd(i,f)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:tl,s(E,l)&&i.ref===r.ref)return sr(i,r,f)}return r.flags|=1,i=Wi(p,l),i.ref=r.ref,i.return=r,r.child=i}function C_(i,r,s,l,f){if(i!==null){var p=i.memoizedProps;if(tl(p,l)&&i.ref===r.ref)if(Qe=!1,r.pendingProps=l=p,Dd(i,f))(i.flags&131072)!==0&&(Qe=!0);else return r.lanes=i.lanes,sr(i,r,f)}return Ad(i,r,s,l,f)}function I_(i,r,s){var l=r.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return M_(i,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&lc(r,p!==null?p.cachePool:null),p!==null?Cy(r,p):rd(),m_(r);else return r.lanes=r.childLanes=536870912,M_(i,r,p!==null?p.baseLanes|s:s,s)}else p!==null?(lc(r,p.cachePool),Cy(r,p),Lr(),r.memoizedState=null):(i!==null&&lc(r,null),rd(),Lr());return nn(i,r,f,s),r.child}function M_(i,r,s,l){var f=Jf();return f=f===null?null:{parent:qe._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},i!==null&&lc(r,null),rd(),m_(r),i!==null&&al(i,r,l,!0),null}function Ac(i,r){var s=r.ref;if(s===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(i===null||i.ref!==s)&&(r.flags|=4194816)}}function Ad(i,r,s,l,f){return La(r),s=od(i,r,s,l,void 0,f),l=ld(),i!==null&&!Qe?(ud(i,r,f),sr(i,r,f)):(ne&&l&&Hf(r),r.flags|=1,nn(i,r,s,f),r.child)}function x_(i,r,s,l,f,p){return La(r),r.updateQueue=null,s=My(r,l,s,f),Iy(i),l=ld(),i!==null&&!Qe?(ud(i,r,p),sr(i,r,p)):(ne&&l&&Hf(r),r.flags|=1,nn(i,r,s,p),r.child)}function N_(i,r,s,l,f){if(La(r),r.stateNode===null){var p=Ds,E=s.contextType;typeof E=="object"&&E!==null&&(p=hn(E)),p=new s(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=wd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},td(r),E=s.contextType,p.context=typeof E=="object"&&E!==null?hn(E):Ds,p.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Sd(r,s,E,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&wd.enqueueReplaceState(p,p.state,null),fl(r,l,p,f),hl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){p=r.stateNode;var b=r.memoizedProps,O=za(s,b);p.props=O;var Y=p.context,rt=s.contextType;E=Ds,typeof rt=="object"&&rt!==null&&(E=hn(rt));var ot=s.getDerivedStateFromProps;rt=typeof ot=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,rt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||Y!==E)&&y_(r,p,l,E),Dr=!1;var X=r.memoizedState;p.state=X,fl(r,l,p,f),hl(),Y=r.memoizedState,b||X!==Y||Dr?(typeof ot=="function"&&(Sd(r,s,ot,l),Y=r.memoizedState),(O=Dr||g_(r,s,O,l,X,Y,E))?(rt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=Y),p.props=l,p.state=Y,p.context=E,l=O):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,ed(i,r),E=r.memoizedProps,rt=za(s,E),p.props=rt,ot=r.pendingProps,X=p.context,Y=s.contextType,O=Ds,typeof Y=="object"&&Y!==null&&(O=hn(Y)),b=s.getDerivedStateFromProps,(Y=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ot||X!==O)&&y_(r,p,l,O),Dr=!1,X=r.memoizedState,p.state=X,fl(r,l,p,f),hl();var J=r.memoizedState;E!==ot||X!==J||Dr||i!==null&&i.dependencies!==null&&sc(i.dependencies)?(typeof b=="function"&&(Sd(r,s,b,l),J=r.memoizedState),(rt=Dr||g_(r,s,rt,l,X,J,O)||i!==null&&i.dependencies!==null&&sc(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,J,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,J,O)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=J),p.props=l,p.state=J,p.context=O,l=rt):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),l=!1)}return p=l,Ac(i,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&l?(r.child=Gs(r,i.child,null,f),r.child=Gs(r,null,s,f)):nn(i,r,s,f),r.memoizedState=p.state,i=r.child):i=sr(i,r,f),i}function D_(i,r,s,l){return il(),r.flags|=256,nn(i,r,s,l),r.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(i){return{baseLanes:i,cachePool:vy()}}function Id(i,r,s){return i=i!==null?i.childLanes&~s:0,r&&(i|=Qn),i}function O_(i,r,s){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=i!==null&&i.memoizedState===null?!1:(He.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(ne){if(f?Pr(r):Lr(),ne){var b=Ae,O;if(O=b){t:{for(O=b,b=bi;O.nodeType!==8;){if(!b){b=null;break t}if(O=ri(O.nextSibling),O===null){b=null;break t}}b=O}b!==null?(r.memoizedState={dehydrated:b,treeContext:Da!==null?{id:tr,overflow:er}:null,retryLane:536870912,hydrationErrors:null},O=Dn(18,null,null,0),O.stateNode=b,O.return=r,r.child=O,wn=r,Ae=null,O=!0):O=!1}O||Va(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return hp(b)?r.lanes=32:r.lanes=536870912,null;ar(r)}return b=l.children,l=l.fallback,f?(Lr(),f=r.mode,b=Rc({mode:"hidden",children:b},f),l=Na(l,f,s,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Cd(s),f.childLanes=Id(i,E,s),r.memoizedState=Rd,l):(Pr(r),Md(r,b))}if(O=i.memoizedState,O!==null&&(b=O.dehydrated,b!==null)){if(p)r.flags&256?(Pr(r),r.flags&=-257,r=xd(i,r,s)):r.memoizedState!==null?(Lr(),r.child=i.child,r.flags|=128,r=null):(Lr(),f=l.fallback,b=r.mode,l=Rc({mode:"visible",children:l.children},b),f=Na(f,b,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Gs(r,i.child,null,s),l=r.child,l.memoizedState=Cd(s),l.childLanes=Id(i,E,s),r.memoizedState=Rd,r=f);else if(Pr(r),hp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var Y=E.dgst;E=Y,l=Error(a(419)),l.stack="",l.digest=E,rl({value:l,source:null,stack:null}),r=xd(i,r,s)}else if(Qe||al(i,r,s,!1),E=(s&i.childLanes)!==0,Qe||E){if(E=ye,E!==null&&(l=s&-s,l=(l&42)!==0?1:br(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,Ns(i,l),Ln(E,i,l),b_;b.data==="$?"||Yd(),r=xd(i,r,s)}else b.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,Ae=ri(b.nextSibling),wn=r,ne=!0,ka=null,bi=!1,i!==null&&($n[Kn++]=tr,$n[Kn++]=er,$n[Kn++]=Da,tr=i.id,er=i.overflow,Da=r),r=Md(r,l.children),r.flags|=4096);return r}return f?(Lr(),f=l.fallback,b=r.mode,O=i.child,Y=O.sibling,l=Wi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,Y!==null?f=Wi(Y,f):(f=Na(f,b,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=i.child.memoizedState,b===null?b=Cd(s):(O=b.cachePool,O!==null?(Y=qe._currentValue,O=O.parent!==Y?{parent:Y,pool:Y}:O):O=vy(),b={baseLanes:b.baseLanes|s,cachePool:O}),f.memoizedState=b,f.childLanes=Id(i,E,s),r.memoizedState=Rd,l):(Pr(r),s=i.child,i=s.sibling,s=Wi(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=s,r.memoizedState=null,s)}function Md(i,r){return r=Rc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Rc(i,r){return i=Dn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function xd(i,r,s){return Gs(r,i.child,null,s),i=Md(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function k_(i,r,s){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),Yf(i.return,r,s)}function Nd(i,r,s,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=f)}function V_(i,r,s){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(nn(i,r,l.children,s),l=He.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&k_(i,s,r);else if(i.tag===19)k_(i,s,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(K(He,l),f){case"forwards":for(s=r.child,f=null;s!==null;)i=s.alternate,i!==null&&Sc(i)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Nd(r,!1,f,s,p);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Sc(i)===null){r.child=f;break}i=f.sibling,f.sibling=s,s=f,f=i}Nd(r,!0,s,null,p);break;case"together":Nd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function sr(i,r,s){if(i!==null&&(r.dependencies=i.dependencies),Gr|=r.lanes,(s&r.childLanes)===0)if(i!==null){if(al(i,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(a(153));if(r.child!==null){for(i=r.child,s=Wi(i,i.pendingProps),r.child=s,s.return=r;i.sibling!==null;)i=i.sibling,s=s.sibling=Wi(i,i.pendingProps),s.return=r;s.sibling=null}return r.child}function Dd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&sc(i)))}function eb(i,r,s){switch(r.tag){case 3:vt(r,r.stateNode.containerInfo),Nr(r,qe,i.memoizedState.cache),il();break;case 27:case 5:Yt(r);break;case 4:vt(r,r.stateNode.containerInfo);break;case 10:Nr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?O_(i,r,s):(Pr(r),i=sr(i,r,s),i!==null?i.sibling:null);Pr(r);break;case 19:var f=(i.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(al(i,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return V_(i,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(He,He.current),l)break;return null;case 22:case 23:return r.lanes=0,I_(i,r,s);case 24:Nr(r,qe,i.memoizedState.cache)}return sr(i,r,s)}function P_(i,r,s){if(i!==null)if(i.memoizedProps!==r.pendingProps)Qe=!0;else{if(!Dd(i,s)&&(r.flags&128)===0)return Qe=!1,eb(i,r,s);Qe=(i.flags&131072)!==0}else Qe=!1,ne&&(r.flags&1048576)!==0&&fy(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")jf(l)?(i=za(l,i),r.tag=1,r=N_(null,r,l,i,s)):(r.tag=0,r=Ad(null,r,l,i,s));else{if(l!=null){if(f=l.$$typeof,f===dt){r.tag=11,r=A_(null,r,l,i,s);break t}else if(f===k){r.tag=14,r=R_(null,r,l,i,s);break t}}throw r=nt(l)||l,Error(a(306,r,""))}}return r;case 0:return Ad(i,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=za(l,r.pendingProps),N_(i,r,l,f,s);case 3:t:{if(vt(r,r.stateNode.containerInfo),i===null)throw Error(a(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,ed(i,r),fl(r,l,null,s);var E=r.memoizedState;if(l=E.cache,Nr(r,qe,l),l!==p.cache&&Qf(r,[qe],s,!0),hl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=D_(i,r,l,s);break t}else if(l!==f){f=Hn(Error(a(424)),r),rl(f),r=D_(i,r,l,s);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ae=ri(i.firstChild),wn=r,ne=!0,ka=null,bi=!0,s=p_(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(il(),l===f){r=sr(i,r,s);break t}nn(i,r,l,s)}r=r.child}return r;case 26:return Ac(i,r),i===null?(s=z0(r.type,null,r.pendingProps,null))?r.memoizedState=s:ne||(s=r.type,i=r.pendingProps,l=zc(pt.current).createElement(s),l[ze]=r,l[Oe]=i,an(l,s,i),Ie(l),r.stateNode=l):r.memoizedState=z0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Yt(r),i===null&&ne&&(l=r.stateNode=L0(r.type,r.pendingProps,pt.current),wn=r,bi=!0,f=Ae,$r(r.type)?(fp=f,Ae=ri(l.firstChild)):Ae=f),nn(i,r,r.pendingProps.children,s),Ac(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ne&&((f=l=Ae)&&(l=Mb(l,r.type,r.pendingProps,bi),l!==null?(r.stateNode=l,wn=r,Ae=ri(l.firstChild),bi=!1,f=!0):f=!1),f||Va(r)),Yt(r),f=r.type,p=r.pendingProps,E=i!==null?i.memoizedProps:null,l=p.children,lp(f,p)?l=null:E!==null&&lp(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=od(i,r,Kw,null,null,s),kl._currentValue=f),Ac(i,r),nn(i,r,l,s),r.child;case 6:return i===null&&ne&&((i=s=Ae)&&(s=xb(s,r.pendingProps,bi),s!==null?(r.stateNode=s,wn=r,Ae=null,i=!0):i=!1),i||Va(r)),null;case 13:return O_(i,r,s);case 4:return vt(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Gs(r,null,l,s):nn(i,r,l,s),r.child;case 11:return A_(i,r,r.type,r.pendingProps,s);case 7:return nn(i,r,r.pendingProps,s),r.child;case 8:return nn(i,r,r.pendingProps.children,s),r.child;case 12:return nn(i,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Nr(r,r.type,l.value),nn(i,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,La(r),f=hn(f),l=l(f),r.flags|=1,nn(i,r,l,s),r.child;case 14:return R_(i,r,r.type,r.pendingProps,s);case 15:return C_(i,r,r.type,r.pendingProps,s);case 19:return V_(i,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},i===null?(s=Rc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Wi(i.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return I_(i,r,s);case 24:return La(r),l=hn(qe),i===null?(f=Jf(),f===null&&(f=ye,p=Xf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),r.memoizedState={parent:l,cache:f},td(r),Nr(r,qe,f)):((i.lanes&s)!==0&&(ed(i,r),fl(r,null,null,s),hl()),f=i.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Nr(r,qe,l)):(l=p.cache,Nr(r,qe,l),l!==f.cache&&Qf(r,[qe],s,!0))),nn(i,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function or(i){i.flags|=4}function L_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!F0(r)){if(r=Yn.current,r!==null&&((Jt&4194048)===Jt?Ai!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||r!==Ai))throw ul=Wf,Ey;i.flags|=8192}}function Cc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Po():536870912,i.lanes|=r,$s|=r)}function vl(i,r){if(!ne)switch(i.tailMode){case"hidden":r=i.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function Se(i){var r=i.alternate!==null&&i.alternate.child===i.child,s=0,l=0;if(r)for(var f=i.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=s,r}function nb(i,r,s){var l=r.pendingProps;switch(Ff(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(r),null;case 1:return Se(r),null;case 3:return s=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ir(qe),Bt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(nl(r)?or(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,my())),Se(r),null;case 26:return s=r.memoizedState,i===null?(or(r),s!==null?(Se(r),L_(r,s)):(Se(r),r.flags&=-16777217)):s?s!==i.memoizedState?(or(r),Se(r),L_(r,s)):(Se(r),r.flags&=-16777217):(i.memoizedProps!==l&&or(r),Se(r),r.flags&=-16777217),null;case 27:Lt(r),s=pt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Se(r),null}i=at.current,nl(r)?dy(r):(i=L0(f,l,s),r.stateNode=i,or(r))}return Se(r),null;case 5:if(Lt(r),s=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Se(r),null}if(i=at.current,nl(r))dy(r);else{switch(f=zc(pt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}i[ze]=r,i[Oe]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(an(i,s,l),s){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&or(r)}}return Se(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&or(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(i=pt.current,nl(r)){if(i=r.stateNode,s=r.memoizedProps,l=null,f=wn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[ze]=r,i=!!(i.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||x0(i.nodeValue,s)),i||Va(r)}else i=zc(i).createTextNode(l),i[ze]=r,r.stateNode=i}return Se(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=nl(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ze]=r}else il(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Se(r),f=!1}else f=my(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ar(r),r):(ar(r),null)}if(ar(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,i=i!==null&&i.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return s!==i&&s&&(r.child.flags|=8192),Cc(r,r.updateQueue),Se(r),null;case 4:return Bt(),i===null&&ip(r.stateNode.containerInfo),Se(r),null;case 10:return ir(r.type),Se(r),null;case 19:if(q(He),f=r.memoizedState,f===null)return Se(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)vl(f,!1);else{if(Re!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=Sc(i),p!==null){for(r.flags|=128,vl(f,!1),i=p.updateQueue,r.updateQueue=i,Cc(r,i),r.subtreeFlags=0,i=s,s=r.child;s!==null;)hy(s,i),s=s.sibling;return K(He,He.current&1|2),r.child}i=i.sibling}f.tail!==null&&ge()>xc&&(r.flags|=128,l=!0,vl(f,!1),r.lanes=4194304)}else{if(!l)if(i=Sc(p),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Cc(r,i),vl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!ne)return Se(r),null}else 2*ge()-f.renderingStartTime>xc&&s!==536870912&&(r.flags|=128,l=!0,vl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=ge(),r.sibling=null,i=He.current,K(He,l?i&1|2:i&1),r):(Se(r),null);case 22:case 23:return ar(r),ad(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Se(r),r.subtreeFlags&6&&(r.flags|=8192)):Se(r),s=r.updateQueue,s!==null&&Cc(r,s.retryQueue),s=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),i!==null&&q(Ua),null;case 24:return s=null,i!==null&&(s=i.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),ir(qe),Se(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function ib(i,r){switch(Ff(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ir(qe),Bt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Lt(r),null;case 13:if(ar(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(a(340));il()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return q(He),null;case 4:return Bt(),null;case 10:return ir(r.type),null;case 22:case 23:return ar(r),ad(),i!==null&&q(Ua),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ir(qe),null;case 25:return null;default:return null}}function U_(i,r){switch(Ff(r),r.tag){case 3:ir(qe),Bt();break;case 26:case 27:case 5:Lt(r);break;case 4:Bt();break;case 13:ar(r);break;case 19:q(He);break;case 10:ir(r.type);break;case 22:case 23:ar(r),ad(),i!==null&&q(Ua);break;case 24:ir(qe)}}function El(i,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&i)===i){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==f)}}catch(b){me(r,r.return,b)}}function Ur(i,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var O=s,Y=b;try{Y()}catch(rt){me(f,O,rt)}}}l=l.next}while(l!==p)}}catch(rt){me(r,r.return,rt)}}function B_(i){var r=i.updateQueue;if(r!==null){var s=i.stateNode;try{Ry(r,s)}catch(l){me(i,i.return,l)}}}function z_(i,r,s){s.props=za(i.type,i.memoizedProps),s.state=i.memoizedState;try{s.componentWillUnmount()}catch(l){me(i,r,l)}}function Tl(i,r){try{var s=i.ref;if(s!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof s=="function"?i.refCleanup=s(l):s.current=l}}catch(f){me(i,r,f)}}function Ri(i,r){var s=i.ref,l=i.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){me(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){me(i,r,f)}else s.current=null}function j_(i){var r=i.type,s=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){me(i,i.return,f)}}function Od(i,r,s){try{var l=i.stateNode;bb(l,i.type,s,r),l[Oe]=r}catch(f){me(i,i.return,f)}}function G_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$r(i.type)||i.tag===4}function kd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||G_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$r(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vd(i,r,s){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(i,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(i),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Bc));else if(l!==4&&(l===27&&$r(i.type)&&(s=i.stateNode,r=null),i=i.child,i!==null))for(Vd(i,r,s),i=i.sibling;i!==null;)Vd(i,r,s),i=i.sibling}function Ic(i,r,s){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?s.insertBefore(i,r):s.appendChild(i);else if(l!==4&&(l===27&&$r(i.type)&&(s=i.stateNode),i=i.child,i!==null))for(Ic(i,r,s),i=i.sibling;i!==null;)Ic(i,r,s),i=i.sibling}function q_(i){var r=i.stateNode,s=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,s),r[ze]=i,r[Oe]=s}catch(p){me(i,i.return,p)}}var lr=!1,xe=!1,Pd=!1,H_=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function rb(i,r){if(i=i.containerInfo,sp=$c,i=ey(i),kf(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else t:{s=(s=i.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var E=0,b=-1,O=-1,Y=0,rt=0,ot=i,X=null;e:for(;;){for(var J;ot!==s||f!==0&&ot.nodeType!==3||(b=E+f),ot!==p||l!==0&&ot.nodeType!==3||(O=E+l),ot.nodeType===3&&(E+=ot.nodeValue.length),(J=ot.firstChild)!==null;)X=ot,ot=J;for(;;){if(ot===i)break e;if(X===s&&++Y===f&&(b=E),X===p&&++rt===l&&(O=E),(J=ot.nextSibling)!==null)break;ot=X,X=ot.parentNode}ot=J}s=b===-1||O===-1?null:{start:b,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(op={focusedElem:i,selectionRange:s},$c=!1,Xe=r;Xe!==null;)if(r=Xe,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Xe=i;else for(;Xe!==null;){switch(r=Xe,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,s=r,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var xt=za(s.type,f,s.elementType===s.type);i=l.getSnapshotBeforeUpdate(xt,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(Rt){me(s,s.return,Rt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,s=i.nodeType,s===9)cp(i);else if(s===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":cp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=r.sibling,i!==null){i.return=r.return,Xe=i;break}Xe=r.return}}function F_(i,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Br(i,s),l&4&&El(5,s);break;case 1:if(Br(i,s),l&4)if(i=s.stateNode,r===null)try{i.componentDidMount()}catch(E){me(s,s.return,E)}else{var f=za(s.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){me(s,s.return,E)}}l&64&&B_(s),l&512&&Tl(s,s.return);break;case 3:if(Br(i,s),l&64&&(i=s.updateQueue,i!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Ry(i,r)}catch(E){me(s,s.return,E)}}break;case 27:r===null&&l&4&&q_(s);case 26:case 5:Br(i,s),r===null&&l&4&&j_(s),l&512&&Tl(s,s.return);break;case 12:Br(i,s);break;case 13:Br(i,s),l&4&&Y_(i,s),l&64&&(i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(s=db.bind(null,s),Nb(i,s))));break;case 22:if(l=s.memoizedState!==null||lr,!l){r=r!==null&&r.memoizedState!==null||xe,f=lr;var p=xe;lr=l,(xe=r)&&!p?zr(i,s,(s.subtreeFlags&8772)!==0):Br(i,s),lr=f,xe=p}break;case 30:break;default:Br(i,s)}}function $_(i){var r=i.alternate;r!==null&&(i.alternate=null,$_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Cr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Te=null,An=!1;function ur(i,r,s){for(s=s.child;s!==null;)K_(i,r,s),s=s.sibling}function K_(i,r,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(It,s)}catch{}switch(s.tag){case 26:xe||Ri(s,r),ur(i,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||Ri(s,r);var l=Te,f=An;$r(s.type)&&(Te=s.stateNode,An=!1),ur(i,r,s),xl(s.stateNode),Te=l,An=f;break;case 5:xe||Ri(s,r);case 6:if(l=Te,f=An,Te=null,ur(i,r,s),Te=l,An=f,Te!==null)if(An)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(s.stateNode)}catch(p){me(s,r,p)}else try{Te.removeChild(s.stateNode)}catch(p){me(s,r,p)}break;case 18:Te!==null&&(An?(i=Te,V0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.stateNode),Ul(i)):V0(Te,s.stateNode));break;case 4:l=Te,f=An,Te=s.stateNode.containerInfo,An=!0,ur(i,r,s),Te=l,An=f;break;case 0:case 11:case 14:case 15:xe||Ur(2,s,r),xe||Ur(4,s,r),ur(i,r,s);break;case 1:xe||(Ri(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&z_(s,r,l)),ur(i,r,s);break;case 21:ur(i,r,s);break;case 22:xe=(l=xe)||s.memoizedState!==null,ur(i,r,s),xe=l;break;default:ur(i,r,s)}}function Y_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ul(i)}catch(s){me(r,r.return,s)}}function ab(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new H_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new H_),r;default:throw Error(a(435,i.tag))}}function Ld(i,r){var s=ab(i);r.forEach(function(l){var f=pb.bind(null,i,l);s.has(l)||(s.add(l),l.then(f,f))})}function On(i,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=i,E=r,b=E;t:for(;b!==null;){switch(b.tag){case 27:if($r(b.type)){Te=b.stateNode,An=!1;break t}break;case 5:Te=b.stateNode,An=!1;break t;case 3:case 4:Te=b.stateNode.containerInfo,An=!0;break t}b=b.return}if(Te===null)throw Error(a(160));K_(p,E,f),Te=null,An=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Q_(r,i),r=r.sibling}var ii=null;function Q_(i,r){var s=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:On(r,i),kn(i),l&4&&(Ur(3,i,i.return),El(3,i),Ur(5,i,i.return));break;case 1:On(r,i),kn(i),l&512&&(xe||s===null||Ri(s,s.return)),l&64&&lr&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(s=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ii;if(On(r,i),kn(i),l&512&&(xe||s===null||Ri(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=i.memoizedState,s===null)if(l===null)if(i.stateNode===null){t:{l=i.type,s=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ma]||p[ze]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),an(p,l,s),p[ze]=i,Ie(p),l=p;break t;case"link":var E=q0("link","href",f).get(l+(s.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(b,1);break e}}p=f.createElement(l),an(p,l,s),f.head.appendChild(p);break;case"meta":if(E=q0("meta","content",f).get(l+(s.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(b,1);break e}}p=f.createElement(l),an(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[ze]=i,Ie(p),l=p}i.stateNode=l}else H0(f,i.type,i.stateNode);else i.stateNode=G0(f,l,i.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?H0(f,i.type,i.stateNode):G0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Od(i,i.memoizedProps,s.memoizedProps)}break;case 27:On(r,i),kn(i),l&512&&(xe||s===null||Ri(s,s.return)),s!==null&&l&4&&Od(i,i.memoizedProps,s.memoizedProps);break;case 5:if(On(r,i),kn(i),l&512&&(xe||s===null||Ri(s,s.return)),i.flags&32){f=i.stateNode;try{zn(f,"")}catch(J){me(i,i.return,J)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Od(i,f,s!==null?s.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if(On(r,i),kn(i),l&4){if(i.stateNode===null)throw Error(a(162));l=i.memoizedProps,s=i.stateNode;try{s.nodeValue=l}catch(J){me(i,i.return,J)}}break;case 3:if(qc=null,f=ii,ii=jc(r.containerInfo),On(r,i),ii=f,kn(i),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ul(r.containerInfo)}catch(J){me(i,i.return,J)}Pd&&(Pd=!1,X_(i));break;case 4:l=ii,ii=jc(i.stateNode.containerInfo),On(r,i),kn(i),ii=l;break;case 12:On(r,i),kn(i);break;case 13:On(r,i),kn(i),i.child.flags&8192&&i.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(qd=ge()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Ld(i,l)));break;case 22:f=i.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,Y=lr,rt=xe;if(lr=Y||f,xe=rt||O,On(r,i),xe=rt,lr=Y,kn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||O||lr||xe||ja(i)),s=null,r=i;;){if(r.tag===5||r.tag===26){if(s===null){O=s=r;try{if(p=O.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=O.stateNode;var ot=O.memoizedProps.style,X=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;b.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(J){me(O,O.return,J)}}}else if(r.tag===6){if(s===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(J){me(O,O.return,J)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ld(i,s))));break;case 19:On(r,i),kn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Ld(i,l)));break;case 30:break;case 21:break;default:On(r,i),kn(i)}}function kn(i){var r=i.flags;if(r&2){try{for(var s,l=i.return;l!==null;){if(G_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=kd(i);Ic(i,p,f);break;case 5:var E=s.stateNode;s.flags&32&&(zn(E,""),s.flags&=-33);var b=kd(i);Ic(i,b,E);break;case 3:case 4:var O=s.stateNode.containerInfo,Y=kd(i);Vd(i,Y,O);break;default:throw Error(a(161))}}catch(rt){me(i,i.return,rt)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function X_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;X_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Br(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)F_(i,r.alternate,r),r=r.sibling}function ja(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ur(4,r,r.return),ja(r);break;case 1:Ri(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&z_(r,r.return,s),ja(r);break;case 27:xl(r.stateNode);case 26:case 5:Ri(r,r.return),ja(r);break;case 22:r.memoizedState===null&&ja(r);break;case 30:ja(r);break;default:ja(r)}i=i.sibling}}function zr(i,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:zr(f,p,s),El(4,p);break;case 1:if(zr(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){me(l,l.return,Y)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Ay(O[f],b)}catch(Y){me(l,l.return,Y)}}s&&E&64&&B_(p),Tl(p,p.return);break;case 27:q_(p);case 26:case 5:zr(f,p,s),s&&l===null&&E&4&&j_(p),Tl(p,p.return);break;case 12:zr(f,p,s);break;case 13:zr(f,p,s),s&&E&4&&Y_(f,p);break;case 22:p.memoizedState===null&&zr(f,p,s),Tl(p,p.return);break;case 30:break;default:zr(f,p,s)}r=r.sibling}}function Ud(i,r){var s=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==s&&(i!=null&&i.refCount++,s!=null&&sl(s))}function Bd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&sl(i))}function Ci(i,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z_(i,r,s,l),r=r.sibling}function Z_(i,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ci(i,r,s,l),f&2048&&El(9,r);break;case 1:Ci(i,r,s,l);break;case 3:Ci(i,r,s,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&sl(i)));break;case 12:if(f&2048){Ci(i,r,s,l),i=r.stateNode;try{var p=r.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){me(r,r.return,O)}}else Ci(i,r,s,l);break;case 13:Ci(i,r,s,l);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?Ci(i,r,s,l):Sl(i,r):p._visibility&2?Ci(i,r,s,l):(p._visibility|=2,qs(i,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&Ud(E,r);break;case 24:Ci(i,r,s,l),f&2048&&Bd(r.alternate,r);break;default:Ci(i,r,s,l)}}function qs(i,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,E=r,b=s,O=l,Y=E.flags;switch(E.tag){case 0:case 11:case 15:qs(p,E,b,O,f),El(8,E);break;case 23:break;case 22:var rt=E.stateNode;E.memoizedState!==null?rt._visibility&2?qs(p,E,b,O,f):Sl(p,E):(rt._visibility|=2,qs(p,E,b,O,f)),f&&Y&2048&&Ud(E.alternate,E);break;case 24:qs(p,E,b,O,f),f&&Y&2048&&Bd(E.alternate,E);break;default:qs(p,E,b,O,f)}r=r.sibling}}function Sl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=i,l=r,f=l.flags;switch(l.tag){case 22:Sl(s,l),f&2048&&Ud(l.alternate,l);break;case 24:Sl(s,l),f&2048&&Bd(l.alternate,l);break;default:Sl(s,l)}r=r.sibling}}var wl=8192;function Hs(i){if(i.subtreeFlags&wl)for(i=i.child;i!==null;)J_(i),i=i.sibling}function J_(i){switch(i.tag){case 26:Hs(i),i.flags&wl&&i.memoizedState!==null&&Hb(ii,i.memoizedState,i.memoizedProps);break;case 5:Hs(i);break;case 3:case 4:var r=ii;ii=jc(i.stateNode.containerInfo),Hs(i),ii=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,Hs(i),wl=r):Hs(i));break;default:Hs(i)}}function W_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function bl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Xe=l,e0(l,i)}W_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t0(i),i=i.sibling}function t0(i){switch(i.tag){case 0:case 11:case 15:bl(i),i.flags&2048&&Ur(9,i,i.return);break;case 3:bl(i);break;case 12:bl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Mc(i)):bl(i);break;default:bl(i)}}function Mc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Xe=l,e0(l,i)}W_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ur(8,r,r.return),Mc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Mc(r));break;default:Mc(r)}i=i.sibling}}function e0(i,r){for(;Xe!==null;){var s=Xe;switch(s.tag){case 0:case 11:case 15:Ur(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Xe=l;else t:for(s=i;Xe!==null;){l=Xe;var f=l.sibling,p=l.return;if($_(l),l===s){Xe=null;break t}if(f!==null){f.return=p,Xe=f;break t}Xe=p}}}var sb={getCacheForType:function(i){var r=hn(qe),s=r.data.get(i);return s===void 0&&(s=i(),r.data.set(i,s)),s}},ob=typeof WeakMap=="function"?WeakMap:Map,oe=0,ye=null,Gt=null,Jt=0,le=0,Vn=null,jr=!1,Fs=!1,zd=!1,cr=0,Re=0,Gr=0,Ga=0,jd=0,Qn=0,$s=0,Al=null,Rn=null,Gd=!1,qd=0,xc=1/0,Nc=null,qr=null,rn=0,Hr=null,Ks=null,Ys=0,Hd=0,Fd=null,n0=null,Rl=0,$d=null;function Pn(){if((oe&2)!==0&&Jt!==0)return Jt&-Jt;if(x.T!==null){var i=Vs;return i!==0?i:Wd()}return Ar()}function i0(){Qn===0&&(Qn=(Jt&536870912)===0||ne?Vo():536870912);var i=Yn.current;return i!==null&&(i.flags|=32),Qn}function Ln(i,r,s){(i===ye&&(le===2||le===9)||i.cancelPendingCommit!==null)&&(Qs(i,0),Fr(i,Jt,Qn,!1)),Gi(i,s),((oe&2)===0||i!==ye)&&(i===ye&&((oe&2)===0&&(Ga|=s),Re===4&&Fr(i,Jt,Qn,!1)),Ii(i))}function r0(i,r,s){if((oe&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&i.expiredLanes)===0||pa(i,r),f=l?cb(i,r):Qd(i,r,!0),p=l;do{if(f===0){Fs&&!l&&Fr(i,r,0,!1);break}else{if(s=i.current.alternate,p&&!lb(s)){f=Qd(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var b=i;f=Al;var O=b.current.memoizedState.isDehydrated;if(O&&(Qs(b,E).flags|=256),E=Qd(b,E,!1),E!==2){if(zd&&!O){b.errorRecoveryDisabledLanes|=p,Ga|=p,f=4;break t}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Qs(i,0),Fr(i,r,0,!0);break}t:{switch(l=i,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Fr(l,r,Qn,!jr);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=qd+300-ge(),10<f)){if(Fr(l,r,Qn,!jr),fs(l,0,!0)!==0)break t;l.timeoutHandle=O0(a0.bind(null,l,s,Rn,Nc,Gd,r,Qn,Ga,$s,jr,p,2,-0,0),f);break t}a0(l,s,Rn,Nc,Gd,r,Qn,Ga,$s,jr,p,0,-0,0)}}break}while(!0);Ii(i)}function a0(i,r,s,l,f,p,E,b,O,Y,rt,ot,X,J){if(i.timeoutHandle=-1,ot=r.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:qb},J_(r),ot=Fb(),ot!==null)){i.cancelPendingCommit=ot(f0.bind(null,i,r,p,s,l,f,E,b,O,rt,1,X,J)),Fr(i,p,E,!Y);return}f0(i,r,p,s,l,f,E,b,O)}function lb(i){for(var r=i;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!Nn(p(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(i,r,s,l){r&=~jd,r&=~Ga,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var p=31-ie(f),E=1<<p;l[p]=-1,f&=~E}s!==0&&di(i,s,r)}function Dc(){return(oe&6)===0?(Cl(0),!1):!0}function Kd(){if(Gt!==null){if(le===0)var i=Gt.return;else i=Gt,nr=Pa=null,cd(i),js=null,yl=0,i=Gt;for(;i!==null;)U_(i.alternate,i),i=i.return;Gt=null}}function Qs(i,r){var s=i.timeoutHandle;s!==-1&&(i.timeoutHandle=-1,Rb(s)),s=i.cancelPendingCommit,s!==null&&(i.cancelPendingCommit=null,s()),Kd(),ye=i,Gt=s=Wi(i.current,null),Jt=r,le=0,Vn=null,jr=!1,Fs=pa(i,r),zd=!1,$s=Qn=jd=Ga=Gr=Re=0,Rn=Al=null,Gd=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-ie(l),p=1<<f;r|=i[f],l&=~p}return cr=r,tc(),s}function s0(i,r){zt=null,x.H=vc,r===ll||r===uc?(r=wy(),le=3):r===Ey?(r=wy(),le=4):le=r===b_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Gt===null&&(Re=1,bc(i,Hn(r,i.current)))}function o0(){var i=x.H;return x.H=vc,i===null?vc:i}function l0(){var i=x.A;return x.A=sb,i}function Yd(){Re=4,jr||(Jt&4194048)!==Jt&&Yn.current!==null||(Fs=!0),(Gr&134217727)===0&&(Ga&134217727)===0||ye===null||Fr(ye,Jt,Qn,!1)}function Qd(i,r,s){var l=oe;oe|=2;var f=o0(),p=l0();(ye!==i||Jt!==r)&&(Nc=null,Qs(i,r)),r=!1;var E=Re;t:do try{if(le!==0&&Gt!==null){var b=Gt,O=Vn;switch(le){case 8:Kd(),E=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var Y=le;if(le=0,Vn=null,Xs(i,b,O,Y),s&&Fs){E=0;break t}break;default:Y=le,le=0,Vn=null,Xs(i,b,O,Y)}}ub(),E=Re;break}catch(rt){s0(i,rt)}while(!0);return r&&i.shellSuspendCounter++,nr=Pa=null,oe=l,x.H=f,x.A=p,Gt===null&&(ye=null,Jt=0,tc()),E}function ub(){for(;Gt!==null;)u0(Gt)}function cb(i,r){var s=oe;oe|=2;var l=o0(),f=l0();ye!==i||Jt!==r?(Nc=null,xc=ge()+500,Qs(i,r)):Fs=pa(i,r);t:do try{if(le!==0&&Gt!==null){r=Gt;var p=Vn;e:switch(le){case 1:le=0,Vn=null,Xs(i,r,p,1);break;case 2:case 9:if(Ty(p)){le=0,Vn=null,c0(r);break}r=function(){le!==2&&le!==9||ye!==i||(le=7),Ii(i)},p.then(r,r);break t;case 3:le=7;break t;case 4:le=5;break t;case 7:Ty(p)?(le=0,Vn=null,c0(r)):(le=0,Vn=null,Xs(i,r,p,7));break;case 5:var E=null;switch(Gt.tag){case 26:E=Gt.memoizedState;case 5:case 27:var b=Gt;if(!E||F0(E)){le=0,Vn=null;var O=b.sibling;if(O!==null)Gt=O;else{var Y=b.return;Y!==null?(Gt=Y,Oc(Y)):Gt=null}break e}}le=0,Vn=null,Xs(i,r,p,5);break;case 6:le=0,Vn=null,Xs(i,r,p,6);break;case 8:Kd(),Re=6;break t;default:throw Error(a(462))}}hb();break}catch(rt){s0(i,rt)}while(!0);return nr=Pa=null,x.H=l,x.A=f,oe=s,Gt!==null?0:(ye=null,Jt=0,tc(),Re)}function hb(){for(;Gt!==null&&!_e();)u0(Gt)}function u0(i){var r=P_(i.alternate,i,cr);i.memoizedProps=i.pendingProps,r===null?Oc(i):Gt=r}function c0(i){var r=i,s=r.alternate;switch(r.tag){case 15:case 0:r=x_(s,r,r.pendingProps,r.type,void 0,Jt);break;case 11:r=x_(s,r,r.pendingProps,r.type.render,r.ref,Jt);break;case 5:cd(r);default:U_(s,r),r=Gt=hy(r,cr),r=P_(s,r,cr)}i.memoizedProps=i.pendingProps,r===null?Oc(i):Gt=r}function Xs(i,r,s,l){nr=Pa=null,cd(r),js=null,yl=0;var f=r.return;try{if(tb(i,f,r,s,Jt)){Re=1,bc(i,Hn(s,i.current)),Gt=null;return}}catch(p){if(f!==null)throw Gt=f,p;Re=1,bc(i,Hn(s,i.current)),Gt=null;return}r.flags&32768?(ne||l===1?i=!0:Fs||(Jt&536870912)!==0?i=!1:(jr=i=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),h0(r,i)):Oc(r)}function Oc(i){var r=i;do{if((r.flags&32768)!==0){h0(r,jr);return}i=r.return;var s=nb(r.alternate,r,cr);if(s!==null){Gt=s;return}if(r=r.sibling,r!==null){Gt=r;return}Gt=r=i}while(r!==null);Re===0&&(Re=5)}function h0(i,r){do{var s=ib(i.alternate,i);if(s!==null){s.flags&=32767,Gt=s;return}if(s=i.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(i=i.sibling,i!==null)){Gt=i;return}Gt=i=s}while(i!==null);Re=6,Gt=null}function f0(i,r,s,l,f,p,E,b,O){i.cancelPendingCommit=null;do kc();while(rn!==0);if((oe&6)!==0)throw Error(a(327));if(r!==null){if(r===i.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=Bf,Lo(i,s,p,E,b,O),i===ye&&(Gt=ye=null,Jt=0),Ks=r,Hr=i,Ys=s,Hd=p,Fd=f,n0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,mb(vn,function(){return y0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=x.T,x.T=null,f=P.p,P.p=2,E=oe,oe|=4;try{rb(i,r,s)}finally{oe=E,P.p=f,x.T=l}}rn=1,d0(),p0(),m0()}}function d0(){if(rn===1){rn=0;var i=Hr,r=Ks,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=x.T,x.T=null;var l=P.p;P.p=2;var f=oe;oe|=4;try{Q_(r,i);var p=op,E=ey(i.containerInfo),b=p.focusedElem,O=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&ty(b.ownerDocument.documentElement,b)){if(O!==null&&kf(b)){var Y=O.start,rt=O.end;if(rt===void 0&&(rt=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(rt,b.value.length);else{var ot=b.ownerDocument||document,X=ot&&ot.defaultView||window;if(X.getSelection){var J=X.getSelection(),xt=b.textContent.length,Rt=Math.min(O.start,xt),de=O.end===void 0?Rt:Math.min(O.end,xt);!J.extend&&Rt>de&&(E=de,de=Rt,Rt=E);var G=Wg(b,Rt),B=Wg(b,de);if(G&&B&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var F=ot.createRange();F.setStart(G.node,G.offset),J.removeAllRanges(),Rt>de?(J.addRange(F),J.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),J.addRange(F))}}}}for(ot=[],J=b;J=J.parentNode;)J.nodeType===1&&ot.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ot.length;b++){var st=ot[b];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}$c=!!sp,op=sp=null}finally{oe=f,P.p=l,x.T=s}}i.current=r,rn=2}}function p0(){if(rn===2){rn=0;var i=Hr,r=Ks,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=x.T,x.T=null;var l=P.p;P.p=2;var f=oe;oe|=4;try{F_(i,r.alternate,r)}finally{oe=f,P.p=l,x.T=s}}rn=3}}function m0(){if(rn===4||rn===3){rn=0,Ce();var i=Hr,r=Ks,s=Ys,l=n0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rn=5:(rn=0,Ks=Hr=null,g0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(qr=null),ds(s),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(It,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=x.T,f=P.p,P.p=2,x.T=null;try{for(var p=i.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{x.T=r,P.p=f}}(Ys&3)!==0&&kc(),Ii(i),f=i.pendingLanes,(s&4194090)!==0&&(f&42)!==0?i===$d?Rl++:(Rl=0,$d=i):Rl=0,Cl(0)}}function g0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,sl(r)))}function kc(i){return d0(),p0(),m0(),y0()}function y0(){if(rn!==5)return!1;var i=Hr,r=Hd;Hd=0;var s=ds(Ys),l=x.T,f=P.p;try{P.p=32>s?32:s,x.T=null,s=Fd,Fd=null;var p=Hr,E=Ys;if(rn=0,Ks=Hr=null,Ys=0,(oe&6)!==0)throw Error(a(331));var b=oe;if(oe|=4,t0(p.current),Z_(p,p.current,E,s),oe=b,Cl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(It,p)}catch{}return!0}finally{P.p=f,x.T=l,g0(i,r)}}function _0(i,r,s){r=Hn(s,r),r=bd(i.stateNode,r,2),i=kr(i,r,2),i!==null&&(Gi(i,2),Ii(i))}function me(i,r,s){if(i.tag===3)_0(i,i,s);else for(;r!==null;){if(r.tag===3){_0(r,i,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){i=Hn(s,i),s=S_(2),l=kr(r,s,2),l!==null&&(w_(s,l,r,i),Gi(l,2),Ii(l));break}}r=r.return}}function Xd(i,r,s){var l=i.pingCache;if(l===null){l=i.pingCache=new ob;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(zd=!0,f.add(s),i=fb.bind(null,i,r,s),r.then(i,i))}function fb(i,r,s){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&s,i.warmLanes&=~s,ye===i&&(Jt&s)===s&&(Re===4||Re===3&&(Jt&62914560)===Jt&&300>ge()-qd?(oe&2)===0&&Qs(i,0):jd|=s,$s===Jt&&($s=0)),Ii(i)}function v0(i,r){r===0&&(r=Po()),i=Ns(i,r),i!==null&&(Gi(i,r),Ii(i))}function db(i){var r=i.memoizedState,s=0;r!==null&&(s=r.retryLane),v0(i,s)}function pb(i,r){var s=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),v0(i,s)}function mb(i,r){return se(i,r)}var Vc=null,Zs=null,Zd=!1,Pc=!1,Jd=!1,qa=0;function Ii(i){i!==Zs&&i.next===null&&(Zs===null?Vc=Zs=i:Zs=Zs.next=i),Pc=!0,Zd||(Zd=!0,yb())}function Cl(i,r){if(!Jd&&Pc){Jd=!0;do for(var s=!1,l=Vc;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-ie(42|i)+1)-1,p&=f&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,w0(l,p))}else p=Jt,p=fs(l,l===ye?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||pa(l,p)||(s=!0,w0(l,p));l=l.next}while(s);Jd=!1}}function gb(){E0()}function E0(){Pc=Zd=!1;var i=0;qa!==0&&(Ab()&&(i=qa),qa=0);for(var r=ge(),s=null,l=Vc;l!==null;){var f=l.next,p=T0(l,r);p===0?(l.next=null,s===null?Vc=f:s.next=f,f===null&&(Zs=s)):(s=l,(i!==0||(p&3)!==0)&&(Pc=!0)),l=f}Cl(i)}function T0(i,r){for(var s=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var E=31-ie(p),b=1<<E,O=f[E];O===-1?((b&s)===0||(b&l)!==0)&&(f[E]=ko(b,r)):O<=r&&(i.expiredLanes|=b),p&=~b}if(r=ye,s=Jt,s=fs(i,i===r?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,s===0||i===r&&(le===2||le===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Vt(l),i.callbackNode=null,i.callbackPriority=0;if((s&3)===0||pa(i,s)){if(r=s&-s,r===i.callbackPriority)return r;switch(l!==null&&Vt(l),ds(s)){case 2:case 8:s=ue;break;case 32:s=vn;break;case 268435456:s=te;break;default:s=vn}return l=S0.bind(null,i),s=se(s,l),i.callbackPriority=r,i.callbackNode=s,r}return l!==null&&l!==null&&Vt(l),i.callbackPriority=2,i.callbackNode=null,2}function S0(i,r){if(rn!==0&&rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var s=i.callbackNode;if(kc()&&i.callbackNode!==s)return null;var l=Jt;return l=fs(i,i===ye?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(r0(i,l,r),T0(i,ge()),i.callbackNode!=null&&i.callbackNode===s?S0.bind(null,i):null)}function w0(i,r){if(kc())return null;r0(i,r,!0)}function yb(){Cb(function(){(oe&6)!==0?se(_n,gb):E0()})}function Wd(){return qa===0&&(qa=Vo()),qa}function b0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:vs(""+i)}function A0(i,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,i.id&&s.setAttribute("form",i.id),r.parentNode.insertBefore(s,r),i=new FormData(i),s.parentNode.removeChild(s),i}function _b(i,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var p=b0((f[Oe]||null).action),E=l.submitter;E&&(r=(r=E[Oe]||null)?b0(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var b=new Es("action","action",null,l,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qa!==0){var O=E?A0(f,E):new FormData(f);vd(s,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(b.preventDefault(),O=E?A0(f,E):new FormData(f),vd(s,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var tp=0;tp<Uf.length;tp++){var ep=Uf[tp],vb=ep.toLowerCase(),Eb=ep[0].toUpperCase()+ep.slice(1);ni(vb,"on"+Eb)}ni(ry,"onAnimationEnd"),ni(ay,"onAnimationIteration"),ni(sy,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Lw,"onTransitionRun"),ni(Uw,"onTransitionStart"),ni(Bw,"onTransitionCancel"),ni(oy,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function R0(i,r){r=(r&4)!==0;for(var s=0;s<i.length;s++){var l=i[s],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],O=b.instance,Y=b.currentTarget;if(b=b.listener,O!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=Y;try{p(f)}catch(rt){wc(rt)}f.currentTarget=null,p=O}else for(E=0;E<l.length;E++){if(b=l[E],O=b.instance,Y=b.currentTarget,b=b.listener,O!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=Y;try{p(f)}catch(rt){wc(rt)}f.currentTarget=null,p=O}}}}function qt(i,r){var s=r[Bo];s===void 0&&(s=r[Bo]=new Set);var l=i+"__bubble";s.has(l)||(C0(r,i,2,!1),s.add(l))}function np(i,r,s){var l=0;r&&(l|=4),C0(s,i,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function ip(i){if(!i[Lc]){i[Lc]=!0,zo.forEach(function(s){s!=="selectionchange"&&(Tb.has(s)||np(s,!1,i),np(s,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,np("selectionchange",!1,r))}}function C0(i,r,s,l){switch(Z0(r)){case 2:var f=Yb;break;case 8:f=Qb;break;default:f=yp}s=f.bind(null,r,s,i),f=void 0,!Gn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,s,{capture:!0,passive:f}):i.addEventListener(r,s,!0):f!==void 0?i.addEventListener(r,s,{passive:f}):i.addEventListener(r,s,!1)}function rp(i,r,s,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=qi(b),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=p=E;continue t}b=b.parentNode}}l=l.return}Bu(function(){var Y=p,rt=jn(s),ot=[];t:{var X=ly.get(i);if(X!==void 0){var J=Es,xt=i;switch(i){case"keypress":if(vi(s)===0)break t;case"keydown":case"keyup":J=Rs;break;case"focusin":xt="focus",J=ws;break;case"focusout":xt="blur",J=ws;break;case"beforeblur":case"afterblur":J=ws;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Ku;break;case ry:case ay:case sy:J=bs;break;case oy:J=Qu;break;case"scroll":case"scrollend":J=zu;break;case"wheel":J=Cs;break;case"copy":case"cut":case"paste":J=As;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Jo;break;case"toggle":case"beforetoggle":J=Zu}var Rt=(r&4)!==0,de=!Rt&&(i==="scroll"||i==="scrollend"),G=Rt?X!==null?X+"Capture":null:X;Rt=[];for(var B=Y,F;B!==null;){var st=B;if(F=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||F===null||G===null||(st=Sa(B,G),st!=null&&Rt.push(Ml(B,st,F))),de)break;B=B.return}0<Rt.length&&(X=new J(X,xt,null,s,rt),ot.push({event:X,listeners:Rt}))}}if((r&7)===0){t:{if(X=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",X&&s!==Ki&&(xt=s.relatedTarget||s.fromElement)&&(qi(xt)||xt[Bn]))break t;if((J||X)&&(X=rt.window===rt?rt:(X=rt.ownerDocument)?X.defaultView||X.parentWindow:window,J?(xt=s.relatedTarget||s.toElement,J=Y,xt=xt?qi(xt):null,xt!==null&&(de=u(xt),Rt=xt.tag,xt!==de||Rt!==5&&Rt!==27&&Rt!==6)&&(xt=null)):(J=null,xt=Y),J!==xt)){if(Rt=qn,st="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Rt=Jo,st="onPointerLeave",G="onPointerEnter",B="pointer"),de=J==null?X:mi(J),F=xt==null?X:mi(xt),X=new Rt(st,B+"leave",J,s,rt),X.target=de,X.relatedTarget=F,st=null,qi(rt)===Y&&(Rt=new Rt(G,B+"enter",xt,s,rt),Rt.target=F,Rt.relatedTarget=de,st=Rt),de=st,J&&xt)e:{for(Rt=J,G=xt,B=0,F=Rt;F;F=Js(F))B++;for(F=0,st=G;st;st=Js(st))F++;for(;0<B-F;)Rt=Js(Rt),B--;for(;0<F-B;)G=Js(G),F--;for(;B--;){if(Rt===G||G!==null&&Rt===G.alternate)break e;Rt=Js(Rt),G=Js(G)}Rt=null}else Rt=null;J!==null&&I0(ot,X,J,Rt,!1),xt!==null&&de!==null&&I0(ot,de,xt,Rt,!0)}}t:{if(X=Y?mi(Y):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Tt=Kg;else if(Ge(X))if(Yg)Tt=kw;else{Tt=Dw;var jt=Nw}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Fo(Y.elementType)&&(Tt=Kg):Tt=Ow;if(Tt&&(Tt=Tt(i,Y))){Ji(ot,Tt,s,rt);break t}jt&&jt(i,X,Y),i==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Mr(X,"number",X.value)}switch(jt=Y?mi(Y):window,i){case"focusin":(Ge(jt)||jt.contentEditable==="true")&&(Is=jt,Vf=Y,el=null);break;case"focusout":el=Vf=Is=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,ny(ot,s,rt);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":ny(ot,s,rt)}var St;if(Si)t:{switch(i){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Xt?tt(i,s)&&(Ct="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(v&&s.locale!=="ko"&&(Xt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Xt&&(St=Ko()):(_i=rt,xr="value"in _i?_i.value:_i.textContent,Xt=!0)),jt=Uc(Y,Ct),0<jt.length&&(Ct=new Xo(Ct,i,null,s,rt),ot.push({event:Ct,listeners:jt}),St?Ct.data=St:(St=gt(s),St!==null&&(Ct.data=St)))),(St=y?je(i,s):Zt(i,s))&&(Ct=Uc(Y,"onBeforeInput"),0<Ct.length&&(jt=new Xo("onBeforeInput","beforeinput",null,s,rt),ot.push({event:jt,listeners:Ct}),jt.data=St)),_b(ot,i,Y,s,rt)}R0(ot,r)})}function Ml(i,r,s){return{instance:i,listener:r,currentTarget:s}}function Uc(i,r){for(var s=r+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Sa(i,s),f!=null&&l.unshift(Ml(i,f,p)),f=Sa(i,r),f!=null&&l.push(Ml(i,f,p))),i.tag===3)return l;i=i.return}return[]}function Js(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function I0(i,r,s,l,f){for(var p=r._reactName,E=[];s!==null&&s!==l;){var b=s,O=b.alternate,Y=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||Y===null||(O=Y,f?(Y=Sa(s,p),Y!=null&&E.unshift(Ml(s,Y,O))):f||(Y=Sa(s,p),Y!=null&&E.push(Ml(s,Y,O)))),s=s.return}E.length!==0&&i.push({event:r,listeners:E})}var Sb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function M0(i){return(typeof i=="string"?i:""+i).replace(Sb,`
`).replace(wb,"")}function x0(i,r){return r=M0(r),M0(i)===r}function Bc(){}function fe(i,r,s,l,f,p){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(i,""+l);break;case"className":gi(i,"class",l);break;case"tabIndex":gi(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(i,s,l);break;case"style":Ho(i,l,p);break;case"data":if(r!=="object"){gi(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){i.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(s);break}l=vs(""+l),i.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(r!=="input"&&fe(i,r,"name",f.name,f,null),fe(i,r,"formEncType",f.formEncType,f,null),fe(i,r,"formMethod",f.formMethod,f,null),fe(i,r,"formTarget",f.formTarget,f,null)):(fe(i,r,"encType",f.encType,f,null),fe(i,r,"method",f.method,f,null),fe(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(s);break}l=vs(""+l),i.setAttribute(s,l);break;case"onClick":l!=null&&(i.onclick=Bc);break;case"onScroll":l!=null&&qt("scroll",i);break;case"onScrollEnd":l!=null&&qt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));i.innerHTML=s}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}s=vs(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(s,""+l):i.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(s,""):i.removeAttribute(s);break;case"capture":case"download":l===!0?i.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(s,l):i.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(s,l):i.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(s):i.setAttribute(s,l);break;case"popover":qt("beforetoggle",i),qt("toggle",i),Ir(i,"popover",l);break;case"xlinkActuate":tn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ir(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=If.get(s)||s,Ir(i,s,l))}}function ap(i,r,s,l,f,p){switch(s){case"style":Ho(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));i.innerHTML=s}}break;case"children":typeof l=="string"?zn(i,l):(typeof l=="number"||typeof l=="bigint")&&zn(i,""+l);break;case"onScroll":l!=null&&qt("scroll",i);break;case"onScrollEnd":l!=null&&qt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ps.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),p=i[Oe]||null,p=p!=null?p[s]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in i?i[s]=null:i.hasAttribute(s)&&i.removeAttribute(s)),i.addEventListener(r,l,f);break t}s in i?i[s]=l:l===!0?i.setAttribute(s,""):Ir(i,s,l)}}}function an(i,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",i),qt("load",i);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:fe(i,r,p,E,s,null)}}f&&fe(i,r,"srcSet",s.srcSet,s,null),l&&fe(i,r,"src",s.src,s,null);return;case"input":qt("invalid",i);var b=p=E=f=null,O=null,Y=null;for(l in s)if(s.hasOwnProperty(l)){var rt=s[l];if(rt!=null)switch(l){case"name":f=rt;break;case"type":E=rt;break;case"checked":O=rt;break;case"defaultChecked":Y=rt;break;case"value":p=rt;break;case"defaultValue":b=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(a(137,r));break;default:fe(i,r,l,rt,s,null)}}va(i,p,b,O,Y,E,f,!1),_s(i);return;case"select":qt("invalid",i),l=E=p=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:fe(i,r,f,b,s,null)}r=p,s=E,i.multiple=!!l,r!=null?$i(i,!!l,r,!1):s!=null&&$i(i,!!l,s,!0);return;case"textarea":qt("invalid",i),p=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(b=s[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:fe(i,r,E,b,s,null)}Ea(i,l,f,p),_s(i);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:fe(i,r,O,l,s,null)}return;case"dialog":qt("beforetoggle",i),qt("toggle",i),qt("cancel",i),qt("close",i);break;case"iframe":case"object":qt("load",i);break;case"video":case"audio":for(l=0;l<Il.length;l++)qt(Il[l],i);break;case"image":qt("error",i),qt("load",i);break;case"details":qt("toggle",i);break;case"embed":case"source":case"link":qt("error",i),qt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in s)if(s.hasOwnProperty(Y)&&(l=s[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:fe(i,r,Y,l,s,null)}return;default:if(Fo(r)){for(rt in s)s.hasOwnProperty(rt)&&(l=s[rt],l!==void 0&&ap(i,r,rt,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&fe(i,r,b,l,s,null))}function bb(i,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,O=null,Y=null,rt=null;for(J in s){var ot=s[J];if(s.hasOwnProperty(J)&&ot!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=ot;default:l.hasOwnProperty(J)||fe(i,r,J,null,l,ot)}}for(var X in l){var J=l[X];if(ot=s[X],l.hasOwnProperty(X)&&(J!=null||ot!=null))switch(X){case"type":p=J;break;case"name":f=J;break;case"checked":Y=J;break;case"defaultChecked":rt=J;break;case"value":E=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:J!==ot&&fe(i,r,X,J,l,ot)}}xn(i,E,b,O,Y,rt,p,f);return;case"select":J=E=b=X=null;for(p in s)if(O=s[p],s.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":J=O;default:l.hasOwnProperty(p)||fe(i,r,p,null,l,O)}for(f in l)if(p=l[f],O=s[f],l.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":X=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==O&&fe(i,r,f,p,l,O)}r=b,s=E,l=J,X!=null?$i(i,!!s,X,!1):!!l!=!!s&&(r!=null?$i(i,!!s,r,!0):$i(i,!!s,s?[]:"",!1));return;case"textarea":J=X=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:fe(i,r,b,null,l,f)}for(E in l)if(f=l[E],p=s[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":X=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&fe(i,r,E,f,l,p)}ce(i,X,J);return;case"option":for(var xt in s)if(X=s[xt],s.hasOwnProperty(xt)&&X!=null&&!l.hasOwnProperty(xt))switch(xt){case"selected":i.selected=!1;break;default:fe(i,r,xt,null,l,X)}for(O in l)if(X=l[O],J=s[O],l.hasOwnProperty(O)&&X!==J&&(X!=null||J!=null))switch(O){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:fe(i,r,O,X,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in s)X=s[Rt],s.hasOwnProperty(Rt)&&X!=null&&!l.hasOwnProperty(Rt)&&fe(i,r,Rt,null,l,X);for(Y in l)if(X=l[Y],J=s[Y],l.hasOwnProperty(Y)&&X!==J&&(X!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:fe(i,r,Y,X,l,J)}return;default:if(Fo(r)){for(var de in s)X=s[de],s.hasOwnProperty(de)&&X!==void 0&&!l.hasOwnProperty(de)&&ap(i,r,de,void 0,l,X);for(rt in l)X=l[rt],J=s[rt],!l.hasOwnProperty(rt)||X===J||X===void 0&&J===void 0||ap(i,r,rt,X,l,J);return}}for(var G in s)X=s[G],s.hasOwnProperty(G)&&X!=null&&!l.hasOwnProperty(G)&&fe(i,r,G,null,l,X);for(ot in l)X=l[ot],J=s[ot],!l.hasOwnProperty(ot)||X===J||X==null&&J==null||fe(i,r,ot,X,l,J)}var sp=null,op=null;function zc(i){return i.nodeType===9?i:i.ownerDocument}function N0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function lp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var up=null;function Ab(){var i=window.event;return i&&i.type==="popstate"?i===up?!1:(up=i,!0):(up=null,!1)}var O0=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(i){return k0.resolve(null).then(i).catch(Ib)}:O0;function Ib(i){setTimeout(function(){throw i})}function $r(i){return i==="head"}function V0(i,r){var s=r,l=0,f=0;do{var p=s.nextSibling;if(i.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=i.ownerDocument;if(s&1&&xl(E.documentElement),s&2&&xl(E.body),s&4)for(s=E.head,xl(s),E=s.firstChild;E;){var b=E.nextSibling,O=E.nodeName;E[ma]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=b}}if(f===0){i.removeChild(p),Ul(r);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);Ul(r)}function cp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cp(s),Cr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}i.removeChild(s)}}function Mb(i,r,s,l){for(;i.nodeType===1;){var f=s;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[ma])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ri(i.nextSibling),i===null)break}return null}function xb(i,r,s){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ri(i.nextSibling),i===null))return null;return i}function hp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Nb(i,r){var s=i.ownerDocument;if(i.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function ri(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var fp=null;function P0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return i;r--}else s==="/$"&&r++}i=i.previousSibling}return null}function L0(i,r,s){switch(r=zc(s),i){case"html":if(i=r.documentElement,!i)throw Error(a(452));return i;case"head":if(i=r.head,!i)throw Error(a(453));return i;case"body":if(i=r.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function xl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Cr(i)}var Xn=new Map,U0=new Set;function jc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hr=P.d;P.d={f:Db,r:Ob,D:kb,C:Vb,L:Pb,m:Lb,X:Bb,S:Ub,M:zb};function Db(){var i=hr.f(),r=Dc();return i||r}function Ob(i){var r=pi(i);r!==null&&r.tag===5&&r.type==="form"?r_(r):hr.r(i)}var Ws=typeof document>"u"?null:document;function B0(i,r,s){var l=Ws;if(l&&typeof r=="string"&&r){var f=ke(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),U0.has(f)||(U0.add(f),i={rel:i,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",i),Ie(r),l.head.appendChild(r)))}}function kb(i){hr.D(i),B0("dns-prefetch",i,null)}function Vb(i,r){hr.C(i,r),B0("preconnect",i,r)}function Pb(i,r,s){hr.L(i,r,s);var l=Ws;if(l&&i&&r){var f='link[rel="preload"][as="'+ke(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+ke(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+ke(s.imageSizes)+'"]')):f+='[href="'+ke(i)+'"]';var p=f;switch(r){case"style":p=to(i);break;case"script":p=eo(i)}Xn.has(p)||(i=_({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:i,as:r},s),Xn.set(p,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Nl(p))||r==="script"&&l.querySelector(Dl(p))||(r=l.createElement("link"),an(r,"link",i),Ie(r),l.head.appendChild(r)))}}function Lb(i,r){hr.m(i,r);var s=Ws;if(s&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ke(l)+'"][href="'+ke(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=eo(i)}if(!Xn.has(p)&&(i=_({rel:"modulepreload",href:i},r),Xn.set(p,i),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Dl(p)))return}l=s.createElement("link"),an(l,"link",i),Ie(l),s.head.appendChild(l)}}}function Ub(i,r,s){hr.S(i,r,s);var l=Ws;if(l&&i){var f=En(l).hoistableStyles,p=to(i);r=r||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Nl(p)))b.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},s),(s=Xn.get(p))&&dp(i,s);var O=E=l.createElement("link");Ie(O),an(O,"link",i),O._p=new Promise(function(Y,rt){O.onload=Y,O.onerror=rt}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Gc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function Bb(i,r){hr.X(i,r);var s=Ws;if(s&&i){var l=En(s).hoistableScripts,f=eo(i),p=l.get(f);p||(p=s.querySelector(Dl(f)),p||(i=_({src:i,async:!0},r),(r=Xn.get(f))&&pp(i,r),p=s.createElement("script"),Ie(p),an(p,"link",i),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function zb(i,r){hr.M(i,r);var s=Ws;if(s&&i){var l=En(s).hoistableScripts,f=eo(i),p=l.get(f);p||(p=s.querySelector(Dl(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=Xn.get(f))&&pp(i,r),p=s.createElement("script"),Ie(p),an(p,"link",i),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function z0(i,r,s,l){var f=(f=pt.current)?jc(f):null;if(!f)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=to(s.href),s=En(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){i=to(s.href);var p=En(f).hoistableStyles,E=p.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,E),(p=f.querySelector(Nl(i)))&&!p._p&&(E.instance=p,E.state.loading=5),Xn.has(i)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(i,s),p||jb(f,i,s,E.state))),r&&l===null)throw Error(a(528,""));return E}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(s),s=En(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function to(i){return'href="'+ke(i)+'"'}function Nl(i){return'link[rel="stylesheet"]['+i+"]"}function j0(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function jb(i,r,s,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",s),Ie(r),i.head.appendChild(r))}function eo(i){return'[src="'+ke(i)+'"]'}function Dl(i){return"script[async]"+i}function G0(i,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+ke(s.href)+'"]');if(l)return r.instance=l,Ie(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ie(l),an(l,"style",f),Gc(l,s.precedence,i),r.instance=l;case"stylesheet":f=to(s.href);var p=i.querySelector(Nl(f));if(p)return r.state.loading|=4,r.instance=p,Ie(p),p;l=j0(s),(f=Xn.get(f))&&dp(l,f),p=(i.ownerDocument||i).createElement("link"),Ie(p);var E=p;return E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),an(p,"link",l),r.state.loading|=4,Gc(p,s.precedence,i),r.instance=p;case"script":return p=eo(s.src),(f=i.querySelector(Dl(p)))?(r.instance=f,Ie(f),f):(l=s,(f=Xn.get(p))&&(l=_({},s),pp(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ie(f),an(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Gc(l,s.precedence,i));return r.instance}function Gc(i,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(i,r.firstChild))}function dp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function pp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var qc=null;function q0(i,r,s){if(qc===null){var l=new Map,f=qc=new Map;f.set(s,l)}else f=qc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(i))return l;for(l.set(i,null),s=s.getElementsByTagName(i),f=0;f<s.length;f++){var p=s[f];if(!(p[ma]||p[ze]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=i+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function H0(i,r,s){i=i.ownerDocument||i,i.head.insertBefore(s,r==="title"?i.querySelector("head > title"):null)}function Gb(i,r,s){if(s===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function F0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ol=null;function qb(){}function Hb(i,r,s){if(Ol===null)throw Error(a(475));var l=Ol;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=to(s.href),p=i.querySelector(Nl(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Hc.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=p,Ie(p);return}p=i.ownerDocument||i,s=j0(s),(f=Xn.get(f))&&dp(s,f),p=p.createElement("link"),Ie(p);var E=p;E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),an(p,"link",s),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Hc.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function Fb(){if(Ol===null)throw Error(a(475));var i=Ol;return i.stylesheets&&i.count===0&&mp(i,i.stylesheets),0<i.count?function(r){var s=setTimeout(function(){if(i.stylesheets&&mp(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(s)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fc=null;function mp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fc=new Map,r.forEach($b,i),Fc=null,Hc.call(i))}function $b(i,r){if(!(r.state.loading&4)){var s=Fc.get(i);if(s)var l=s.get(null);else{s=new Map,Fc.set(i,s);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,f),s.set(E,f),this.count++,l=Hc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var kl={$$typeof:W,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Kb(i,r,s,l,f,p,E,b){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function $0(i,r,s,l,f,p,E,b,O,Y,rt,ot){return i=new Kb(i,r,s,E,b,O,Y,ot),r=1,p===!0&&(r|=24),p=Dn(3,null,null,r),i.current=p,p.stateNode=i,r=Xf(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:r},td(p),i}function K0(i){return i?(i=Ds,i):Ds}function Y0(i,r,s,l,f,p){f=K0(f),l.context===null?l.context=f:l.pendingContext=f,l=Or(r),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=kr(i,l,r),s!==null&&(Ln(s,i,r),cl(s,i,r))}function Q0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<r?s:r}}function gp(i,r){Q0(i,r),(i=i.alternate)&&Q0(i,r)}function X0(i){if(i.tag===13){var r=Ns(i,67108864);r!==null&&Ln(r,i,67108864),gp(i,67108864)}}var $c=!0;function Yb(i,r,s,l){var f=x.T;x.T=null;var p=P.p;try{P.p=2,yp(i,r,s,l)}finally{P.p=p,x.T=f}}function Qb(i,r,s,l){var f=x.T;x.T=null;var p=P.p;try{P.p=8,yp(i,r,s,l)}finally{P.p=p,x.T=f}}function yp(i,r,s,l){if($c){var f=_p(l);if(f===null)rp(i,r,l,Kc,s),J0(i,l);else if(Zb(f,i,r,s,l))l.stopPropagation();else if(J0(i,l),r&4&&-1<Xb.indexOf(i)){for(;f!==null;){var p=pi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=cn(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var O=1<<31-ie(E);b.entanglements[1]|=O,E&=~O}Ii(p),(oe&6)===0&&(xc=ge()+500,Cl(0))}}break;case 13:b=Ns(p,2),b!==null&&Ln(b,p,2),Dc(),gp(p,2)}if(p=_p(l),p===null&&rp(i,r,l,Kc,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else rp(i,r,l,null,s)}}function _p(i){return i=jn(i),vp(i)}var Kc=null;function vp(i){if(Kc=null,i=qi(i),i!==null){var r=u(i);if(r===null)i=null;else{var s=r.tag;if(s===13){if(i=h(r),i!==null)return i;i=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Kc=i,null}function Z0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case _n:return 2;case ue:return 8;case vn:case et:return 32;case te:return 268435456;default:return 32}default:return 32}}var Ep=!1,Kr=null,Yr=null,Qr=null,Vl=new Map,Pl=new Map,Xr=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J0(i,r){switch(i){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function Ll(i,r,s,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=pi(r),r!==null&&X0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Zb(i,r,s,l,f){switch(r){case"focusin":return Kr=Ll(Kr,i,r,s,l,f),!0;case"dragenter":return Yr=Ll(Yr,i,r,s,l,f),!0;case"mouseover":return Qr=Ll(Qr,i,r,s,l,f),!0;case"pointerover":var p=f.pointerId;return Vl.set(p,Ll(Vl.get(p)||null,i,r,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Pl.set(p,Ll(Pl.get(p)||null,i,r,s,l,f)),!0}return!1}function W0(i){var r=qi(i.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){i.blockedOn=r,Du(i.priority,function(){if(s.tag===13){var l=Pn();l=br(l);var f=Ns(s,l);f!==null&&Ln(f,s,l),gp(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var s=_p(i.nativeEvent);if(s===null){s=i.nativeEvent;var l=new s.constructor(s.type,s);Ki=l,s.target.dispatchEvent(l),Ki=null}else return r=pi(s),r!==null&&X0(r),i.blockedOn=s,!1;r.shift()}return!0}function tv(i,r,s){Yc(i)&&s.delete(r)}function Jb(){Ep=!1,Kr!==null&&Yc(Kr)&&(Kr=null),Yr!==null&&Yc(Yr)&&(Yr=null),Qr!==null&&Yc(Qr)&&(Qr=null),Vl.forEach(tv),Pl.forEach(tv)}function Qc(i,r){i.blockedOn===r&&(i.blockedOn=null,Ep||(Ep=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Jb)))}var Xc=null;function ev(i){Xc!==i&&(Xc=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xc===i&&(Xc=null);for(var r=0;r<i.length;r+=3){var s=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(vp(l||s)===null)continue;break}var p=pi(s);p!==null&&(i.splice(r,3),r-=3,vd(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Ul(i){function r(O){return Qc(O,i)}Kr!==null&&Qc(Kr,i),Yr!==null&&Qc(Yr,i),Qr!==null&&Qc(Qr,i),Vl.forEach(r),Pl.forEach(r);for(var s=0;s<Xr.length;s++){var l=Xr[s];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Xr.length&&(s=Xr[0],s.blockedOn===null);)W0(s),s.blockedOn===null&&Xr.shift();if(s=(i.ownerDocument||i).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],E=f[Oe]||null;if(typeof p=="function")E||ev(s);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Oe]||null)b=E.formAction;else if(vp(f)!==null)continue}else b=E.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),ev(s)}}}function Tp(i){this._internalRoot=i}Zc.prototype.render=Tp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Pn();Y0(s,l,i,r,null,null)},Zc.prototype.unmount=Tp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Y0(i.current,2,null,i,null,null),Dc(),r[Bn]=null}};function Zc(i){this._internalRoot=i}Zc.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ar();i={blockedOn:null,target:i,priority:r};for(var s=0;s<Xr.length&&r!==0&&r<Xr[s].priority;s++);Xr.splice(s,0,i),s===0&&W0(i)}};var nv=t.version;if(nv!=="19.1.0")throw Error(a(527,nv,"19.1.0"));P.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var Wb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{It=Jc.inject(Wb),Nt=Jc}catch{}}return zl.createRoot=function(i,r){if(!o(i))throw Error(a(299));var s=!1,l="",f=__,p=v_,E=E_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=$0(i,1,!1,null,null,s,l,f,p,E,b,null),i[Bn]=r.current,ip(i),new Tp(r)},zl.hydrateRoot=function(i,r,s){if(!o(i))throw Error(a(299));var l=!1,f="",p=__,E=v_,b=E_,O=null,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(Y=s.formState)),r=$0(i,1,!0,r,s??null,l,f,p,E,b,O,Y),r.context=K0(null),s=r.current,l=Pn(),l=br(l),f=Or(l),f.callback=null,kr(s,f,l),s=l,r.current.lanes=s,Gi(r,s),Ii(r),i[Bn]=r.current,ip(i),new Zc(r)},zl.version="19.1.0",zl}var fv;function hA(){if(fv)return bp.exports;fv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bp.exports=cA(),bp.exports}var fA=hA();const dA=Bm(fA);var vu={};(function n(t,e,a,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!t.OffscreenCanvas)return!1;var S=new OffscreenCanvas(1,1),A=S.getContext("2d");A.fillRect(0,0,1,1);var q=S.transferToImageBitmap();try{A.createPattern(q,"no-repeat")}catch{return!1}return!0}();function m(){}function g(S){var A=e.exports.Promise,q=A!==void 0?A:t.Promise;return typeof q=="function"?new q(S):(S(m,m),null)}var _=function(S,A){return{transform:function(q){if(S)return q;if(A.has(q))return A.get(q);var K=new OffscreenCanvas(q.width,q.height),at=K.getContext("2d");return at.drawImage(q,0,0),A.set(q,K),K},clear:function(){A.clear()}}}(d,new Map),T=function(){var S=Math.floor(16.666666666666668),A,q,K={},at=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(A=function(mt){var pt=Math.random();return K[pt]=requestAnimationFrame(function _t(vt){at===vt||at+S-1<vt?(at=vt,delete K[pt],mt()):K[pt]=requestAnimationFrame(_t)}),pt},q=function(mt){K[mt]&&cancelAnimationFrame(K[mt])}):(A=function(mt){return setTimeout(mt,S)},q=function(mt){return clearTimeout(mt)}),{frame:A,cancel:q}}(),w=function(){var S,A,q={};function K(at){function mt(pt,_t){at.postMessage({options:pt||{},callback:_t})}at.init=function(_t){var vt=_t.transferControlToOffscreen();at.postMessage({canvas:vt},[vt])},at.fire=function(_t,vt,Bt){if(A)return mt(_t,null),A;var Yt=Math.random().toString(36).slice(2);return A=g(function(Lt){function Qt(se){se.data.callback===Yt&&(delete q[Yt],at.removeEventListener("message",Qt),A=null,_.clear(),Bt(),Lt())}at.addEventListener("message",Qt),mt(_t,Yt),q[Yt]=Qt.bind(null,{data:{callback:Yt}})}),A},at.reset=function(){at.postMessage({reset:!0});for(var _t in q)q[_t](),delete q[_t]}}return function(){if(S)return S;if(!a&&u){var at=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{S=new Worker(URL.createObjectURL(new Blob([at])))}catch(mt){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",mt),null}K(S)}return S}}(),D={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(S,A){return A?A(S):S}function Z(S){return S!=null}function $(S,A,q){return j(S&&Z(S[A])?S[A]:D[A],q)}function ft(S){return S<0?0:Math.floor(S)}function ht(S,A){return Math.floor(Math.random()*(A-S))+S}function W(S){return parseInt(S,16)}function dt(S){return S.map(ct)}function ct(S){var A=String(S).replace(/[^0-9a-f]/gi,"");return A.length<6&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]),{r:W(A.substring(0,2)),g:W(A.substring(2,4)),b:W(A.substring(4,6))}}function yt(S){var A=$(S,"origin",Object);return A.x=$(A,"x",Number),A.y=$(A,"y",Number),A}function k(S){S.width=document.documentElement.clientWidth,S.height=document.documentElement.clientHeight}function I(S){var A=S.getBoundingClientRect();S.width=A.width,S.height=A.height}function C(S){var A=document.createElement("canvas");return A.style.position="fixed",A.style.top="0px",A.style.left="0px",A.style.pointerEvents="none",A.style.zIndex=S,A}function V(S,A,q,K,at,mt,pt,_t,vt){S.save(),S.translate(A,q),S.rotate(mt),S.scale(K,at),S.arc(0,0,1,pt,_t,vt),S.restore()}function N(S){var A=S.angle*(Math.PI/180),q=S.spread*(Math.PI/180);return{x:S.x,y:S.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:S.startVelocity*.5+Math.random()*S.startVelocity,angle2D:-A+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:S.color,shape:S.shape,tick:0,totalTicks:S.ticks,decay:S.decay,drift:S.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:S.gravity*3,ovalScalar:.6,scalar:S.scalar,flat:S.flat}}function L(S,A){A.x+=Math.cos(A.angle2D)*A.velocity+A.drift,A.y+=Math.sin(A.angle2D)*A.velocity+A.gravity,A.velocity*=A.decay,A.flat?(A.wobble=0,A.wobbleX=A.x+10*A.scalar,A.wobbleY=A.y+10*A.scalar,A.tiltSin=0,A.tiltCos=0,A.random=1):(A.wobble+=A.wobbleSpeed,A.wobbleX=A.x+10*A.scalar*Math.cos(A.wobble),A.wobbleY=A.y+10*A.scalar*Math.sin(A.wobble),A.tiltAngle+=.1,A.tiltSin=Math.sin(A.tiltAngle),A.tiltCos=Math.cos(A.tiltAngle),A.random=Math.random()+2);var q=A.tick++/A.totalTicks,K=A.x+A.random*A.tiltCos,at=A.y+A.random*A.tiltSin,mt=A.wobbleX+A.random*A.tiltCos,pt=A.wobbleY+A.random*A.tiltSin;if(S.fillStyle="rgba("+A.color.r+", "+A.color.g+", "+A.color.b+", "+(1-q)+")",S.beginPath(),h&&A.shape.type==="path"&&typeof A.shape.path=="string"&&Array.isArray(A.shape.matrix))S.fill(P(A.shape.path,A.shape.matrix,A.x,A.y,Math.abs(mt-K)*.1,Math.abs(pt-at)*.1,Math.PI/10*A.wobble));else if(A.shape.type==="bitmap"){var _t=Math.PI/10*A.wobble,vt=Math.abs(mt-K)*.1,Bt=Math.abs(pt-at)*.1,Yt=A.shape.bitmap.width*A.scalar,Lt=A.shape.bitmap.height*A.scalar,Qt=new DOMMatrix([Math.cos(_t)*vt,Math.sin(_t)*vt,-Math.sin(_t)*Bt,Math.cos(_t)*Bt,A.x,A.y]);Qt.multiplySelf(new DOMMatrix(A.shape.matrix));var se=S.createPattern(_.transform(A.shape.bitmap),"no-repeat");se.setTransform(Qt),S.globalAlpha=1-q,S.fillStyle=se,S.fillRect(A.x-Yt/2,A.y-Lt/2,Yt,Lt),S.globalAlpha=1}else if(A.shape==="circle")S.ellipse?S.ellipse(A.x,A.y,Math.abs(mt-K)*A.ovalScalar,Math.abs(pt-at)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI):V(S,A.x,A.y,Math.abs(mt-K)*A.ovalScalar,Math.abs(pt-at)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI);else if(A.shape==="star")for(var Vt=Math.PI/2*3,_e=4*A.scalar,Ce=8*A.scalar,ge=A.x,yn=A.y,_n=5,ue=Math.PI/_n;_n--;)ge=A.x+Math.cos(Vt)*Ce,yn=A.y+Math.sin(Vt)*Ce,S.lineTo(ge,yn),Vt+=ue,ge=A.x+Math.cos(Vt)*_e,yn=A.y+Math.sin(Vt)*_e,S.lineTo(ge,yn),Vt+=ue;else S.moveTo(Math.floor(A.x),Math.floor(A.y)),S.lineTo(Math.floor(A.wobbleX),Math.floor(at)),S.lineTo(Math.floor(mt),Math.floor(pt)),S.lineTo(Math.floor(K),Math.floor(A.wobbleY));return S.closePath(),S.fill(),A.tick<A.totalTicks}function M(S,A,q,K,at){var mt=A.slice(),pt=S.getContext("2d"),_t,vt,Bt=g(function(Yt){function Lt(){_t=vt=null,pt.clearRect(0,0,K.width,K.height),_.clear(),at(),Yt()}function Qt(){a&&!(K.width===o.width&&K.height===o.height)&&(K.width=S.width=o.width,K.height=S.height=o.height),!K.width&&!K.height&&(q(S),K.width=S.width,K.height=S.height),pt.clearRect(0,0,K.width,K.height),mt=mt.filter(function(se){return L(pt,se)}),mt.length?_t=T.frame(Qt):Lt()}_t=T.frame(Qt),vt=Lt});return{addFettis:function(Yt){return mt=mt.concat(Yt),Bt},canvas:S,promise:Bt,reset:function(){_t&&T.cancel(_t),vt&&vt()}}}function nt(S,A){var q=!S,K=!!$(A||{},"resize"),at=!1,mt=$(A,"disableForReducedMotion",Boolean),pt=u&&!!$(A||{},"useWorker"),_t=pt?w():null,vt=q?k:I,Bt=S&&_t?!!S.__confetti_initialized:!1,Yt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Lt;function Qt(Vt,_e,Ce){for(var ge=$(Vt,"particleCount",ft),yn=$(Vt,"angle",Number),_n=$(Vt,"spread",Number),ue=$(Vt,"startVelocity",Number),vn=$(Vt,"decay",Number),et=$(Vt,"gravity",Number),te=$(Vt,"drift",Number),Pt=$(Vt,"colors",dt),Ht=$(Vt,"ticks",Number),It=$(Vt,"shapes"),Nt=$(Vt,"scalar"),pe=!!$(Vt,"flat"),ie=yt(Vt),De=ge,un=[],Be=S.width*ie.x,fi=S.height*ie.y;De--;)un.push(N({x:Be,y:fi,angle:yn,spread:_n,startVelocity:ue,color:Pt[De%Pt.length],shape:It[ht(0,It.length)],ticks:Ht,decay:vn,gravity:et,drift:te,scalar:Nt,flat:pe}));return Lt?Lt.addFettis(un):(Lt=M(S,un,vt,_e,Ce),Lt.promise)}function se(Vt){var _e=mt||$(Vt,"disableForReducedMotion",Boolean),Ce=$(Vt,"zIndex",Number);if(_e&&Yt)return g(function(ue){ue()});q&&Lt?S=Lt.canvas:q&&!S&&(S=C(Ce),document.body.appendChild(S)),K&&!Bt&&vt(S);var ge={width:S.width,height:S.height};_t&&!Bt&&_t.init(S),Bt=!0,_t&&(S.__confetti_initialized=!0);function yn(){if(_t){var ue={getBoundingClientRect:function(){if(!q)return S.getBoundingClientRect()}};vt(ue),_t.postMessage({resize:{width:ue.width,height:ue.height}});return}ge.width=ge.height=null}function _n(){Lt=null,K&&(at=!1,t.removeEventListener("resize",yn)),q&&S&&(document.body.contains(S)&&document.body.removeChild(S),S=null,Bt=!1)}return K&&!at&&(at=!0,t.addEventListener("resize",yn,!1)),_t?_t.fire(Vt,ge,_n):Qt(Vt,ge,_n)}return se.reset=function(){_t&&_t.reset(),Lt&&Lt.reset()},se}var U;function x(){return U||(U=nt(null,{useWorker:!0,resize:!0})),U}function P(S,A,q,K,at,mt,pt){var _t=new Path2D(S),vt=new Path2D;vt.addPath(_t,new DOMMatrix(A));var Bt=new Path2D;return Bt.addPath(vt,new DOMMatrix([Math.cos(pt)*at,Math.sin(pt)*at,-Math.sin(pt)*mt,Math.cos(pt)*mt,q,K])),Bt}function z(S){if(!h)throw new Error("path confetti are not supported in this browser");var A,q;typeof S=="string"?A=S:(A=S.path,q=S.matrix);var K=new Path2D(A),at=document.createElement("canvas"),mt=at.getContext("2d");if(!q){for(var pt=1e3,_t=pt,vt=pt,Bt=0,Yt=0,Lt,Qt,se=0;se<pt;se+=2)for(var Vt=0;Vt<pt;Vt+=2)mt.isPointInPath(K,se,Vt,"nonzero")&&(_t=Math.min(_t,se),vt=Math.min(vt,Vt),Bt=Math.max(Bt,se),Yt=Math.max(Yt,Vt));Lt=Bt-_t,Qt=Yt-vt;var _e=10,Ce=Math.min(_e/Lt,_e/Qt);q=[Ce,0,0,Ce,-Math.round(Lt/2+_t)*Ce,-Math.round(Qt/2+vt)*Ce]}return{type:"path",path:A,matrix:q}}function Q(S){var A,q=1,K="#000000",at='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof S=="string"?A=S:(A=S.text,q="scalar"in S?S.scalar:q,at="fontFamily"in S?S.fontFamily:at,K="color"in S?S.color:K);var mt=10*q,pt=""+mt+"px "+at,_t=new OffscreenCanvas(mt,mt),vt=_t.getContext("2d");vt.font=pt;var Bt=vt.measureText(A),Yt=Math.ceil(Bt.actualBoundingBoxRight+Bt.actualBoundingBoxLeft),Lt=Math.ceil(Bt.actualBoundingBoxAscent+Bt.actualBoundingBoxDescent),Qt=2,se=Bt.actualBoundingBoxLeft+Qt,Vt=Bt.actualBoundingBoxAscent+Qt;Yt+=Qt+Qt,Lt+=Qt+Qt,_t=new OffscreenCanvas(Yt,Lt),vt=_t.getContext("2d"),vt.font=pt,vt.fillStyle=K,vt.fillText(A,se,Vt);var _e=1/q;return{type:"bitmap",bitmap:_t.transferToImageBitmap(),matrix:[_e,0,0,_e,-Yt*_e/2,-Lt*_e/2]}}e.exports=function(){return x().apply(this,arguments)},e.exports.reset=function(){x().reset()},e.exports.create=nt,e.exports.shapeFromPath=z,e.exports.shapeFromText=Q})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),vu,!1);const pA=vu.exports;vu.exports.create;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,a)=>a?a.toUpperCase():e.toLowerCase()),dv=n=>{const t=gA(n);return t.charAt(0).toUpperCase()+t.slice(1)},TE=(...n)=>n.filter((t,e,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===e).join(" ").trim(),yA=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=bt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:h,...d},m)=>bt.createElement("svg",{ref:m,..._A,width:t,height:t,stroke:n,strokeWidth:a?Number(e)*24/Number(t):e,className:TE("lucide",o),...!u&&!yA(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,_])=>bt.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=(n,t)=>{const e=bt.forwardRef(({className:a,...o},u)=>bt.createElement(vA,{ref:u,iconNode:t,className:TE(`lucide-${mA(dv(n))}`,`lucide-${n}`,a),...o}));return e.displayName=dv(n),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],TA=SE("menu",EA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wE=SE("x",SA),wA=()=>{};var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(n){const t=[];let e=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},bA=function(n){const t=[];let e=0,a=0;for(;e<n.length;){const o=n[e++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],h=n[e++],d=n[e++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=n[e++],h=n[e++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,D=g&63;m||(D=64,h||(w=64)),a.push(e[_],e[T],e[w],e[D])}return a.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(bE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):bA(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new AA;const w=u<<2|d>>4;if(a.push(w),g!==64){const D=d<<4&240|g>>2;if(a.push(D),T!==64){const j=g<<6&192|T;a.push(j)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(n){const t=bE(n);return AE.encodeByteArray(t,!0)},Ah=function(n){return RA(n).replace(/\./g,"")},RE=function(n){try{return AE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=()=>CA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof pv>"u")return;const n=pv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&RE(n[1]);return t&&JSON.parse(t)},af=()=>{try{return wA()||IA()||MA()||xA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CE=n=>{var t,e;return(e=(t=af())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},NA=n=>{const t=CE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},IE=()=>{var n;return(n=af())==null?void 0:n.config},ME=n=>{var t;return(t=af())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ah(JSON.stringify(e)),Ah(JSON.stringify(h)),""].join(".")}const Wl={};function kA(){const n={prod:[],emulator:[]};for(const t of Object.keys(Wl))Wl[t]?n.emulator.push(t):n.prod.push(t);return n}function VA(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let mv=!1;function NE(n,t){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Wl[n]===t||Wl[n]||mv)return;Wl[n]=t;function e(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=kA().prod.length>0;function h(){const w=document.getElementById(a);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{mv=!0,h()},w}function _(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=VA(a),D=e("text"),j=document.getElementById(D)||document.createElement("span"),Z=e("learnmore"),$=document.getElementById(Z)||document.createElement("a"),ft=e("preprendIcon"),ht=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;d(W),_($,Z);const dt=g();m(ht,ft),W.append(ht,j,$,dt),document.body.appendChild(W)}u?(j.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function LA(){var t;const n=(t=af())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GA(){return!LA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function HA(){return new Promise((n,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="FirebaseError";class Sr extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=FA,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?$A(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Sr(o,d,a)}}function $A(n,t){return n.replace(KA,(e,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const KA=/\{\$([^}]+)}/g;function YA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function es(n,t){if(n===t)return!0;const e=Object.keys(n),a=Object.keys(t);for(const o of e){if(!a.includes(o))return!1;const u=n[o],h=t[o];if(gv(u)&&gv(h)){if(!es(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!e.includes(o))return!1;return!0}function gv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){const t=[];for(const[e,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function QA(n,t){const e=new XA(n,t);return e.subscribe.bind(e)}class XA{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let o;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");ZA(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:a},o.next===void 0&&(o.next=Ip),o.error===void 0&&(o.error=Ip),o.complete===void 0&&(o.complete=Ip);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(n){return n&&n._delegate?n._delegate:n}class ns{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new DA;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(t2(t))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fa){return this.instances.has(t)}getOptions(t=Fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(t,e){const a=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const o of a)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:WA(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fa){return this.component?this.component.multipleInstances?t:Fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WA(n){return n===Fa?void 0:n}function t2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new JA(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const n2={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},i2=Ft.INFO,r2={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},a2=(n,t,...e)=>{if(t<n.logLevel)return;const a=new Date().toISOString(),o=r2[t];if(o)console[o](`[${a}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jm{constructor(t){this.name=t,this._logLevel=i2,this._logHandler=a2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?n2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const s2=(n,t)=>t.some(e=>n instanceof e);let yv,_v;function o2(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,tm=new WeakMap,OE=new WeakMap,Mp=new WeakMap,Gm=new WeakMap;function u2(n){const t=new Promise((e,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{e(ia(n.result)),o()},h=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&DE.set(e,n)}).catch(()=>{}),Gm.set(t,n),t}function c2(n){if(tm.has(n))return;const t=new Promise((e,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});tm.set(n,t)}let em={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return tm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||OE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ia(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function h2(n){em=n(em)}function f2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=n.call(xp(this),t,...e);return OE.set(a,t.sort?t.sort():[t]),ia(a)}:l2().includes(n)?function(...t){return n.apply(xp(this),t),ia(DE.get(this))}:function(...t){return ia(n.apply(xp(this),t))}}function d2(n){return typeof n=="function"?f2(n):(n instanceof IDBTransaction&&c2(n),s2(n,o2())?new Proxy(n,em):n)}function ia(n){if(n instanceof IDBRequest)return u2(n);if(Mp.has(n))return Mp.get(n);const t=d2(n);return t!==n&&(Mp.set(n,t),Gm.set(t,n)),t}const xp=n=>Gm.get(n);function p2(n,t,{blocked:e,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=ia(h);return a&&h.addEventListener("upgradeneeded",m=>{a(ia(h.result),m.oldVersion,m.newVersion,ia(h.transaction),m)}),e&&h.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const m2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],Np=new Map;function vv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Np.get(t))return Np.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,o=g2.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(o||m2.includes(e)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return Np.set(t,u),u}h2(n=>({...n,get:(t,e,a)=>vv(t,e)||n.get(t,e,a),has:(t,e)=>!!vv(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(_2(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function _2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nm="@firebase/app",Ev="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new jm("@firebase/app"),v2="@firebase/app-compat",E2="@firebase/analytics-compat",T2="@firebase/analytics",S2="@firebase/app-check-compat",w2="@firebase/app-check",b2="@firebase/auth",A2="@firebase/auth-compat",R2="@firebase/database",C2="@firebase/data-connect",I2="@firebase/database-compat",M2="@firebase/functions",x2="@firebase/functions-compat",N2="@firebase/installations",D2="@firebase/installations-compat",O2="@firebase/messaging",k2="@firebase/messaging-compat",V2="@firebase/performance",P2="@firebase/performance-compat",L2="@firebase/remote-config",U2="@firebase/remote-config-compat",B2="@firebase/storage",z2="@firebase/storage-compat",j2="@firebase/firestore",G2="@firebase/ai",q2="@firebase/firestore-compat",H2="firebase",F2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",$2={[nm]:"fire-core",[v2]:"fire-core-compat",[T2]:"fire-analytics",[E2]:"fire-analytics-compat",[w2]:"fire-app-check",[S2]:"fire-app-check-compat",[b2]:"fire-auth",[A2]:"fire-auth-compat",[R2]:"fire-rtdb",[C2]:"fire-data-connect",[I2]:"fire-rtdb-compat",[M2]:"fire-fn",[x2]:"fire-fn-compat",[N2]:"fire-iid",[D2]:"fire-iid-compat",[O2]:"fire-fcm",[k2]:"fire-fcm-compat",[V2]:"fire-perf",[P2]:"fire-perf-compat",[L2]:"fire-rc",[U2]:"fire-rc-compat",[B2]:"fire-gcs",[z2]:"fire-gcs-compat",[j2]:"fire-fst",[q2]:"fire-fst-compat",[G2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,K2=new Map,rm=new Map;function Tv(n,t){try{n.container.addComponent(t)}catch(e){yr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function mo(n){const t=n.name;if(rm.has(t))return yr.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,n);for(const e of Rh.values())Tv(e,n);for(const e of K2.values())Tv(e,n);return!0}function qm(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function si(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new Eu("app","Firebase",Y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,e,a){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=F2;function kE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw ra.create("bad-app-name",{appName:String(o)});if(e||(e=IE()),!e)throw ra.create("no-options");const u=Rh.get(o);if(u){if(es(e,u.options)&&es(a,u.config))return u;throw ra.create("duplicate-app",{appName:o})}const h=new e2(o);for(const m of rm.values())h.addComponent(m);const d=new Q2(e,a,h);return Rh.set(o,d),d}function VE(n=im){const t=Rh.get(n);if(!t&&n===im&&IE())return kE();if(!t)throw ra.create("no-app",{appName:n});return t}function aa(n,t,e){let a=$2[n]??n;e&&(a+=`-${e}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yr.warn(h.join(" "));return}mo(new ns(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="firebase-heartbeat-database",Z2=1,su="firebase-heartbeat-store";let Dp=null;function PE(){return Dp||(Dp=p2(X2,Z2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(su)}catch(e){console.warn(e)}}}}).catch(n=>{throw ra.create("idb-open",{originalErrorMessage:n.message})})),Dp}async function J2(n){try{const e=(await PE()).transaction(su),a=await e.objectStore(su).get(LE(n));return await e.done,a}catch(t){if(t instanceof Sr)yr.warn(t.message);else{const e=ra.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yr.warn(e.message)}}}async function Sv(n,t){try{const a=(await PE()).transaction(su,"readwrite");await a.objectStore(su).put(t,LE(n)),await a.done}catch(e){if(e instanceof Sr)yr.warn(e.message);else{const a=ra.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});yr.warn(a.message)}}}function LE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=1024,tR=30;class eR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new iR(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=wv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>tR){const h=rR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){yr.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wv(),{heartbeatsToSend:a,unsentEntries:o}=nR(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return yr.warn(e),""}}}function wv(){return new Date().toISOString().substring(0,10)}function nR(n,t=W2){const e=[];let a=n.slice();for(const o of n){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),bv(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),bv(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class iR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?HA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await J2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function bv(n){return Ah(JSON.stringify({version:2,heartbeats:n})).length}function rR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let a=1;a<n.length;a++)n[a].date<e&&(e=n[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n){mo(new ns("platform-logger",t=>new y2(t),"PRIVATE")),mo(new ns("heartbeat",t=>new eR(t),"PRIVATE")),aa(nm,Ev,n),aa(nm,Ev,"esm2020"),aa("fire-js","")}aR("");function UE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sR=UE,BE=new Eu("auth","Firebase",UE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new jm("@firebase/auth");function oR(n,...t){Ch.logLevel<=Ft.WARN&&Ch.warn(`Auth (${Co}): ${n}`,...t)}function ch(n,...t){Ch.logLevel<=Ft.ERROR&&Ch.error(`Auth (${Co}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n,...t){throw Fm(n,...t)}function ci(n,...t){return Fm(n,...t)}function Hm(n,t,e){const a={...sR(),[t]:e};return new Eu("auth","Firebase",a).create(t,{appName:n.name})}function Xa(n){return Hm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lR(n,t,e){const a=e;if(!(t instanceof a))throw a.name!==t.constructor.name&&Li(n,"argument-error"),Hm(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fm(n,...t){if(typeof n!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(e,...a)}return BE.create(n,...t)}function Dt(n,t,...e){if(!n)throw Fm(t,...e)}function pr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ch(t),new Error(t)}function _r(n,t){n||pr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function uR(){return Av()==="http:"||Av()==="https:"}function Av(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uR()||BA()||"connection"in navigator)?navigator.onLine:!0}function hR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,e){this.shortDelay=t,this.longDelay=e,_r(e>t,"Short delay should be less than long delay!"),this.isMobile=PA()||zA()}get(){return cR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n,t){_r(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pR=new Su(3e4,6e4);function Km(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Io(n,t,e,a,o={}){return jE(n,o,async()=>{let u={},h={};a&&(t==="GET"?h=a:u={body:JSON.stringify(a)});const d=Tu({key:n.config.apiKey,...h}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:m,...u};return UA()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ro(n.emulatorConfig.host)&&(g.credentials="include"),zE.fetch()(await GE(n,n.config.apiHost,e,d),g)})}async function jE(n,t,e){n._canInitEmulator=!1;const a={...fR,...t};try{const o=new gR(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Wc(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Wc(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw Wc(n,"user-disabled",h);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hm(n,_,g);Li(n,_)}}catch(o){if(o instanceof Sr)throw o;Li(n,"network-request-failed",{message:String(o)})}}async function mR(n,t,e,a,o={}){const u=await Io(n,t,e,a,o);return"mfaPendingCredential"in u&&Li(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function GE(n,t,e,a){const o=`${t}${e}?${a}`,u=n,h=u.config.emulator?$m(n.config,o):`${n.config.apiScheme}://${o}`;return dR.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class gR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(ci(this.auth,"network-request-failed")),pR.get())})}}function Wc(n,t,e){const a={appName:n.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const o=ci(n,t,a);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,t){return Io(n,"POST","/v1/accounts:delete",t)}async function Ih(n,t){return Io(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _R(n,t=!1){const e=Wn(n),a=await e.getIdToken(t),o=Ym(a);Dt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:tu(Op(o.auth_time)),issuedAtTime:tu(Op(o.iat)),expirationTime:tu(Op(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Op(n){return Number(n)*1e3}function Ym(n){const[t,e,a]=n.split(".");if(t===void 0||e===void 0||a===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=RE(e);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Rv(n){const t=Ym(n);return Dt(t,"internal-error"),Dt(typeof t.exp<"u","internal-error"),Dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof Sr&&vR(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function vR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(n){var T;const t=n.auth,e=await n.getIdToken(),a=await ou(n,Ih(t,{idToken:e}));Dt(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?qE(o.providerUserInfo):[],h=SR(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function TR(n){const t=Wn(n);await Mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SR(n,t){return[...n.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function qE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(n,t){const e=await jE(n,{},async()=>{const a=Tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,h=await GE(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return n.emulatorConfig&&Ro(n.emulatorConfig.host)&&(m.credentials="include"),zE.fetch()(h,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function bR(n,t){return Io(n,"POST","/v2/accounts:revokeToken",Km(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Dt(t.idToken,"internal-error"),Dt(typeof t.idToken<"u","internal-error"),Dt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Dt(t.length!==0,"internal-error");const e=Rv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:o,expiresIn:u}=await wR(t,e);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:o,expirationTime:u}=e,h=new uo;return a&&(Dt(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(Dt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Dt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(n,t){Dt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:e,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new ER(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await ou(this,this.stsTokenManager.getToken(this.auth,t));return Dt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return _R(this,t)}reload(){return TR(this)}_assign(t){this!==t&&(Dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await Mh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Xa(this.auth));const t=await this.getIdToken();return await ou(this,yR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const a=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,h=e.photoURL??void 0,d=e.tenantId??void 0,m=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:D,providerData:j,stsTokenManager:Z}=e;Dt(T&&Z,t,"internal-error");const $=uo.fromJSON(this.name,Z);Dt(typeof T=="string",t,"internal-error"),Jr(a,t.name),Jr(o,t.name),Dt(typeof w=="boolean",t,"internal-error"),Dt(typeof D=="boolean",t,"internal-error"),Jr(u,t.name),Jr(h,t.name),Jr(d,t.name),Jr(m,t.name),Jr(g,t.name),Jr(_,t.name);const ft=new li({uid:T,auth:t,email:o,emailVerified:w,displayName:a,isAnonymous:D,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:$,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(ft.providerData=j.map(ht=>({...ht}))),m&&(ft._redirectEventId=m),ft}static async _fromIdTokenResponse(t,e,a=!1){const o=new uo;o.updateFromServerResponse(e);const u=new li({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Mh(u),u}static async _fromGetAccountInfoResponse(t,e,a){const o=e.users[0];Dt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new uo;d.updateFromIdToken(a);const m=new li({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;function mr(n){_r(n instanceof Function,"Expected a class definition");let t=Cv.get(n);return t?(_r(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Cv.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}HE.type="NONE";const Iv=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n,t,e){return`firebase:${n}:${t}:${e}`}class co{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Ih(this.auth,{idToken:t}).catch(()=>{});return e?li._fromGetAccountInfoResponse(this.auth,e,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new co(mr(Iv),t,a);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mr(Iv);const h=hh(a,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const w=await Ih(t,{idToken:_}).catch(()=>{});if(!w)break;T=await li._fromGetAccountInfoResponse(t,w,_)}else T=li._fromJSON(t,_);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new co(u,t,a):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new co(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XE(t))return"Blackberry";if(ZE(t))return"Webos";if($E(t))return"Safari";if((t.includes("chrome/")||KE(t))&&!t.includes("edge/"))return"Chrome";if(QE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function FE(n=gn()){return/firefox\//i.test(n)}function $E(n=gn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function KE(n=gn()){return/crios\//i.test(n)}function YE(n=gn()){return/iemobile/i.test(n)}function QE(n=gn()){return/android/i.test(n)}function XE(n=gn()){return/blackberry/i.test(n)}function ZE(n=gn()){return/webos/i.test(n)}function Qm(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AR(n=gn()){var t;return Qm(n)&&!!((t=window.navigator)!=null&&t.standalone)}function RR(){return jA()&&document.documentMode===10}function JE(n=gn()){return Qm(n)||QE(n)||ZE(n)||XE(n)||/windows phone/i.test(n)||YE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(n,t=[]){let e;switch(n){case"Browser":e=Mv(gn());break;case"Worker":e=`${Mv(gn())}-${n}`;break;default:e=n}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Co}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=u=>new Promise((h,d)=>{try{const m=t(u);h(m)}catch(m){d(m)}});a.onAbort=e,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(n,t={}){return Io(n,"GET","/v2/passwordPolicy",Km(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=6;class xR{constructor(t){var a;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??MR,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=t.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,e,a,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xv(this),this.idTokenSubscription=new xv(this),this.beforeStateQueue=new CR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=mr(e)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,t),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ih(this,{idToken:t}),a=await li._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(si(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let a=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===d)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Mh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(Xa(this));const e=t?Wn(t):null;return e&&Dt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(Xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IR(this),e=new xR(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Eu("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await bR(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&mr(t)||this._popupRedirectResolver;Dt(e,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[mr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,a,o);return()=>{h=!0,m()}}else{const m=t.addObserver(e);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&oR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function sf(n){return Wn(n)}class xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=QA(e=>this.observer=e)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DR(n){Xm=n}function OR(n){return Xm.loadJS(n)}function kR(){return Xm.gapiScript}function VR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n,t){const e=qm(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(es(u,t??{}))return o;Li(o,"already-initialized")}return e.initialize({options:t})}function LR(n,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(mr);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function UR(n,t,e){const a=sf(n);Dt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=tT(t),{host:h,port:d}=BR(t),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Dt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Dt(es(g,a.config.emulator)&&es(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Ro(h)?(xE(`${u}//${h}${m}`),NE("Auth",!0)):zR()}function tT(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function BR(n){const t=tT(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Nv(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:Nv(h)}}}function Nv(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function zR(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return pr("not implemented")}_getIdTokenResponse(t){return pr("not implemented")}_linkToIdToken(t,e){return pr("not implemented")}_getReauthenticationResolver(t){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(n,t){return mR(n,"POST","/v1/accounts:signInWithIdp",Km(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="http://localhost";class is extends eT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new is(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Li("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...u}=e;if(!a||!o)return null;const h=new is(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return ho(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,ho(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ho(t,e)}buildRequest(){const t={requestUri:jR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Tu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Zm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends wu{constructor(){super("facebook.com")}static credential(t){return is._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return is._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return dr.credential(e,a)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends wu{constructor(){super("github.com")}static credential(t){return is._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ta.credential(t.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends wu{constructor(){super("twitter.com")}static credential(t,e){return is._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return ea.credential(e,a)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,o=!1){const u=await li._fromIdTokenResponse(t,a,o),h=Dv(a);return new go({user:u,providerId:h,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const o=Dv(a);return new go({user:t,providerId:o,_tokenResponse:a,operationType:e})}}function Dv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Sr{constructor(t,e,a,o){super(e.code,e.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,o){return new xh(t,e,a,o)}}function nT(n,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(n,u,t,a):u})}async function GR(n,t,e=!1){const a=await ou(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return go._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,t,e=!1){const{auth:a}=n;if(si(a.app))return Promise.reject(Xa(a));const o="reauthenticate";try{const u=await ou(n,nT(a,o,t,n),e);Dt(u.idToken,a,"internal-error");const h=Ym(u.idToken);Dt(h,a,"internal-error");const{sub:d}=h;return Dt(n.uid===d,a,"user-mismatch"),go._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Li(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n,t,e=!1){if(si(n.app))return Promise.reject(Xa(n));const a="signIn",o=await nT(n,a,t),u=await go._fromIdTokenResponse(n,a,o);return e||await n._updateCurrentUser(u.user),u}function FR(n,t,e,a){return Wn(n).onIdTokenChanged(t,e,a)}function $R(n,t,e){return Wn(n).beforeAuthStateChanged(t,e)}function iT(n,t,e,a){return Wn(n).onAuthStateChanged(t,e,a)}function KR(n){return Wn(n).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1e3,QR=10;class aT extends rT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),o=this.localCache[e];a!==o&&t(e,o,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!e&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);RR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QR):o()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},YR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}aT.type="LOCAL";const XR=aT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends rT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}sT.type="SESSION";const oT=sT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const a=new of(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,u)),m=await ZR(d);e.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=Jm("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function WR(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function tC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function nC(){return lT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firebaseLocalStorageDb",iC=1,Dh="firebaseLocalStorage",cT="fbase_key";class bu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function lf(n,t){return n.transaction([Dh],t?"readwrite":"readonly").objectStore(Dh)}function rC(){const n=indexedDB.deleteDatabase(uT);return new bu(n).toPromise()}function om(){const n=indexedDB.open(uT,iC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Dh,{keyPath:cT})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Dh)?t(a):(a.close(),await rC(),t(await om()))})})}async function Ov(n,t,e){const a=lf(n,!0).put({[cT]:t,value:e});return new bu(a).toPromise()}async function aC(n,t){const e=lf(n,!1).get(t),a=await new bu(e).toPromise();return a===void 0?null:a.value}function kv(n,t){const e=lf(n,!0).delete(t);return new bu(e).toPromise()}const sC=800,oC=3;class hT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>oC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(nC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,a;if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new JR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(a=t[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await Ov(t,Nh,"1"),await kv(t,Nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>Ov(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>aC(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>kv(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=lf(o,!1).getAll();return new bu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hT.type="LOCAL";const lC=hT;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n,t){return t?mr(t):(Dt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends eT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ho(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ho(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ho(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function uC(n){return HR(n.auth,new Wm(n),n.bypassAuthState)}function cC(n){const{auth:t,user:e}=n;return Dt(e,t,"internal-error"),qR(e,new Wm(n),n.bypassAuthState)}async function hC(n){const{auth:t,user:e}=n;return Dt(e,t,"internal-error"),GR(e,new Wm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,e,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:e,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uC;case"linkViaPopup":case"linkViaRedirect":return hC;case"reauthViaPopup":case"reauthViaRedirect":return cC;default:Li(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Su(2e3,1e4);async function dC(n,t,e){if(si(n.app))return Promise.reject(ci(n,"operation-not-supported-in-this-environment"));const a=sf(n);lR(n,t,Zm);const o=fT(a,e);return new Ka(a,"signInViaPopup",t,o).executeNotNull()}class Ka extends dT{constructor(t,e,a,o,u){super(t,e,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Dt(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if((a=(e=this.authWindow)==null?void 0:e.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fC.get())};t()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="pendingRedirect",fh=new Map;class mC extends dT{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=fh.get(this.auth._key());if(!t){try{const a=await gC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}fh.set(this.auth._key(),t)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gC(n,t){const e=vC(t),a=_C(n);if(!await a._isAvailable())return!1;const o=await a._get(e)==="true";return await a._remove(e),o}function yC(n,t){fh.set(n._key(),t)}function _C(n){return mr(n._redirectPersistence)}function vC(n){return hh(pC,n.config.apiKey,n.name)}async function EC(n,t,e=!1){if(si(n.app))return Promise.reject(Xa(n));const a=sf(n),o=fT(a,t),h=await new mC(a,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=10*60*1e3;class SC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!pT(t)){const o=((a=t.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";e.onError(ci(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vv(t))}saveEventToCache(t){this.cachedEventUids.add(Vv(t)),this.lastProcessedEventTime=Date.now()}}function Vv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function pT({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function wC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(n,t={}){return Io(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RC=/^https?/;async function CC(n){if(n.config.emulator)return;const{authorizedDomains:t}=await bC(n);for(const e of t)try{if(IC(e))return}catch{}Li(n,"unauthorized-domain")}function IC(n){const t=am(),{protocol:e,hostname:a}=new URL(t);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&a===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===a}if(!RC.test(e))return!1;if(AC.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Su(3e4,6e4);function Pv(){const n=Ni().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function xC(n){return new Promise((t,e)=>{var o,u,h;function a(){Pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pv(),e(ci(n,"network-request-failed"))},timeout:MC.get()})}if((u=(o=Ni().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((h=Ni().gapi)!=null&&h.load)a();else{const d=VR("iframefcb");return Ni()[d]=()=>{gapi.load?a():e(ci(n,"network-request-failed"))},OR(`${kR()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw dh=null,t})}let dh=null;function NC(n){return dh=dh||xC(n),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new Su(5e3,15e3),OC="__/auth/iframe",kC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LC(n){const t=n.config;Dt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?$m(t,kC):`https://${n.config.authDomain}/${OC}`,a={apiKey:t.apiKey,appName:n.name,v:Co},o=PC.get(n.config.apiHost);o&&(a.eid=o);const u=n._getFrameworks();return u.length&&(a.fw=u.join(",")),`${e}?${Tu(a).slice(1)}`}async function UC(n){const t=await NC(n),e=Ni().gapi;return Dt(e,n,"internal-error"),t.open({where:document.body,url:LC(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=ci(n,"network-request-failed"),d=Ni().setTimeout(()=>{u(h)},DC.get());function m(){Ni().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,jC=600,GC="_blank",qC="http://localhost";class Lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HC(n,t,e,a=zC,o=jC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...BC,width:a.toString(),height:o.toString(),top:u,left:h},g=gn().toLowerCase();e&&(d=KE(g)?GC:e),FE(g)&&(t=t||qC,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[D,j])=>`${w}${D}=${j},`,"");if(AR(g)&&d!=="_self")return FC(t||"",d),new Lv(null);const T=window.open(t||"",d,_);Dt(T,n,"popup-blocked");try{T.focus()}catch{}return new Lv(T)}function FC(n,t){const e=document.createElement("a");e.href=n,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",KC="emulator/auth/handler",YC=encodeURIComponent("fac");async function Uv(n,t,e,a,o,u){Dt(n.config.authDomain,n,"auth-domain-config-required"),Dt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:a,v:Co,eventId:o};if(t instanceof Zm){t.setDefaultLanguage(n.languageCode),h.providerId=t.providerId||"",YA(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(t instanceof wu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${YC}=${encodeURIComponent(m)}`:"";return`${QC(n)}?${Tu(d).slice(1)}${g}`}function QC({config:n}){return n.emulator?$m(n,KC):`https://${n.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oT,this._completeRedirectFn=EC,this._overrideRedirectResult=yC}async _openPopup(t,e,a,o){var h;_r((h=this.eventManagers[t._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await Uv(t,e,a,am(),o);return HC(t,u,Jm())}async _openRedirect(t,e,a,o){await this._originValidation(t);const u=await Uv(t,e,a,am(),o);return WR(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await UC(t),a=new SC(t);return e.register("authEvent",o=>(Dt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(kp,{type:kp},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[kp];u!==void 0&&e(!!u),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=CC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return JE()||$E()||Qm()}}const ZC=XC;var Bv="@firebase/auth",zv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tI(n){mo(new ns("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;Dt(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(n)},g=new NR(a,o,u,m);return LR(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),mo(new ns("auth-internal",t=>{const e=sf(t.getProvider("auth").getImmediate());return(a=>new JC(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),aa(Bv,zv,WC(n)),aa(Bv,zv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=5*60,nI=ME("authIdTokenMaxAge")||eI;let jv=null;const iI=n=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>nI)return;const o=e==null?void 0:e.token;jv!==o&&(jv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rI(n=VE()){const t=qm(n,"auth");if(t.isInitialized())return t.getImmediate();const e=PR(n,{popupRedirectResolver:ZC,persistence:[lC,XR,oT]}),a=ME("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=iI(u.toString());$R(e,h,()=>h(e.currentUser)),FR(e,d=>h(d))}}const o=CE("auth");return o&&UR(e,`http://${o}`),e}function aI(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}DR({loadJS(n){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=t,a.onerror=o=>{const u=ci("internal-error");u.customData=o,e(u)},a.type="text/javascript",a.charset="UTF-8",aI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tI("Browser");var sI="firebase",oI="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(sI,oI,"app");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,mT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,I){function C(){}C.prototype=I.prototype,k.D=I.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(V,N,L){for(var M=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)M[nt-2]=arguments[nt];return I.prototype[N].apply(V,M)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,C){C||(C=0);var V=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)V[N]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(N=0;16>N;++N)V[N]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=k.g[0],C=k.g[1],N=k.g[2];var L=k.g[3],M=I+(L^C&(N^L))+V[0]+3614090360&4294967295;I=C+(M<<7&4294967295|M>>>25),M=L+(N^I&(C^N))+V[1]+3905402710&4294967295,L=I+(M<<12&4294967295|M>>>20),M=N+(C^L&(I^C))+V[2]+606105819&4294967295,N=L+(M<<17&4294967295|M>>>15),M=C+(I^N&(L^I))+V[3]+3250441966&4294967295,C=N+(M<<22&4294967295|M>>>10),M=I+(L^C&(N^L))+V[4]+4118548399&4294967295,I=C+(M<<7&4294967295|M>>>25),M=L+(N^I&(C^N))+V[5]+1200080426&4294967295,L=I+(M<<12&4294967295|M>>>20),M=N+(C^L&(I^C))+V[6]+2821735955&4294967295,N=L+(M<<17&4294967295|M>>>15),M=C+(I^N&(L^I))+V[7]+4249261313&4294967295,C=N+(M<<22&4294967295|M>>>10),M=I+(L^C&(N^L))+V[8]+1770035416&4294967295,I=C+(M<<7&4294967295|M>>>25),M=L+(N^I&(C^N))+V[9]+2336552879&4294967295,L=I+(M<<12&4294967295|M>>>20),M=N+(C^L&(I^C))+V[10]+4294925233&4294967295,N=L+(M<<17&4294967295|M>>>15),M=C+(I^N&(L^I))+V[11]+2304563134&4294967295,C=N+(M<<22&4294967295|M>>>10),M=I+(L^C&(N^L))+V[12]+1804603682&4294967295,I=C+(M<<7&4294967295|M>>>25),M=L+(N^I&(C^N))+V[13]+4254626195&4294967295,L=I+(M<<12&4294967295|M>>>20),M=N+(C^L&(I^C))+V[14]+2792965006&4294967295,N=L+(M<<17&4294967295|M>>>15),M=C+(I^N&(L^I))+V[15]+1236535329&4294967295,C=N+(M<<22&4294967295|M>>>10),M=I+(N^L&(C^N))+V[1]+4129170786&4294967295,I=C+(M<<5&4294967295|M>>>27),M=L+(C^N&(I^C))+V[6]+3225465664&4294967295,L=I+(M<<9&4294967295|M>>>23),M=N+(I^C&(L^I))+V[11]+643717713&4294967295,N=L+(M<<14&4294967295|M>>>18),M=C+(L^I&(N^L))+V[0]+3921069994&4294967295,C=N+(M<<20&4294967295|M>>>12),M=I+(N^L&(C^N))+V[5]+3593408605&4294967295,I=C+(M<<5&4294967295|M>>>27),M=L+(C^N&(I^C))+V[10]+38016083&4294967295,L=I+(M<<9&4294967295|M>>>23),M=N+(I^C&(L^I))+V[15]+3634488961&4294967295,N=L+(M<<14&4294967295|M>>>18),M=C+(L^I&(N^L))+V[4]+3889429448&4294967295,C=N+(M<<20&4294967295|M>>>12),M=I+(N^L&(C^N))+V[9]+568446438&4294967295,I=C+(M<<5&4294967295|M>>>27),M=L+(C^N&(I^C))+V[14]+3275163606&4294967295,L=I+(M<<9&4294967295|M>>>23),M=N+(I^C&(L^I))+V[3]+4107603335&4294967295,N=L+(M<<14&4294967295|M>>>18),M=C+(L^I&(N^L))+V[8]+1163531501&4294967295,C=N+(M<<20&4294967295|M>>>12),M=I+(N^L&(C^N))+V[13]+2850285829&4294967295,I=C+(M<<5&4294967295|M>>>27),M=L+(C^N&(I^C))+V[2]+4243563512&4294967295,L=I+(M<<9&4294967295|M>>>23),M=N+(I^C&(L^I))+V[7]+1735328473&4294967295,N=L+(M<<14&4294967295|M>>>18),M=C+(L^I&(N^L))+V[12]+2368359562&4294967295,C=N+(M<<20&4294967295|M>>>12),M=I+(C^N^L)+V[5]+4294588738&4294967295,I=C+(M<<4&4294967295|M>>>28),M=L+(I^C^N)+V[8]+2272392833&4294967295,L=I+(M<<11&4294967295|M>>>21),M=N+(L^I^C)+V[11]+1839030562&4294967295,N=L+(M<<16&4294967295|M>>>16),M=C+(N^L^I)+V[14]+4259657740&4294967295,C=N+(M<<23&4294967295|M>>>9),M=I+(C^N^L)+V[1]+2763975236&4294967295,I=C+(M<<4&4294967295|M>>>28),M=L+(I^C^N)+V[4]+1272893353&4294967295,L=I+(M<<11&4294967295|M>>>21),M=N+(L^I^C)+V[7]+4139469664&4294967295,N=L+(M<<16&4294967295|M>>>16),M=C+(N^L^I)+V[10]+3200236656&4294967295,C=N+(M<<23&4294967295|M>>>9),M=I+(C^N^L)+V[13]+681279174&4294967295,I=C+(M<<4&4294967295|M>>>28),M=L+(I^C^N)+V[0]+3936430074&4294967295,L=I+(M<<11&4294967295|M>>>21),M=N+(L^I^C)+V[3]+3572445317&4294967295,N=L+(M<<16&4294967295|M>>>16),M=C+(N^L^I)+V[6]+76029189&4294967295,C=N+(M<<23&4294967295|M>>>9),M=I+(C^N^L)+V[9]+3654602809&4294967295,I=C+(M<<4&4294967295|M>>>28),M=L+(I^C^N)+V[12]+3873151461&4294967295,L=I+(M<<11&4294967295|M>>>21),M=N+(L^I^C)+V[15]+530742520&4294967295,N=L+(M<<16&4294967295|M>>>16),M=C+(N^L^I)+V[2]+3299628645&4294967295,C=N+(M<<23&4294967295|M>>>9),M=I+(N^(C|~L))+V[0]+4096336452&4294967295,I=C+(M<<6&4294967295|M>>>26),M=L+(C^(I|~N))+V[7]+1126891415&4294967295,L=I+(M<<10&4294967295|M>>>22),M=N+(I^(L|~C))+V[14]+2878612391&4294967295,N=L+(M<<15&4294967295|M>>>17),M=C+(L^(N|~I))+V[5]+4237533241&4294967295,C=N+(M<<21&4294967295|M>>>11),M=I+(N^(C|~L))+V[12]+1700485571&4294967295,I=C+(M<<6&4294967295|M>>>26),M=L+(C^(I|~N))+V[3]+2399980690&4294967295,L=I+(M<<10&4294967295|M>>>22),M=N+(I^(L|~C))+V[10]+4293915773&4294967295,N=L+(M<<15&4294967295|M>>>17),M=C+(L^(N|~I))+V[1]+2240044497&4294967295,C=N+(M<<21&4294967295|M>>>11),M=I+(N^(C|~L))+V[8]+1873313359&4294967295,I=C+(M<<6&4294967295|M>>>26),M=L+(C^(I|~N))+V[15]+4264355552&4294967295,L=I+(M<<10&4294967295|M>>>22),M=N+(I^(L|~C))+V[6]+2734768916&4294967295,N=L+(M<<15&4294967295|M>>>17),M=C+(L^(N|~I))+V[13]+1309151649&4294967295,C=N+(M<<21&4294967295|M>>>11),M=I+(N^(C|~L))+V[4]+4149444226&4294967295,I=C+(M<<6&4294967295|M>>>26),M=L+(C^(I|~N))+V[11]+3174756917&4294967295,L=I+(M<<10&4294967295|M>>>22),M=N+(I^(L|~C))+V[2]+718787259&4294967295,N=L+(M<<15&4294967295|M>>>17),M=C+(L^(N|~I))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+L&4294967295}a.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var C=I-this.blockSize,V=this.B,N=this.h,L=0;L<I;){if(N==0)for(;L<=C;)o(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<I;)if(V[N++]=k.charCodeAt(L++),N==this.blockSize){o(this,V),N=0;break}}else for(;L<I;)if(V[N++]=k[L++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=I},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var C=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=C&255,C/=256;for(this.u(k),k=Array(16),I=C=0;4>I;++I)for(var V=0;32>V;V+=8)k[C++]=this.g[I]>>>V&255;return k};function u(k,I){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=I(k)}function h(k,I){this.h=I;for(var C=[],V=!0,N=k.length-1;0<=N;N--){var L=k[N]|0;V&&L==I||(C[N]=L,V=!1)}this.g=C}var d={};function m(k){return-128<=k&&128>k?u(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return $(g(-k));for(var I=[],C=1,V=0;k>=C;V++)I[V]=k/C|0,C*=4294967296;return new h(I,0)}function _(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return $(_(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),V=T,N=0;N<k.length;N+=8){var L=Math.min(8,k.length-N),M=parseInt(k.substring(N,N+L),I);8>L?(L=g(Math.pow(I,L)),V=V.j(L).add(g(M))):(V=V.j(C),V=V.add(g(M)))}return V}var T=m(0),w=m(1),D=m(16777216);n=h.prototype,n.m=function(){if(Z(this))return-$(this).m();for(var k=0,I=1,C=0;C<this.g.length;C++){var V=this.i(C);k+=(0<=V?V:4294967296+V)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(j(this))return"0";if(Z(this))return"-"+$(this).toString(k);for(var I=g(Math.pow(k,6)),C=this,V="";;){var N=dt(C,I).g;C=ft(C,N.j(I));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=N,j(C))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function j(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function Z(k){return k.h==-1}n.l=function(k){return k=ft(this,k),Z(k)?-1:j(k)?0:1};function $(k){for(var I=k.g.length,C=[],V=0;V<I;V++)C[V]=~k.g[V];return new h(C,~k.h).add(w)}n.abs=function(){return Z(this)?$(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],V=0,N=0;N<=I;N++){var L=V+(this.i(N)&65535)+(k.i(N)&65535),M=(L>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);V=M>>>16,L&=65535,M&=65535,C[N]=M<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ft(k,I){return k.add($(I))}n.j=function(k){if(j(this)||j(k))return T;if(Z(this))return Z(k)?$(this).j($(k)):$($(this).j(k));if(Z(k))return $(this.j($(k)));if(0>this.l(D)&&0>k.l(D))return g(this.m()*k.m());for(var I=this.g.length+k.g.length,C=[],V=0;V<2*I;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<k.g.length;N++){var L=this.i(V)>>>16,M=this.i(V)&65535,nt=k.i(N)>>>16,U=k.i(N)&65535;C[2*V+2*N]+=M*U,ht(C,2*V+2*N),C[2*V+2*N+1]+=L*U,ht(C,2*V+2*N+1),C[2*V+2*N+1]+=M*nt,ht(C,2*V+2*N+1),C[2*V+2*N+2]+=L*nt,ht(C,2*V+2*N+2)}for(V=0;V<I;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=I;V<2*I;V++)C[V]=0;return new h(C,0)};function ht(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function W(k,I){this.g=k,this.h=I}function dt(k,I){if(j(I))throw Error("division by zero");if(j(k))return new W(T,T);if(Z(k))return I=dt($(k),I),new W($(I.g),$(I.h));if(Z(I))return I=dt(k,$(I)),new W($(I.g),I.h);if(30<k.g.length){if(Z(k)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=I;0>=V.l(k);)C=ct(C),V=ct(V);var N=yt(C,1),L=yt(V,1);for(V=yt(V,2),C=yt(C,2);!j(V);){var M=L.add(V);0>=M.l(k)&&(N=N.add(C),L=M),V=yt(V,1),C=yt(C,1)}return I=ft(k,N.j(I)),new W(N,I)}for(N=T;0<=k.l(I);){for(C=Math.max(1,Math.floor(k.m()/I.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=g(C),M=L.j(I);Z(M)||0<M.l(k);)C-=V,L=g(C),M=L.j(I);j(L)&&(L=w),N=N.add(L),k=ft(k,M)}return new W(N,k)}n.A=function(k){return dt(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],V=0;V<I;V++)C[V]=this.i(V)&k.i(V);return new h(C,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],V=0;V<I;V++)C[V]=this.i(V)|k.i(V);return new h(C,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],V=0;V<I;V++)C[V]=this.i(V)^k.i(V);return new h(C,this.h^k.h)};function ct(k){for(var I=k.g.length+1,C=[],V=0;V<I;V++)C[V]=k.i(V)<<1|k.i(V-1)>>>31;return new h(C,k.h)}function yt(k,I){var C=I>>5;I%=32;for(var V=k.g.length-C,N=[],L=0;L<V;L++)N[L]=0<I?k.i(L+C)>>>I|k.i(L+C+1)<<32-I:k.i(L+C);return new h(N,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,mT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,sa=h}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gT,Hl,yT,ph,lm,_T,vT,ET;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=e(this);function o(c,y){if(y)t:{var v=a;c=c.split(".");for(var R=0;R<c.length-1;R++){var H=c[R];if(!(H in v))break t;v=v[H]}c=c[c.length-1],R=v[c],y=y(R),y!=R&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,R=!1,H={next:function(){if(!R&&v<c.length){var tt=v++;return{value:y(tt,c[tt]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,w.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function j(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,H,tt){for(var gt=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)gt[Xt-2]=arguments[Xt];return y.prototype[H].apply(R,gt)}}function Z(c){const y=c.length;if(0<y){const v=Array(y);for(let R=0;R<y;R++)v[R]=c[R];return v}return[]}function $(c,y){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(m(R)){const H=c.length||0,tt=R.length||0;c.length=H+tt;for(let gt=0;gt<tt;gt++)c[H+gt]=R[gt]}else c.push(R)}}class ft{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ht(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function dt(c){return dt[" "](c),c}dt[" "]=function(){};var ct=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function yt(c,y,v){for(const R in c)y.call(v,c[R],R,c)}function k(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function I(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(v in R)c[v]=R[v];for(let tt=0;tt<C.length;tt++)v=C[tt],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){d.setTimeout(()=>{throw c},0)}function M(){var c=Q;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,v){const R=U.get();R.set(y,v),this.h?this.h.next=R:this.g=R,this.h=R}}var U=new ft(()=>new x,c=>c.reset());class x{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let P,z=!1,Q=new nt,S=()=>{const c=d.Promise.resolve(void 0);P=()=>{c.then(A)}};var A=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(v){L(v)}var y=U;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}z=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function mt(c,y){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ct){t:{try{dt(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&mt.aa.h.call(this)}}j(mt,K);var pt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Bt(c,y,v,R,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!R,this.ha=H,this.key=++vt,this.da=this.fa=!1}function Yt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c){this.src=c,this.g={},this.h=0}Lt.prototype.add=function(c,y,v,R,H){var tt=c.toString();c=this.g[tt],c||(c=this.g[tt]=[],this.h++);var gt=se(c,y,R,H);return-1<gt?(y=c[gt],v||(y.fa=!1)):(y=new Bt(y,this.src,tt,!!R,H),y.fa=v,c.push(y)),y};function Qt(c,y){var v=y.type;if(v in c.g){var R=c.g[v],H=Array.prototype.indexOf.call(R,y,void 0),tt;(tt=0<=H)&&Array.prototype.splice.call(R,H,1),tt&&(Yt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function se(c,y,v,R){for(var H=0;H<c.length;++H){var tt=c[H];if(!tt.da&&tt.listener==y&&tt.capture==!!v&&tt.ha==R)return H}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),_e={};function Ce(c,y,v,R,H){if(Array.isArray(y)){for(var tt=0;tt<y.length;tt++)Ce(c,y[tt],v,R,H);return null}return v=Ht(v),c&&c[_t]?c.K(y,v,g(R)?!!R.capture:!1,H):ge(c,y,v,!1,R,H)}function ge(c,y,v,R,H,tt){if(!y)throw Error("Invalid event type");var gt=g(H)?!!H.capture:!!H,Xt=te(c);if(Xt||(c[Vt]=Xt=new Lt(c)),v=Xt.add(y,v,R,gt,tt),v.proxy)return v;if(R=yn(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)at||(H=gt),H===void 0&&(H=!1),c.addEventListener(y.toString(),R,H);else if(c.attachEvent)c.attachEvent(vn(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function yn(){function c(v){return y.call(c.src,c.listener,v)}const y=et;return c}function _n(c,y,v,R,H){if(Array.isArray(y))for(var tt=0;tt<y.length;tt++)_n(c,y[tt],v,R,H);else R=g(R)?!!R.capture:!!R,v=Ht(v),c&&c[_t]?(c=c.i,y=String(y).toString(),y in c.g&&(tt=c.g[y],v=se(tt,v,R,H),-1<v&&(Yt(tt[v]),Array.prototype.splice.call(tt,v,1),tt.length==0&&(delete c.g[y],c.h--)))):c&&(c=te(c))&&(y=c.g[y.toString()],c=-1,y&&(c=se(y,v,R,H)),(v=-1<c?y[c]:null)&&ue(v))}function ue(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_t])Qt(y.i,c);else{var v=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(v,R,c.capture):y.detachEvent?y.detachEvent(vn(v),R):y.addListener&&y.removeListener&&y.removeListener(R),(v=te(y))?(Qt(v,c),v.h==0&&(v.src=null,y[Vt]=null)):Yt(c)}}}function vn(c){return c in _e?_e[c]:_e[c]="on"+c}function et(c,y){if(c.da)c=!0;else{y=new mt(y,this);var v=c.listener,R=c.ha||c.src;c.fa&&ue(c),c=v.call(R,y)}return c}function te(c){return c=c[Vt],c instanceof Lt?c:null}var Pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ht(c){return typeof c=="function"?c:(c[Pt]||(c[Pt]=function(y){return c.handleEvent(y)}),c[Pt])}function It(){q.call(this),this.i=new Lt(this),this.M=this,this.F=null}j(It,q),It.prototype[_t]=!0,It.prototype.removeEventListener=function(c,y,v,R){_n(this,c,y,v,R)};function Nt(c,y){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new K(y,c);else if(y instanceof K)y.target=y.target||c;else{var H=y;y=new K(R,c),V(y,H)}if(H=!0,v)for(var tt=v.length-1;0<=tt;tt--){var gt=y.g=v[tt];H=pe(gt,R,!0,y)&&H}if(gt=y.g=c,H=pe(gt,R,!0,y)&&H,H=pe(gt,R,!1,y)&&H,v)for(tt=0;tt<v.length;tt++)gt=y.g=v[tt],H=pe(gt,R,!1,y)&&H}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],R=0;R<v.length;R++)Yt(v[R]);delete c.g[y],c.h--}}this.F=null},It.prototype.K=function(c,y,v,R){return this.i.add(String(c),y,!1,v,R)},It.prototype.L=function(c,y,v,R){return this.i.add(String(c),y,!0,v,R)};function pe(c,y,v,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,tt=0;tt<y.length;++tt){var gt=y[tt];if(gt&&!gt.da&&gt.capture==v){var Xt=gt.listener,je=gt.ha||gt.src;gt.fa&&Qt(c.i,gt),H=Xt.call(je,R)!==!1&&H}}return H&&!R.defaultPrevented}function ie(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function De(c){c.g=ie(()=>{c.g=null,c.i&&(c.i=!1,De(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class un extends q{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(c){q.call(this),this.h=c,this.g={}}j(Be,q);var fi=[];function wr(c){yt(c.g,function(y,v){this.g.hasOwnProperty(v)&&ue(y)},c),c.g={}}Be.prototype.N=function(){Be.aa.N.call(this),wr(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cn=d.JSON.stringify,fs=d.JSON.parse,pa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Po(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){K.call(this,"d")}j(Gi,K);function Lo(){K.call(this,"c")}j(Lo,K);var di={},Uo=null;function br(){return Uo=Uo||new It}di.La="serverreachability";function ds(c){K.call(this,di.La,c)}j(ds,K);function Ar(c){const y=br();Nt(y,new ds(y))}di.STAT_EVENT="statevent";function Du(c,y){K.call(this,di.STAT_EVENT,c),this.stat=y}j(Du,K);function Ee(c){const y=br();Nt(y,new Du(y,c))}di.Ma="timingevent";function ze(c,y){K.call(this,di.Ma,c),this.size=y}j(ze,K);function Oe(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Bo(c,y,v,R,H,tt){c.info(function(){if(c.g)if(tt)for(var gt="",Xt=tt.split("&"),je=0;je<Xt.length;je++){var Zt=Xt[je].split("=");if(1<Zt.length){var Ye=Zt[0];Zt=Zt[1];var Ge=Ye.split("_");gt=2<=Ge.length&&Ge[1]=="type"?gt+(Ye+"="+Zt+"&"):gt+(Ye+"=redacted&")}}else gt=null;else gt=tt;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+y+`
`+v+`
`+gt})}function Af(c,y,v,R,H,tt,gt){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+y+`
`+v+`
`+tt+" "+gt})}function Rr(c,y,v,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ma(c,v)+(R?" "+R:"")})}function Ou(c,y){c.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function ma(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var tt=H[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var gt=1;gt<H.length;gt++)H[gt]=""}}}}return cn(v)}catch{return y}}var Cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pi;function mi(){}j(mi,ko),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},pi=new mi;function En(c,y,v,R){this.j=c,this.i=y,this.l=v,this.R=R||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var zo={},ps={};function ti(c,y,v){c.L=1,c.v=Ea(xn(y)),c.m=v,c.P=!0,Hi(c,null)}function Hi(c,y){c.F=Date.now(),ga(c),c.A=xn(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),$o(v.i,"t",R),c.C=0,v=c.j.J,c.h=new Ie,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new un(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,R=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(fi[0]=H.toString()),H=fi);for(var tt=0;tt<H.length;tt++){var gt=Ce(v,H[tt],R||y.handleEvent,!1,y.h||y);if(!gt)break;y.g[gt.key]=gt}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ar(),Bo(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const y=this.M;y&&qn(c)==3?y.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)t:{const Ge=qn(this.g);var y=this.g.Ba();const Ji=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Ge!=4||y==7||(y==8||0>=Ji?Ar(3):Ar(2)),Ir(this);var v=this.g.Z();this.X=v;e:if(ku(this)){var R=ju(this.g);c="";var H=R.length,tt=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),gi(this);var gt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(tt&&y==H-1)});R.length=0,this.h.g+=c,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=v==200,Af(this.i,this.u,this.A,this.l,this.R,Ge,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Xt,je=this.g;if((Xt=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Xt)){var Zt=Xt;break e}}Zt=null}if(v=Zt)Rr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,v);else{this.o=!1,this.s=3,Ee(12),tn(this),gi(this);break t}}if(this.P){v=!0;let en;for(;!this.J&&this.C<gt.length;)if(en=Vu(this,gt),en==ps){Ge==4&&(this.s=4,Ee(14),v=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==zo){this.s=4,Ee(15),Rr(this.i,this.l,gt,"[Invalid Chunk]"),v=!1;break}else Rr(this.i,this.l,en,null),ya(this,en);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||gt.length!=0||this.h.h||(this.s=1,Ee(16),v=!1),this.o=this.o&&v,!v)Rr(this.i,this.l,gt,"[Invalid Chunked Response]"),tn(this),gi(this);else if(0<gt.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),Ia(Ye),Ye.M=!0,Ee(11))}}else Rr(this.i,this.l,gt,null),ya(this,gt);Ge==4&&tn(this),this.o&&!this.J&&(Ge==4?$u(this.j,this):(this.o=!1,ga(this)))}else xf(this.g),v==400&&0<gt.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),tn(this),gi(this)}}}catch{}finally{}};function ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var v=c.C,R=y.indexOf(`
`,v);return R==-1?ps:(v=Number(y.substring(v,R)),isNaN(v)?zo:(R+=1,R+v>y.length?ps:(y=y.slice(R,R+v),c.C=R+v,y)))}En.prototype.cancel=function(){this.J=!0,tn(this)};function ga(c){c.S=Date.now()+c.I,Pu(c,c.I)}function Pu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oe(w(c.ba,c),y)}function Ir(c){c.B&&(d.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ou(this.i,this.A),this.L!=2&&(Ar(),Ee(17)),tn(this),this.s=2,gi(this)):Pu(this,this.S-c)};function gi(c){c.j.G==0||c.J||$u(c.j,c)}function tn(c){Ir(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,wr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ya(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||jo(v.h,c))){if(!c.K&&jo(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Rs(v),bs(v);else break t;Zo(v),Ee(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Oe(w(v.Za,v),6e3));if(1>=gs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Zi(v,11)}else if((c.K||v.g==c)&&Rs(v),!ht(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let Zt=H[y];if(v.T=Zt[0],Zt=Zt[1],v.G==2)if(Zt[0]=="c"){v.K=Zt[1],v.ia=Zt[2];const Ye=Zt[3];Ye!=null&&(v.la=Ye,v.j.info("VER="+v.la));const Ge=Zt[4];Ge!=null&&(v.Aa=Ge,v.j.info("SVER="+v.Aa));const Ji=Zt[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(R=1.5*Ji,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const en=c.g;if(en){const wi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var tt=R.h;tt.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(ys(tt,tt.h),tt.h=null))}if(R.D){const Wo=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(R.ya=Wo,ce(R.I,R.D,Wo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var gt=c;if(R.qa=Yu(R,R.J?R.ia:null,R.W),gt.K){Tn(R.h,gt);var Xt=gt,je=R.L;je&&(Xt.I=je),Xt.B&&(Ir(Xt),ga(Xt)),R.g=gt}else Hu(R);0<v.i.length&&As(v)}else Zt[0]!="stop"&&Zt[0]!="close"||Zi(v,7);else v.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Zi(v,7):Qo(v):Zt[0]!="noop"&&v.l&&v.l.ta(Zt),v.v=0)}}Ar(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function Fi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ms(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gs(c){return c.h?1:c.g?c.g.size:0}function jo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ys(c,y){c.g?c.g.add(y):c.h=y}function Tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Fi.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Z(c.i)}function Rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,R=0;R<v;R++)y.push(c[R]);return y}y=[],v=0;for(R in c)y[v++]=c[R];return y}function _s(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const R in c)y[v++]=R;return y}}}function qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=_s(c),R=Rf(c),H=R.length,tt=0;tt<H;tt++)y.call(void 0,R[tt],v&&v[tt],c)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),H=null;if(0<=R){var tt=c[v].substring(0,R);H=c[v].substring(R+1)}else tt=c[v];y(tt,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ke(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ke){this.h=c.h,va(this,c.j),this.o=c.o,this.g=c.g,Mr(this,c.s),this.l=c.l;var y=c.i,v=new Ki;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),$i(this,v),this.m=c.m}else c&&(y=String(c).match(_a))?(this.h=!1,va(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Mr(this,y[4]),this.l=zn(y[5]||"",!0),$i(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}ke.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ta(y,Ho,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ta(y,Ho,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ta(v,v.charAt(0)=="/"?If:Fo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ta(v,vs)),c.join("")};function xn(c){return new ke(c)}function va(c,y,v){c.j=v?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function $i(c,y,v){y instanceof Ki?(c.i=y,Bu(c.i,c.h)):(v||(y=Ta(y,Mf)),c.i=new Ki(y,c.h))}function ce(c,y,v){c.i.set(y,v)}function Ea(c){return ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Fo=/[#\?:]/g,If=/[#\?]/g,Mf=/[#\?@]/g,vs=/#/g;function Ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function jn(c){c.g||(c.g=new Map,c.h=0,c.i&&Cf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Ki.prototype,n.add=function(c,y){jn(this),this.i=null,c=yi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Yi(c,y){jn(c),y=yi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qi(c,y){return jn(c),y=yi(c,y),c.g.has(y)}n.forEach=function(c,y){jn(this),this.g.forEach(function(v,R){v.forEach(function(H){c.call(y,H,R,this)},this)},this)},n.na=function(){jn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let R=0;R<y.length;R++){const H=c[R];for(let tt=0;tt<H.length;tt++)v.push(y[R])}return v},n.V=function(c){jn(this);let y=[];if(typeof c=="string")Qi(this,c)&&(y=y.concat(this.g.get(yi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},n.set=function(c,y){return jn(this),this.i=null,c=yi(this,c),Qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function $o(c,y,v){Yi(c,y),0<v.length&&(c.i=null,c.g.set(yi(c,y),Z(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var R=y[v];const tt=encodeURIComponent(String(R)),gt=this.V(R);for(R=0;R<gt.length;R++){var H=tt;gt[R]!==""&&(H+="="+encodeURIComponent(String(gt[R]))),c.push(H)}}return this.i=c.join("&")};function yi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bu(c,y){y&&!c.j&&(jn(c),c.i=null,c.g.forEach(function(v,R){var H=R.toLowerCase();R!=H&&(Yi(this,R),$o(this,H,v))},c)),c.j=y}function Sa(c,y){const v=new Bn;if(d.Image){const R=new Image;R.onload=D(Gn,v,"TestLoadImage: loaded",!0,y,R),R.onerror=D(Gn,v,"TestLoadImage: error",!1,y,R),R.onabort=D(Gn,v,"TestLoadImage: abort",!1,y,R),R.ontimeout=D(Gn,v,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function ei(c,y){const v=new Bn,R=new AbortController,H=setTimeout(()=>{R.abort(),Gn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(tt=>{clearTimeout(H),tt.ok?Gn(v,"TestPingServer: ok",!0,y):Gn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Gn(v,"TestPingServer: error",!1,y)})}function Gn(c,y,v,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(v)}catch{}}function wa(){this.g=new pa}function _i(c,y,v){const R=v||"";try{qo(c,function(H,tt){let gt=H;g(H)&&(gt=cn(H)),y.push(R+tt+"="+encodeURIComponent(gt))})}catch(H){throw y.push(R+"type="+encodeURIComponent("_badmap")),H}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}j(xr,ko),xr.prototype.g=function(){return new Xi(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Xi(c,y){It.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Xi,It),n=Xi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ei(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?vi(this):Ei(this),this.readyState==3&&Ko(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,vi(this))},n.Qa=function(c){this.g&&(this.response=c,vi(this))},n.ga=function(){this.g&&vi(this)};function vi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ei(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return yt(c,function(v,R){y+=R,y+=":",y+=v,y+=`\r
`}),y}function Ke(c,y,v){t:{for(R in v){var R=!1;break t}R=!0}R||(v=Yo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ce(c,y,v))}function re(c){It.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(re,It);var Es=/^https?$/i,ba=["POST","PUT"];n=re.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pi.g(),this.v=this.o?Vo(this.o):Vo(pi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(tt){zu(this,tt);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)v.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const tt of R.keys())v.set(tt,R.get(tt));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(tt=>tt.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ba,y,void 0))||R||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,gt]of v)this.g.setRequestHeader(tt,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(c),this.u=!1}catch(tt){zu(this,tt)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ts(c),Ti(c)}function Ts(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),Ti(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ss(this):this.bb())},n.bb=function(){Ss(this)};function Ss(c){if(c.h&&typeof h<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)ie(c.Ea,0,c);else if(Nt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const gt=c.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var R;if(R=gt===0){var H=String(c.D).match(_a)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),R=!Es.test(H?H.toLowerCase():"")}v=R}if(v)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var tt=2<qn(c)?c.g.statusText:""}catch{tt=""}c.l=tt+" ["+c.Z()+"]",Ts(c)}}finally{Ti(c)}}}}function Ti(c,y){if(c.g){Aa(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Nt(c,"ready");try{v.onreadystatechange=R}catch{}}}function Aa(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fs(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xf(c){const y={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(ht(c[R]))continue;var v=N(c[R]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const tt=y[H]||[];y[H]=tt,tt.push(v)}k(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ws(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new wa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ws.prototype,n.la=8,n.G=1,n.connect=function(c,y,v,R){Ee(0),this.W=c,this.H=y||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=Yu(this,null,this.W),As(this)};function Qo(c){if(Gu(c),c.G==3){var y=c.U++,v=xn(c.I);if(ce(v,"SID",c.K),ce(v,"RID",y),ce(v,"TYPE","terminate"),Ca(c,v),y=new En(c,c.j,y),y.L=2,y.v=Ea(xn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ga(y)}Ku(c)}function bs(c){c.g&&(Ia(c),c.g.cancel(),c.g=null)}function Gu(c){bs(c),c.u&&(d.clearTimeout(c.u),c.u=null),Rs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function As(c){if(!ms(c.h)&&!c.s){c.s=!0;var y=c.Ga;P||S(),z||(P(),z=!0),Q.add(y,c),c.B=0}}function Nf(c,y){return gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oe(w(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new En(this,this.j,c);let tt=this.o;if(this.S&&(tt?(tt=I(tt),V(tt,this.S)):tt=this.S),this.m!==null||this.O||(H.H=tt,tt=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=qu(this,H,y),v=xn(this.I),ce(v,"RID",c),ce(v,"CVER",22),this.D&&ce(v,"X-HTTP-Session-Id",this.D),Ca(this,v),tt&&(this.O?y="headers="+encodeURIComponent(String(Yo(tt)))+"&"+y:this.m&&Ke(v,this.m,tt)),ys(this.h,H),this.Ua&&ce(v,"TYPE","init"),this.P?(ce(v,"$req",y),ce(v,"SID","null"),H.T=!0,ti(H,v,null)):ti(H,v,y),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||ms(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.U++;const R=xn(c.I);ce(R,"SID",c.K),ce(R,"RID",v),ce(R,"AID",c.T),Ca(c,R),c.m&&c.o&&Ke(R,c.m,c.o),v=new En(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ys(c.h,v),ti(v,R,y)}function Ca(c,y){c.H&&yt(c.H,function(v,R){ce(y,R,v)}),c.l&&qo({},function(v,R){ce(y,R,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);var R=c.l?w(c.l.Na,c.l,c):null;t:{var H=c.i;let tt=-1;for(;;){const gt=["count="+v];tt==-1?0<v?(tt=H[0].g,gt.push("ofs="+tt)):tt=0:gt.push("ofs="+tt);let Xt=!0;for(let je=0;je<v;je++){let Zt=H[je].g;const Ye=H[je].map;if(Zt-=tt,0>Zt)tt=Math.max(0,H[je].g-100),Xt=!1;else try{_i(Ye,gt,"req"+Zt+"_")}catch{R&&R(Ye)}}if(Xt){R=gt.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,R}function Hu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;P||S(),z||(P(),z=!0),Q.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oe(w(c.Fa,c),Jo(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oe(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),bs(this),Fu(this))};function Ia(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=xn(c.qa);ce(y,"RID","rpc"),ce(y,"SID",c.K),ce(y,"AID",c.T),ce(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ce(y,"TO",c.ja),ce(y,"TYPE","xmlhttp"),Ca(c,y),c.m&&c.o&&Ke(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ea(xn(y)),v.m=null,v.P=!0,Hi(v,c)}n.Za=function(){this.C!=null&&(this.C=null,bs(this),Zo(this),Ee(19))};function Rs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function $u(c,y){var v=null;if(c.g==y){Rs(c),Ia(c),c.g=null;var R=2}else if(jo(c.h,y))v=y.D,Tn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;R=br(),Nt(R,new ze(R,v)),As(c)}else Hu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(R==1&&Nf(c,y)||R==2&&Zo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function Jo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Zi(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),R=c.Xa;const H=!R;R=new ke(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||va(R,"https"),Ea(R),H?Sa(R.toString(),v):ei(R.toString(),v)}else Ee(2);c.G=0,c.l&&c.l.sa(y),Ku(c),Gu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&($(c.ka,y),$(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,v){var R=v instanceof ke?xn(v):new ke(v);if(R.g!="")y&&(R.g=y+"."+R.g),Mr(R,R.s);else{var H=d.location;R=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var tt=new ke(null);R&&va(tt,R),y&&(tt.g=y),H&&Mr(tt,H),v&&(tt.l=v),R=tt}return v=c.D,y=c.ya,v&&y&&ce(R,v,y),ce(R,"VER",c.la),Ca(c,R),R}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new re(new xr({eb:v})):new re(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}n=Xu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cs(){}Cs.prototype.g=function(c,y){return new Sn(c,y)};function Sn(c,y){It.call(this),this.g=new ws(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ht(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ht(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Si(this)}j(Sn,It),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Qo(this.g)},Sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=cn(c),c=v);y.i.push(new Lu(y.Ya++,c)),y.G==3&&As(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,Sn.aa.N.call(this)};function Zu(c){Gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(Zu,Gi);function Ju(){Lo.call(this),this.status=1}j(Ju,Lo);function Si(c){this.g=c}j(Si,Xu),Si.prototype.ua=function(){Nt(this.g,"a")},Si.prototype.ta=function(c){Nt(this.g,new Zu(c))},Si.prototype.sa=function(c){Nt(this.g,new Ju)},Si.prototype.ra=function(){Nt(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,ET=function(){return new Cs},vT=function(){return br()},_T=di,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,ph=Cr,qi.COMPLETE="complete",yT=qi,Po.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",It.prototype.listen=It.prototype.K,Hl=Po,re.prototype.listenOnce=re.prototype.L,re.prototype.getLastError=re.prototype.Ka,re.prototype.getLastErrorCode=re.prototype.Ba,re.prototype.getStatus=re.prototype.Z,re.prototype.getResponseJson=re.prototype.Oa,re.prototype.getResponseText=re.prototype.oa,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Ha,gT=re}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore",Hv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new jm("@firebase/firestore");function io(){return rs.logLevel}function Et(n,...t){if(rs.logLevel<=Ft.DEBUG){const e=t.map(tg);rs.debug(`Firestore (${Mo}): ${n}`,...e)}}function vr(n,...t){if(rs.logLevel<=Ft.ERROR){const e=t.map(tg);rs.error(`Firestore (${Mo}): ${n}`,...e)}}function yo(n,...t){if(rs.logLevel<=Ft.WARN){const e=t.map(tg);rs.warn(`Firestore (${Mo}): ${n}`,...e)}}function tg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n,t,e){let a="Unexpected state";typeof t=="string"?a=t:e=t,TT(n,a,e)}function TT(n,t,e){let a=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{a+=" CONTEXT: "+JSON.stringify(e)}catch{a+=" CONTEXT: "+e}throw vr(a),new Error(a)}function ae(n,t,e,a){let o="Unexpected state";typeof e=="string"?o=e:a=e,n||TT(t,o,a)}function kt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends Sr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(pn.UNAUTHENTICATED))}shutdown(){}}class uI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class cI{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ae(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,e(m)):Promise.resolve();let u=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new oa,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new oa)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ae(typeof a.accessToken=="string",31837,{l:a}),new ST(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class hI{constructor(t,e,a){this.P=t,this.T=e,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fI{constructor(t,e,a){this.P=t,this.T=e,this.I=a}getToken(){return Promise.resolve(new hI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ae(this.o===void 0,3512);const a=u=>{u.error!=null&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Et("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ae(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Fv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<n;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=pI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<e&&(a+=t.charAt(o[u]%62))}return a}}function $t(n,t){return n<t?-1:n>t?1:0}function um(n,t){const e=Math.min(n.length,t.length);for(let a=0;a<e;a++){const o=n.charAt(a),u=t.charAt(a);if(o!==u)return Vp(o)===Vp(u)?$t(o,u):Vp(o)?1:-1}return $t(n.length,t.length)}const mI=55296,gI=57343;function Vp(n){const t=n.charCodeAt(0);return t>=mI&&t<=gI}function _o(n,t,e){return n.length===t.length&&n.every((a,o)=>e(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="__name__";class xi{constructor(t,e,a){e===void 0?e=0:e>t.length&&Mt(637,{offset:e,range:t.length}),a===void 0?a=t.length-e:a>t.length-e&&Mt(1746,{length:a,range:t.length-e}),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let o=0;o<a;o++){const u=xi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return $t(t.length,e.length)}static compareSegments(t,e){const a=xi.isNumericId(t),o=xi.isNumericId(e);return a&&!o?-1:!a&&o?1:a&&o?xi.extractNumericId(t).compare(xi.extractNumericId(e)):um(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sa.fromString(t.substring(4,t.length-2))}}class we extends xi{construct(t,e,a){return new we(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new wt(ut.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(o=>o.length>0))}return new we(e)}static emptyPath(){return new we([])}}const yI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends xi{construct(t,e,a){return new on(t,e,a)}static isValidIdentifier(t){return yI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new on([$v])}static fromServerFormat(t){const e=[];let a="",o=0;const u=()=>{if(a.length===0)throw new wt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new wt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new wt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new wt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(e)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.path=t}static fromPath(t){return new At(we.fromString(t))}static fromName(t){return new At(we.fromString(t).popFirst(5))}static empty(){return new At(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return we.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new we(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(n,t,e){if(!e)throw new wt(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function vI(n,t,e,a){if(t===!0&&a===!0)throw new wt(ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Kv(n){if(!At.isDocumentKey(n))throw new wt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ng(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Mt(12329,{type:typeof n})}function lu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new wt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ng(n);throw new wt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,t){const e={typeString:n};return t&&(e.value=t),e}function Au(n,t){if(!wT(n))throw new wt(ut.INVALID_ARGUMENT,"JSON must be an object");let e;for(const a in t)if(t[a]){const o=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in n)){e=`JSON missing required field: '${a}'`;break}const h=n[a];if(o&&typeof h!==o){e=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){e=`Expected '${a}' field to equal '${u.value}'`;break}}if(e)throw new wt(ut.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-62135596800,Qv=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(t){return ve.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*Qv);return new ve(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new wt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new wt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Yv)throw new wt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Au(t,ve._jsonSchema))return new ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:Ue("string",ve._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new ve(0,0))}static max(){return new Ot(new ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function EI(n,t){const e=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=Ot.fromTimestamp(a===1e9?new ve(e+1,0):new ve(e,a));return new la(o,At.empty(),t)}function TI(n){return new la(n.readTime,n.key,uu)}class la{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new la(Ot.min(),At.empty(),uu)}static max(){return new la(Ot.max(),At.empty(),uu)}}function SI(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=At.comparator(n.documentKey,t.documentKey),e!==0?e:$t(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==wI)throw n;Et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(a,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.reject(e)}static resolve(t){return new lt((e,a)=>{e(t)})}static reject(t){return new lt((e,a)=>{a(t)})}static waitFor(t){return new lt((e,a)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&e()},m=>a(m))}),h=!0,u===o&&e()})}static or(t){let e=lt.resolve(!1);for(const a of t)e=e.next(o=>o?lt.resolve(o):a());return e}static forEach(t,e){const a=[];return t.forEach((o,u)=>{a.push(e.call(this,o,u))}),this.waitFor(a)}static mapArray(t,e){return new lt((a,o)=>{const u=t.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next(_=>{h[g]=_,++d,d===u&&a(h)},_=>o(_))}})}static doWhile(t,e){return new lt((a,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):a()};u()})}}function AI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function No(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>e.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function cf(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function RI(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="";function CI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Xv(t)),t=II(n.get(e),t);return Xv(t)}function II(n,t){let e=t;const a=n.length;for(let o=0;o<a;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case bT:e+="";break;default:e+=u}}return e}function Xv(n){return n+bT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ls(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function AT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,e){this.comparator=t,this.root=e||sn.EMPTY}insert(t,e){return new be(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return e+a.left.size;o<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eh(this.root,t,this.comparator,!0)}}class eh{constructor(t,e,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?a(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,e,a,o,u){this.key=t,this.value=e,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,o,u){return new sn(t??this.key,e??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,a),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Mt(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(t,e,a,o,u){return this}insert(t,e,a){return new sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(t){return new Jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $e(this.comparator);return e.data=t,e}}class Jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new ui([])}unionWith(t){let e=new $e(on.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new ui(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return _o(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RT("Invalid base64 string: "+u):u}}(t);return new ln(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new ln(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let o=0;o<e.length;o++)a[o]=e.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const MI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(n){if(ae(!!n,39018),typeof n=="string"){let t=0;const e=MI.exec(n);if(ae(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ca(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="server_timestamp",IT="__type__",MT="__previous_value__",xT="__local_write_time__";function rg(n){var e,a;return((a=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[IT])==null?void 0:a.stringValue)===CT}function hf(n){const t=n.mapValue.fields[MT];return rg(t)?hf(t):t}function cu(n){const t=ua(n.mapValue.fields[xT].timestampValue);return new ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,e,a,o,u,h,d,m,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const kh="(default)";class hu{constructor(t,e){this.projectId=t,this.database=e||kh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(t){return t instanceof hu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",NI="__max__",nh={mapValue:{}},DT="__vector__",Vh="value";function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rg(n)?4:OI(n)?9007199254740991:DI(n)?10:11:Mt(28295,{value:n})}function Ui(n,t){if(n===t)return!0;const e=ha(n);if(e!==ha(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return cu(n).isEqual(cu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ua(o.timestampValue),d=ua(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return ca(o.bytesValue).isEqual(ca(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return Ne(o.geoPointValue.latitude)===Ne(u.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ne(o.integerValue)===Ne(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ne(o.doubleValue),d=Ne(u.doubleValue);return h===d?Oh(h)===Oh(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return _o(n.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(Zv(h)!==Zv(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Ui(h[m],d[m])))return!1;return!0}(n,t);default:return Mt(52216,{left:n})}}function fu(n,t){return(n.values||[]).find(e=>Ui(e,t))!==void 0}function vo(n,t){if(n===t)return 0;const e=ha(n),a=ha(t);if(e!==a)return $t(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=Ne(u.integerValue||u.doubleValue),m=Ne(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return Wv(n.timestampValue,t.timestampValue);case 4:return Wv(cu(n),cu(t));case 5:return um(n.stringValue,t.stringValue);case 6:return function(u,h){const d=ca(u),m=ca(h);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=$t(d[g],m[g]);if(_!==0)return _}return $t(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=$t(Ne(u.latitude),Ne(h.latitude));return d!==0?d:$t(Ne(u.longitude),Ne(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return t1(n.arrayValue,t.arrayValue);case 10:return function(u,h){var w,D,j,Z;const d=u.fields||{},m=h.fields||{},g=(w=d[Vh])==null?void 0:w.arrayValue,_=(D=m[Vh])==null?void 0:D.arrayValue,T=$t(((j=g==null?void 0:g.values)==null?void 0:j.length)||0,((Z=_==null?void 0:_.values)==null?void 0:Z.length)||0);return T!==0?T:t1(g,_)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===nh.mapValue&&h===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(h===nh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const w=um(m[T],_[T]);if(w!==0)return w;const D=vo(d[m[T]],g[_[T]]);if(D!==0)return D}return $t(m.length,_.length)}(n.mapValue,t.mapValue);default:throw Mt(23264,{he:e})}}function Wv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return $t(n,t);const e=ua(n),a=ua(t),o=$t(e.seconds,a.seconds);return o!==0?o:$t(e.nanos,a.nanos)}function t1(n,t){const e=n.values||[],a=t.values||[];for(let o=0;o<e.length&&o<a.length;++o){const u=vo(e[o],a[o]);if(u)return u}return $t(e.length,a.length)}function Eo(n){return cm(n)}function cm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const a=ua(e);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ca(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return At.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let a="[",o=!0;for(const u of e.values||[])o?o=!1:a+=",",a+=cm(u);return a+"]"}(n.arrayValue):"mapValue"in n?function(e){const a=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${cm(e.fields[h])}`;return o+"}"}(n.mapValue):Mt(61005,{value:n})}function mh(n){switch(ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hf(n);return t?16+mh(t):16;case 5:return 2*n.stringValue.length;case 6:return ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+mh(u),0)}(n.arrayValue);case 10:case 11:return function(a){let o=0;return ls(a.fields,(u,h)=>{o+=u.length+mh(h)}),o}(n.mapValue);default:throw Mt(13486,{value:n})}}function hm(n){return!!n&&"integerValue"in n}function ag(n){return!!n&&"arrayValue"in n}function e1(n){return!!n&&"nullValue"in n}function n1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gh(n){return!!n&&"mapValue"in n}function DI(n){var e,a;return((a=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[NT])==null?void 0:a.stringValue)===DT}function eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ls(n.mapValue.fields,(e,a)=>t.mapValue.fields[e]=eu(a)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=eu(n.arrayValue.values[e]);return t}return{...n}}function OI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.value=t}static empty(){return new Zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!gh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=eu(e)}setAll(t){let e=on.emptyPath(),a={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,a,o),a={},o=[],e=d.popLast()}h?a[d.lastSegment()]=eu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,a,o)}delete(t){const e=this.field(t.popLast());gh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=e.mapValue.fields[t.get(a)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,a){ls(e,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new Zn(eu(this.value))}}function OT(n){const t=[];return ls(n.fields,(e,a)=>{const o=new on([e]);if(gh(a)){const u=OT(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new ui(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,e,a,o,u,h,d){this.key=t,this.documentType=e,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new mn(t,0,Ot.min(),Ot.min(),Ot.min(),Zn.empty(),0)}static newFoundDocument(t,e,a,o){return new mn(t,1,e,Ot.min(),a,o,0)}static newNoDocument(t,e){return new mn(t,2,e,Ot.min(),Ot.min(),Zn.empty(),0)}static newUnknownDocument(t,e){return new mn(t,3,e,Ot.min(),Ot.min(),Zn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,e){this.position=t,this.inclusive=e}}function i1(n,t,e){let a=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?a=At.comparator(At.fromName(h.referenceValue),e.key):a=vo(h,e.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function r1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ui(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e="asc"){this.field=t,this.dir=e}}function kI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class Fe extends kT{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new PI(t,e,a):e==="array-contains"?new BI(t,a):e==="in"?new zI(t,a):e==="not-in"?new jI(t,a):e==="array-contains-any"?new GI(t,a):new Fe(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new LI(t,a):new UI(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(vo(e,this.value)):e!==null&&ha(this.value)===ha(e)&&this.matchesComparison(vo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends kT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Bi(t,e)}matches(t){return VT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VT(n){return n.op==="and"}function PT(n){return VI(n)&&VT(n)}function VI(n){for(const t of n.filters)if(t instanceof Bi)return!1;return!0}function fm(n){if(n instanceof Fe)return n.field.canonicalString()+n.op.toString()+Eo(n.value);if(PT(n))return n.filters.map(t=>fm(t)).join(",");{const t=n.filters.map(e=>fm(e)).join(",");return`${n.op}(${t})`}}function LT(n,t){return n instanceof Fe?function(a,o){return o instanceof Fe&&a.op===o.op&&a.field.isEqual(o.field)&&Ui(a.value,o.value)}(n,t):n instanceof Bi?function(a,o){return o instanceof Bi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&LT(h,o.filters[d]),!0):!1}(n,t):void Mt(19439)}function UT(n){return n instanceof Fe?function(e){return`${e.field.canonicalString()} ${e.op} ${Eo(e.value)}`}(n):n instanceof Bi?function(e){return e.op.toString()+" {"+e.getFilters().map(UT).join(" ,")+"}"}(n):"Filter"}class PI extends Fe{constructor(t,e,a){super(t,e,a),this.key=At.fromName(a.referenceValue)}matches(t){const e=At.comparator(t.key,this.key);return this.matchesComparison(e)}}class LI extends Fe{constructor(t,e){super(t,"in",e),this.keys=BT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class UI extends Fe{constructor(t,e){super(t,"not-in",e),this.keys=BT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function BT(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map(a=>At.fromName(a.referenceValue))}class BI extends Fe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ag(e)&&fu(e.arrayValue,this.value)}}class zI extends Fe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&fu(this.value.arrayValue,e)}}class jI extends Fe{constructor(t,e){super(t,"not-in",e)}matches(t){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!fu(this.value.arrayValue,e)}}class GI extends Fe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ag(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>fu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,e=null,a=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function a1(n,t=null,e=[],a=[],o=null,u=null,h=null){return new qI(n,t,e,a,o,u,h)}function sg(n){const t=kt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>fm(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),cf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>Eo(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>Eo(a)).join(",")),t.Te=e}return t.Te}function og(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!kI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!LT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!r1(n.startAt,t.startAt)&&r1(n.endAt,t.endAt)}function dm(n){return At.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,e=null,a=[],o=[],u=null,h="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HI(n,t,e,a,o,u,h,d){return new ff(n,t,e,a,o,u,h,d)}function lg(n){return new ff(n)}function s1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FI(n){return n.collectionGroup!==null}function nu(n){const t=kt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new $e(on.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Lh(u,a))}),e.has(on.keyField().canonicalString())||t.Ie.push(new Lh(on.keyField(),a))}return t.Ie}function Di(n){const t=kt(n);return t.Ee||(t.Ee=$I(t,nu(n))),t.Ee}function $I(n,t){if(n.limitType==="F")return a1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Lh(o.field,u)});const e=n.endAt?new Ph(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new Ph(n.startAt.position,n.startAt.inclusive):null;return a1(n.path,n.collectionGroup,t,n.filters,n.limit,e,a)}}function pm(n,t,e){return new ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function df(n,t){return og(Di(n),Di(t))&&n.limitType===t.limitType}function zT(n){return`${sg(Di(n))}|lt:${n.limitType}`}function ro(n){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(o=>UT(o)).join(", ")}]`),cf(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(o=>Eo(o)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(o=>Eo(o)).join(",")),`Target(${a})`}(Di(n))}; limitType=${n.limitType})`}function pf(n,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):At.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(n,t)&&function(a,o){for(const u of nu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(a,o){return!(a.startAt&&!function(h,d,m){const g=i1(h,d,m);return h.inclusive?g<=0:g<0}(a.startAt,nu(a),o)||a.endAt&&!function(h,d,m){const g=i1(h,d,m);return h.inclusive?g>=0:g>0}(a.endAt,nu(a),o))}(n,t)}function KI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jT(n){return(t,e)=>{let a=!1;for(const o of nu(n)){const u=YI(o,t,e);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function YI(n,t,e){const a=n.field.isKeyField()?At.comparator(t.key,e.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?vo(m,g):Mt(42886)}(n.field,t,e);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Mt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[e]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ls(this.inner,(e,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new be(At.comparator);function Er(){return QI}const GT=new be(At.comparator);function Fl(...n){let t=GT;for(const e of n)t=t.insert(e.key,e);return t}function qT(n){let t=GT;return n.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function Ya(){return iu()}function HT(){return iu()}function iu(){return new us(n=>n.toString(),(n,t)=>n.isEqual(t))}const XI=new be(At.comparator),ZI=new $e(At.comparator);function Kt(...n){let t=ZI;for(const e of n)t=t.add(e);return t}const JI=new $e($t);function WI(){return JI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(t)?"-0":t}}function FT(n){return{integerValue:""+n}}function tM(n,t){return RI(t)?FT(t):ug(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function eM(n,t,e){return n instanceof Uh?function(o,u){const h={fields:{[IT]:{stringValue:CT},[xT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rg(u)&&(u=hf(u)),u&&(h.fields[MT]=u),{mapValue:h}}(e,t):n instanceof du?KT(n,t):n instanceof pu?YT(n,t):function(o,u){const h=$T(o,u),d=o1(h)+o1(o.Ae);return hm(h)&&hm(o.Ae)?FT(d):ug(o.serializer,d)}(n,t)}function nM(n,t,e){return n instanceof du?KT(n,t):n instanceof pu?YT(n,t):e}function $T(n,t){return n instanceof Bh?function(a){return hm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Uh extends mf{}class du extends mf{constructor(t){super(),this.elements=t}}function KT(n,t){const e=QT(t);for(const a of n.elements)e.some(o=>Ui(o,a))||e.push(a);return{arrayValue:{values:e}}}class pu extends mf{constructor(t){super(),this.elements=t}}function YT(n,t){let e=QT(t);for(const a of n.elements)e=e.filter(o=>!Ui(o,a));return{arrayValue:{values:e}}}class Bh extends mf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function o1(n){return Ne(n.integerValue||n.doubleValue)}function QT(n){return ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function iM(n,t){return n.field.isEqual(t.field)&&function(a,o){return a instanceof du&&o instanceof du||a instanceof pu&&o instanceof pu?_o(a.elements,o.elements,Ui):a instanceof Bh&&o instanceof Bh?Ui(a.Ae,o.Ae):a instanceof Uh&&o instanceof Uh}(n.transform,t.transform)}class rM{constructor(t,e){this.version=t,this.transformResults=e}}class gr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new gr}static exists(t){return new gr(void 0,t)}static updateTime(t){return new gr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class gf{}function XT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new JT(n.key,gr.none()):new Ru(n.key,n.data,gr.none());{const e=n.data,a=Zn.empty();let o=new $e(on.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new cs(n.key,a,new ui(o.toArray()),gr.none())}}function aM(n,t,e){n instanceof Ru?function(o,u,h){const d=o.value.clone(),m=u1(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,e):n instanceof cs?function(o,u,h){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=u1(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(ZT(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function ru(n,t,e,a){return n instanceof Ru?function(u,h,d,m){if(!yh(u.precondition,h))return d;const g=u.value.clone(),_=c1(u.fieldTransforms,m,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,e,a):n instanceof cs?function(u,h,d,m){if(!yh(u.precondition,h))return d;const g=c1(u.fieldTransforms,m,h),_=h.data;return _.setAll(ZT(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(n,t,e,a):function(u,h,d){return yh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,e)}function sM(n,t){let e=null;for(const a of n.fieldTransforms){const o=t.data.field(a.field),u=$T(a.transform,o||null);u!=null&&(e===null&&(e=Zn.empty()),e.set(a.field,u))}return e||null}function l1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&_o(a,o,(u,h)=>iM(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ru extends gf{constructor(t,e,a,o=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends gf{constructor(t,e,a,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=n.data.field(e);t.set(e,a)}}),t}function u1(n,t,e){const a=new Map;ae(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);a.set(u.field,nM(h,d,e[o]))}return a}function c1(n,t,e){const a=new Map;for(const o of n){const u=o.transform,h=e.data.field(o.field);a.set(o.field,eM(u,h,t))}return a}class JT extends gf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oM extends gf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t,e,a,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&aM(u,t,a[o])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=ru(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=ru(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=HT();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=e.has(o.key)?null:d;const m=XT(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ot.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Kt())}isEqual(t){return this.batchId===t.batchId&&_o(this.mutations,t.mutations,(e,a)=>l1(e,a))&&_o(this.baseMutations,t.baseMutations,(e,a)=>l1(e,a))}}class cg{constructor(t,e,a,o){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=o}static from(t,e,a){ae(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=function(){return XI}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new cg(t,e,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,Wt;function hM(n){switch(n){case ut.OK:return Mt(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return Mt(15467,{code:n})}}function WT(n){if(n===void 0)return vr("GRPC error has no .code"),ut.UNKNOWN;switch(n){case Le.OK:return ut.OK;case Le.CANCELLED:return ut.CANCELLED;case Le.UNKNOWN:return ut.UNKNOWN;case Le.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Le.INTERNAL:return ut.INTERNAL;case Le.UNAVAILABLE:return ut.UNAVAILABLE;case Le.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Le.NOT_FOUND:return ut.NOT_FOUND;case Le.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Le.ABORTED:return ut.ABORTED;case Le.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Le.DATA_LOSS:return ut.DATA_LOSS;default:return Mt(39323,{code:n})}}(Wt=Le||(Le={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new sa([4294967295,4294967295],0);function h1(n){const t=fM().encode(n),e=new mT;return e.update(t),new Uint8Array(e.digest())}function f1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new sa([e,a],0),new sa([o,u],0)]}class hg{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new $l(`Invalid padding: ${e}`);if(a<0)throw new $l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new $l(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=sa.fromNumber(this.ge)}ye(t,e,a){let o=t.add(e.multiply(sa.fromNumber(a)));return o.compare(dM)===1&&(o=new sa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=h1(t),[a,o]=f1(e);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(t,e,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new hg(u,o,e);return a.forEach(d=>h.insert(d)),h}insert(t){if(this.ge===0)return;const e=h1(t),[a,o]=f1(e);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.Se(h)}}Se(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,e,a,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const o=new Map;return o.set(t,Cu.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new yf(Ot.min(),o,new be($t),Er(),Kt())}}class Cu{constructor(t,e,a,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new Cu(a,e,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,e,a,o){this.be=t,this.removedTargetIds=e,this.key=a,this.De=o}}class tS{constructor(t,e){this.targetId=t,this.Ce=e}}class eS{constructor(t,e,a=ln.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=o}}class d1{constructor(){this.ve=0,this.Fe=p1(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),e=Kt(),a=Kt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:a=a.add(o);break;default:Mt(38017,{changeType:u})}}),new Cu(this.Me,this.xe,t,e,a)}qe(){this.Oe=!1,this.Fe=p1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pM{constructor(t){this.Ge=t,this.ze=new Map,this.je=Er(),this.Je=ih(),this.He=ih(),this.Ye=new be($t)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const a=this.nt(e);switch(t.state){case 0:this.rt(e)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),a.Le(t.resumeToken));break;default:Mt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((a,o)=>{this.rt(o)&&e(o)})}st(t){const e=t.targetId,a=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(dm(u))if(a===0){const h=new At(u.path);this.et(e,h,mn.newNoDocument(h,Ot.min()))}else ae(a===1,20013,{expectedCount:a});else{const h=this._t(e);if(h!==a){const d=this.ut(t),m=d?this.ct(d,t,h):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=e;let h,d;try{h=ca(a).toUint8Array()}catch(m){if(m instanceof RT)return yo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new hg(h,o,u)}catch(m){return yo(m instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,a){return e.Ce.count===a-this.Pt(t,e.targetId)?0:2}Pt(t,e){const a=this.Ge.getRemoteKeysForTarget(e);let o=0;return a.forEach(u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)}),o}Tt(t){const e=new Map;this.ze.forEach((u,h)=>{const d=this.ot(h);if(d){if(u.current&&dm(d.target)){const m=new At(d.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,mn.newNoDocument(m,t))}u.Be&&(e.set(h,u.ke()),u.qe())}});let a=Kt();this.He.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.je.forEach((u,h)=>h.setReadTime(t));const o=new yf(t,e,this.Ye,this.je,a);return this.je=Er(),this.Je=ih(),this.He=ih(),this.Ye=new be($t),o}Xe(t,e){if(!this.rt(t))return;const a=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,a),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),a&&(this.je=this.je.insert(e,a))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new d1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new $e($t),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new $e($t),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Et("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new d1),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ih(){return new be(At.comparator)}function p1(){return new be(At.comparator)}const mM={asc:"ASCENDING",desc:"DESCENDING"},gM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yM={and:"AND",or:"OR"};class _M{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function mm(n,t){return n.useProto3Json||cf(t)?t:{value:t}}function zh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function vM(n,t){return zh(n,t.toTimestamp())}function Oi(n){return ae(!!n,49232),Ot.fromTimestamp(function(e){const a=ua(e);return new ve(a.seconds,a.nanos)}(n))}function fg(n,t){return gm(n,t).canonicalString()}function gm(n,t){const e=function(o){return new we(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?e:e.child(t)}function iS(n){const t=we.fromString(n);return ae(lS(t),10190,{key:t.toString()}),t}function ym(n,t){return fg(n.databaseId,t.path)}function Pp(n,t){const e=iS(t);if(e.get(1)!==n.databaseId.projectId)throw new wt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new wt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new At(aS(e))}function rS(n,t){return fg(n.databaseId,t)}function EM(n){const t=iS(n);return t.length===4?we.emptyPath():aS(t)}function _m(n){return new we(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aS(n){return ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function m1(n,t,e){return{name:ym(n,t),fields:e.value.mapValue.fields}}function TM(n,t){let e;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Mt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(ae(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(ae(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ut.UNKNOWN:WT(g.code);return new wt(_,g.message||"")}(h);e=new eS(a,o,u,d||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pp(n,a.document.name),u=Oi(a.document.updateTime),h=a.document.createTime?Oi(a.document.createTime):Ot.min(),d=new Zn({mapValue:{fields:a.document.fields}}),m=mn.newFoundDocument(o,u,h,d),g=a.targetIds||[],_=a.removedTargetIds||[];e=new _h(g,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Pp(n,a.document),u=a.readTime?Oi(a.readTime):Ot.min(),h=mn.newNoDocument(o,u),d=a.removedTargetIds||[];e=new _h([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Pp(n,a.document),u=a.removedTargetIds||[];e=new _h([],u,o,null)}else{if(!("filter"in t))return Mt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new cM(o,u),d=a.targetId;e=new tS(d,h)}}return e}function SM(n,t){let e;if(t instanceof Ru)e={update:m1(n,t.key,t.value)};else if(t instanceof JT)e={delete:ym(n,t.key)};else if(t instanceof cs)e={update:m1(n,t.key,t.data),updateMask:NM(t.fieldMask)};else{if(!(t instanceof oM))return Mt(16599,{Vt:t.type});e={verify:ym(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bh)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Mt(20930,{transform:h.transform})}(0,a))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Mt(27497)}(n,t.precondition)),e}function wM(n,t){return n&&n.length>0?(ae(t!==void 0,14353),n.map(e=>function(o,u){let h=o.updateTime?Oi(o.updateTime):Oi(u);return h.isEqual(Ot.min())&&(h=Oi(u)),new rM(h,o.transformResults||[])}(e,t))):[]}function bM(n,t){return{documents:[rS(n,t.path)]}}function AM(n,t){const e={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=rS(n,o);const u=function(g){if(g.length!==0)return oS(Bi.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:ao(w.field),direction:IM(w.dir)}}(_))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=mm(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:e,parent:o}}function RM(n){let t=EM(n.parent);const e=n.structuredQuery,a=e.from?e.from.length:0;let o=null;if(a>0){ae(a===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=function(T){const w=sS(T);return w instanceof Bi&&PT(w)?w.getFilters():[w]}(e.where));let h=[];e.orderBy&&(h=function(T){return T.map(w=>function(j){return new Lh(so(j.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(w))}(e.orderBy));let d=null;e.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,cf(w)?null:w}(e.limit));let m=null;e.startAt&&(m=function(T){const w=!!T.before,D=T.values||[];return new Ph(D,w)}(e.startAt));let g=null;return e.endAt&&(g=function(T){const w=!T.before,D=T.values||[];return new Ph(D,w)}(e.endAt)),HI(t,o,h,u,d,"F",m,g)}function CM(n,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function sS(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=so(e.unaryFilter.field);return Fe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=so(e.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(e.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(e.unaryFilter.field);return Fe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Fe.create(so(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Bi.create(e.compositeFilter.filters.map(a=>sS(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}}(e.compositeFilter.op))}(n):Mt(30097,{filter:n})}function IM(n){return mM[n]}function MM(n){return gM[n]}function xM(n){return yM[n]}function ao(n){return{fieldPath:n.canonicalString()}}function so(n){return on.fromServerFormat(n.fieldPath)}function oS(n){return n instanceof Fe?function(e){if(e.op==="=="){if(n1(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NAN"}};if(e1(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(n1(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NOT_NAN"}};if(e1(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(e.field),op:MM(e.op),value:e.value}}}(n):n instanceof Bi?function(e){const a=e.getFilters().map(o=>oS(o));return a.length===1?a[0]:{compositeFilter:{op:xM(e.op),filters:a}}}(n):Mt(54877,{filter:n})}function NM(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,e,a,o,u=Ot.min(),h=Ot.min(),d=ln.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new na(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t){this.yt=t}}function OM(n){const t=RM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.Cn=new VM}addToCollectionParentIndex(t,e){return this.Cn.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(la.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(la.min())}updateCollectionGroup(t,e,a){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class VM{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e]||new $e(we.comparator),u=!o.has(a);return this.index[e]=o.add(a),u}has(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e];return o&&o.has(a)}getEntries(t){return(this.index[t]||new $e(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uS=41943040;class In{static withCacheSize(t){return new In(t,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(uS,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="LruGarbageCollector",PM=1048576;function _1([n,t],[e,a]){const o=$t(n,e);return o===0?$t(t,a):o}class LM{constructor(t){this.Ir=t,this.buffer=new $e(_1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();_1(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class UM{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Et(y1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){No(e)?Et(y1,"Ignoring IndexedDB error during garbage collection: ",e):await xo(e)}await this.Vr(3e5)})}}class BM{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return lt.resolve(uf.ce);const a=new LM(e);return this.mr.forEachTarget(t,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.mr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(g1)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g1):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let a,o,u,h,d,m,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o))).next(T=>(a=T,d=Date.now(),this.removeTargets(t,a,e))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,a))).next(T=>(g=Date.now(),io()<=Ft.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function zM(n,t){return new BM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.changes=new us(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?lt.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,e,a,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(a!==null&&ru(a.mutation,o,ui.empty(),ve.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,Kt()).next(()=>a))}getLocalViewOfDocuments(t,e,a=Kt()){const o=Ya();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,a).next(u=>{let h=Fl();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const a=Ya();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,Kt()))}populateOverlays(t,e,a){const o=[];return a.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,a,o){let u=Er();const h=iu(),d=function(){return iu()}();return e.forEach((m,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof cs)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),ru(_.mutation,g,_.mutation.getFieldMask(),ve.now())):h.set(g.key,ui.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,_)=>h.set(g,_)),e.forEach((g,_)=>d.set(g,new GM(_,h.get(g)??null))),d))}recalculateAndSaveOverlays(t,e){const a=iu();let o=new be((h,d)=>h-d),u=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let _=a.get(m)||ui.empty();_=d.applyToLocalView(g,_),a.set(m,_);const T=(o.get(d.batchId)||Kt()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=HT();_.forEach(w=>{if(!u.has(w)){const D=XT(e.get(w),a.get(w));D!==null&&T.set(w,D),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return lt.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,o){return function(h){return At.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):FI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,o):this.getDocumentsMatchingCollectionQuery(t,e,a,o)}getNextDocuments(t,e,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,o-u.size):lt.resolve(Ya());let d=uu,m=u;return h.next(g=>lt.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?lt.resolve():this.remoteDocumentCache.getEntry(t,_).next(w=>{m=m.insert(_,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Kt())).next(_=>({batchId:d,changes:qT(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new At(e)).next(a=>{let o=Fl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,a,o){const u=e.collectionGroup;let h=Fl();return this.indexManager.getCollectionParents(t,u).next(d=>lt.forEach(d,m=>{const g=function(T,w){return new ff(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(_=>{_.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,u,o))).next(h=>{u.forEach((m,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,mn.newInvalidDocument(_)))});let d=Fl();return h.forEach((m,g)=>{const _=u.get(m);_!==void 0&&ru(_.mutation,g,ui.empty(),ve.now()),pf(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return lt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}}(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(o){return{name:o.name,query:OM(o.bundledQuery),readTime:Oi(o.readTime)}}(e)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.overlays=new be(At.comparator),this.qr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const a=Ya();return lt.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((o,u)=>{this.St(t,e,u)}),lt.resolve()}removeOverlaysForBatchId(t,e,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(a)),lt.resolve()}getOverlaysForCollection(t,e,a){const o=Ya(),u=e.length+1,h=new At(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return lt.resolve(o)}getOverlaysForCollectionGroup(t,e,a,o){let u=new be((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=Ya(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ya(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return lt.resolve(d)}St(t,e,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new uM(e,a));let u=this.qr.get(e);u===void 0&&(u=Kt(),this.qr.set(e,u)),this.qr.set(e,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Qr=new $e(Je.$r),this.Ur=new $e(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const a=new Je(t,e);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.Gr(new Je(t,e))}zr(t,e){t.forEach(a=>this.removeReference(a,e))}jr(t){const e=new At(new we([])),a=new Je(e,t),o=new Je(e,t+1),u=[];return this.Ur.forEachInRange([a,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new At(new we([])),a=new Je(e,t),o=new Je(e,t+1);let u=Kt();return this.Ur.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new Je(t,0),a=this.Qr.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class Je{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return At.comparator(t.key,e.key)||$t(t.Yr,e.Yr)}static Kr(t,e){return $t(t.Yr,e.Yr)||At.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new $e(Je.$r)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new lM(u,e,a,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Je(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return lt.resolve(h)}lookupMutationBatch(t,e){return lt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,o=this.ei(a),u=o<0?0:o;return lt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new Je(e,0),o=new Je(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],h=>{const d=this.Xr(h.Yr);u.push(d)}),lt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new $e($t);return e.forEach(o=>{const u=new Je(o,0),h=new Je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],d=>{a=a.add(d.Yr)})}),lt.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,o=a.length+1;let u=a;At.isDocumentKey(u)||(u=u.child(""));const h=new Je(new At(u),0);let d=new $e($t);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)},h),lt.resolve(this.ti(d))}ti(t){const e=[];return t.forEach(a=>{const o=this.Xr(a);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){ae(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return lt.forEach(e.mutations,o=>{const u=new Je(o.key,e.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=a})}ir(t){}containsKey(t,e){const a=new Je(e,0),o=this.Zr.firstAfterOrEqual(a);return lt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t){this.ri=t,this.docs=function(){return new be(At.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,o=this.docs.get(a),u=o?o.size:0,h=this.ri(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return lt.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(e))}getEntries(t,e){let a=Er();return e.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),lt.resolve(a)}getDocumentsMatchingQuery(t,e,a,o){let u=Er();const h=e.path,d=new At(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||SI(TI(_),a)<=0||(o.has(_.key)||pf(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return lt.resolve(u)}getAllFromCollectionGroup(t,e,a,o){Mt(9500)}ii(t,e){return lt.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new QM(this)}getSize(t){return lt.resolve(this.size)}}class QM extends jM{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)}),lt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.persistence=t,this.si=new us(e=>sg(e),og),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=To.ur()}forEachTarget(t,e){return this.si.forEach((a,o)=>e(o)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this.oi&&(this.oi=e),lt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new To(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.Pr(e),lt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,a){let o=0;const u=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=e&&a.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),lt.waitFor(u).next(()=>o)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const a=this.si.get(e)||null;return lt.resolve(a)}addMatchingKeys(t,e,a){return this._i.Wr(e,a),lt.resolve()}removeMatchingKeys(t,e,a){this._i.zr(e,a);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),lt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const a=this._i.Hr(e);return lt.resolve(a)}containsKey(t,e){return lt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,e){this.ui={},this.overlays={},this.ci=new uf(0),this.li=!1,this.li=!0,this.hi=new $M,this.referenceDelegate=t(this),this.Pi=new XM(this),this.indexManager=new kM,this.remoteDocumentCache=function(o){return new YM(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new DM(e),this.Ii=new HM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new FM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.ui[t.toKey()];return a||(a=new KM(e,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,a){Et("MemoryPersistence","Starting transaction:",t);const o=new ZM(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,e){return lt.or(Object.values(this.ui).map(a=>()=>a.containsKey(t,e)))}}class ZM extends bI{constructor(t){super(),this.currentSequenceNumber=t}}class pg{constructor(t){this.persistence=t,this.Ri=new dg,this.Vi=null}static mi(t){return new pg(t)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(t,e,a){return this.Ri.addReference(a,e),this.fi.delete(a.toString()),lt.resolve()}removeReference(t,e,a){return this.Ri.removeReference(a,e),this.fi.add(a.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),lt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>a.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.fi,a=>{const o=At.fromPath(a);return this.gi(t,o).next(u=>{u||e.removeEntry(o,Ot.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(a=>{a?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return lt.or([()=>lt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class jh{constructor(t,e){this.persistence=t,this.pi=new us(a=>CI(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=zM(this,e)}static mi(t,e){return new jh(t,e)}Ei(){}di(t){return lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(o=>a+o))}wr(t){let e=0;return this.pr(t,a=>{e++}).next(()=>e)}pr(t,e){return lt.forEach(this.pi,(a,o)=>this.br(t,a,o).next(u=>u?lt.resolve():e(o)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,h=>this.br(t,h,e).next(d=>{d||(a++,u.removeEntry(h,Ot.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.pi.set(a,t.currentSequenceNumber),lt.resolve()}removeReference(t,e,a){return this.pi.set(a,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=mh(t.data.value)),e}br(t,e,a){return lt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return lt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,e,a,o){this.targetId=t,this.fromCache=e,this.Es=a,this.ds=o}static As(t,e){let a=Kt(),o=Kt();for(const u of e.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(t,e.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return GA()?8:AI(gn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,a,o){const u={result:null};return this.ys(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(t,e,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new JM;return this.Ss(t,e,h).next(d=>{if(u.result=d,this.Vs)return this.bs(t,e,h,d.size)})}).next(()=>u.result)}bs(t,e,a,o){return a.documentReadCount<this.fs?(io()<=Ft.DEBUG&&Et("QueryEngine","SDK will not create cache indexes for query:",ro(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),lt.resolve()):(io()<=Ft.DEBUG&&Et("QueryEngine","Query:",ro(e),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(io()<=Ft.DEBUG&&Et("QueryEngine","The SDK decides to create cache indexes for query:",ro(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(e))):lt.resolve())}ys(t,e){if(s1(e))return lt.resolve(null);let a=Di(e);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=pm(e,null,"F"),a=Di(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=Kt(...u);return this.ps.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,a).next(m=>{const g=this.Ds(e,d);return this.Cs(e,g,h,m.readTime)?this.ys(t,pm(e,null,"F")):this.vs(t,g,e,m)}))})))}ws(t,e,a,o){return s1(e)||o.isEqual(Ot.min())?lt.resolve(null):this.ps.getDocuments(t,a).next(u=>{const h=this.Ds(e,u);return this.Cs(e,h,a,o)?lt.resolve(null):(io()<=Ft.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(e)),this.vs(t,h,e,EI(o,uu)).next(d=>d))})}Ds(t,e){let a=new $e(jT(t));return e.forEach((o,u)=>{pf(t,u)&&(a=a.add(u))}),a}Cs(t,e,a,o){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,a){return io()<=Ft.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",ro(e)),this.ps.getDocumentsMatchingQuery(t,e,la.min(),a)}vs(t,e,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",tx=3e8;class ex{constructor(t,e,a,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new be($t),this.xs=new us(u=>sg(u),og),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function nx(n,t,e,a){return new ex(n,t,e,a)}async function hS(n,t){const e=kt(n);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let o;return e.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let m=Kt();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(a,m).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function ix(n,t){const e=kt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,w=T.keys();let D=lt.resolve();return w.forEach(j=>{D=D.next(()=>_.getEntry(m,j)).next(Z=>{const $=g.docVersions.get(j);ae($!==null,48541),Z.version.compareTo($)<0&&(T.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),_.addEntry(Z)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(e,a,t,u).next(()=>u.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Kt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(a,o))})}function fS(n){const t=kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function rx(n,t){const e=kt(n),a=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach((_,T)=>{const w=o.get(T);if(!w)return;d.push(e.Pi.removeMatchingKeys(u,_.removedDocuments,T).next(()=>e.Pi.addMatchingKeys(u,_.addedDocuments,T)));let D=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(ln.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,a)),o=o.insert(T,D),function(Z,$,ft){return Z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=tx?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0}(w,D,_)&&d.push(e.Pi.updateTargetData(u,D))});let m=Er(),g=Kt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(ax(u,h,t.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!a.isEqual(Ot.min())){const _=e.Pi.getLastRemoteSnapshotVersion(u).next(T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(_)}return lt.waitFor(d).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(e.Ms=o,u))}function ax(n,t,e){let a=Kt(),o=Kt();return e.forEach(u=>a=a.add(u)),t.getEntries(n,a).next(u=>{let h=Er();return e.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ot.min())?(t.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),h=h.insert(d,m)):Et(gg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:h,qs:o}})}function sx(n,t){const e=kt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=ig),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function ox(n,t){const e=kt(n);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return e.Pi.getTargetData(a,t).next(u=>u?(o=u,lt.resolve(o)):e.Pi.allocateTargetId(a).next(h=>(o=new na(t,h,"TargetPurposeListen",a.currentSequenceNumber),e.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=e.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(a.targetId,a),e.xs.set(t,a.targetId)),a})}async function vm(n,t,e){const a=kt(n),o=a.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!No(h))throw h;Et(gg,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function v1(n,t,e){const a=kt(n);let o=Ot.min(),u=Kt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,_){const T=kt(m),w=T.xs.get(_);return w!==void 0?lt.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)}(a,h,Di(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>a.Fs.getDocumentsMatchingQuery(h,t,e?o:Ot.min(),e?u:Kt())).next(d=>(lx(a,KI(t),d),{documents:d,Qs:u})))}function lx(n,t,e){let a=n.Os.get(t)||Ot.min();e.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),n.Os.set(t,a)}class E1{constructor(){this.activeTargetIds=WI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ux{constructor(){this.Mo=new E1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,a){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new E1,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="ConnectivityMonitor";class S1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Et(T1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Et(T1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function Em(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="RestConnection",hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===kh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,e,a,o,u){const h=Em(),d=this.zo(t,e.toUriEncodedString());Et(Lp,`Sending RPC '${t}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),_=Ro(g);return this.Jo(t,d,m,a,_).then(T=>(Et(Lp,`Received RPC '${t}' ${h}: `,T),T),T=>{throw yo(Lp,`RPC '${t}' ${h} failed with error: `,T,"url: ",d,"request:",a),T})}Ho(t,e,a,o,u,h){return this.Go(t,e,a,o,u)}jo(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}zo(t,e){const a=hx[t];return`${this.Uo}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class px extends fx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,a,o,u){const h=Em();return new Promise((d,m)=>{const g=new gT;g.setWithCredentials(!0),g.listenOnce(yT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ph.NO_ERROR:const T=g.getResponseJson();Et(dn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),d(T);break;case ph.TIMEOUT:Et(dn,`RPC '${t}' ${h} timed out`),m(new wt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const w=g.getStatus();if(Et(dn,`RPC '${t}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D==null?void 0:D.error;if(j&&j.status&&j.message){const Z=function(ft){const ht=ft.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(ht)>=0?ht:ut.UNKNOWN}(j.status);m(new wt(Z,j.message))}else m(new wt(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new wt(ut.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Et(dn,`RPC '${t}' ${h} completed.`)}});const _=JSON.stringify(o);Et(dn,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",_,a,15)})}T_(t,e,a){const o=Em(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=ET(),d=vT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,a),m.encodeInitMessageHeaders=!0;const _=u.join("");Et(dn,`Creating RPC '${t}' stream ${o}: ${_}`,m);const T=h.createWebChannel(_,m);this.I_(T);let w=!1,D=!1;const j=new dx({Yo:$=>{D?Et(dn,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(w||(Et(dn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),Et(dn,`RPC '${t}' stream ${o} sending:`,$),T.send($))},Zo:()=>T.close()}),Z=($,ft,ht)=>{$.listen(ft,W=>{try{ht(W)}catch(dt){setTimeout(()=>{throw dt},0)}})};return Z(T,Hl.EventType.OPEN,()=>{D||(Et(dn,`RPC '${t}' stream ${o} transport opened.`),j.o_())}),Z(T,Hl.EventType.CLOSE,()=>{D||(D=!0,Et(dn,`RPC '${t}' stream ${o} transport closed`),j.a_(),this.E_(T))}),Z(T,Hl.EventType.ERROR,$=>{D||(D=!0,yo(dn,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),j.a_(new wt(ut.UNAVAILABLE,"The operation could not be completed")))}),Z(T,Hl.EventType.MESSAGE,$=>{var ft;if(!D){const ht=$.data[0];ae(!!ht,16349);const W=ht,dt=(W==null?void 0:W.error)||((ft=W[0])==null?void 0:ft.error);if(dt){Et(dn,`RPC '${t}' stream ${o} received error:`,dt);const ct=dt.status;let yt=function(C){const V=Le[C];if(V!==void 0)return WT(V)}(ct),k=dt.message;yt===void 0&&(yt=ut.INTERNAL,k="Unknown error status: "+ct+" with message "+dt.message),D=!0,j.a_(new wt(yt,k)),T.close()}else Et(dn,`RPC '${t}' stream ${o} received:`,ht),j.u_(ht)}}),Z(d,_T.STAT_EVENT,$=>{$.stat===lm.PROXY?Et(dn,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===lm.NOPROXY&&Et(dn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){return new _M(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t,e,a=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-a);o>0&&Et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="PersistentStream";class pS{constructor(t,e,a,o,u,h,d,m){this.Mi=t,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ut.RESOURCE_EXHAUSTED?(vr(e.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===e&&this.G_(a,o)},a=>{t(()=>{const o=new wt(ut.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(t,e){const a=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Et(w1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(Et(w1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mx extends pS{constructor(t,e,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=TM(this.serializer,t),a=function(u){if(!("targetChange"in u))return Ot.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ot.min():h.readTime?Oi(h.readTime):Ot.min()}(t);return this.listener.H_(e,a)}Y_(t){const e={};e.database=_m(this.serializer),e.addTarget=function(u,h){let d;const m=h.target;if(d=dm(m)?{documents:bM(u,m)}:{query:AM(u,m).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=nS(u,h.resumeToken);const g=mm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ot.min())>0){d.readTime=zh(u,h.snapshotVersion.toTimestamp());const g=mm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const a=CM(this.serializer,t);a&&(e.labels=a),this.q_(e)}Z_(t){const e={};e.database=_m(this.serializer),e.removeTarget=t,this.q_(e)}}class gx extends pS{constructor(t,e,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ae(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ae(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ae(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=wM(t.writeResults,t.commitTime),a=Oi(t.commitTime);return this.listener.na(a,e)}ra(){const t={};t.database=_m(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>SM(this.serializer,a))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{}class _x extends yx{constructor(t,e,a,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new wt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(t,gm(e,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new wt(ut.UNKNOWN,u.toString())})}Ho(t,e,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(t,gm(e,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new wt(ut.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vx{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(e),this.aa=!1):Et("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class Ex{constructor(t,e,a,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{a.enqueueAndForget(async()=>{hs(this)&&(Et(as,"Restarting streams for network reachability change."),await async function(m){const g=kt(m);g.Ea.add(4),await Iu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await vf(g)}(this))})}),this.Ra=new vx(a,o)}}async function vf(n){if(hs(n))for(const t of n.da)await t(!0)}async function Iu(n){for(const t of n.da)await t(!1)}function mS(n,t){const e=kt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Eg(e)?vg(e):Do(e).O_()&&_g(e,t))}function yg(n,t){const e=kt(n),a=Do(e);e.Ia.delete(t),a.O_()&&gS(e,t),e.Ia.size===0&&(a.O_()?a.L_():hs(e)&&e.Ra.set("Unknown"))}function _g(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Do(n).Y_(t)}function gS(n,t){n.Va.Ue(t),Do(n).Z_(t)}function vg(n){n.Va=new pM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Do(n).start(),n.Ra.ua()}function Eg(n){return hs(n)&&!Do(n).x_()&&n.Ia.size>0}function hs(n){return kt(n).Ea.size===0}function yS(n){n.Va=void 0}async function Tx(n){n.Ra.set("Online")}async function Sx(n){n.Ia.forEach((t,e)=>{_g(n,t)})}async function wx(n,t){yS(n),Eg(n)?(n.Ra.ha(t),vg(n)):n.Ra.set("Unknown")}async function bx(n,t,e){if(n.Ra.set("Online"),t instanceof eS&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))}(n,t)}catch(a){Et(as,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Gh(n,a)}else if(t instanceof _h?n.Va.Ze(t):t instanceof tS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Ot.min()))try{const a=await fS(n.localStore);e.compareTo(a)>=0&&await function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const _=u.Ia.get(m);if(!_)return;u.Ia.set(m,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),gS(u,m);const T=new na(_.target,m,g,_.sequenceNumber);_g(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(a){Et(as,"Failed to raise snapshot:",a),await Gh(n,a)}}async function Gh(n,t,e){if(!No(t))throw t;n.Ea.add(1),await Iu(n),n.Ra.set("Offline"),e||(e=()=>fS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Et(as,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await vf(n)})}function _S(n,t){return t().catch(e=>Gh(n,e,t))}async function Ef(n){const t=kt(n),e=fa(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ig;for(;Ax(t);)try{const o=await sx(t.localStore,a);if(o===null){t.Ta.length===0&&e.L_();break}a=o.batchId,Rx(t,o)}catch(o){await Gh(t,o)}vS(t)&&ES(t)}function Ax(n){return hs(n)&&n.Ta.length<10}function Rx(n,t){n.Ta.push(t);const e=fa(n);e.O_()&&e.X_&&e.ea(t.mutations)}function vS(n){return hs(n)&&!fa(n).x_()&&n.Ta.length>0}function ES(n){fa(n).start()}async function Cx(n){fa(n).ra()}async function Ix(n){const t=fa(n);for(const e of n.Ta)t.ea(e.mutations)}async function Mx(n,t,e){const a=n.Ta.shift(),o=cg.from(a,t,e);await _S(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ef(n)}async function xx(n,t){t&&fa(n).X_&&await async function(a,o){if(function(h){return hM(h)&&h!==ut.ABORTED}(o.code)){const u=a.Ta.shift();fa(a).B_(),await _S(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ef(a)}}(n,t),vS(n)&&ES(n)}async function b1(n,t){const e=kt(n);e.asyncQueue.verifyOperationInProgress(),Et(as,"RemoteStore received new credentials");const a=hs(e);e.Ea.add(3),await Iu(e),a&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await vf(e)}async function Nx(n,t){const e=kt(n);t?(e.Ea.delete(2),await vf(e)):t||(e.Ea.add(2),await Iu(e),e.Ra.set("Unknown"))}function Do(n){return n.ma||(n.ma=function(e,a,o){const u=kt(e);return u.sa(),new mx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:Tx.bind(null,n),t_:Sx.bind(null,n),r_:wx.bind(null,n),H_:bx.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Eg(n)?vg(n):n.Ra.set("Unknown")):(await n.ma.stop(),yS(n))})),n.ma}function fa(n){return n.fa||(n.fa=function(e,a,o){const u=kt(e);return u.sa(),new gx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Cx.bind(null,n),r_:xx.bind(null,n),ta:Ix.bind(null,n),na:Mx.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Ef(n)):(await n.fa.stop(),n.Ta.length>0&&(Et(as,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,e,a,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,o,u){const h=Date.now()+a,d=new Tg(t,e,h,o,u);return d.start(a),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(n,t){if(vr("AsyncQueue",`${t}: ${n}`),No(n))return new wt(ut.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(t){return new fo(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||At.comparator(e.key,a.key):(e,a)=>At.comparator(e.key,a.key),this.keyedMap=Fl(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new fo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.ga=new be(At.comparator)}track(t){const e=t.doc.key,a=this.ga.get(e);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(e,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(e):t.type===1&&a.type===2?this.ga=this.ga.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Mt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,a)=>{t.push(a)}),t}}class So{constructor(t,e,a,o,u,h,d,m,g){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,a,o,u){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new So(t,e,fo.emptySet(e),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==a[o].type||!e[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class Ox{constructor(){this.queries=R1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,a){const o=kt(e),u=o.queries;o.queries=R1(),u.forEach((h,d)=>{for(const m of d.Sa)m.onError(a)})})(this,new wt(ut.ABORTED,"Firestore shutting down"))}}function R1(){return new us(n=>zT(n),df)}async function kx(n,t){const e=kt(n);let a=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(a=2):(u=new Dx,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=Sg(h,`Initialization of query '${ro(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&wg(e)}async function Vx(n,t){const e=kt(n),a=t.query;let o=3;const u=e.queries.get(a);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function Px(n,t){const e=kt(n);let a=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(a=!0);h.wa=o}}a&&wg(e)}function Lx(n,t,e){const a=kt(n),o=a.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);a.queries.delete(t)}function wg(n){n.Ca.forEach(t=>{t.next()})}var Tm,C1;(C1=Tm||(Tm={})).Ma="default",C1.Cache="cache";class Ux{constructor(t,e,a){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new So(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const a=e!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=So.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t){this.key=t}}class SS{constructor(t){this.key=t}}class Bx{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=jT(t),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(t,e){const a=e?e.iu:new A1,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,T)=>{const w=o.get(_),D=pf(this.query,T)?T:null,j=!!w&&this.mutatedKeys.has(w.key),Z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let $=!1;w&&D?w.data.isEqual(D.data)?j!==Z&&(a.track({type:3,doc:D}),$=!0):this.su(w,D)||(a.track({type:2,doc:D}),$=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(d=!0)):!w&&D?(a.track({type:0,doc:D}),$=!0):w&&!D&&(a.track({type:1,doc:w}),$=!0,(m||g)&&(d=!0)),$&&(D?(h=h.add(D),u=Z?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:h,iu:a,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort((_,T)=>function(D,j){const Z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:$})}};return Z(D)-Z(j)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(a),o=o??!1;const d=e&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,h.length!==0||g?{snapshot:new So(this.query,t.tu,u,h,t.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Kt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const e=[];return t.forEach(a=>{this.Xa.has(a)||e.push(new SS(a))}),this.Xa.forEach(a=>{t.has(a)||e.push(new TS(a))}),e}cu(t){this.Ya=t.Qs,this.Xa=Kt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class zx{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class jx{constructor(t){this.key=t,this.hu=!1}}class Gx{constructor(t,e,a,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new us(d=>zT(d),df),this.Iu=new Map,this.Eu=new Set,this.du=new be(At.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qx(n,t,e=!0){const a=IS(n);let o;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await wS(a,t,e,!0),o}async function Hx(n,t){const e=IS(n);await wS(e,t,!0,!1)}async function wS(n,t,e,a){const o=await ox(n.localStore,Di(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,e);let d;return a&&(d=await Fx(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&e&&mS(n.remoteStore,o),d}async function Fx(n,t,e,a,o){n.pu=(T,w,D)=>async function(Z,$,ft,ht){let W=$.view.ru(ft);W.Cs&&(W=await v1(Z.localStore,$.query,!1).then(({documents:k})=>$.view.ru(k,W)));const dt=ht&&ht.targetChanges.get($.targetId),ct=ht&&ht.targetMismatches.get($.targetId)!=null,yt=$.view.applyChanges(W,Z.isPrimaryClient,dt,ct);return M1(Z,$.targetId,yt.au),yt.snapshot}(n,T,w,D);const u=await v1(n.localStore,t,!0),h=new Bx(t,u.Qs),d=h.ru(u.documents),m=Cu.createSynthesizedTargetChangeForCurrentChange(e,a&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,m);M1(n,e,g.au);const _=new zx(t,e,h);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function $x(n,t,e){const a=kt(n),o=a.Tu.get(t),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter(h=>!df(h,t))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),e&&yg(a.remoteStore,o.targetId),Sm(a,o.targetId)}).catch(xo)):(Sm(a,o.targetId),await vm(a.localStore,o.targetId,!0))}async function Kx(n,t){const e=kt(n),a=e.Tu.get(t),o=e.Iu.get(a.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),yg(e.remoteStore,a.targetId))}async function Yx(n,t,e){const a=eN(n);try{const o=await function(h,d){const m=kt(h),g=ve.now(),_=d.reduce((D,j)=>D.add(j.key),Kt());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let j=Er(),Z=Kt();return m.Ns.getEntries(D,_).next($=>{j=$,j.forEach((ft,ht)=>{ht.isValidDocument()||(Z=Z.add(ft))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,j)).next($=>{T=$;const ft=[];for(const ht of d){const W=sM(ht,T.get(ht.key).overlayedDocument);W!=null&&ft.push(new cs(ht.key,W,OT(W.value.mapValue),gr.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,ft,d)}).next($=>{w=$;const ft=$.applyToLocalDocumentSet(T,Z);return m.documentOverlayCache.saveOverlays(D,$.batchId,ft)})}).then(()=>({batchId:w.batchId,changes:qT(T)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Vu[h.currentUser.toKey()];g||(g=new be($t)),g=g.insert(d,m),h.Vu[h.currentUser.toKey()]=g}(a,o.batchId,e),await Mu(a,o.changes),await Ef(a.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");e.reject(u)}}async function bS(n,t){const e=kt(n);try{const a=await rx(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Au.get(u);h&&(ae(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ae(h.hu,14607):o.removedDocuments.size>0&&(ae(h.hu,42227),h.hu=!1))}),await Mu(e,a,t)}catch(a){await xo(a)}}function I1(n,t,e){const a=kt(n);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const o=[];a.Tu.forEach((u,h)=>{const d=h.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=kt(h);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)}),g&&wg(m)}(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Qx(n,t,e){const a=kt(n);a.sharedClientState.updateQueryState(t,"rejected",e);const o=a.Au.get(t),u=o&&o.key;if(u){let h=new be(At.comparator);h=h.insert(u,mn.newNoDocument(u,Ot.min()));const d=Kt().add(u),m=new yf(Ot.min(),new Map,new be($t),h,d);await bS(a,m),a.du=a.du.remove(u),a.Au.delete(t),Ag(a)}else await vm(a.localStore,t,!1).then(()=>Sm(a,t,e)).catch(xo)}async function Xx(n,t){const e=kt(n),a=t.batch.batchId;try{const o=await ix(e.localStore,t);RS(e,a,null),AS(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await Mu(e,o)}catch(o){await xo(o)}}async function Zx(n,t,e){const a=kt(n);try{const o=await function(h,d){const m=kt(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(ae(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(a.localStore,t);RS(a,t,e),AS(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await Mu(a,o)}catch(o){await xo(o)}}function AS(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function RS(n,t,e){const a=kt(n);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function Sm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const a of n.Iu.get(t))n.Tu.delete(a),e&&n.Pu.yu(a,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(a=>{n.Ru.containsKey(a)||CS(n,a)})}function CS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(yg(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Ag(n))}function M1(n,t,e){for(const a of e)a instanceof TS?(n.Ru.addReference(a.key,t),Jx(n,a)):a instanceof SS?(Et(bg,"Document no longer in limbo: "+a.key),n.Ru.removeReference(a.key,t),n.Ru.containsKey(a.key)||CS(n,a.key)):Mt(19791,{wu:a})}function Jx(n,t){const e=t.key,a=e.path.canonicalString();n.du.get(e)||n.Eu.has(a)||(Et(bg,"New document in limbo: "+e),n.Eu.add(a),Ag(n))}function Ag(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new At(we.fromString(t)),a=n.fu.next();n.Au.set(a,new jx(e)),n.du=n.du.insert(e,a),mS(n.remoteStore,new na(Di(lg(e.path)),a,"TargetPurposeLimboResolution",uf.ce))}}async function Mu(n,t,e){const a=kt(n),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach((d,m)=>{h.push(a.pu(m,t,e).then(g=>{var _;if((g||e)&&a.isPrimaryClient){const T=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(m.targetId))==null?void 0:_.current;a.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=mg.As(m.targetId,g);u.push(T)}}))}),await Promise.all(h),a.Pu.H_(o),await async function(m,g){const _=kt(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>lt.forEach(g,w=>lt.forEach(w.Es,D=>_.persistence.referenceDelegate.addReference(T,w.targetId,D)).next(()=>lt.forEach(w.ds,D=>_.persistence.referenceDelegate.removeReference(T,w.targetId,D)))))}catch(T){if(!No(T))throw T;Et(gg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const D=_.Ms.get(w),j=D.snapshotVersion,Z=D.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(w,Z)}}}(a.localStore,u))}async function Wx(n,t){const e=kt(n);if(!e.currentUser.isEqual(t)){Et(bg,"User change. New user:",t.toKey());const a=await hS(e.localStore,t);e.currentUser=t,function(u,h){u.mu.forEach(d=>{d.forEach(m=>{m.reject(new wt(ut.CANCELLED,h))})}),u.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Mu(e,a.Ls)}}function tN(n,t){const e=kt(n),a=e.Au.get(t);if(a&&a.hu)return Kt().add(a.key);{let o=Kt();const u=e.Iu.get(t);if(!u)return o;for(const h of u){const d=e.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function IS(n){const t=kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qx.bind(null,t),t.Pu.H_=Px.bind(null,t.eventManager),t.Pu.yu=Lx.bind(null,t.eventManager),t}function eN(n){const t=kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zx.bind(null,t),t}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_f(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return nx(this.persistence,new WM,t.initialUser,this.serializer)}Cu(t){return new cS(pg.mi,this.serializer)}Du(t){return new ux}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class nN extends qh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ae(this.persistence.referenceDelegate instanceof jh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new UM(a,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new cS(a=>jh.mi(a,e),this.serializer)}}class wm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>I1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wx.bind(null,this.syncEngine),await Nx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Ox}()}createDatastore(t){const e=_f(t.databaseInfo.databaseId),a=function(u){return new px(u)}(t.databaseInfo);return function(u,h,d,m){return new _x(u,h,d,m)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,o,u,h,d){return new Ex(a,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>I1(this.syncEngine,e,0),function(){return S1.v()?new S1:new cx}())}createSyncEngine(t,e){return function(o,u,h,d,m,g,_){const T=new Gx(o,u,h,d,m,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=kt(o);Et(as,"RemoteStore shutting down."),u.Ea.add(5),await Iu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class rN{constructor(t,e,a,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{Et(da,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(Et(da,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=Sg(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Bp(n,t){n.asyncQueue.verifyOperationInProgress(),Et(da,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let a=e.initialUser;n.setCredentialChangeListener(async o=>{a.isEqual(o)||(await hS(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function x1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await aN(n);Et(da,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(a=>b1(t.remoteStore,a)),n.setAppCheckTokenChangeListener((a,o)=>b1(t.remoteStore,o)),n._onlineComponents=t}async function aN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Et(da,"Using user provided OfflineComponentProvider");try{await Bp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ut.FAILED_PRECONDITION||o.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;yo("Error using user provided cache. Falling back to memory cache: "+e),await Bp(n,new qh)}}else Et(da,"Using default OfflineComponentProvider"),await Bp(n,new nN(void 0));return n._offlineComponents}async function MS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Et(da,"Using user provided OnlineComponentProvider"),await x1(n,n._uninitializedComponentsProvider._online)):(Et(da,"Using default OnlineComponentProvider"),await x1(n,new wm))),n._onlineComponents}function sN(n){return MS(n).then(t=>t.syncEngine)}async function oN(n){const t=await MS(n),e=t.eventManager;return e.onListen=qx.bind(null,t.syncEngine),e.onUnlisten=$x.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Hx.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Kx.bind(null,t.syncEngine),e}function lN(n,t,e={}){const a=new oa;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const _=new iN({next:w=>{_.Nu(),h.enqueueAndForget(()=>Vx(u,T));const D=w.docs.has(d);!D&&w.fromCache?g.reject(new wt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&m&&m.source==="server"?g.reject(new wt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Ux(lg(d.path),_,{includeMetadataChanges:!0,qa:!0});return kx(u,T)}(await oN(n),n.asyncQueue,t,e,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firestore.googleapis.com",D1=!0;class O1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new wt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=D1}else this.host=t.host,this.ssl=t.ssl??D1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PM)throw new wt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS(t.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rg{constructor(t,e,a,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new wt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new lI;switch(a.type){case"firstParty":return new fI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new wt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=N1.get(e);a&&(Et("ComponentProvider","Removing Datastore"),N1.delete(e),a.terminate())}(this),Promise.resolve()}}function uN(n,t,e,a={}){var g;n=lu(n,Rg);const o=Ro(t),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(xE(`https://${d}`),NE("Firestore",!0)),u.host!==NS&&u.host!==d&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:a};if(!es(m,h)&&(n._setSettings(m),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=pn.MOCK_USER;else{_=OA(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new wt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new pn(w)}n._authCredentials=new uI(new ST(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Cg(this.firestore,t,this._query)}}class We{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,a){if(Au(e,We._jsonSchema))return new We(t,a||null,new At(we.fromString(e.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Ue("string",We._jsonSchemaVersion),referencePath:Ue("string")};class mu extends Cg{constructor(t,e,a){super(t,e,lg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new At(t))}withConverter(t){return new mu(this.firestore,t,this._path)}}function Ig(n,t,...e){if(n=Wn(n),arguments.length===1&&(t=eg.newId()),_I("doc","path",t),n instanceof Rg){const a=we.fromString(t,...e);return Kv(a),new We(n,null,new At(a))}{if(!(n instanceof We||n instanceof mu))throw new wt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(we.fromString(t,...e));return Kv(a),new We(n.firestore,n instanceof mu?n.converter:null,new At(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="AsyncQueue";class V1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dS(this,"async_queue_retry"),this._c=()=>{const a=Up();a&&Et(k1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const e=Up();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Up();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new oa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!No(t))throw t;Et(k1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(a=>{throw this.nc=a,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",P1(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=e,e}enqueueAfterDelay(t,e,a){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Tg.createAndSchedule(this,t,e,a,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Mt(47125,{Pc:P1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function P1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Mg extends Rg{constructor(t,e,a,o){super(t,e,a,o),this.type="firestore",this._queue=new V1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new V1(t),this._firestoreClient=void 0,await t}}}function cN(n,t){const e=typeof n=="object"?n:VE(),a=typeof n=="string"?n:kh,o=qm(e,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=NA("firestore");u&&uN(o,...u)}return o}function DS(n){if(n._terminated)throw new wt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hN(n),n._firestoreClient}function hN(n){var a,o,u;const t=n._freezeSettings(),e=function(d,m,g,_){return new xI(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,xS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new rN(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(ln.fromBase64String(t))}catch(e){throw new wt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jn(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Au(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ue("string",Jn._jsonSchemaVersion),bytes:Ue("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new wt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new wt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new wt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Au(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ue("string",ki._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Au(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Vi(t.vectorValues);throw new wt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ue("string",Vi._jsonSchemaVersion),vectorValues:Ue("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^__.*__$/;class dN{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new cs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ru(t,this.data,e,this.fieldTransforms)}}function kS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:n})}}class Ng{constructor(t,e,a,o,u,h){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ng({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),a=this.Vc({path:e,fc:!1});return a.gc(t),a}yc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),a=this.Vc({path:e,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kS(this.Ac)&&fN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class pN{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||_f(t)}Cc(t,e,a,o=!1){return new Ng({Ac:t,methodName:e,Dc:a,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mN(n){const t=n._freezeSettings(),e=_f(n._databaseId);return new pN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function gN(n,t,e,a,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);US("Data must be an object, but it was:",h,a);const d=PS(a,h);let m,g;if(u.merge)m=new ui(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const w=yN(t,T,e);if(!h.contains(w))throw new wt(ut.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);vN(_,w)||_.push(w)}m=new ui(_),g=h.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=h.fieldTransforms;return new dN(new Zn(d),m,g)}function VS(n,t){if(LS(n=Wn(n)))return US("Unsupported field value:",t,n),PS(n,t);if(n instanceof OS)return function(a,o){if(!kS(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let m=VS(d,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(n,t)}return function(a,o){if((a=Wn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tM(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ve.fromDate(a);return{timestampValue:zh(o.serializer,u)}}if(a instanceof ve){const u=new ve(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jn)return{bytesValue:nS(o.serializer,a._byteString)};if(a instanceof We){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Vi)return function(h,d){return{mapValue:{fields:{[NT]:{stringValue:DT},[Vh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return ug(d.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${ng(a)}`)}(n,t)}function PS(n,t){const e={};return AT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ls(n,(a,o)=>{const u=VS(o,t.mc(a));u!=null&&(e[a]=u)}),{mapValue:{fields:e}}}function LS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ve||n instanceof ki||n instanceof Jn||n instanceof We||n instanceof OS||n instanceof Vi)}function US(n,t,e){if(!LS(e)||!wT(e)){const a=ng(e);throw a==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+a)}}function yN(n,t,e){if((t=Wn(t))instanceof xg)return t._internalPath;if(typeof t=="string")return BS(n,t);throw Hh("Field path arguments must be of type string or ",n,!1,void 0,e)}const _N=new RegExp("[~\\*/\\[\\]]");function BS(n,t,e){if(t.search(_N)>=0)throw Hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new xg(...t.split("."))._internalPath}catch{throw Hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Hh(n,t,e,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new wt(ut.INVALID_ARGUMENT,d+n+m)}function vN(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,e,a,o,u){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new EN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(jS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class EN extends zS{data(){return super.data()}}function jS(n,t){return typeof t=="string"?BS(n,t):t instanceof xg?t._internalPath:t._delegate._internalPath}class TN{convertValue(t,e="none"){switch(ha(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return ls(t,(o,u)=>{a[o]=this.convertValue(u,e)}),a}convertVectorValue(t){var a,o,u;const e=(u=(o=(a=t.fields)==null?void 0:a[Vh].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>Ne(h.doubleValue));return new Vi(e)}convertGeoPoint(t){return new ki(Ne(t.latitude),Ne(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=hf(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(cu(t));default:return null}}convertTimestamp(t){const e=ua(t);return new ve(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=we.fromString(t);ae(lS(a),9688,{name:t});const o=new hu(a.get(1),a.get(3)),u=new At(a.popFirst(5));return o.isEqual(e)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n,t,e){let a;return a=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,a}class Kl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Za extends zS{constructor(t,e,a,o,u,h){super(t,e,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field(jS("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Za._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:Ue("string",Za._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class vh extends Za{data(t={}){return super.data(t)}}class au{constructor(t,e,a,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new vh(this._firestore,this._userDataWriter,a.key,a,new Kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new vh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new vh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:wN(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=au._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(e.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){n=lu(n,We);const t=lu(n.firestore,Mg);return lN(DS(t),n._key).then(e=>CN(t,n,e))}au._jsonSchemaVersion="firestore/querySnapshot/1.0",au._jsonSchema={type:Ue("string",au._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class AN extends TN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,e)}}function Fh(n,t,e){n=lu(n,We);const a=lu(n.firestore,Mg),o=SN(n.converter,t,e);return RN(a,[gN(mN(a),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,gr.none())])}function RN(n,t){return function(a,o){const u=new oa;return a.asyncQueue.enqueueAndForget(async()=>Yx(await sN(a),o,u)),u.promise}(DS(n),t)}function CN(n,t,e){const a=e.docs.get(t._key),o=new AN(n);return new Za(n,o,t._key,a,new Kl(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Mo=o})(Co),mo(new ns("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new Mg(new cI(a.getProvider("auth-internal")),new dI(h,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new wt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(g.options.projectId,_)}(h,o),h);return u={useFetchStreams:e,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),aa(qv,Hv,t),aa(qv,Hv,"esm2020")})();const IN={apiKey:"AIzaSyAsv8TV5YSdGLup4nImBjaaaEKbwe9lRm8",authDomain:"chartle-c4a68.firebaseapp.com",projectId:"chartle-c4a68",storageBucket:"chartle-c4a68.appspot.com",messagingSenderId:"1031120307533",appId:"1:1031120307533:web:a51ef04dabbcecd020e304",measurementId:"G-SCBHLT03DM"},GS=kE(IN),Ja=rI(GS),MN=new dr,Dg=cN(GS),qS=bt.createContext({user:null});function xN({children:n}){const[t,e]=bt.useState(null);return bt.useEffect(()=>iT(Ja,e),[]),it.jsx(qS.Provider,{value:{user:t},children:n})}function NN(){return bt.useContext(qS)}function DN({onOpen:n,dateLabel:t,overridden:e}){var g;const{user:a}=NN(),[o,u]=bt.useState(!1),h=a?a.photoURL?it.jsx("img",{src:a.photoURL,alt:"Account",className:"h-6 w-6 rounded-full object-cover",referrerPolicy:"no-referrer"}):it.jsx("span",{"aria-label":"Account",className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-400 text-xs font-semibold text-white",children:(g=a.displayName)==null?void 0:g.charAt(0).toUpperCase()}):"Sign in",d=[{id:"help",label:"Help"},{id:"history",label:"History"},{id:"settings",label:"Settings"},{id:"auth",label:h}],m=_=>{n==null||n(_),u(!1)};return it.jsx("header",{className:"fixed inset-x-0 top-0 z-50 border-b border-gray-300 dark:border-gray-700 bg-[#f9f9f9]/60 dark:bg-[#111]/60 backdrop-blur-md",children:it.jsxs("div",{className:"relative mx-auto flex w-full max-w-[700px] flex-wrap items-center justify-center px-4 py-3",children:[it.jsx("span",{className:`absolute left-4 top-1/2 -translate-y-1/2 text-sm md:hidden ${e?"text-yellow-800 bg-yellow-100 px-2 py-0.5 rounded":"text-gray-500"}`,children:t}),it.jsx("h1",{className:"text-xl font-[Menlo,_monospace] tracking-wide text-gray-800 dark:text-white",children:"chartle"}),it.jsx("button",{"aria-label":"Toggle menu",onClick:()=>u(!o),className:"absolute right-4 inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-600 md:hidden",children:o?it.jsx(wE,{className:"h-5 w-5"}):it.jsx(TA,{className:"h-5 w-5"})}),it.jsx("nav",{className:"ml-auto hidden gap-6 md:flex md:w-auto",children:d.map(({id:_,label:T})=>it.jsx("button",{onClick:()=>m(_),className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:T},_))}),o&&it.jsx("nav",{className:"absolute inset-x-0 top-full origin-top bg-white dark:bg-[#1a1a1a] shadow-md md:hidden",children:it.jsx("ul",{className:"flex flex-col divide-y divide-gray-200 dark:divide-gray-700",children:d.map(({id:_,label:T})=>it.jsx("li",{children:it.jsx("button",{onClick:()=>m(_),className:"block w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:_==="auth"&&a?"Account":typeof T=="string"?T:"Account"})},_))})})]})})}function Eh(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function HS(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Og(n){let t,e,a;n.length!==2?(t=Eh,e=(d,m)=>Eh(n(d),m),a=(d,m)=>n(d)-m):(t=n===Eh||n===HS?n:ON,e=n,a=n);function o(d,m,g=0,_=d.length){if(g<_){if(t(m,m)!==0)return _;do{const T=g+_>>>1;e(d[T],m)<0?g=T+1:_=T}while(g<_)}return g}function u(d,m,g=0,_=d.length){if(g<_){if(t(m,m)!==0)return _;do{const T=g+_>>>1;e(d[T],m)<=0?g=T+1:_=T}while(g<_)}return g}function h(d,m,g=0,_=d.length){const T=o(d,m,g,_-1);return T>g&&a(d[T-1],m)>-a(d[T],m)?T-1:T}return{left:o,center:h,right:u}}function ON(){return 0}function kN(n){return n===null?NaN:+n}const VN=Og(Eh),PN=VN.right;Og(kN).center;function LN(n,t){let e,a;if(t===void 0)for(const o of n)o!=null&&(e===void 0?o>=o&&(e=a=o):(e>o&&(e=o),a<o&&(a=o)));else{let o=-1;for(let u of n)(u=t(u,++o,n))!=null&&(e===void 0?u>=u&&(e=a=u):(e>u&&(e=u),a<u&&(a=u)))}return[e,a]}class bm extends Map{constructor(t,e=zN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[a,o]of t)this.set(a,o)}get(t){return super.get(L1(this,t))}has(t){return super.has(L1(this,t))}set(t,e){return super.set(UN(this,t),e)}delete(t){return super.delete(BN(this,t))}}function L1({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):e}function UN({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):(n.set(a,e),e)}function BN({_intern:n,_key:t},e){const a=t(e);return n.has(a)&&(e=n.get(a),n.delete(a)),e}function zN(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Am(n){return n}function U1(n,...t){return FS(n,Am,Am,t)}function jN(n,t,...e){return FS(n,Am,t,e)}function FS(n,t,e,a){return function o(u,h){if(h>=a.length)return e(u);const d=new bm,m=a[h++];let g=-1;for(const _ of u){const T=m(_,++g,u),w=d.get(T);w?w.push(_):d.set(T,[_])}for(const[_,T]of d)d.set(_,o(T,h));return t(d)}(n,0)}const GN=Math.sqrt(50),qN=Math.sqrt(10),HN=Math.sqrt(2);function $h(n,t,e){const a=(t-n)/Math.max(0,e),o=Math.floor(Math.log10(a)),u=a/Math.pow(10,o),h=u>=GN?10:u>=qN?5:u>=HN?2:1;let d,m,g;return o<0?(g=Math.pow(10,-o)/h,d=Math.round(n*g),m=Math.round(t*g),d/g<n&&++d,m/g>t&&--m,g=-g):(g=Math.pow(10,o)*h,d=Math.round(n/g),m=Math.round(t/g),d*g<n&&++d,m*g>t&&--m),m<d&&.5<=e&&e<2?$h(n,t,e*2):[d,m,g]}function FN(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const a=t<n,[o,u,h]=a?$h(t,n,e):$h(n,t,e);if(!(u>=o))return[];const d=u-o+1,m=new Array(d);if(a)if(h<0)for(let g=0;g<d;++g)m[g]=(u-g)/-h;else for(let g=0;g<d;++g)m[g]=(u-g)*h;else if(h<0)for(let g=0;g<d;++g)m[g]=(o+g)/-h;else for(let g=0;g<d;++g)m[g]=(o+g)*h;return m}function Rm(n,t,e){return t=+t,n=+n,e=+e,$h(n,t,e)[2]}function $N(n,t,e){t=+t,n=+n,e=+e;const a=t<n,o=a?Rm(t,n,e):Rm(n,t,e);return(a?-1:1)*(o<0?1/-o:o)}function Yl(n,t){let e;if(t===void 0)for(const a of n)a!=null&&(e<a||e===void 0&&a>=a)&&(e=a);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&(e<o||e===void 0&&o>=o)&&(e=o)}return e}function KN(n,t){let e;for(const a of n)a!=null&&(e>a||e===void 0&&a>=a)&&(e=a);return e}function YN(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var a=-1,o=Math.max(0,Math.ceil((t-n)/e))|0,u=new Array(o);++a<o;)u[a]=n+a*e;return u}function QN(n){return n}var zp=1,jp=2,Cm=3,Ql=4,B1=1e-6;function XN(n){return"translate("+n+",0)"}function ZN(n){return"translate(0,"+n+")"}function JN(n){return t=>+n(t)}function WN(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function tD(){return!this.__axis}function $S(n,t){var e=[],a=null,o=null,u=6,h=6,d=3,m=typeof window<"u"&&window.devicePixelRatio>1?0:.5,g=n===zp||n===Ql?-1:1,_=n===Ql||n===jp?"x":"y",T=n===zp||n===Cm?XN:ZN;function w(D){var j=a??(t.ticks?t.ticks.apply(t,e):t.domain()),Z=o??(t.tickFormat?t.tickFormat.apply(t,e):QN),$=Math.max(u,0)+d,ft=t.range(),ht=+ft[0]+m,W=+ft[ft.length-1]+m,dt=(t.bandwidth?WN:JN)(t.copy(),m),ct=D.selection?D.selection():D,yt=ct.selectAll(".domain").data([null]),k=ct.selectAll(".tick").data(j,t).order(),I=k.exit(),C=k.enter().append("g").attr("class","tick"),V=k.select("line"),N=k.select("text");yt=yt.merge(yt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(C),V=V.merge(C.append("line").attr("stroke","currentColor").attr(_+"2",g*u)),N=N.merge(C.append("text").attr("fill","currentColor").attr(_,g*$).attr("dy",n===zp?"0em":n===Cm?"0.71em":"0.32em")),D!==ct&&(yt=yt.transition(D),k=k.transition(D),V=V.transition(D),N=N.transition(D),I=I.transition(D).attr("opacity",B1).attr("transform",function(L){return isFinite(L=dt(L))?T(L+m):this.getAttribute("transform")}),C.attr("opacity",B1).attr("transform",function(L){var M=this.parentNode.__axis;return T((M&&isFinite(M=M(L))?M:dt(L))+m)})),I.remove(),yt.attr("d",n===Ql||n===jp?h?"M"+g*h+","+ht+"H"+m+"V"+W+"H"+g*h:"M"+m+","+ht+"V"+W:h?"M"+ht+","+g*h+"V"+m+"H"+W+"V"+g*h:"M"+ht+","+m+"H"+W),k.attr("opacity",1).attr("transform",function(L){return T(dt(L)+m)}),V.attr(_+"2",g*u),N.attr(_,g*$).text(Z),ct.filter(tD).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===jp?"start":n===Ql?"end":"middle"),ct.each(function(){this.__axis=dt})}return w.scale=function(D){return arguments.length?(t=D,w):t},w.ticks=function(){return e=Array.from(arguments),w},w.tickArguments=function(D){return arguments.length?(e=D==null?[]:Array.from(D),w):e.slice()},w.tickValues=function(D){return arguments.length?(a=D==null?null:Array.from(D),w):a&&a.slice()},w.tickFormat=function(D){return arguments.length?(o=D,w):o},w.tickSize=function(D){return arguments.length?(u=h=+D,w):u},w.tickSizeInner=function(D){return arguments.length?(u=+D,w):u},w.tickSizeOuter=function(D){return arguments.length?(h=+D,w):h},w.tickPadding=function(D){return arguments.length?(d=+D,w):d},w.offset=function(D){return arguments.length?(m=+D,w):m},w}function eD(n){return $S(Cm,n)}function KS(n){return $S(Ql,n)}var nD={value:()=>{}};function YS(){for(var n=0,t=arguments.length,e={},a;n<t;++n){if(!(a=arguments[n]+"")||a in e||/[\s.]/.test(a))throw new Error("illegal type: "+a);e[a]=[]}return new Th(e)}function Th(n){this._=n}function iD(n,t){return n.trim().split(/^|\s+/).map(function(e){var a="",o=e.indexOf(".");if(o>=0&&(a=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:a}})}Th.prototype=YS.prototype={constructor:Th,on:function(n,t){var e=this._,a=iD(n+"",e),o,u=-1,h=a.length;if(arguments.length<2){for(;++u<h;)if((o=(n=a[u]).type)&&(o=rD(e[o],n.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<h;)if(o=(n=a[u]).type)e[o]=z1(e[o],n.name,t);else if(t==null)for(o in e)e[o]=z1(e[o],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Th(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var e=new Array(o),a=0,o,u;a<o;++a)e[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],a=0,o=u.length;a<o;++a)u[a].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var a=this._[n],o=0,u=a.length;o<u;++o)a[o].value.apply(t,e)}};function rD(n,t){for(var e=0,a=n.length,o;e<a;++e)if((o=n[e]).name===t)return o.value}function z1(n,t,e){for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n[a]=nD,n=n.slice(0,a).concat(n.slice(a+1));break}return e!=null&&n.push({name:t,value:e}),n}var Im="http://www.w3.org/1999/xhtml";const j1={svg:"http://www.w3.org/2000/svg",xhtml:Im,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tf(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),j1.hasOwnProperty(t)?{space:j1[t],local:n}:n}function aD(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Im&&t.documentElement.namespaceURI===Im?t.createElement(n):t.createElementNS(e,n)}}function sD(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function QS(n){var t=Tf(n);return(t.local?sD:aD)(t)}function oD(){}function kg(n){return n==null?oD:function(){return this.querySelector(n)}}function lD(n){typeof n!="function"&&(n=kg(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=new Array(h),m,g,_=0;_<h;++_)(m=u[_])&&(g=n.call(m,m.__data__,_,u))&&("__data__"in m&&(g.__data__=m.__data__),d[_]=g);return new Un(a,this._parents)}function uD(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function cD(){return[]}function XS(n){return n==null?cD:function(){return this.querySelectorAll(n)}}function hD(n){return function(){return uD(n.apply(this,arguments))}}function fD(n){typeof n=="function"?n=hD(n):n=XS(n);for(var t=this._groups,e=t.length,a=[],o=[],u=0;u<e;++u)for(var h=t[u],d=h.length,m,g=0;g<d;++g)(m=h[g])&&(a.push(n.call(m,m.__data__,g,h)),o.push(m));return new Un(a,o)}function ZS(n){return function(){return this.matches(n)}}function JS(n){return function(t){return t.matches(n)}}var dD=Array.prototype.find;function pD(n){return function(){return dD.call(this.children,n)}}function mD(){return this.firstElementChild}function gD(n){return this.select(n==null?mD:pD(typeof n=="function"?n:JS(n)))}var yD=Array.prototype.filter;function _D(){return Array.from(this.children)}function vD(n){return function(){return yD.call(this.children,n)}}function ED(n){return this.selectAll(n==null?_D:vD(typeof n=="function"?n:JS(n)))}function TD(n){typeof n!="function"&&(n=ZS(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=[],m,g=0;g<h;++g)(m=u[g])&&n.call(m,m.__data__,g,u)&&d.push(m);return new Un(a,this._parents)}function WS(n){return new Array(n.length)}function SD(){return new Un(this._enter||this._groups.map(WS),this._parents)}function Kh(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Kh.prototype={constructor:Kh,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function wD(n){return function(){return n}}function bD(n,t,e,a,o,u){for(var h=0,d,m=t.length,g=u.length;h<g;++h)(d=t[h])?(d.__data__=u[h],a[h]=d):e[h]=new Kh(n,u[h]);for(;h<m;++h)(d=t[h])&&(o[h]=d)}function AD(n,t,e,a,o,u,h){var d,m,g=new Map,_=t.length,T=u.length,w=new Array(_),D;for(d=0;d<_;++d)(m=t[d])&&(w[d]=D=h.call(m,m.__data__,d,t)+"",g.has(D)?o[d]=m:g.set(D,m));for(d=0;d<T;++d)D=h.call(n,u[d],d,u)+"",(m=g.get(D))?(a[d]=m,m.__data__=u[d],g.delete(D)):e[d]=new Kh(n,u[d]);for(d=0;d<_;++d)(m=t[d])&&g.get(w[d])===m&&(o[d]=m)}function RD(n){return n.__data__}function CD(n,t){if(!arguments.length)return Array.from(this,RD);var e=t?AD:bD,a=this._parents,o=this._groups;typeof n!="function"&&(n=wD(n));for(var u=o.length,h=new Array(u),d=new Array(u),m=new Array(u),g=0;g<u;++g){var _=a[g],T=o[g],w=T.length,D=ID(n.call(_,_&&_.__data__,g,a)),j=D.length,Z=d[g]=new Array(j),$=h[g]=new Array(j),ft=m[g]=new Array(w);e(_,T,Z,$,ft,D,t);for(var ht=0,W=0,dt,ct;ht<j;++ht)if(dt=Z[ht]){for(ht>=W&&(W=ht+1);!(ct=$[W])&&++W<j;);dt._next=ct||null}}return h=new Un(h,a),h._enter=d,h._exit=m,h}function ID(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function MD(){return new Un(this._exit||this._groups.map(WS),this._parents)}function xD(n,t,e){var a=this.enter(),o=this,u=this.exit();return typeof n=="function"?(a=n(a),a&&(a=a.selection())):a=a.append(n+""),t!=null&&(o=t(o),o&&(o=o.selection())),e==null?u.remove():e(u),a&&o?a.merge(o).order():o}function ND(n){for(var t=n.selection?n.selection():n,e=this._groups,a=t._groups,o=e.length,u=a.length,h=Math.min(o,u),d=new Array(o),m=0;m<h;++m)for(var g=e[m],_=a[m],T=g.length,w=d[m]=new Array(T),D,j=0;j<T;++j)(D=g[j]||_[j])&&(w[j]=D);for(;m<o;++m)d[m]=e[m];return new Un(d,this._parents)}function DD(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var a=n[t],o=a.length-1,u=a[o],h;--o>=0;)(h=a[o])&&(u&&h.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(h,u),u=h);return this}function OD(n){n||(n=kD);function t(T,w){return T&&w?n(T.__data__,w.__data__):!T-!w}for(var e=this._groups,a=e.length,o=new Array(a),u=0;u<a;++u){for(var h=e[u],d=h.length,m=o[u]=new Array(d),g,_=0;_<d;++_)(g=h[_])&&(m[_]=g);m.sort(t)}return new Un(o,this._parents).order()}function kD(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function VD(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function PD(){return Array.from(this)}function LD(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a=n[t],o=0,u=a.length;o<u;++o){var h=a[o];if(h)return h}return null}function UD(){let n=0;for(const t of this)++n;return n}function BD(){return!this.node()}function zD(n){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var o=t[e],u=0,h=o.length,d;u<h;++u)(d=o[u])&&n.call(d,d.__data__,u,o);return this}function jD(n){return function(){this.removeAttribute(n)}}function GD(n){return function(){this.removeAttributeNS(n.space,n.local)}}function qD(n,t){return function(){this.setAttribute(n,t)}}function HD(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function FD(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function $D(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function KD(n,t){var e=Tf(n);if(arguments.length<2){var a=this.node();return e.local?a.getAttributeNS(e.space,e.local):a.getAttribute(e)}return this.each((t==null?e.local?GD:jD:typeof t=="function"?e.local?$D:FD:e.local?HD:qD)(e,t))}function tw(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function YD(n){return function(){this.style.removeProperty(n)}}function QD(n,t,e){return function(){this.style.setProperty(n,t,e)}}function XD(n,t,e){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(n):this.style.setProperty(n,a,e)}}function ZD(n,t,e){return arguments.length>1?this.each((t==null?YD:typeof t=="function"?XD:QD)(n,t,e??"")):wo(this.node(),n)}function wo(n,t){return n.style.getPropertyValue(t)||tw(n).getComputedStyle(n,null).getPropertyValue(t)}function JD(n){return function(){delete this[n]}}function WD(n,t){return function(){this[n]=t}}function t4(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function e4(n,t){return arguments.length>1?this.each((t==null?JD:typeof t=="function"?t4:WD)(n,t)):this.node()[n]}function ew(n){return n.trim().split(/^|\s+/)}function Vg(n){return n.classList||new nw(n)}function nw(n){this._node=n,this._names=ew(n.getAttribute("class")||"")}nw.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function iw(n,t){for(var e=Vg(n),a=-1,o=t.length;++a<o;)e.add(t[a])}function rw(n,t){for(var e=Vg(n),a=-1,o=t.length;++a<o;)e.remove(t[a])}function n4(n){return function(){iw(this,n)}}function i4(n){return function(){rw(this,n)}}function r4(n,t){return function(){(t.apply(this,arguments)?iw:rw)(this,n)}}function a4(n,t){var e=ew(n+"");if(arguments.length<2){for(var a=Vg(this.node()),o=-1,u=e.length;++o<u;)if(!a.contains(e[o]))return!1;return!0}return this.each((typeof t=="function"?r4:t?n4:i4)(e,t))}function s4(){this.textContent=""}function o4(n){return function(){this.textContent=n}}function l4(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function u4(n){return arguments.length?this.each(n==null?s4:(typeof n=="function"?l4:o4)(n)):this.node().textContent}function c4(){this.innerHTML=""}function h4(n){return function(){this.innerHTML=n}}function f4(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function d4(n){return arguments.length?this.each(n==null?c4:(typeof n=="function"?f4:h4)(n)):this.node().innerHTML}function p4(){this.nextSibling&&this.parentNode.appendChild(this)}function m4(){return this.each(p4)}function g4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function y4(){return this.each(g4)}function _4(n){var t=typeof n=="function"?n:QS(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function v4(){return null}function E4(n,t){var e=typeof n=="function"?n:QS(n),a=t==null?v4:typeof t=="function"?t:kg(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})}function T4(){var n=this.parentNode;n&&n.removeChild(this)}function S4(){return this.each(T4)}function w4(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function b4(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function A4(n){return this.select(n?b4:w4)}function R4(n){return arguments.length?this.property("__data__",n):this.node().__data__}function C4(n){return function(t){n.call(this,t,this.__data__)}}function I4(n){return n.trim().split(/^|\s+/).map(function(t){var e="",a=t.indexOf(".");return a>=0&&(e=t.slice(a+1),t=t.slice(0,a)),{type:t,name:e}})}function M4(n){return function(){var t=this.__on;if(t){for(var e=0,a=-1,o=t.length,u;e<o;++e)u=t[e],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):t[++a]=u;++a?t.length=a:delete this.__on}}}function x4(n,t,e){return function(){var a=this.__on,o,u=C4(t);if(a){for(var h=0,d=a.length;h<d;++h)if((o=a[h]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=e),o.value=t;return}}this.addEventListener(n.type,u,e),o={type:n.type,name:n.name,value:t,listener:u,options:e},a?a.push(o):this.__on=[o]}}function N4(n,t,e){var a=I4(n+""),o,u=a.length,h;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,g=d.length,_;m<g;++m)for(o=0,_=d[m];o<u;++o)if((h=a[o]).type===_.type&&h.name===_.name)return _.value}return}for(d=t?x4:M4,o=0;o<u;++o)this.each(d(a[o],t,e));return this}function aw(n,t,e){var a=tw(n),o=a.CustomEvent;typeof o=="function"?o=new o(t,e):(o=a.document.createEvent("Event"),e?(o.initEvent(t,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(t,!1,!1)),n.dispatchEvent(o)}function D4(n,t){return function(){return aw(this,n,t)}}function O4(n,t){return function(){return aw(this,n,t.apply(this,arguments))}}function k4(n,t){return this.each((typeof t=="function"?O4:D4)(n,t))}function*V4(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a=n[t],o=0,u=a.length,h;o<u;++o)(h=a[o])&&(yield h)}var sw=[null];function Un(n,t){this._groups=n,this._parents=t}function xu(){return new Un([[document.documentElement]],sw)}function P4(){return this}Un.prototype=xu.prototype={constructor:Un,select:lD,selectAll:fD,selectChild:gD,selectChildren:ED,filter:TD,data:CD,enter:SD,exit:MD,join:xD,merge:ND,selection:P4,order:DD,sort:OD,call:VD,nodes:PD,node:LD,size:UD,empty:BD,each:zD,attr:KD,style:ZD,property:e4,classed:a4,text:u4,html:d4,raise:m4,lower:y4,append:_4,insert:E4,remove:S4,clone:A4,datum:R4,on:N4,dispatch:k4,[Symbol.iterator]:V4};function Mi(n){return typeof n=="string"?new Un([[document.querySelector(n)]],[document.documentElement]):new Un([[n]],sw)}function L4(n){let t;for(;t=n.sourceEvent;)n=t;return n}function U4(n,t){if(n=L4(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var a=e.createSVGPoint();return a.x=n.clientX,a.y=n.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}}return[n.pageX,n.pageY]}function Pg(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function ow(n,t){var e=Object.create(n.prototype);for(var a in t)e[a]=t[a];return e}function Nu(){}var gu=.7,Yh=1/gu,po="\\s*([+-]?\\d+)\\s*",yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B4=/^#([0-9a-f]{3,8})$/,z4=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),j4=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),G4=new RegExp(`^rgba\\(${po},${po},${po},${yu}\\)$`),q4=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${yu}\\)$`),H4=new RegExp(`^hsl\\(${yu},${Pi},${Pi}\\)$`),F4=new RegExp(`^hsla\\(${yu},${Pi},${Pi},${yu}\\)$`),G1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pg(Nu,ss,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:q1,formatHex:q1,formatHex8:$4,formatHsl:K4,formatRgb:H1,toString:H1});function q1(){return this.rgb().formatHex()}function $4(){return this.rgb().formatHex8()}function K4(){return lw(this).formatHsl()}function H1(){return this.rgb().formatRgb()}function ss(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=B4.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?F1(t):e===3?new Mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?ah(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?ah(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=z4.exec(n))?new Mn(t[1],t[2],t[3],1):(t=j4.exec(n))?new Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=G4.exec(n))?ah(t[1],t[2],t[3],t[4]):(t=q4.exec(n))?ah(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=H4.exec(n))?Y1(t[1],t[2]/100,t[3]/100,1):(t=F4.exec(n))?Y1(t[1],t[2]/100,t[3]/100,t[4]):G1.hasOwnProperty(n)?F1(G1[n]):n==="transparent"?new Mn(NaN,NaN,NaN,0):null}function F1(n){return new Mn(n>>16&255,n>>8&255,n&255,1)}function ah(n,t,e,a){return a<=0&&(n=t=e=NaN),new Mn(n,t,e,a)}function Y4(n){return n instanceof Nu||(n=ss(n)),n?(n=n.rgb(),new Mn(n.r,n.g,n.b,n.opacity)):new Mn}function Mm(n,t,e,a){return arguments.length===1?Y4(n):new Mn(n,t,e,a??1)}function Mn(n,t,e,a){this.r=+n,this.g=+t,this.b=+e,this.opacity=+a}Pg(Mn,Mm,ow(Nu,{brighter(n){return n=n==null?Yh:Math.pow(Yh,n),new Mn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?gu:Math.pow(gu,n),new Mn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Mn(Wa(this.r),Wa(this.g),Wa(this.b),Qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$1,formatHex:$1,formatHex8:Q4,formatRgb:K1,toString:K1}));function $1(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}`}function Q4(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}${Qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function K1(){const n=Qh(this.opacity);return`${n===1?"rgb(":"rgba("}${Wa(this.r)}, ${Wa(this.g)}, ${Wa(this.b)}${n===1?")":`, ${n})`}`}function Qh(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Wa(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Qa(n){return n=Wa(n),(n<16?"0":"")+n.toString(16)}function Y1(n,t,e,a){return a<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new oi(n,t,e,a)}function lw(n){if(n instanceof oi)return new oi(n.h,n.s,n.l,n.opacity);if(n instanceof Nu||(n=ss(n)),!n)return new oi;if(n instanceof oi)return n;n=n.rgb();var t=n.r/255,e=n.g/255,a=n.b/255,o=Math.min(t,e,a),u=Math.max(t,e,a),h=NaN,d=u-o,m=(u+o)/2;return d?(t===u?h=(e-a)/d+(e<a)*6:e===u?h=(a-t)/d+2:h=(t-e)/d+4,d/=m<.5?u+o:2-u-o,h*=60):d=m>0&&m<1?0:h,new oi(h,d,m,n.opacity)}function X4(n,t,e,a){return arguments.length===1?lw(n):new oi(n,t,e,a??1)}function oi(n,t,e,a){this.h=+n,this.s=+t,this.l=+e,this.opacity=+a}Pg(oi,X4,ow(Nu,{brighter(n){return n=n==null?Yh:Math.pow(Yh,n),new oi(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?gu:Math.pow(gu,n),new oi(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,a=e+(e<.5?e:1-e)*t,o=2*e-a;return new Mn(Gp(n>=240?n-240:n+120,o,a),Gp(n,o,a),Gp(n<120?n+240:n-120,o,a),this.opacity)},clamp(){return new oi(Q1(this.h),sh(this.s),sh(this.l),Qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Qh(this.opacity);return`${n===1?"hsl(":"hsla("}${Q1(this.h)}, ${sh(this.s)*100}%, ${sh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Q1(n){return n=(n||0)%360,n<0?n+360:n}function sh(n){return Math.max(0,Math.min(1,n||0))}function Gp(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Lg=n=>()=>n;function Z4(n,t){return function(e){return n+e*t}}function J4(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(a){return Math.pow(n+a*t,e)}}function W4(n){return(n=+n)==1?uw:function(t,e){return e-t?J4(t,e,n):Lg(isNaN(t)?e:t)}}function uw(n,t){var e=t-n;return e?Z4(n,e):Lg(isNaN(n)?t:n)}const Xh=function n(t){var e=W4(t);function a(o,u){var h=e((o=Mm(o)).r,(u=Mm(u)).r),d=e(o.g,u.g),m=e(o.b,u.b),g=uw(o.opacity,u.opacity);return function(_){return o.r=h(_),o.g=d(_),o.b=m(_),o.opacity=g(_),o+""}}return a.gamma=n,a}(1);function tO(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,a=t.slice(),o;return function(u){for(o=0;o<e;++o)a[o]=n[o]*(1-u)+t[o]*u;return a}}function eO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function nO(n,t){var e=t?t.length:0,a=n?Math.min(e,n.length):0,o=new Array(a),u=new Array(e),h;for(h=0;h<a;++h)o[h]=Ug(n[h],t[h]);for(;h<e;++h)u[h]=t[h];return function(d){for(h=0;h<a;++h)u[h]=o[h](d);return u}}function iO(n,t){var e=new Date;return n=+n,t=+t,function(a){return e.setTime(n*(1-a)+t*a),e}}function ai(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function rO(n,t){var e={},a={},o;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in n?e[o]=Ug(n[o],t[o]):a[o]=t[o];return function(u){for(o in e)a[o]=e[o](u);return a}}var xm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qp=new RegExp(xm.source,"g");function aO(n){return function(){return n}}function sO(n){return function(t){return n(t)+""}}function cw(n,t){var e=xm.lastIndex=qp.lastIndex=0,a,o,u,h=-1,d=[],m=[];for(n=n+"",t=t+"";(a=xm.exec(n))&&(o=qp.exec(t));)(u=o.index)>e&&(u=t.slice(e,u),d[h]?d[h]+=u:d[++h]=u),(a=a[0])===(o=o[0])?d[h]?d[h]+=o:d[++h]=o:(d[++h]=null,m.push({i:h,x:ai(a,o)})),e=qp.lastIndex;return e<t.length&&(u=t.slice(e),d[h]?d[h]+=u:d[++h]=u),d.length<2?m[0]?sO(m[0].x):aO(t):(t=m.length,function(g){for(var _=0,T;_<t;++_)d[(T=m[_]).i]=T.x(g);return d.join("")})}function Ug(n,t){var e=typeof t,a;return t==null||e==="boolean"?Lg(t):(e==="number"?ai:e==="string"?(a=ss(t))?(t=a,Xh):cw:t instanceof ss?Xh:t instanceof Date?iO:eO(t)?tO:Array.isArray(t)?nO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rO:ai)(n,t)}function oO(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var X1=180/Math.PI,Nm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hw(n,t,e,a,o,u){var h,d,m;return(h=Math.sqrt(n*n+t*t))&&(n/=h,t/=h),(m=n*e+t*a)&&(e-=n*m,a-=t*m),(d=Math.sqrt(e*e+a*a))&&(e/=d,a/=d,m/=d),n*a<t*e&&(n=-n,t=-t,m=-m,h=-h),{translateX:o,translateY:u,rotate:Math.atan2(t,n)*X1,skewX:Math.atan(m)*X1,scaleX:h,scaleY:d}}var oh;function lO(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Nm:hw(t.a,t.b,t.c,t.d,t.e,t.f)}function uO(n){return n==null||(oh||(oh=document.createElementNS("http://www.w3.org/2000/svg","g")),oh.setAttribute("transform",n),!(n=oh.transform.baseVal.consolidate()))?Nm:(n=n.matrix,hw(n.a,n.b,n.c,n.d,n.e,n.f))}function fw(n,t,e,a){function o(g){return g.length?g.pop()+" ":""}function u(g,_,T,w,D,j){if(g!==T||_!==w){var Z=D.push("translate(",null,t,null,e);j.push({i:Z-4,x:ai(g,T)},{i:Z-2,x:ai(_,w)})}else(T||w)&&D.push("translate("+T+t+w+e)}function h(g,_,T,w){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),w.push({i:T.push(o(T)+"rotate(",null,a)-2,x:ai(g,_)})):_&&T.push(o(T)+"rotate("+_+a)}function d(g,_,T,w){g!==_?w.push({i:T.push(o(T)+"skewX(",null,a)-2,x:ai(g,_)}):_&&T.push(o(T)+"skewX("+_+a)}function m(g,_,T,w,D,j){if(g!==T||_!==w){var Z=D.push(o(D)+"scale(",null,",",null,")");j.push({i:Z-4,x:ai(g,T)},{i:Z-2,x:ai(_,w)})}else(T!==1||w!==1)&&D.push(o(D)+"scale("+T+","+w+")")}return function(g,_){var T=[],w=[];return g=n(g),_=n(_),u(g.translateX,g.translateY,_.translateX,_.translateY,T,w),h(g.rotate,_.rotate,T,w),d(g.skewX,_.skewX,T,w),m(g.scaleX,g.scaleY,_.scaleX,_.scaleY,T,w),g=_=null,function(D){for(var j=-1,Z=w.length,$;++j<Z;)T[($=w[j]).i]=$.x(D);return T.join("")}}}var cO=fw(lO,"px, ","px)","deg)"),hO=fw(uO,", ",")",")"),bo=0,Xl=0,jl=0,dw=1e3,Zh,Zl,Jh=0,os=0,Sf=0,_u=typeof performance=="object"&&performance.now?performance:Date,pw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Bg(){return os||(pw(fO),os=_u.now()+Sf)}function fO(){os=0}function Wh(){this._call=this._time=this._next=null}Wh.prototype=mw.prototype={constructor:Wh,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Bg():+e)+(t==null?0:+t),!this._next&&Zl!==this&&(Zl?Zl._next=this:Zh=this,Zl=this),this._call=n,this._time=e,Dm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dm())}};function mw(n,t,e){var a=new Wh;return a.restart(n,t,e),a}function dO(){Bg(),++bo;for(var n=Zh,t;n;)(t=os-n._time)>=0&&n._call.call(void 0,t),n=n._next;--bo}function Z1(){os=(Jh=_u.now())+Sf,bo=Xl=0;try{dO()}finally{bo=0,mO(),os=0}}function pO(){var n=_u.now(),t=n-Jh;t>dw&&(Sf-=t,Jh=n)}function mO(){for(var n,t=Zh,e,a=1/0;t;)t._call?(a>t._time&&(a=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Zh=e);Zl=n,Dm(a)}function Dm(n){if(!bo){Xl&&(Xl=clearTimeout(Xl));var t=n-os;t>24?(n<1/0&&(Xl=setTimeout(Z1,n-_u.now()-Sf)),jl&&(jl=clearInterval(jl))):(jl||(Jh=_u.now(),jl=setInterval(pO,dw)),bo=1,pw(Z1))}}function J1(n,t,e){var a=new Wh;return t=t==null?0:+t,a.restart(o=>{a.stop(),n(o+t)},t,e),a}var gO=YS("start","end","cancel","interrupt"),yO=[],gw=0,W1=1,Om=2,Sh=3,tE=4,km=5,wh=6;function wf(n,t,e,a,o,u){var h=n.__transition;if(!h)n.__transition={};else if(e in h)return;_O(n,e,{name:t,index:a,group:o,on:gO,tween:yO,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:gw})}function zg(n,t){var e=hi(n,t);if(e.state>gw)throw new Error("too late; already scheduled");return e}function zi(n,t){var e=hi(n,t);if(e.state>Sh)throw new Error("too late; already running");return e}function hi(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function _O(n,t,e){var a=n.__transition,o;a[t]=e,e.timer=mw(u,0,e.time);function u(g){e.state=W1,e.timer.restart(h,e.delay,e.time),e.delay<=g&&h(g-e.delay)}function h(g){var _,T,w,D;if(e.state!==W1)return m();for(_ in a)if(D=a[_],D.name===e.name){if(D.state===Sh)return J1(h);D.state===tE?(D.state=wh,D.timer.stop(),D.on.call("interrupt",n,n.__data__,D.index,D.group),delete a[_]):+_<t&&(D.state=wh,D.timer.stop(),D.on.call("cancel",n,n.__data__,D.index,D.group),delete a[_])}if(J1(function(){e.state===Sh&&(e.state=tE,e.timer.restart(d,e.delay,e.time),d(g))}),e.state=Om,e.on.call("start",n,n.__data__,e.index,e.group),e.state===Om){for(e.state=Sh,o=new Array(w=e.tween.length),_=0,T=-1;_<w;++_)(D=e.tween[_].value.call(n,n.__data__,e.index,e.group))&&(o[++T]=D);o.length=T+1}}function d(g){for(var _=g<e.duration?e.ease.call(null,g/e.duration):(e.timer.restart(m),e.state=km,1),T=-1,w=o.length;++T<w;)o[T].call(n,_);e.state===km&&(e.on.call("end",n,n.__data__,e.index,e.group),m())}function m(){e.state=wh,e.timer.stop(),delete a[t];for(var g in a)return;delete n.__transition}}function vO(n,t){var e=n.__transition,a,o,u=!0,h;if(e){t=t==null?null:t+"";for(h in e){if((a=e[h]).name!==t){u=!1;continue}o=a.state>Om&&a.state<km,a.state=wh,a.timer.stop(),a.on.call(o?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete e[h]}u&&delete n.__transition}}function EO(n){return this.each(function(){vO(this,n)})}function TO(n,t){var e,a;return function(){var o=zi(this,n),u=o.tween;if(u!==e){a=e=u;for(var h=0,d=a.length;h<d;++h)if(a[h].name===t){a=a.slice(),a.splice(h,1);break}}o.tween=a}}function SO(n,t,e){var a,o;if(typeof e!="function")throw new Error;return function(){var u=zi(this,n),h=u.tween;if(h!==a){o=(a=h).slice();for(var d={name:t,value:e},m=0,g=o.length;m<g;++m)if(o[m].name===t){o[m]=d;break}m===g&&o.push(d)}u.tween=o}}function wO(n,t){var e=this._id;if(n+="",arguments.length<2){for(var a=hi(this.node(),e).tween,o=0,u=a.length,h;o<u;++o)if((h=a[o]).name===n)return h.value;return null}return this.each((t==null?TO:SO)(e,n,t))}function jg(n,t,e){var a=n._id;return n.each(function(){var o=zi(this,a);(o.value||(o.value={}))[t]=e.apply(this,arguments)}),function(o){return hi(o,a).value[t]}}function yw(n,t){var e;return(typeof t=="number"?ai:t instanceof ss?Xh:(e=ss(t))?(t=e,Xh):cw)(n,t)}function bO(n){return function(){this.removeAttribute(n)}}function AO(n){return function(){this.removeAttributeNS(n.space,n.local)}}function RO(n,t,e){var a,o=e+"",u;return function(){var h=this.getAttribute(n);return h===o?null:h===a?u:u=t(a=h,e)}}function CO(n,t,e){var a,o=e+"",u;return function(){var h=this.getAttributeNS(n.space,n.local);return h===o?null:h===a?u:u=t(a=h,e)}}function IO(n,t,e){var a,o,u;return function(){var h,d=e(this),m;return d==null?void this.removeAttribute(n):(h=this.getAttribute(n),m=d+"",h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d)))}}function MO(n,t,e){var a,o,u;return function(){var h,d=e(this),m;return d==null?void this.removeAttributeNS(n.space,n.local):(h=this.getAttributeNS(n.space,n.local),m=d+"",h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d)))}}function xO(n,t){var e=Tf(n),a=e==="transform"?hO:yw;return this.attrTween(n,typeof t=="function"?(e.local?MO:IO)(e,a,jg(this,"attr."+n,t)):t==null?(e.local?AO:bO)(e):(e.local?CO:RO)(e,a,t))}function NO(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function DO(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function OO(n,t){var e,a;function o(){var u=t.apply(this,arguments);return u!==a&&(e=(a=u)&&DO(n,u)),e}return o._value=t,o}function kO(n,t){var e,a;function o(){var u=t.apply(this,arguments);return u!==a&&(e=(a=u)&&NO(n,u)),e}return o._value=t,o}function VO(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var a=Tf(n);return this.tween(e,(a.local?OO:kO)(a,t))}function PO(n,t){return function(){zg(this,n).delay=+t.apply(this,arguments)}}function LO(n,t){return t=+t,function(){zg(this,n).delay=t}}function UO(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?PO:LO)(t,n)):hi(this.node(),t).delay}function BO(n,t){return function(){zi(this,n).duration=+t.apply(this,arguments)}}function zO(n,t){return t=+t,function(){zi(this,n).duration=t}}function jO(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?BO:zO)(t,n)):hi(this.node(),t).duration}function GO(n,t){if(typeof t!="function")throw new Error;return function(){zi(this,n).ease=t}}function qO(n){var t=this._id;return arguments.length?this.each(GO(t,n)):hi(this.node(),t).ease}function HO(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;zi(this,n).ease=e}}function FO(n){if(typeof n!="function")throw new Error;return this.each(HO(this._id,n))}function $O(n){typeof n!="function"&&(n=ZS(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=[],m,g=0;g<h;++g)(m=u[g])&&n.call(m,m.__data__,g,u)&&d.push(m);return new Tr(a,this._parents,this._name,this._id)}function KO(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,a=t.length,o=e.length,u=Math.min(a,o),h=new Array(a),d=0;d<u;++d)for(var m=t[d],g=e[d],_=m.length,T=h[d]=new Array(_),w,D=0;D<_;++D)(w=m[D]||g[D])&&(T[D]=w);for(;d<a;++d)h[d]=t[d];return new Tr(h,this._parents,this._name,this._id)}function YO(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function QO(n,t,e){var a,o,u=YO(t)?zg:zi;return function(){var h=u(this,n),d=h.on;d!==a&&(o=(a=d).copy()).on(t,e),h.on=o}}function XO(n,t){var e=this._id;return arguments.length<2?hi(this.node(),e).on.on(n):this.each(QO(e,n,t))}function ZO(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function JO(){return this.on("end.remove",ZO(this._id))}function WO(n){var t=this._name,e=this._id;typeof n!="function"&&(n=kg(n));for(var a=this._groups,o=a.length,u=new Array(o),h=0;h<o;++h)for(var d=a[h],m=d.length,g=u[h]=new Array(m),_,T,w=0;w<m;++w)(_=d[w])&&(T=n.call(_,_.__data__,w,d))&&("__data__"in _&&(T.__data__=_.__data__),g[w]=T,wf(g[w],t,e,w,g,hi(_,e)));return new Tr(u,this._parents,t,e)}function t3(n){var t=this._name,e=this._id;typeof n!="function"&&(n=XS(n));for(var a=this._groups,o=a.length,u=[],h=[],d=0;d<o;++d)for(var m=a[d],g=m.length,_,T=0;T<g;++T)if(_=m[T]){for(var w=n.call(_,_.__data__,T,m),D,j=hi(_,e),Z=0,$=w.length;Z<$;++Z)(D=w[Z])&&wf(D,t,e,Z,w,j);u.push(w),h.push(_)}return new Tr(u,h,t,e)}var e3=xu.prototype.constructor;function n3(){return new e3(this._groups,this._parents)}function i3(n,t){var e,a,o;return function(){var u=wo(this,n),h=(this.style.removeProperty(n),wo(this,n));return u===h?null:u===e&&h===a?o:o=t(e=u,a=h)}}function _w(n){return function(){this.style.removeProperty(n)}}function r3(n,t,e){var a,o=e+"",u;return function(){var h=wo(this,n);return h===o?null:h===a?u:u=t(a=h,e)}}function a3(n,t,e){var a,o,u;return function(){var h=wo(this,n),d=e(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(n),wo(this,n))),h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d))}}function s3(n,t){var e,a,o,u="style."+t,h="end."+u,d;return function(){var m=zi(this,n),g=m.on,_=m.value[u]==null?d||(d=_w(t)):void 0;(g!==e||o!==_)&&(a=(e=g).copy()).on(h,o=_),m.on=a}}function o3(n,t,e){var a=(n+="")=="transform"?cO:yw;return t==null?this.styleTween(n,i3(n,a)).on("end.style."+n,_w(n)):typeof t=="function"?this.styleTween(n,a3(n,a,jg(this,"style."+n,t))).each(s3(this._id,n)):this.styleTween(n,r3(n,a,t),e).on("end.style."+n,null)}function l3(n,t,e){return function(a){this.style.setProperty(n,t.call(this,a),e)}}function u3(n,t,e){var a,o;function u(){var h=t.apply(this,arguments);return h!==o&&(a=(o=h)&&l3(n,h,e)),a}return u._value=t,u}function c3(n,t,e){var a="style."+(n+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,u3(n,t,e??""))}function h3(n){return function(){this.textContent=n}}function f3(n){return function(){var t=n(this);this.textContent=t??""}}function d3(n){return this.tween("text",typeof n=="function"?f3(jg(this,"text",n)):h3(n==null?"":n+""))}function p3(n){return function(t){this.textContent=n.call(this,t)}}function m3(n){var t,e;function a(){var o=n.apply(this,arguments);return o!==e&&(t=(e=o)&&p3(o)),t}return a._value=n,a}function g3(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,m3(n))}function y3(){for(var n=this._name,t=this._id,e=vw(),a=this._groups,o=a.length,u=0;u<o;++u)for(var h=a[u],d=h.length,m,g=0;g<d;++g)if(m=h[g]){var _=hi(m,t);wf(m,n,e,g,h,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Tr(a,this._parents,n,e)}function _3(){var n,t,e=this,a=e._id,o=e.size();return new Promise(function(u,h){var d={value:h},m={value:function(){--o===0&&u()}};e.each(function(){var g=zi(this,a),_=g.on;_!==n&&(t=(n=_).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(m)),g.on=t}),o===0&&u()})}var v3=0;function Tr(n,t,e,a){this._groups=n,this._parents=t,this._name=e,this._id=a}function vw(){return++v3}var fr=xu.prototype;Tr.prototype={constructor:Tr,select:WO,selectAll:t3,selectChild:fr.selectChild,selectChildren:fr.selectChildren,filter:$O,merge:KO,selection:n3,transition:y3,call:fr.call,nodes:fr.nodes,node:fr.node,size:fr.size,empty:fr.empty,each:fr.each,on:XO,attr:xO,attrTween:VO,style:o3,styleTween:c3,text:d3,textTween:g3,remove:JO,tween:wO,delay:UO,duration:jO,ease:qO,easeVarying:FO,end:_3,[Symbol.iterator]:fr[Symbol.iterator]};const eE=n=>+n;function E3(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var T3={time:null,delay:0,duration:250,ease:E3};function S3(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function w3(n){var t,e;n instanceof Tr?(t=n._id,n=n._name):(t=vw(),(e=T3).time=Bg(),n=n==null?null:n+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var h=a[u],d=h.length,m,g=0;g<d;++g)(m=h[g])&&wf(m,n,t,g,h,e||S3(m,t));return new Tr(a,this._parents,n,t)}xu.prototype.interrupt=EO;xu.prototype.transition=w3;const Vm=Math.PI,Pm=2*Vm,$a=1e-6,b3=Pm-$a;function Ew(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function A3(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return Ew;const e=10**t;return function(a){this._+=a[0];for(let o=1,u=a.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+a[o]}}class R3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ew:A3(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,a,o){this._append`Q${+t},${+e},${this._x1=+a},${this._y1=+o}`}bezierCurveTo(t,e,a,o,u,h){this._append`C${+t},${+e},${+a},${+o},${this._x1=+u},${this._y1=+h}`}arcTo(t,e,a,o,u){if(t=+t,e=+e,a=+a,o=+o,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,d=this._y1,m=a-t,g=o-e,_=h-t,T=d-e,w=_*_+T*T;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(w>$a)if(!(Math.abs(T*m-g*_)>$a)||!u)this._append`L${this._x1=t},${this._y1=e}`;else{let D=a-h,j=o-d,Z=m*m+g*g,$=D*D+j*j,ft=Math.sqrt(Z),ht=Math.sqrt(w),W=u*Math.tan((Vm-Math.acos((Z+w-$)/(2*ft*ht)))/2),dt=W/ht,ct=W/ft;Math.abs(dt-1)>$a&&this._append`L${t+dt*_},${e+dt*T}`,this._append`A${u},${u},0,0,${+(T*D>_*j)},${this._x1=t+ct*m},${this._y1=e+ct*g}`}}arc(t,e,a,o,u,h){if(t=+t,e=+e,a=+a,h=!!h,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(o),m=a*Math.sin(o),g=t+d,_=e+m,T=1^h,w=h?o-u:u-o;this._x1===null?this._append`M${g},${_}`:(Math.abs(this._x1-g)>$a||Math.abs(this._y1-_)>$a)&&this._append`L${g},${_}`,a&&(w<0&&(w=w%Pm+Pm),w>b3?this._append`A${a},${a},0,1,${T},${t-d},${e-m}A${a},${a},0,1,${T},${this._x1=g},${this._y1=_}`:w>$a&&this._append`A${a},${a},0,${+(w>=Vm)},${T},${this._x1=t+a*Math.cos(u)},${this._y1=e+a*Math.sin(u)}`)}rect(t,e,a,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${a=+a}v${+o}h${-a}Z`}toString(){return this._}}var nE={},Hp={},Fp=34,Gl=10,$p=13;function Tw(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function C3(n,t){var e=Tw(n);return function(a,o){return t(e(a),o,n)}}function iE(n){var t=Object.create(null),e=[];return n.forEach(function(a){for(var o in a)o in t||e.push(t[o]=o)}),e}function Cn(n,t){var e=n+"",a=e.length;return a<t?new Array(t-a+1).join(0)+e:e}function I3(n){return n<0?"-"+Cn(-n,6):n>9999?"+"+Cn(n,6):Cn(n,4)}function M3(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),a=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":I3(n.getUTCFullYear())+"-"+Cn(n.getUTCMonth()+1,2)+"-"+Cn(n.getUTCDate(),2)+(o?"T"+Cn(t,2)+":"+Cn(e,2)+":"+Cn(a,2)+"."+Cn(o,3)+"Z":a?"T"+Cn(t,2)+":"+Cn(e,2)+":"+Cn(a,2)+"Z":e||t?"T"+Cn(t,2)+":"+Cn(e,2)+"Z":"")}function x3(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function a(T,w){var D,j,Z=o(T,function($,ft){if(D)return D($,ft-1);j=$,D=w?C3($,w):Tw($)});return Z.columns=j||[],Z}function o(T,w){var D=[],j=T.length,Z=0,$=0,ft,ht=j<=0,W=!1;T.charCodeAt(j-1)===Gl&&--j,T.charCodeAt(j-1)===$p&&--j;function dt(){if(ht)return Hp;if(W)return W=!1,nE;var yt,k=Z,I;if(T.charCodeAt(k)===Fp){for(;Z++<j&&T.charCodeAt(Z)!==Fp||T.charCodeAt(++Z)===Fp;);return(yt=Z)>=j?ht=!0:(I=T.charCodeAt(Z++))===Gl?W=!0:I===$p&&(W=!0,T.charCodeAt(Z)===Gl&&++Z),T.slice(k+1,yt-1).replace(/""/g,'"')}for(;Z<j;){if((I=T.charCodeAt(yt=Z++))===Gl)W=!0;else if(I===$p)W=!0,T.charCodeAt(Z)===Gl&&++Z;else if(I!==e)continue;return T.slice(k,yt)}return ht=!0,T.slice(k,j)}for(;(ft=dt())!==Hp;){for(var ct=[];ft!==nE&&ft!==Hp;)ct.push(ft),ft=dt();w&&(ct=w(ct,$++))==null||D.push(ct)}return D}function u(T,w){return T.map(function(D){return w.map(function(j){return _(D[j])}).join(n)})}function h(T,w){return w==null&&(w=iE(T)),[w.map(_).join(n)].concat(u(T,w)).join(`
`)}function d(T,w){return w==null&&(w=iE(T)),u(T,w).join(`
`)}function m(T){return T.map(g).join(`
`)}function g(T){return T.map(_).join(n)}function _(T){return T==null?"":T instanceof Date?M3(T):t.test(T+="")?'"'+T.replace(/"/g,'""')+'"':T}return{parse:a,parseRows:o,format:h,formatBody:d,formatRows:m,formatRow:g,formatValue:_}}var N3=x3(","),D3=N3.parse;function O3(n){for(var t in n){var e=n[t].trim(),a,o;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(a=+e))e=a;else if(o=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))k3&&o[4]&&!o[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[t]=e}return n}const k3=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function V3(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function P3(n,t){return fetch(n,t).then(V3)}function L3(n){return function(t,e,a){return arguments.length===2&&typeof e=="function"&&(a=e,e=void 0),P3(t,e).then(function(o){return n(o,a)})}}var U3=L3(D3);function B3(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function tf(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,a=n.slice(0,e);return[a.length>1?a[0]+a.slice(2):a,+n.slice(e+1)]}function Ao(n){return n=tf(Math.abs(n)),n?n[1]:NaN}function z3(n,t){return function(e,a){for(var o=e.length,u=[],h=0,d=n[0],m=0;o>0&&d>0&&(m+d+1>a&&(d=Math.max(1,a-m)),u.push(e.substring(o-=d,o+d)),!((m+=d+1)>a));)d=n[h=(h+1)%n.length];return u.reverse().join(t)}}function j3(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var G3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ef(n){if(!(t=G3.exec(n)))throw new Error("invalid format: "+n);var t;return new Gg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ef.prototype=Gg.prototype;function Gg(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Gg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q3(n){t:for(var t=n.length,e=1,a=-1,o;e<t;++e)switch(n[e]){case".":a=o=e;break;case"0":a===0&&(a=e),o=e;break;default:if(!+n[e])break t;a>0&&(a=0);break}return a>0?n.slice(0,a)+n.slice(o+1):n}var Sw;function H3(n,t){var e=tf(n,t);if(!e)return n+"";var a=e[0],o=e[1],u=o-(Sw=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,h=a.length;return u===h?a:u>h?a+new Array(u-h+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+tf(n,Math.max(0,t+u-1))[0]}function rE(n,t){var e=tf(n,t);if(!e)return n+"";var a=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}const aE={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:B3,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>rE(n*100,t),r:rE,s:H3,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function sE(n){return n}var oE=Array.prototype.map,lE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function F3(n){var t=n.grouping===void 0||n.thousands===void 0?sE:z3(oE.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",a=n.currency===void 0?"":n.currency[1]+"",o=n.decimal===void 0?".":n.decimal+"",u=n.numerals===void 0?sE:j3(oE.call(n.numerals,String)),h=n.percent===void 0?"%":n.percent+"",d=n.minus===void 0?"−":n.minus+"",m=n.nan===void 0?"NaN":n.nan+"";function g(T){T=ef(T);var w=T.fill,D=T.align,j=T.sign,Z=T.symbol,$=T.zero,ft=T.width,ht=T.comma,W=T.precision,dt=T.trim,ct=T.type;ct==="n"?(ht=!0,ct="g"):aE[ct]||(W===void 0&&(W=12),dt=!0,ct="g"),($||w==="0"&&D==="=")&&($=!0,w="0",D="=");var yt=Z==="$"?e:Z==="#"&&/[boxX]/.test(ct)?"0"+ct.toLowerCase():"",k=Z==="$"?a:/[%p]/.test(ct)?h:"",I=aE[ct],C=/[defgprs%]/.test(ct);W=W===void 0?6:/[gprs]/.test(ct)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));function V(N){var L=yt,M=k,nt,U,x;if(ct==="c")M=I(N)+M,N="";else{N=+N;var P=N<0||1/N<0;if(N=isNaN(N)?m:I(Math.abs(N),W),dt&&(N=q3(N)),P&&+N==0&&j!=="+"&&(P=!1),L=(P?j==="("?j:d:j==="-"||j==="("?"":j)+L,M=(ct==="s"?lE[8+Sw/3]:"")+M+(P&&j==="("?")":""),C){for(nt=-1,U=N.length;++nt<U;)if(x=N.charCodeAt(nt),48>x||x>57){M=(x===46?o+N.slice(nt+1):N.slice(nt))+M,N=N.slice(0,nt);break}}}ht&&!$&&(N=t(N,1/0));var z=L.length+N.length+M.length,Q=z<ft?new Array(ft-z+1).join(w):"";switch(ht&&$&&(N=t(Q+N,Q.length?ft-M.length:1/0),Q=""),D){case"<":N=L+N+M+Q;break;case"=":N=L+Q+N+M;break;case"^":N=Q.slice(0,z=Q.length>>1)+L+N+M+Q.slice(z);break;default:N=Q+L+N+M;break}return u(N)}return V.toString=function(){return T+""},V}function _(T,w){var D=g((T=ef(T),T.type="f",T)),j=Math.max(-8,Math.min(8,Math.floor(Ao(w)/3)))*3,Z=Math.pow(10,-j),$=lE[8+j/3];return function(ft){return D(Z*ft)+$}}return{format:g,formatPrefix:_}}var lh,ww,bw;$3({thousands:",",grouping:[3],currency:["$",""]});function $3(n){return lh=F3(n),ww=lh.format,bw=lh.formatPrefix,lh}function K3(n){return Math.max(0,-Ao(Math.abs(n)))}function Y3(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ao(t)/3)))*3-Ao(Math.abs(n)))}function Q3(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Ao(t)-Ao(n))+1}function qg(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const uE=Symbol("implicit");function Aw(){var n=new bm,t=[],e=[],a=uE;function o(u){let h=n.get(u);if(h===void 0){if(a!==uE)return a;n.set(u,h=t.push(u)-1)}return e[h%e.length]}return o.domain=function(u){if(!arguments.length)return t.slice();t=[],n=new bm;for(const h of u)n.has(h)||n.set(h,t.push(h)-1);return o},o.range=function(u){return arguments.length?(e=Array.from(u),o):e.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.copy=function(){return Aw(t,e).unknown(a)},qg.apply(o,arguments),o}function Rw(){var n=Aw().unknown(void 0),t=n.domain,e=n.range,a=0,o=1,u,h,d=!1,m=0,g=0,_=.5;delete n.unknown;function T(){var w=t().length,D=o<a,j=D?o:a,Z=D?a:o;u=(Z-j)/Math.max(1,w-m+g*2),d&&(u=Math.floor(u)),j+=(Z-j-u*(w-m))*_,h=u*(1-m),d&&(j=Math.round(j),h=Math.round(h));var $=YN(w).map(function(ft){return j+u*ft});return e(D?$.reverse():$)}return n.domain=function(w){return arguments.length?(t(w),T()):t()},n.range=function(w){return arguments.length?([a,o]=w,a=+a,o=+o,T()):[a,o]},n.rangeRound=function(w){return[a,o]=w,a=+a,o=+o,d=!0,T()},n.bandwidth=function(){return h},n.step=function(){return u},n.round=function(w){return arguments.length?(d=!!w,T()):d},n.padding=function(w){return arguments.length?(m=Math.min(1,g=+w),T()):m},n.paddingInner=function(w){return arguments.length?(m=Math.min(1,w),T()):m},n.paddingOuter=function(w){return arguments.length?(g=+w,T()):g},n.align=function(w){return arguments.length?(_=Math.max(0,Math.min(1,w)),T()):_},n.copy=function(){return Rw(t(),[a,o]).round(d).paddingInner(m).paddingOuter(g).align(_)},qg.apply(T(),arguments)}function X3(n){return function(){return n}}function Z3(n){return+n}var cE=[0,1];function lo(n){return n}function Lm(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:X3(isNaN(t)?NaN:.5)}function J3(n,t){var e;return n>t&&(e=n,n=t,t=e),function(a){return Math.max(n,Math.min(t,a))}}function W3(n,t,e){var a=n[0],o=n[1],u=t[0],h=t[1];return o<a?(a=Lm(o,a),u=e(h,u)):(a=Lm(a,o),u=e(u,h)),function(d){return u(a(d))}}function t6(n,t,e){var a=Math.min(n.length,t.length)-1,o=new Array(a),u=new Array(a),h=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++h<a;)o[h]=Lm(n[h],n[h+1]),u[h]=e(t[h],t[h+1]);return function(d){var m=PN(n,d,1,a)-1;return u[m](o[m](d))}}function e6(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function n6(){var n=cE,t=cE,e=Ug,a,o,u,h=lo,d,m,g;function _(){var w=Math.min(n.length,t.length);return h!==lo&&(h=J3(n[0],n[w-1])),d=w>2?t6:W3,m=g=null,T}function T(w){return w==null||isNaN(w=+w)?u:(m||(m=d(n.map(a),t,e)))(a(h(w)))}return T.invert=function(w){return h(o((g||(g=d(t,n.map(a),ai)))(w)))},T.domain=function(w){return arguments.length?(n=Array.from(w,Z3),_()):n.slice()},T.range=function(w){return arguments.length?(t=Array.from(w),_()):t.slice()},T.rangeRound=function(w){return t=Array.from(w),e=oO,_()},T.clamp=function(w){return arguments.length?(h=w?!0:lo,_()):h!==lo},T.interpolate=function(w){return arguments.length?(e=w,_()):e},T.unknown=function(w){return arguments.length?(u=w,T):u},function(w,D){return a=w,o=D,_()}}function i6(){return n6()(lo,lo)}function r6(n,t,e,a){var o=$N(n,t,e),u;switch(a=ef(a??",f"),a.type){case"s":{var h=Math.max(Math.abs(n),Math.abs(t));return a.precision==null&&!isNaN(u=Y3(o,h))&&(a.precision=u),bw(a,h)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(u=Q3(o,Math.max(Math.abs(n),Math.abs(t))))&&(a.precision=u-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(u=K3(o))&&(a.precision=u-(a.type==="%")*2);break}}return ww(a)}function a6(n){var t=n.domain;return n.ticks=function(e){var a=t();return FN(a[0],a[a.length-1],e??10)},n.tickFormat=function(e,a){var o=t();return r6(o[0],o[o.length-1],e??10,a)},n.nice=function(e){e==null&&(e=10);var a=t(),o=0,u=a.length-1,h=a[o],d=a[u],m,g,_=10;for(d<h&&(g=h,h=d,d=g,g=o,o=u,u=g);_-- >0;){if(g=Rm(h,d,e),g===m)return a[o]=h,a[u]=d,t(a);if(g>0)h=Math.floor(h/g)*g,d=Math.ceil(d/g)*g;else if(g<0)h=Math.ceil(h*g)/g,d=Math.floor(d*g)/g;else break;m=g}return n},n}function nf(){var n=i6();return n.copy=function(){return e6(n,nf())},qg.apply(n,arguments),a6(n)}function no(n){return function(){return n}}function s6(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const a=Math.floor(e);if(!(a>=0))throw new RangeError(`invalid digits: ${e}`);t=a}return n},()=>new R3(t)}function o6(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Cw(n){this._context=n}Cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function l6(n){return new Cw(n)}function u6(n){return n[0]}function c6(n){return n[1]}function h6(n,t){var e=no(!0),a=null,o=l6,u=null,h=s6(d);n=typeof n=="function"?n:n===void 0?u6:no(n),t=typeof t=="function"?t:t===void 0?c6:no(t);function d(m){var g,_=(m=o6(m)).length,T,w=!1,D;for(a==null&&(u=o(D=h())),g=0;g<=_;++g)!(g<_&&e(T=m[g],g,m))===w&&((w=!w)?u.lineStart():u.lineEnd()),w&&u.point(+n(T,g,m),+t(T,g,m));if(D)return u=null,D+""||null}return d.x=function(m){return arguments.length?(n=typeof m=="function"?m:no(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:no(+m),d):t},d.defined=function(m){return arguments.length?(e=typeof m=="function"?m:no(!!m),d):e},d.curve=function(m){return arguments.length?(o=m,a!=null&&(u=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=u=null:u=o(a=m),d):a},d}function hE(n){return n<0?-1:1}function fE(n,t,e){var a=n._x1-n._x0,o=t-n._x1,u=(n._y1-n._y0)/(a||o<0&&-0),h=(e-n._y1)/(o||a<0&&-0),d=(u*o+h*a)/(a+o);return(hE(u)+hE(h))*Math.min(Math.abs(u),Math.abs(h),.5*Math.abs(d))||0}function dE(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function Kp(n,t,e){var a=n._x0,o=n._y0,u=n._x1,h=n._y1,d=(u-a)/3;n._context.bezierCurveTo(a+d,o+d*t,u-d,h-d*e,u,h)}function rf(n){this._context=n}rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kp(this,this._t0,dE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,Kp(this,dE(this,e=fE(this,n,t)),e);break;default:Kp(this,this._t0,e=fE(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};Object.create(rf.prototype).point=function(n,t){rf.prototype.point.call(this,t,n)};function f6(n){return new rf(n)}function Jl(n,t,e){this.k=n,this.x=t,this.y=e}Jl.prototype={constructor:Jl,scale:function(n){return n===1?this:new Jl(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Jl(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Jl.prototype;function d6(n){const[t,e]=bt.useState({width:0,height:0});return bt.useEffect(()=>{const a=n.current;if(!a)return;const o=new ResizeObserver(([u])=>e(u.contentRect));return o.observe(a),()=>o.disconnect()},[n]),t}const ts=["#3b9e9e","#4f7cac","#b48f2b","#8c6fa8","#d17968"],p6=JSON.parse('[{"country":"Afghanistan","population":37172386},{"country":"Albania","population":2866376},{"country":"Algeria","population":42228429},{"country":"American Samoa","population":55465},{"country":"Andorra","population":77006},{"country":"Angola","population":30809762},{"country":"Anguilla","population":15094},{"country":"Antarctica","population":1106},{"country":"Antigua and Barbuda","population":96286},{"country":"Argentina","population":44494502},{"country":"Armenia","population":2951776},{"country":"Aruba","population":105845},{"country":"Australia","population":24982688},{"country":"Austria","population":8840521},{"country":"Azerbaijan","population":9939800},{"country":"Bahamas","population":385640},{"country":"Bahrain","population":1569439},{"country":"Bangladesh","population":161356039},{"country":"Barbados","population":286641},{"country":"Belarus","population":9483499},{"country":"Belgium","population":11433256},{"country":"Belize","population":383071},{"country":"Benin","population":11485048},{"country":"Bermuda","population":63973},{"country":"Bhutan","population":754394},{"country":"Bolivia","population":11353142},{"country":"Bosnia and Herzegovina","population":3323929},{"country":"Botswana","population":2254126},{"country":"Bouvet Island","population":0},{"country":"Brazil","population":209469333},{"country":"British Indian Ocean Territory","population":0},{"country":"Brunei","population":428962},{"country":"Bulgaria","population":7025037},{"country":"Burkina Faso","population":19751535},{"country":"Burundi","population":11175378},{"country":"Cabo Verde","population":555987},{"country":"Cambodia","population":16249798},{"country":"Cameroon","population":25216237},{"country":"Canada","population":37057765},{"country":"Cape Verde","population":543767},{"country":"Cayman Islands","population":64174},{"country":"Central African Republic","population":4666377},{"country":"Chad","population":15477751},{"country":"Chile","population":18729160},{"country":"China","population":1392730000},{"country":"Christmas Island","population":1402},{"country":"Cocos (Keeling) Islands","population":596},{"country":"Colombia","population":49648685},{"country":"Comoros","population":832322},{"country":"Congo","population":5244363},{"country":"Cook Islands","population":17379},{"country":"Costa Rica","population":4999441},{"country":"Croatia","population":4087843},{"country":"Cuba","population":11338138},{"country":"Cyprus","population":1189265},{"country":"Czech Republic","population":10629928},{"country":"Denmark","population":5793636},{"country":"Djibouti","population":958920},{"country":"Dominica","population":71625},{"country":"Dominican Republic","population":10627165},{"country":"East Timor","population":1267972},{"country":"Ecuador","population":17084357},{"country":"Egypt","population":98423595},{"country":"El Salvador","population":6420744},{"country":"England","population":55619400},{"country":"Equatorial Guinea","population":1308974},{"country":"Eritrea","population":6213972},{"country":"Estonia","population":1321977},{"country":"Eswatini","population":1136191},{"country":"Ethiopia","population":109224559},{"country":"Falkland Islands","population":2840},{"country":"Faroe Islands","population":48497},{"country":"Fiji Islands","population":883483},{"country":"Finland","population":5515525},{"country":"France","population":66977107},{"country":"French Guiana","population":290691},{"country":"French Polynesia","population":277679},{"country":"French Southern territories","population":0},{"country":"Gabon","population":2119275},{"country":"Gambia","population":2280102},{"country":"Georgia","population":3726549},{"country":"Germany","population":82905782},{"country":"Ghana","population":29767108},{"country":"Gibraltar","population":33718},{"country":"Greece","population":10731726},{"country":"Greenland","population":56025},{"country":"Grenada","population":111454},{"country":"Guadeloupe","population":395700},{"country":"Guam","population":165768},{"country":"Guatemala","population":17247807},{"country":"Guinea","population":12414318},{"country":"Guinea-Bissau","population":1874309},{"country":"Guyana","population":779004},{"country":"Haiti","population":11123176},{"country":"Heard Island and McDonald Islands","population":0},{"country":"Holy See (Vatican City State)","population":825},{"country":"Honduras","population":9587522},{"country":"Hong Kong","population":7451000},{"country":"Hungary","population":9775564},{"country":"Iceland","population":352721},{"country":"India","population":1352617328},{"country":"Indonesia","population":267663435},{"country":"Iran","population":81800269},{"country":"Iraq","population":38433600},{"country":"Ireland","population":4867309},{"country":"Israel","population":8882800},{"country":"Italy","population":60421760},{"country":"Ivory Coast","population":25069229},{"country":"Jamaica","population":2934855},{"country":"Japan","population":126529100},{"country":"Jordan","population":9956011},{"country":"Kazakhstan","population":18272430},{"country":"Kenya","population":51393010},{"country":"Kiribati","population":115847},{"country":"Kuwait","population":4137309},{"country":"Kyrgyzstan","population":6322800},{"country":"Laos","population":7061507},{"country":"Latvia","population":1927174},{"country":"Lebanon","population":6848925},{"country":"Lesotho","population":2108132},{"country":"Liberia","population":4818977},{"country":"Libya","population":6678567},{"country":"Liechtenstein","population":37910},{"country":"Lithuania","population":2801543},{"country":"Luxembourg","population":607950},{"country":"Macao","population":631636},{"country":"North Macedonia","population":2084367},{"country":"Madagascar","population":26262368},{"country":"Malawi","population":18143315},{"country":"Malaysia","population":31528585},{"country":"Maldives","population":515696},{"country":"Mali","population":19077690},{"country":"Malta","population":484630},{"country":"Marshall Islands","population":58413},{"country":"Martinique","population":376480},{"country":"Mauritania","population":4403319},{"country":"Mauritius","population":1265303},{"country":"Mayotte","population":270372},{"country":"Mexico","population":126190788},{"country":"Micronesia, Federated States of","population":112640},{"country":"Moldova","population":2706049},{"country":"Monaco","population":38682},{"country":"Mongolia","population":3170208},{"country":"Montenegro","population":631219},{"country":"Montserrat","population":5900},{"country":"Morocco","population":36029138},{"country":"Mozambique","population":29495962},{"country":"Myanmar","population":53708395},{"country":"Namibia","population":2448255},{"country":"Nauru","population":12704},{"country":"Nepal","population":28087871},{"country":"Netherlands","population":17231624},{"country":"Netherlands Antilles","population":227049},{"country":"New Caledonia","population":284060},{"country":"New Zealand","population":4841000},{"country":"Nicaragua","population":6465513},{"country":"Niger","population":22442948},{"country":"Nigeria","population":195874740},{"country":"Niue","population":1624},{"country":"Norfolk Island","population":2169},{"country":"North Korea","population":25549819},{"country":"Northern Ireland","population":1885400},{"country":"Northern Mariana Islands","population":56882},{"country":"Norway","population":5311916},{"country":"Oman","population":4829483},{"country":"Pakistan","population":212215030},{"country":"Palau","population":17907},{"country":"Palestine","population":4569087},{"country":"Panama","population":4176873},{"country":"Papua New Guinea","population":8606316},{"country":"Paraguay","population":6956071},{"country":"Peru","population":31989256},{"country":"Philippines","population":106651922},{"country":"Pitcairn","population":67},{"country":"Poland","population":37974750},{"country":"Portugal","population":10283822},{"country":"Puerto Rico","population":3195153},{"country":"Qatar","population":2781677},{"country":"Reunion","population":859959},{"country":"Romania","population":19466145},{"country":"Russia","population":144478050},{"country":"Rwanda","population":12301939},{"country":"Saint Helena","population":6600},{"country":"Saint Kitts and Nevis","population":52441},{"country":"Saint Lucia","population":181889},{"country":"Saint Pierre and Miquelon","population":5888},{"country":"Saint Vincent and the Grenadines","population":110210},{"country":"Samoa","population":196130},{"country":"San Marino","population":33785},{"country":"Sao Tome and Principe","population":211028},{"country":"Saudi Arabia","population":33699947},{"country":"Scotland","population":5424800},{"country":"Senegal","population":15854360},{"country":"Serbia","population":6963764},{"country":"Seychelles","population":96762},{"country":"Sierra Leone","population":7650154},{"country":"Singapore","population":5638676},{"country":"Slovakia","population":5446771},{"country":"Slovenia","population":2073894},{"country":"Solomon Islands","population":652858},{"country":"Somalia","population":15008154},{"country":"South Africa","population":57779622},{"country":"South Georgia and the South Sandwich Islands","population":30},{"country":"South Korea","population":51606633},{"country":"South Sudan","population":10975920},{"country":"Spain","population":46796540},{"country":"Sri Lanka","population":21670000},{"country":"Sudan","population":41801533},{"country":"Suriname","population":575991},{"country":"Svalbard and Jan Mayen","population":2572},{"country":"Sweden","population":10175214},{"country":"Switzerland","population":8513227},{"country":"Syria","population":16906283},{"country":"Tajikistan","population":9100837},{"country":"Tanzania","population":56318348},{"country":"Thailand","population":69428524},{"country":"The Democratic Republic of Congo","population":84068091},{"country":"Togo","population":7889094},{"country":"Tokelau","population":1411},{"country":"Tonga","population":103197},{"country":"Trinidad and Tobago","population":1389858},{"country":"Tunisia","population":11565204},{"country":"Turkey","population":82319724},{"country":"Turkmenistan","population":5850908},{"country":"Turks and Caicos Islands","population":37665},{"country":"Tuvalu","population":11508},{"country":"Uganda","population":42723139},{"country":"Ukraine","population":44622516},{"country":"United Arab Emirates","population":9630959},{"country":"United Kingdom","population":66460344},{"country":"United States","population":326687501},{"country":"United States Minor Outlying Islands","population":300},{"country":"Uruguay","population":3449299},{"country":"Uzbekistan","population":32955400},{"country":"Vanuatu","population":292680},{"country":"Venezuela","population":28870195},{"country":"Vietnam","population":95540395},{"country":"Virgin Islands, British","population":29802},{"country":"Virgin Islands, U.S.","population":106977},{"country":"Wales","population":3139000},{"country":"Wallis and Futuna","population":15289},{"country":"Western Sahara","population":652271},{"country":"Yemen","population":28498687},{"country":"Zambia","population":17351822},{"country":"Zimbabwe","population":14439018}]'),m6=p6.filter(({population:n})=>n>=3e5).map(({country:n,population:t})=>({name:n,population:+t}));function g6({csvUrl:n,meta:t,target:e,others:a=[],guesses:o=[],setAvailableCountries:u}){const h=bt.useRef(null),d=bt.useRef(null),{width:m,height:g}=d6(h),[_,T]=bt.useState(null),[w,D]=bt.useState(null),j=bt.useRef(null);bt.useEffect(()=>{n&&U3(n,O3).then($=>{if(!$.length)return;const ft=Object.keys($[0]),ht=ft.filter(P=>/^\d{4}$/.test(P)),W=ht.length>3;let dt;if(W){const[P,z]=ft;dt=$.flatMap(Q=>ht.map(S=>({Country:Q[P],ISO:Q[z],Year:+S,Production:Q[S]})))}else{const[P,z,Q]=ft,S=ft.find((A,q)=>q>2&&typeof $[0][A]=="number");dt=$.filter(A=>A[z]&&typeof A[z]=="string"&&A[z].trim()!==""&&!A[z].startsWith("OWID")&&(t.yearStart==null||A[Q]>=t.yearStart)).map(A=>({Country:A[P],ISO:A[z],Year:A[Q],Production:A[S]}))}console.log("Standardized data:",dt);const ct=dt.map(P=>P.Year),yt=t.yearStart??KN(ct),k=Yl(ct),I=k-yt+1,C=U1(dt.filter(P=>P.Year>=yt&&P.Year<=k),P=>P.Country),V=.6,N=Array.from(C.entries()).filter(([P,z])=>new Set(z.map(S=>S.Year)).size/I>=V).map(([P])=>P),L=3e5,M=new Map(Object.entries(m6).map(([P,z])=>[z.name||P,z.population])),nt=N.filter(P=>{const z=M.get(P);return typeof z=="number"&&z>=L}),U=dt.filter(P=>nt.includes(P.Country));T(dt),D(U);const x=Array.from(new Set(dt.map(P=>P.Country)));u(x)})},[n]);const Z=$=>{const ft=jN($.filter(W=>W.Country!==e&&typeof W.Production=="number"&&!isNaN(W.Production)),W=>Yl(W,dt=>dt.Production),W=>W.Country);return Array.from(ft.entries()).sort((W,dt)=>HS(W[1],dt[1])).map(([W])=>W).filter((W,dt,ct)=>ct.indexOf(W)===dt).filter(W=>W!==e)};return bt.useEffect(()=>{if(!_||!w||!t||!e||m===0||g===0)return;const $=requestAnimationFrame(()=>{const ft=t.unitSuffix,ht=getComputedStyle(document.documentElement).getPropertyValue("--stroke-outline").trim(),W=a.length?a:Z(w),dt=new Set([e,...W,...o]),ct=U1(_.filter(et=>dt.has(et.Country)),et=>et.Country),yt={top:30,right:50,bottom:60,left:50},k=m-yt.left-yt.right,I=g-yt.top-yt.bottom,C=nf().domain(LN(_,et=>et.Year)).range([0,k]),V=Yl(ct,([,et])=>Yl(et,te=>te.Production/t.scale)),N=nf().domain([0,V]).range([I,0]),L=j.current===null||V>j.current;L&&(j.current=V);const M=h6().defined(et=>typeof et.Production=="number"&&!isNaN(et.Production)).curve(f6).x(et=>C(et.Year)).y(et=>N(et.Production/t.scale)),nt=W.map(et=>({id:`${et}-base`,country:et,rows:ct.get(et)??[],stroke:getComputedStyle(document.documentElement).getPropertyValue("--other-lines").trim(),width:1.5,opacity:.4})),U=[{id:`${e}-target`,country:e,rows:ct.get(e)??[],stroke:getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim(),width:4,opacity:1}],x=o.map((et,te)=>{var It;const Pt=ct.get(et)??[],Ht=((It=Pt[0])==null?void 0:It.ISO)??et;return{id:`${et}-guess`,country:et,iso:Ht,rows:Pt,stroke:ts[te],width:3,opacity:1}});[...nt,...U,...x];const P=Mi(d.current).attr("viewBox",[0,0,m,g]).attr("preserveAspectRatio","xMidYMid meet").style("overflow","visible");let z=P.select("g.chart-root");z.empty()&&(z=P.append("g").attr("class","chart-root").attr("transform",`translate(${yt.left},${yt.top})`).call(et=>{et.append("g").attr("class","x-axis"),et.append("g").attr("class","y-axis")}));let Q=z.select("g.hover-layer");Q.empty()&&(Q=z.append("g").attr("class","hover-layer"),Q.append("line").attr("class","hover-line").attr("stroke","#6b7280").attr("stroke-width",1).attr("stroke-dasharray","4 4").attr("y1",0).style("opacity",0),Q.append("circle").attr("class","hover-dot-target").attr("r",4).attr("fill","#c43333").attr("stroke","#ffffff").attr("stroke-width",1.5).style("opacity",0).attr("pointer-events","none"),Q.append("text").attr("class","hover-year-label").attr("text-anchor","middle").attr("font-size",16).attr("font-weight",600).attr("fill","#292929").attr("font-family","Open Sans, sans-serif").attr("dy","1.5em").style("opacity",0).attr("pointer-events","none"),Q.append("rect").attr("class","hover-value-bg").attr("fill","#ffffff").attr("rx",3).attr("ry",3).style("opacity",0).attr("pointer-events","none"),Q.append("text").attr("class","hover-value-label").attr("text-anchor","start").attr("font-size",14).attr("font-weight",600).attr("fill","#c43333").attr("font-family","Open Sans, sans-serif").style("opacity",0).attr("pointer-events","none"),Q.append("rect").attr("class","hover-capture").attr("fill","transparent").attr("pointer-events","all").style("touch-action","none")),Q.select(".hover-line").attr("y2",I),Q.select(".hover-capture").attr("width",k).attr("height",I),Q.select(".hover-year-label").attr("y",I);const S=Q.selectAll("circle.guess-dot").data(x,et=>et.id);S.enter().append("circle").attr("class","guess-dot").attr("r",4).attr("fill",et=>et.stroke).attr("stroke","#ffffff").attr("stroke-width",1.5).style("opacity",0).attr("pointer-events","none"),S.exit().remove();const A=Q.selectAll("g.guess-pill").data(x,et=>et.id),q=A.enter().append("g").attr("class","guess-pill").style("pointer-events","none").style("opacity",0);q.append("rect").attr("rx",3).attr("ry",3).attr("fill","#ffffff"),q.append("text").attr("font-size",14).attr("font-weight",600).attr("font-family","OpenSans,sans-serif"),A.exit().remove(),Q.raise();const K=Og(et=>et.Year).left,at=ct.get(e)??[],mt=(et,te)=>{if(!et.length)return null;const Pt=K(et,te);if(Pt<=0)return et[0].Production/t.scale;if(Pt>=et.length)return et[et.length-1].Production/t.scale;const Ht=et[Pt-1],It=et[Pt],Nt=(te-Ht.Year)/(It.Year-Ht.Year);return Ht.Production/t.scale+Nt*(It.Production/t.scale-Ht.Production/t.scale)},pt=et=>{if(et==null)return"";const te=Math.abs(et);let Pt=et,Ht="";return te>=1e9?(Pt=et/1e9,Ht="B"):te>=1e6?(Pt=et/1e6,Ht="M"):te>=1e3&&(Pt=et/1e3,Ht="k"),Pt.toFixed(1)+Ht+(t.unitSuffix||"")},_t=et=>{const[te,Pt]=U4(et,Q.node()),Ht=Math.min(k,Math.max(0,te)),It=Math.min(I,Math.max(0,Pt)),Nt=40;Lt.selectAll("path").interrupt().transition().duration(300).ease(eE).attr("opacity",.15),Q.select(".hover-line").attr("x1",Ht).attr("x2",Ht).style("opacity",1);const pe=C.invert(Ht);Q.select(".hover-year-label").attr("x",Ht).text(Math.round(pe)).style("opacity",1),z.select(".x-axis").selectAll(".tick text").style("opacity",0);const ie=mt(at,pe);if(ie!=null){const De=N(ie);Q.select(".hover-dot-target").attr("cx",Ht).attr("cy",De).style("opacity",1);const Be=Q.select(".hover-value-label").attr("x",Ht+8).attr("y",De-6).text(pt(ie)).style("opacity",1).node().getBBox();Q.select(".hover-value-bg").attr("x",Be.x-4).attr("y",Be.y-2).attr("width",Be.width+8).attr("height",Be.height+4).style("opacity",.85)}Q.selectAll("g.guess-pill").each(function(De){const un=mt(De.rows,pe);if(un==null){Mi(this).style("opacity",0);return}const Be=N(un);if(!(Math.abs(Be-It)<=Nt)){Mi(this).style("opacity",0);return}const cn=Mi(this).style("opacity",1).select("text").attr("fill",De.stroke).attr("x",Ht+8).attr("y",Be-6).text(pt(un)).node().getBBox();Mi(this).select("rect").attr("x",cn.x-4).attr("y",cn.y-2).attr("width",cn.width+8).attr("height",cn.height+4).style("opacity",.85)}),Q.selectAll("circle.guess-dot").each(function(De){const un=mt(De.rows,pe);Mi(this).style("opacity",un==null?0:1).attr("cx",Ht).attr("cy",N(un))})},vt=()=>{Q.select(".hover-line").style("opacity",0),Q.select(".hover-dot-target").style("opacity",0),Q.select(".hover-year-label").style("opacity",0),Q.select(".hover-value-label").style("opacity",0),Q.select(".hover-value-bg").style("opacity",0),Q.selectAll("g.guess-pill").style("opacity",0),Q.selectAll("circle.guess-dot").style("opacity",0),z.select(".x-axis").selectAll(".tick text").style("opacity",1),Lt.selectAll("path").interrupt().transition().duration(300).ease(eE).attr("opacity",.4)};Q.select(".hover-capture").on("pointerenter pointerdown pointermove",_t).on("pointerup pointercancel pointerout",vt),z.select(".x-axis").attr("transform",`translate(0,${I})`).call(eD(C).ticks(5).tickFormat(et=>String(et))).selectAll(".tick text").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).attr("dy","0.95em").style("font-family","Open Sans, sans-serif");const Bt=et=>{if(typeof et!="number"||isNaN(et))return"";const te=Math.abs(et);let Pt;return te>=1e9?Pt=(et/1e9).toFixed(1).replace(/\.0$/,"")+"B":te>=1e6?Pt=(et/1e6).toFixed(1).replace(/\.0$/,"")+"M":te>=1e3?Pt=(et/1e3).toFixed(1).replace(/\.0$/,"")+"k":Pt=et.toString(),ft?`${Pt}${ft}`:Pt},Yt=et=>{et.call(KS(N).ticks(4).tickSize(-k).tickSizeOuter(0).tickFormat(Bt)),et.selectAll(".tick text").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).style("font-family","Open Sans, sans-serif"),et.selectAll(".domain").attr("stroke-opacity",0),et.selectAll(".tick line").attr("stroke",getComputedStyle(document.documentElement).getPropertyValue("--axis-lines-color").trim()).attr("stroke-opacity",.6).attr("stroke-width",1)};L?z.select(".y-axis").transition().duration(1500).call(Yt):z.select(".y-axis").call(Yt),Math.max(...z.select(".y-axis").selectAll("text").nodes().map(et=>et.getBBox().width));let Lt=z.select("g.base-lines");Lt.empty()&&(Lt=z.append("g").attr("class","base-lines"));let Qt=z.select("g.guess-lines");Qt.empty()&&(Qt=z.append("g").attr("class","guess-lines"));const se=Lt.selectAll("g.base-line").data(nt,et=>et.id);se.enter().append("g").attr("class","base-line").append("path").attr("fill","none").attr("stroke",et=>et.stroke).attr("stroke-width",et=>et.width).attr("opacity",et=>et.opacity).attr("d",et=>M(et.rows)),se.select("path").attr("stroke",et=>et.stroke).attr("stroke-width",et=>et.width).attr("opacity",et=>et.opacity).attr("d",et=>M(et.rows)),se.exit().remove();const _e=Qt.selectAll("g.guess-line").data(x,et=>et.id),Ce=_e.enter().append("g").attr("class","guess-line");Ce.append("path").attr("fill","none").attr("stroke",ht).attr("stroke-width",et=>et.width+2.5).attr("opacity",1).attr("d",et=>M(et.rows)),Ce.append("path").attr("fill","none").attr("stroke",et=>et.stroke).attr("stroke-width",et=>et.width).attr("opacity",et=>et.opacity).attr("d",et=>M(et.rows)),Ce.selectAll("path").each(function(){const et=this.getTotalLength();Mi(this).attr("stroke-dasharray",`${et} ${et}`).attr("stroke-dashoffset",et).transition().duration(2e3).attr("stroke-dashoffset",0)}),_e.select("path:nth-child(1)").attr("stroke-width",et=>et.width+1.5).attr("d",et=>M(et.rows)),_e.select("path:nth-child(2)").attr("stroke",et=>et.stroke).attr("stroke-width",et=>et.width).attr("opacity",et=>et.opacity).attr("d",et=>M(et.rows)),_e.exit().remove();const ge=4,yn=4;function _n(et,te=12){const Pt=et.nodes().map(It=>{const Nt=Mi(It);return{node:Nt,y:parseFloat(Nt.attr("y")),x:parseFloat(Nt.attr("x"))}});Pt.sort((It,Nt)=>It.y-Nt.y);const Ht=[];for(let It=0;It<Pt.length;It++){const Nt=Pt[It];let pe=Nt.y,ie=0,De=-1;for(;!(!Ht.some(Be=>Math.abs(Be.y-pe)<te)||(De*=-1,ie+=te,pe=Nt.y+De*ie,ie>100)););Nt.node.attr("y",pe),Ht.push({y:pe})}}Ce.selectAll("path:last-child").each(function(et,te){const Pt=Mi(this);this.getTotalLength();const Ht=et.rows.filter(De=>typeof De.Production=="number"),It=Ht[Ht.length-1];if(!It)return;const Nt=C(It.Year)+ge,pe=N(It.Production/t.scale)+yn,ie=()=>{z.append("text").attr("class",et.country===e?"target-label":"guess-label").attr("font-size",14).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",et.country===e?getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim():et.stroke).attr("stroke",ht).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",Nt).attr("y",pe).text(et.iso),setTimeout(()=>{_n(z.selectAll("text.guess-label, text.target-label"))},0)};et.country===e?ie():Pt.transition().duration(2e3).attr("stroke-dashoffset",0).on("end",ie)});const ue=U[0];let vn=z.select("g.target-line");if(vn.empty()){vn=z.append("g").attr("class","target-line");const et=M(ue.rows),te=vn.append("path").attr("fill","none").attr("stroke",ht).attr("stroke-width",ue.width+2.5).attr("opacity",1).attr("d",et),Pt=vn.append("path").attr("fill","none").attr("stroke",ue.stroke).attr("stroke-width",ue.width).attr("opacity",ue.opacity).attr("d",et);[te,Pt].forEach(Ht=>{const It=Ht.node().getTotalLength();Ht.attr("stroke-dasharray",`${It} ${It}`).attr("stroke-dashoffset",It).transition().duration(2e3).attr("stroke-dashoffset",0)})}else{const et=M(ue.rows);vn.selectAll("path").data([0,1]).join("path").attr("fill","none").attr("stroke",(te,Pt)=>Pt===0?strokeOutline:ue.stroke).attr("stroke-width",(te,Pt)=>Pt===0?ue.width+2.5:ue.width).attr("opacity",ue.opacity).attr("d",et)}Q.raise()});return()=>cancelAnimationFrame($)},[_,t,m,g,e,a,o,ts]),it.jsx("div",{ref:h,className:"w-full h-full",children:m>0&&g>0&&it.jsx("svg",{ref:d,className:"w-full h-full"})})}const Um=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Caribbean Netherlands","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Northern Cyprus","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"];function pE(n="",t=""){const e=t.length+1,a=n.length+1,o=Array.from({length:e},(u,h)=>Array.from({length:a},(d,m)=>h===0?m:h));for(let u=1;u<e;u++)for(let h=1;h<a;h++)o[u][h]=t[u-1]===n[h-1]?o[u-1][h-1]:1+Math.min(o[u-1][h],o[u][h-1],o[u-1][h-1]);return o[e-1][a-1]}const uh=["⬆️","↗️","➡️","↘️","⬇️","↙️","⬅️","↖️"];function y6({guesses:n,onAddGuess:t,status:e,max:a,targetData:o,countryToIso:u,clue:h=!1,validCountries:d=[],target:m}){const[g,_]=bt.useState(""),[T,w]=bt.useState(!1),[D,j]=bt.useState(""),[Z,$]=bt.useState({}),[ft,ht]=bt.useState({}),[W,dt]=bt.useState(-1),ct=e!=="playing",yt=g.trim(),k=yt.toLowerCase(),I=Math.min(n.length+1,a),C=d.includes(yt),V=Um.some(U=>U.toLowerCase()===k)&&C,N=Um.filter(U=>U.toLowerCase().includes(k)&&k).sort((U,x)=>{const P=U.toLowerCase(),z=x.toLowerCase(),Q=P.startsWith(k),S=z.startsWith(k);if(Q&&!S)return-1;if(!Q&&S)return 1;const A=pE(P,k),q=pE(z,k);return A!==q?A-q:U.localeCompare(x)}).reverse();function L(U,x){if(x==null||x<=0){ht(q=>({...q,[U]:x??0}));return}const P=50,z=8,Q=180;let S=0;function A(){if(ht(mt=>({...mt,[U]:S})),S>=x)return;const q=x-S,K=q>P?Math.max(1,Math.round(q/60)):1;S=Math.min(S+K,x);let at=z;if(q<=P){const mt=1-(q-K)/P;at+=Q*Math.pow(mt,3)}setTimeout(A,at)}A()}const M=U=>{if(U.preventDefault(),!yt){j("Please enter a country.");return}if(!V){j("Invalid country. Please select from the list.");return}if(!C){j("This country has no data available.");return}if(n.some(A=>A.toLowerCase()===k)){j("You already guessed that country.");return}j(""),t(yt);const x=yt,P=u[x],z=o==null?void 0:o[P],Q=(z==null?void 0:z.direction)||"🎯",S=(z==null?void 0:z.distance_km)??0;if(h?L(x,S):ht(A=>({...A,[x]:S})),h){let A=function(){const mt=50+Math.pow(at,1.4),pt=at%uh.length,_t=uh[pt];$(vt=>({...vt,[x]:_t})),at++,at<=K&&setTimeout(A,mt)};const q=uh.indexOf(Q),K=uh.length*4+q;let at=0;A()}_(""),w(!1)},nt=U=>{_(U),w(!1),j("")};return it.jsxs("div",{className:"flex flex-col items-center gap-3 py-10",children:[it.jsx("div",{className:"h-6 flex items-end",children:n.length===0&&it.jsxs("p",{className:"text-[18px] font-medium text-gray-800 dark:text-white pt-0.5",children:["Guess the country in"," ",it.jsx("span",{className:"font-semibold text-[var(--target-red)]",children:"red"})]})}),it.jsx("form",{onSubmit:M,className:"w-full px-[50px]",children:it.jsxs("div",{className:"relative",children:[it.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:it.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 20 20",children:it.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 19l-4-4m0-7a7 7 0 11-14 0 7 7 0 0114 0z"})})}),it.jsx("input",{id:"guess-input",type:"text",placeholder:"Enter country",value:g,disabled:ct,onChange:U=>{_(U.target.value),w(!0),dt(-1),j("")},onKeyDown:U=>{U.key==="ArrowDown"?(U.preventDefault(),w(!0),dt(x=>x<N.length-1?x+1:0)):U.key==="ArrowUp"?(U.preventDefault(),w(!0),dt(x=>x>0?x-1:N.length-1)):U.key==="Enter"&&(W>=0&&N[W]?(U.preventDefault(),nt(N[W]),dt(-1)):!V&&N.length&&(U.preventDefault(),nt(N[N.length-1])))},onBlur:()=>setTimeout(()=>w(!1),100),className:`block w-full p-4 pl-10 text-sm rounded-lg
                            bg-gray-50 dark:bg-gray-700
                            focus:ring-emerald-500 focus:border-emerald-500
                            disabled:bg-gray-100 dark:disabled:bg-gray-600
                            outline-none
                            text-gray-900 dark:text-gray-100
                            ${yt&&!V?"border border-red-500 dark:border-red-400":"border border-gray-300 dark:border-gray-600"}`,autoComplete:"on"}),it.jsx("button",{type:"submit",disabled:!V||ct||n.length>=a,className:`text-white absolute right-2 bottom-2 font-medium rounded-lg text-sm px-4 py-2 disabled:bg-gray-400 ${V&&!ct&&n.length<a?"bg-emerald-500 hover:bg-emerald-600 focus:ring-4 focus:ring-emerald-300":"bg-gray-300 text-gray-700 cursor-not-allowed"}`,children:`Guess ${I}/${a}`}),T&&N.length>0&&it.jsx("ul",{className:`absolute left-0 right-0 bottom-full mb-2 z-50 w-full max-h-60
                                    bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 
                                    rounded-lg shadow-lg overflow-y-auto`,children:N.map((U,x)=>{const z=!d.includes(U);return it.jsxs("li",{className:`cursor-pointer py-4 px-4 text-sm flex justify-between items-center
                                        ${x===W?"bg-emerald-50 dark:bg-emerald-700 font-semibold text-gray-900 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}
                                        ${z?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-100"}`,onMouseDown:()=>{z||(nt(U),dt(-1))},onMouseEnter:()=>dt(x),children:[it.jsx("span",{children:U}),z&&it.jsx("span",{className:"text-xs ml-2",children:"(no data)"})]},U)})})]})}),D&&it.jsx("p",{className:"text-sm text-red-600 mt-2 text-center",children:D}),n.length>0&&it.jsx("div",{className:"w-full px-[50px] flex flex-col space-y-2",children:[...n].reverse().map((U,x)=>{const P=n.length-1-x,z=u[U],Q=o==null?void 0:o[z],S=Q==null?void 0:Q.direction,A=h&&(Z[U]||S)||"",q=ft[U]??(Q==null?void 0:Q.distance_km)??0;return it.jsxs("div",{className:"flex justify-between items-center w-full p-3 rounded-lg border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-700",children:[it.jsx("span",{className:"font-semibold",style:{color:U.trim().toLowerCase()===m.trim().toLowerCase()?"#c43333":ts[P]??"#2A74B3"},children:`${P+1}. ${U}`}),Q&&h&&it.jsxs("span",{className:"flex items-center gap-1 text-gray-700 text-sm font-medium",children:[it.jsx("span",{children:A}),it.jsxs("span",{children:[q," km"]})]})]},U)})})]})}function Oo({title:n,open:t,onClose:e,children:a,footer:o=null}){return bt.useEffect(()=>{const u=h=>h.key==="Escape"&&e();return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[e]),t?it.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-[var(--modal-overlay)] p-4",role:"dialog","aria-modal":"true",tabIndex:-1,onClick:e,children:it.jsx("div",{className:"relative w-full max-w-sm md:max-w-lg lg:max-w-xl",onClick:u=>u.stopPropagation(),children:it.jsxs("div",{className:"relative rounded-lg bg-[var(--modal-bg-color)] shadow-sm ",children:[n&&it.jsxs("div",{className:"flex items-center justify-between rounded-t border-b border-gray-200 p-4 md:p-5 dark:border-gray-600",children:[it.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n}),it.jsx("button",{"aria-label":"Close modal",onClick:e,className:"ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white",children:it.jsx(wE,{className:"h-3.5 w-3.5",strokeWidth:2})})]}),it.jsx("div",{className:"text-left leading-relaxed text-gray-500 dark:text-gray-300 p-4 md:p-5",children:a}),o&&it.jsx("div",{className:"flex items-center rounded-b border-t border-gray-200 p-4 md:p-5 dark:border-gray-600",children:o})]})})}):null}const Iw="chartle-history";function Hg(){try{return JSON.parse(localStorage.getItem(Iw))||{}}catch{return{}}}function Mw(n){localStorage.setItem(Iw,JSON.stringify(n))}function _6(n={},t={}){var a,o;const e={...n};for(const[u,h]of Object.entries(t)){if(!e[u]){e[u]=h;continue}const d=((a=e[u].guesses)==null?void 0:a.length)||0,m=((o=h.guesses)==null?void 0:o.length)||0;e[u]=m>d?h:e[u]}return e}function xw(){return Hg()}async function Fg(){const n=Hg(),t=Ja.currentUser;if(!t)return n;const e=Ig(Dg,"histories",t.uid),a=await bN(e);if(!a.exists())return Object.keys(n).length&&await Fh(e,n),n;const o=a.data()||{},u=_6(o,n);return Mw(u),await Fh(e,u,{merge:!0}),u}async function v6(n){Mw(n);const t=Ja.currentUser;t&&await Fh(Ig(Dg,"histories",t.uid),n,{merge:!0})}Ja.onAuthStateChanged(async n=>{if(!n)return;const t=Hg();Object.keys(t).length!==0&&await Fh(Ig(Dg,"histories",n.uid),t,{merge:!0})});function E6({open:n,onClose:t,guesses:e,target:a,infoDescription:o,source:u,csvUrl:h,title:d,maxGuesses:m}){const[g,_]=bt.useState(!1),[T]=bt.useState(""),w=bt.useRef(null),D=[`📈 Chartle — ${d}`,`${e.length}/${m} ✅`,T,"chartle.cc"].join(`
`),j=async()=>{try{await navigator.clipboard.writeText(D),_(!0),setTimeout(()=>_(!1),2e3)}catch(ft){console.error("Copy failed:",ft)}};function Z(ft){const ht={1:0,2:0,3:0,4:0,5:0,Lost:0};return Object.values(ft).forEach(W=>{var yt;if(!Array.isArray(W.guesses))return;const dt=(yt=W.target)==null?void 0:yt.toLowerCase(),ct=W.guesses.findIndex(k=>(k==null?void 0:k.toLowerCase())===dt);ct>=0&&ct<5?ht[ct+1]++:ht.Lost++}),Object.entries(ht).map(([W,dt])=>({tries:W,count:dt}))}function $(ft){const ht=Mi(w.current);ht.selectAll("*").remove();const W={top:10,right:20,bottom:20,left:20},dt=30,ct=300-W.left-W.right,yt=ft.length*30,k=getComputedStyle(document.documentElement),I=k.getPropertyValue("--text-color").trim(),C=k.getPropertyValue("--first-guess").trim(),V=ht.attr("width",ct+W.left+W.right).attr("height",yt+W.top+W.bottom).append("g").attr("transform",`translate(${W.left},${W.top})`).style("font-family","Open Sans"),N=nf().domain([0,Yl(ft,M=>M.count)||1]).range([0,ct-dt]),L=Rw().domain(ft.map(M=>M.tries)).range([0,yt]).padding(.2);V.selectAll(".bar").data(ft).enter().append("rect").attr("x",dt).attr("y",M=>L(M.tries)).attr("width",M=>N(M.count)).attr("height",L.bandwidth()).attr("fill",C),V.selectAll(".label").data(ft.filter(M=>M.count>0)).enter().append("text").attr("x",M=>dt+N(M.count)-5).attr("y",M=>L(M.tries)+L.bandwidth()/2+4).attr("text-anchor","end").attr("fill","#ffffff").style("font-family","'Open Sans', sans-serif").style("font-size","14px").text(M=>M.count),V.append("g").call(KS(L).tickSize(0)).selectAll("text").style("font-family","'Open Sans', sans-serif").style("font-size","14px").attr("fill",I).attr("text-anchor","start").attr("x",-5),V.selectAll(".domain").remove()}return bt.useEffect(()=>{n&&($(Z(xw())),Fg().then(ft=>{$(Z(ft))}))},[n]),it.jsx(Oo,{open:n,onClose:t,children:it.jsxs("div",{className:"px-5 text-center",children:[it.jsx("h2",{className:"text-2xl font-bold mb-4 [color:var(--text-color)]",children:"You guessed it!"}),it.jsx("div",{className:"mb-4 space-y-3 [color:var(--text-color)] text-left",children:o.split(`
`).map((ft,ht)=>it.jsx("p",{children:ft},ht))}),it.jsxs("p",{className:"text-sm [color:var(--text-color)] mb-8 text-left",children:["Data source: ",u]}),it.jsx("p",{className:"text-lg font-semibold [color:var(--text-color)] mb-2 mt-6 text-left",children:"Your track record"}),it.jsx("svg",{ref:w,className:"w-full h-auto mb-4"}),it.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4",children:[it.jsx("button",{onClick:j,className:"rounded-lg [background-color:var(--second-guess)] px-4 py-2 text-sm text-white hover:[background-color:var(--second-guess-dark)] focus:outline-none focus:ring-4 focus:ring-blue-300",children:g?"Copied!":"Share result"}),it.jsx("button",{onClick:t,className:`
                            rounded-lg 
                            bg-black 
                            px-4 py-2 
                            text-sm 
                            text-white 
                            focus:outline-none 
                            focus:ring-4 
                            focus:ring-emerald-300
                            `,children:"Close"})]})]})})}function T6({open:n,onClose:t,target:e,infoDescription:a,source:o,csvUrl:u,guesses:h,title:d,maxGuesses:m}){const[g,_]=bt.useState(!1),[T,w]=bt.useState("");bt.useEffect(()=>{},[u,e,h]);const D=[`📈 Chartle — ${d}`,`X/${m} ❌`,T,"chartle.cc"].join(`
`),j=async()=>{try{await navigator.clipboard.writeText(D),_(!0),setTimeout(()=>_(!1),2e3)}catch(Z){console.error("Copy failed:",Z)}};return it.jsx(Oo,{title:"Out of guesses",open:n,onClose:t,footer:it.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-emerald-600 px-5 py-2.5 text-sm font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-emerald-300",children:"Close"}),children:it.jsxs("div",{className:"px-5",children:[it.jsxs("p",{className:"text-center mb-4",children:["The correct answer was ",it.jsx("strong",{children:e}),"."]}),a.split(`
`).map((Z,$)=>it.jsx("p",{children:Z},$)),it.jsxs("p",{className:"mt-4 text-sm text-gray-700 dark:text-gray-300",children:["Data source: ",o]}),it.jsx("button",{onClick:j,className:"mt-6 w-full rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300",children:g?"Copied!":"Share result"})]})})}function S6({open:n,onClose:t}){return it.jsx(Oo,{title:"How to play Chartle",open:n,onClose:t,footer:it.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-500",children:"Got it"}),children:it.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:"Guess the country behind today’s chart. You have five guesses."})})}const w6="#c43333",b6="#d1d5db",A6="#4b5563";function R6(n){const t=n.getFullYear(),e=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return`${t}-${e}-${a}`}function C6(n){const t=new URL(window.location.href);t.searchParams.set("d",n),t.hash="",window.location.href=t.toString()}function I6({open:n,onClose:t}){const[e,a]=bt.useState([]);return bt.useEffect(()=>{n&&(async()=>{const o=await Fg(),u=[],h=new Date("2025-07-01"),d=new Date;for(;d>=h;){const m=R6(d),g=o[m]||{};u.push({key:m,date:new Date(d),guesses:Array.isArray(g.guesses)?g.guesses.slice(0,5):[],target:g.target||null}),d.setDate(d.getDate()-1)}a(u)})()},[n]),it.jsx(Oo,{title:"History",open:n,onClose:t,footer:it.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-500",children:"Close"}),children:it.jsx("ul",{className:"max-h-[60vh] px-4 overflow-y-auto divide-y divide-gray-200 dark:divide-gray-700",children:e.map(({key:o,date:u,guesses:h,target:d})=>{const m=h.length>0,g=u.toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}),_=u.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"});return it.jsx("li",{children:it.jsxs("button",{type:"button",onClick:()=>C6(o),className:"w-full flex items-center justify-between sm:px-1 px-3 sm:py-3 py-4 transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 focus:bg-gray-50 dark:focus:bg-gray-700",children:[it.jsxs("span",{className:`text-sm ${m?"font-bold text-gray-900 dark:text-white":"font-medium text-gray-800 dark:text-gray-300"}`,children:[it.jsx("span",{className:"inline sm:hidden",children:_}),it.jsx("span",{className:"hidden sm:inline",children:g})]}),it.jsx("div",{className:"flex gap-2",children:Array.from({length:5},(T,w)=>{let D="white",j=b6;if(w<h.length){const Z=h[w]||"";D=d&&Z.toLowerCase()===d.toLowerCase()?w6:ts[w],j=D}return it.jsx("span",{className:"block sm:h-4 sm:w-4 h-5 w-5 rounded-full border dark:border-gray-600",style:{backgroundColor:D,borderColor:j||A6}},w)})})]})},o)})})})}function M6({open:n,onClose:t}){return it.jsx(Oo,{title:"Settings",open:n,onClose:t,footer:it.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300",children:"Close"}),children:it.jsx("p",{children:"Settings will go here."})})}const x6=bt.forwardRef(function({children:t="Sign in with Google",className:e="",...a},o){return it.jsxs("button",{ref:o,"aria-label":"Sign in with Google",className:`group inline-flex items-center overflow-hidden rounded-md border
        border-gray-300 bg-white px-0.5 pr-4 text-gray-700 shadow
        hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-300
        dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200
        dark:hover:bg-gray-700 dark:focus:ring-gray-600
        ${e}`,...a,children:[it.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center",children:it.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:[it.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),it.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),it.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),it.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),it.jsx("span",{className:"ml-3 whitespace-nowrap text-sm tracking-wider",children:t})]})});function N6({open:n,onClose:t}){const[e,a]=bt.useState(null);bt.useEffect(()=>iT(Ja,a),[]);const o=async()=>{try{await dC(Ja,MN),t()}catch(h){console.error(h),window.alert("Google sign‑in failed. Please try again.")}},u=()=>KR(Ja);return it.jsx(Oo,{title:e?"Account":"Log in / Sign‑up",open:n,onClose:t,footer:it.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300",children:"Close"}),children:e?it.jsxs("div",{className:"flex w-full items-center gap-4 rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-600 dark:bg-gray-900",children:[e.photoURL&&it.jsx("img",{src:e.photoURL,alt:"",className:"h-10 w-10 rounded-full",referrerPolicy:"no-referrer"}),it.jsxs("div",{className:"grow",children:[it.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.displayName}),it.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.email})]}),it.jsx("button",{onClick:u,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-300",children:"Sign out"})]}):it.jsx("div",{className:"flex justify-center py-4",children:it.jsx(x6,{onClick:o})})})}const D6="NU",O6="PN",k6="WS",V6="TK",P6="TO",L6="GT",U6="MX",B6="CA",z6="AR",j6="CL",G6="EC",q6="PE",H6="BO",F6="BR",$6="PY",K6="UY",Y6="AQ",Q6="FJ",X6="AI",Z6="AW",J6="BS",W6="BB",tk="BZ",ek="BM",nk="BQ",ik="CO",rk="CU",ak="CW",sk="DM",ok="GD",lk="GP",uk="GY",ck="HT",hk="HN",fk="JM",dk="MQ",pk="MS",mk="NI",gk="PA",yk="BQ",_k="SR",vk="VE",Ek="GM",Tk="GH",Sk="GI",wk="GN",bk="LR",Ak="ML",Rk="MR",Ck="MA",Ik="PT",Mk="SN",xk="GL",Nk="GG",Dk="IE",Ok="JE",kk="IS",Vk="SJ",Pk="AO",Lk="BW",Uk="BI",Bk="KM",zk="CG",jk="GA",Gk="KE",qk="LS",Hk="MW",Fk="MZ",$k="NA",Kk="RW",Yk="SZ",Qk="TZ",Xk="ZM",Zk="ZW",Jk="MG",Wk="MU",tV="YT",eV="SC",nV="DZ",iV="BJ",rV="CM",aV="TD",sV="KI",oV="LY",lV="MT",uV="NE",cV="NG",hV="TG",fV="TN",dV="CY",pV="DJ",mV="EG",gV="ER",yV="ET",_V="GR",vV="IQ",EV="IL",TV="JO",SV="LB",wV="SD",bV="SY",AV="TR",RV="UG",CV="AD",IV="FR",MV="LI",xV="MC",NV="CH",DV="BE",OV="DE",kV="LU",VV="NL",PV="AL",LV="AT",UV="HR",BV="DK",zV="HU",jV="IT",GV="ME",qV="PL",HV="RS",FV="SK",$V="SI",KV="NO",YV="SE",QV="BY",XV="BG",ZV="EE",JV="FI",WV="GE",t9="LV",e9="LT",n9="MD",i9="RO",r9="UA",a9="AF",s9="BH",o9="IN",l9="IR",u9="KW",c9="MV",h9="NP",f9="OM",d9="PK",p9="QA",m9="SO",g9="TJ",y9="TM",_9="YE",v9="AM",E9="AZ",T9="KZ",S9="KG",w9="UZ",b9="ID",A9="AU",R9="NR",C9="TV",I9="VU",M9="KH",x9="LA",N9="MY",D9="MM",O9="SG",k9="TH",V9="VN",P9="BD",L9="BT",U9="CN",B9="PH",z9="MN",j9="GU",G9="JP",q9="FM",H9="PW",F9="ES",$9="ES",K9="MO",mE={"American Samoa":"AS","United States Minor Outlying Islands":"UM","Cook Islands":"CK","French Polynesia":"PF",Niue:D6,Pitcairn:O6,Samoa:k6,Tokelau:V6,Tonga:P6,"Wallis and Futuna":"WF","El Salvador":"SV",Guatemala:L6,Mexico:U6,Canada:B6,Argentina:z6,"Falkland Islands":"FK",Chile:j6,Ecuador:G6,Peru:q6,Bolivia:H6,Brazil:F6,Paraguay:$6,Uruguay:K6,"South Georgia and South Sandwich Islands":"GS",Antarctica:Y6,Fiji:Q6,"Saint Helena":"SH",Anguilla:X6,"Antigua and Barbuda":"AG",Aruba:Z6,Bahamas:J6,Barbados:W6,Belize:tk,Bermuda:ek,Bonaire:nk,"British Virgin Islands":"VG","Cayman Islands":"KY",Colombia:ik,"Costa Rica":"CR",Cuba:rk,Curacao:ak,Dominica:sk,"Dominican Republic":"DO","French Guiana":"GF",Grenada:ok,Guadeloupe:lk,Guyana:uk,Haiti:ck,Honduras:hk,Jamaica:fk,Martinique:dk,Montserrat:pk,Nicaragua:mk,Panama:gk,"Puerto Rico":"PR",Saba:yk,"Saint Barthelemy":"BL","Saint Eustatius":"BQ","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"MF","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC","Sint Maarten":"SX",Suriname:_k,"Trinidad and Tobago":"TT","Turks and Caicos Islands":"TC","US Virgin Islands":"VI",Venezuela:vk,"Burkina Faso":"BF","Cabo Verde":"CV","Côte d'Ivoire":"CI",Gambia:Ek,Ghana:Tk,Gibraltar:Sk,Guinea:wk,"Guinea-Bissau":"GW",Liberia:bk,Mali:Ak,Mauritania:Rk,Morocco:Ck,Portugal:Ik,Senegal:Mk,"Sierra Leone":"SL",Greenland:xk,Guernsey:Nk,Ireland:Dk,"Isle of Man":"IM",Jersey:Ok,"United Kingdom":"GB",Iceland:kk,"Faroe Islands":"FO",Svalbard:Vk,"Bouvet Island":"BV","New Zealand":"NZ",Angola:Pk,Botswana:Lk,Burundi:Uk,Comoros:Bk,Congo:zk,"Congo DRC":"CD",Gabon:jk,Kenya:Gk,Lesotho:qk,Malawi:Hk,"Juan De Nova Island":"TF",Mozambique:Fk,Namibia:$k,Rwanda:Kk,"Sao Tome and Principe":"ST","South Africa":"ZA",Eswatini:Yk,Tanzania:Qk,Zambia:Xk,Zimbabwe:Zk,"British Indian Ocean Territory":"IO","French Southern Territories":"TF","Heard Island and McDonald Islands":"HM",Madagascar:Jk,Mauritius:Wk,Mayotte:tV,"Glorioso Islands":"TF",Réunion:"RE",Seychelles:eV,Algeria:nV,Benin:iV,Cameroon:rV,"Central African Republic":"CF",Chad:aV,"Equatorial Guinea":"GQ",Kiribati:sV,Libya:oV,Malta:lV,Niger:uV,Nigeria:cV,Togo:hV,Tunisia:fV,Cyprus:dV,Djibouti:pV,Egypt:mV,Eritrea:gV,Ethiopia:yV,Greece:_V,Iraq:vV,Israel:EV,Jordan:TV,Lebanon:SV,"Palestinian Territory":"PS","South Sudan":"SS",Sudan:wV,Syria:bV,Turkey:AV,Uganda:RV,Andorra:CV,"United States":"US",France:IV,Liechtenstein:MV,Monaco:xV,Switzerland:NV,Belgium:DV,Germany:OV,Luxembourg:kV,Netherlands:VV,Albania:PV,Austria:LV,"Bosnia and Herzegovina":"BA",Croatia:UV,"Czech Republic":"CZ",Denmark:BV,Hungary:zV,Italy:jV,Montenegro:GV,Poland:qV,"San Marino":"SM",Serbia:HV,Slovakia:FV,Slovenia:$V,"North Macedonia":"MK","Vatican City":"VA",Norway:KV,Sweden:YV,Belarus:QV,Bulgaria:XV,Estonia:ZV,Finland:JV,Georgia:WV,Latvia:t9,Lithuania:e9,Moldova:n9,Romania:i9,Ukraine:r9,Afghanistan:a9,Bahrain:s9,India:o9,Iran:l9,Kuwait:u9,Maldives:c9,Nepal:h9,Oman:f9,Pakistan:d9,Qatar:p9,"Saudi Arabia":"SA",Somalia:m9,"Sri Lanka":"LK",Tajikistan:g9,Turkmenistan:y9,"United Arab Emirates":"AE",Yemen:_9,Armenia:v9,Azerbaijan:E9,Kazakhstan:T9,Kyrgyzstan:S9,Uzbekistan:w9,"Christmas Island":"CX","Cocos Islands":"CC",Indonesia:b9,"Timor-Leste":"TL",Australia:A9,Nauru:R9,"New Caledonia":"NC","Norfolk Island":"NF","Papua New Guinea":"PG","Solomon Islands":"SB",Tuvalu:C9,Vanuatu:I9,Cambodia:M9,Laos:x9,Malaysia:N9,Myanmar:D9,Singapore:O9,Thailand:k9,Vietnam:V9,Bangladesh:P9,Bhutan:L9,China:U9,"Brunei Darussalam":"BN",Philippines:B9,"South Korea":"KR",Mongolia:z9,"North Korea":"KP",Guam:j9,Japan:G9,"Marshall Islands":"MH",Micronesia:q9,"Northern Mariana Islands":"MP",Palau:H9,"Russian Federation":"RU",Spain:F9,Canarias:$9,Macau:K9,"Hong Kong":"HK"},Y9="NZ",Q9="GB",X9="WS",Z9="NZ",J9="TO",W9="GT",tP="MX",eP="CA",nP="AR",iP="CL",rP="EC",aP="PE",sP="BO",oP="BR",lP="PY",uP="UY",cP="AQ",hP="FJ",fP="GB",dP="AW",pP="BS",mP="BB",gP="BZ",yP="GB",_P="NL",vP="CO",EP="CU",TP="NL",SP="DM",wP="GD",bP="FR",AP="GY",RP="HT",CP="HN",IP="JM",MP="FR",xP="GB",NP="NI",DP="PA",OP="NL",kP="SR",VP="VE",PP="GM",LP="GH",UP="GB",BP="GN",zP="LR",jP="ML",GP="MR",qP="MA",HP="PT",FP="SN",$P="DK",KP="GB",YP="IE",QP="GB",XP="IS",ZP="NO",JP="AO",WP="BW",t5="BI",e5="KM",n5="CG",i5="GA",r5="KE",a5="LS",s5="MW",o5="MZ",l5="NA",u5="RW",c5="SZ",h5="TZ",f5="ZM",d5="ZW",p5="MG",m5="MU",g5="FR",y5="SC",_5="DZ",v5="BJ",E5="CM",T5="TD",S5="KI",w5="LY",b5="MT",A5="NE",R5="NG",C5="TG",I5="TN",M5="CY",x5="DJ",N5="EG",D5="ER",O5="ET",k5="GR",V5="IQ",P5="IL",L5="JO",U5="LB",B5="SD",z5="SY",j5="TR",G5="UG",q5="AD",H5="FR",F5="LI",$5="MC",K5="CH",Y5="BE",Q5="DE",X5="LU",Z5="NL",J5="AL",W5="AT",tL="HR",eL="DK",nL="HU",iL="IT",rL="ME",aL="PL",sL="RS",oL="SK",lL="SI",uL="NO",cL="SE",hL="BY",fL="BG",dL="EE",pL="FI",mL="GE",gL="LV",yL="LT",_L="MD",vL="RO",EL="UA",TL="AF",SL="BH",wL="IN",bL="IR",AL="KW",RL="MV",CL="NP",IL="OM",ML="PK",xL="QA",NL="SO",DL="TJ",OL="TM",kL="YE",VL="AM",PL="AZ",LL="KZ",UL="KG",BL="UZ",zL="ID",jL="AU",GL="NR",qL="TV",HL="VU",FL="KH",$L="LA",KL="MY",YL="MM",QL="SG",XL="TH",ZL="VN",JL="BD",WL="BT",tU="CN",eU="PH",nU="MN",iU="US",rU="JP",aU="FM",sU="PW",oU="ES",lU="ES",uU="MO",cU={"American Samoa":"US","United States Minor Outlying Islands":"US","Cook Islands":"NZ","French Polynesia":"FR",Niue:Y9,Pitcairn:Q9,Samoa:X9,Tokelau:Z9,Tonga:J9,"Wallis and Futuna":"FR","El Salvador":"SV",Guatemala:W9,Mexico:tP,Canada:eP,Argentina:nP,"Falkland Islands":"GB",Chile:iP,Ecuador:rP,Peru:aP,Bolivia:sP,Brazil:oP,Paraguay:lP,Uruguay:uP,"South Georgia and South Sandwich Islands":"GB",Antarctica:cP,Fiji:hP,"Saint Helena":"GB",Anguilla:fP,"Antigua and Barbuda":"AG",Aruba:dP,Bahamas:pP,Barbados:mP,Belize:gP,Bermuda:yP,Bonaire:_P,"British Virgin Islands":"GB","Cayman Islands":"GB",Colombia:vP,"Costa Rica":"CR",Cuba:EP,Curacao:TP,Dominica:SP,"Dominican Republic":"DO","French Guiana":"FR",Grenada:wP,Guadeloupe:bP,Guyana:AP,Haiti:RP,Honduras:CP,Jamaica:IP,Martinique:MP,Montserrat:xP,Nicaragua:NP,Panama:DP,"Puerto Rico":"US",Saba:OP,"Saint Barthelemy":"FR","Saint Eustatius":"NL","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"FR","Saint Pierre and Miquelon":"FR","Saint Vincent and the Grenadines":"VC","Sint Maarten":"NL",Suriname:kP,"Trinidad and Tobago":"TT","Turks and Caicos Islands":"GB","US Virgin Islands":"US",Venezuela:VP,"Burkina Faso":"BF","Cabo Verde":"CV","Côte d'Ivoire":"CI",Gambia:PP,Ghana:LP,Gibraltar:UP,Guinea:BP,"Guinea-Bissau":"GW",Liberia:zP,Mali:jP,Mauritania:GP,Morocco:qP,Portugal:HP,Senegal:FP,"Sierra Leone":"SL",Greenland:$P,Guernsey:KP,Ireland:YP,"Isle of Man":"GB",Jersey:QP,"United Kingdom":"GB",Iceland:XP,"Faroe Islands":"DK",Svalbard:ZP,"Bouvet Island":"NO","New Zealand":"NZ",Angola:JP,Botswana:WP,Burundi:t5,Comoros:e5,Congo:n5,"Congo DRC":"CD",Gabon:i5,Kenya:r5,Lesotho:a5,Malawi:s5,"Juan De Nova Island":"FR",Mozambique:o5,Namibia:l5,Rwanda:u5,"Sao Tome and Principe":"ST","South Africa":"ZA",Eswatini:c5,Tanzania:h5,Zambia:f5,Zimbabwe:d5,"British Indian Ocean Territory":"GB","French Southern Territories":"FR","Heard Island and McDonald Islands":"AU",Madagascar:p5,Mauritius:m5,Mayotte:g5,"Glorioso Islands":"FR",Réunion:"FR",Seychelles:y5,Algeria:_5,Benin:v5,Cameroon:E5,"Central African Republic":"CF",Chad:T5,"Equatorial Guinea":"GQ",Kiribati:S5,Libya:w5,Malta:b5,Niger:A5,Nigeria:R5,Togo:C5,Tunisia:I5,Cyprus:M5,Djibouti:x5,Egypt:N5,Eritrea:D5,Ethiopia:O5,Greece:k5,Iraq:V5,Israel:P5,Jordan:L5,Lebanon:U5,"Palestinian Territory":"PS","South Sudan":"SS",Sudan:B5,Syria:z5,Turkey:j5,Uganda:G5,Andorra:q5,"United States":"US",France:H5,Liechtenstein:F5,Monaco:$5,Switzerland:K5,Belgium:Y5,Germany:Q5,Luxembourg:X5,Netherlands:Z5,Albania:J5,Austria:W5,"Bosnia and Herzegovina":"BA",Croatia:tL,"Czech Republic":"CZ",Denmark:eL,Hungary:nL,Italy:iL,Montenegro:rL,Poland:aL,"San Marino":"SM",Serbia:sL,Slovakia:oL,Slovenia:lL,"North Macedonia":"MK","Vatican City":"VA",Norway:uL,Sweden:cL,Belarus:hL,Bulgaria:fL,Estonia:dL,Finland:pL,Georgia:mL,Latvia:gL,Lithuania:yL,Moldova:_L,Romania:vL,Ukraine:EL,Afghanistan:TL,Bahrain:SL,India:wL,Iran:bL,Kuwait:AL,Maldives:RL,Nepal:CL,Oman:IL,Pakistan:ML,Qatar:xL,"Saudi Arabia":"SA",Somalia:NL,"Sri Lanka":"LK",Tajikistan:DL,Turkmenistan:OL,"United Arab Emirates":"AE",Yemen:kL,Armenia:VL,Azerbaijan:PL,Kazakhstan:LL,Kyrgyzstan:UL,Uzbekistan:BL,"Christmas Island":"AU","Cocos Islands":"AU",Indonesia:zL,"Timor-Leste":"TL",Australia:jL,Nauru:GL,"New Caledonia":"FR","Norfolk Island":"AU","Papua New Guinea":"PG","Solomon Islands":"SB",Tuvalu:qL,Vanuatu:HL,Cambodia:FL,Laos:$L,Malaysia:KL,Myanmar:YL,Singapore:QL,Thailand:XL,Vietnam:ZL,Bangladesh:JL,Bhutan:WL,China:tU,"Brunei Darussalam":"BN",Philippines:eU,"South Korea":"KR",Mongolia:nU,"North Korea":"KP",Guam:iU,Japan:rU,"Marshall Islands":"MH",Micronesia:aU,"Northern Mariana Islands":"US",Palau:sU,"Russian Federation":"RU",Spain:oU,Canarias:lU,Macau:uU,"Hong Kong":"HK"},bh=()=>new Date().toISOString().slice(0,10),hU=/^\d{4}-\d{2}-\d{2}$/;function Yp(n){const t=new Date;return t.setUTCDate(t.getUTCDate()+Number(n)),t.toISOString().slice(0,10)}function fU(){const n=new URLSearchParams(window.location.search),t=n.get("d")||n.get("date");let e=null;if(!t&&window.location.hash){const o=window.location.hash.match(/(?:^|[&#])d=([^&#]+)/);o&&(e=decodeURIComponent(o[1]))}const a=t||e;return a?hU.test(a)?a:a==="yesterday"?Yp(-1):a==="tomorrow"?Yp(1):a==="today"?bh():/^[+-]\d+$/.test(a)?Yp(a):bh():bh()}function $g(){const n=new URLSearchParams(window.location.search);return!!(n.get("d")||n.get("date")||window.location.hash&&/(?:^|[&#])d=/.test(window.location.hash))}function dU(){if(!$g())return;const n=new URL(window.location.href);if(n.searchParams.delete("d"),n.searchParams.delete("date"),n.hash){const t=n.hash.replace(/^[#]/,"").split(/[&#]/).filter(e=>!e.startsWith("d=")).join("&");n.hash=t?`#${t}`:""}window.history.replaceState(null,"",`${n.pathname}${n.search}${n.hash}`)}const pU="1g0IsY1ReO2nyVJhZS90rkbOFueMqHO4iOpW8mtM79LI",mU="sheet2";async function gU(n){const t=n||new Date().toISOString().slice(0,10),e=`https://opensheet.elk.sh/${pU}/${mU}`,o=(await fetch(e).then(u=>u.json())).find(u=>u.date===t);if(!o)throw new Error(`No row found for ${t}`);return{title:o.title,subtitle:o.subtitle,source:o.source,scale:Number(o.scale||1),target:o.target,unitSuffix:o.unitSuffix||"",yearStart:o.yearStart||void 0,csvUrl:o.OWID_datalink,others:[],infoDescription:o.infoDescription||"",date:t}}var Qp={},Xp={},Zp={},gE;function yU(){return gE||(gE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=function(){for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];if(typeof window<"u"){var d;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(d=window).gtag.apply(d,u)}},e=t;n.default=e}(Zp)),Zp}var Jp={},yE;function _U(){return yE||(yE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function e(d){return d.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(m,g,_){return g>0&&g+m.length!==_.length&&m.search(t)>-1&&_.charAt(g-2)!==":"&&(_.charAt(g+m.length)!=="-"||_.charAt(g-1)==="-")&&_.charAt(g-1).search(/[^\s-]/)<0?m.toLowerCase():m.substr(1).search(/[A-Z]|\../)>-1?m:m.charAt(0).toUpperCase()+m.substr(1)})}function a(d){return typeof d=="string"&&d.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function u(d){return a(d)?(console.warn("This arg looks like an email address, redacting."),o):d}function h(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,_=d||"";return m&&(_=e(d)),g&&(_=u(_)),_}}(Jp)),Jp}var _E;function vU(){return _E||(_E=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.GA4=void 0;var t=h(yU()),e=h(_U()),a=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],u=["page","hitType"];function h(nt){return nt&&nt.__esModule?nt:{default:nt}}function d(nt,U){if(nt==null)return{};var x=m(nt,U),P,z;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(nt);for(z=0;z<Q.length;z++)P=Q[z],!(U.indexOf(P)>=0)&&Object.prototype.propertyIsEnumerable.call(nt,P)&&(x[P]=nt[P])}return x}function m(nt,U){if(nt==null)return{};var x={},P=Object.keys(nt),z,Q;for(Q=0;Q<P.length;Q++)z=P[Q],!(U.indexOf(z)>=0)&&(x[z]=nt[z]);return x}function g(nt){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},g(nt)}function _(nt){return D(nt)||w(nt)||ht(nt)||T()}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(nt){if(typeof Symbol<"u"&&nt[Symbol.iterator]!=null||nt["@@iterator"]!=null)return Array.from(nt)}function D(nt){if(Array.isArray(nt))return W(nt)}function j(nt,U){var x=Object.keys(nt);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(nt);U&&(P=P.filter(function(z){return Object.getOwnPropertyDescriptor(nt,z).enumerable})),x.push.apply(x,P)}return x}function Z(nt){for(var U=1;U<arguments.length;U++){var x=arguments[U]!=null?arguments[U]:{};U%2?j(Object(x),!0).forEach(function(P){C(nt,P,x[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(x)):j(Object(x)).forEach(function(P){Object.defineProperty(nt,P,Object.getOwnPropertyDescriptor(x,P))})}return nt}function $(nt,U){return ct(nt)||dt(nt,U)||ht(nt,U)||ft()}function ft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(nt,U){if(nt){if(typeof nt=="string")return W(nt,U);var x=Object.prototype.toString.call(nt).slice(8,-1);if(x==="Object"&&nt.constructor&&(x=nt.constructor.name),x==="Map"||x==="Set")return Array.from(nt);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return W(nt,U)}}function W(nt,U){(U==null||U>nt.length)&&(U=nt.length);for(var x=0,P=new Array(U);x<U;x++)P[x]=nt[x];return P}function dt(nt,U){var x=nt==null?null:typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(x!=null){var P,z,Q,S,A=[],q=!0,K=!1;try{if(Q=(x=x.call(nt)).next,U!==0)for(;!(q=(P=Q.call(x)).done)&&(A.push(P.value),A.length!==U);q=!0);}catch(at){K=!0,z=at}finally{try{if(!q&&x.return!=null&&(S=x.return(),Object(S)!==S))return}finally{if(K)throw z}}return A}}function ct(nt){if(Array.isArray(nt))return nt}function yt(nt,U){if(!(nt instanceof U))throw new TypeError("Cannot call a class as a function")}function k(nt,U){for(var x=0;x<U.length;x++){var P=U[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(nt,V(P.key),P)}}function I(nt,U,x){return U&&k(nt.prototype,U),Object.defineProperty(nt,"prototype",{writable:!1}),nt}function C(nt,U,x){return U=V(U),U in nt?Object.defineProperty(nt,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):nt[U]=x,nt}function V(nt){var U=N(nt,"string");return g(U)==="symbol"?U:String(U)}function N(nt,U){if(g(nt)!=="object"||nt===null)return nt;var x=nt[Symbol.toPrimitive];if(x!==void 0){var P=x.call(nt,U);if(g(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(nt)}var L=function(){function nt(){var U=this;yt(this,nt),C(this,"reset",function(){U.isInitialized=!1,U._testMode=!1,U._currentMeasurementId,U._hasLoadedGA=!1,U._isQueuing=!1,U._queueGtag=[]}),C(this,"_gtag",function(){for(var x=arguments.length,P=new Array(x),z=0;z<x;z++)P[z]=arguments[z];U._testMode||U._isQueuing?U._queueGtag.push(P):t.default.apply(void 0,P)}),C(this,"_loadGA",function(x,P){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!U._hasLoadedGA){var Q=document.createElement("script");Q.async=!0,Q.src="".concat(z,"?id=").concat(x),P&&Q.setAttribute("nonce",P),document.body.appendChild(Q),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},U._hasLoadedGA=!0}}),C(this,"_toGtagOptions",function(x){if(x){var P={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},z=Object.entries(x).reduce(function(Q,S){var A=$(S,2),q=A[0],K=A[1];return P[q]?Q[P[q]]=K:Q[q]=K,Q},{});return z}}),C(this,"initialize",function(x){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!x)throw new Error("Require GA_MEASUREMENT_ID");var z=typeof x=="string"?[{trackingId:x}]:x;U._currentMeasurementId=z[0].trackingId;var Q=P.gaOptions,S=P.gtagOptions,A=P.nonce,q=P.testMode,K=q===void 0?!1:q,at=P.gtagUrl;if(U._testMode=K,K||U._loadGA(U._currentMeasurementId,A,at),U.isInitialized||(U._gtag("js",new Date),z.forEach(function(_t){var vt=Z(Z(Z({},U._toGtagOptions(Z(Z({},Q),_t.gaOptions))),S),_t.gtagOptions);Object.keys(vt).length?U._gtag("config",_t.trackingId,vt):U._gtag("config",_t.trackingId)})),U.isInitialized=!0,!K){var mt=_(U._queueGtag);for(U._queueGtag=[],U._isQueuing=!1;mt.length;){var pt=mt.shift();U._gtag.apply(U,_(pt)),pt[0]==="get"&&(U._isQueuing=!0)}}}),C(this,"set",function(x){if(!x){console.warn("`fieldsObject` is required in .set()");return}if(g(x)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(x).length===0&&console.warn("empty `fieldsObject` given to .set()"),U._gaCommand("set",x)}),C(this,"_gaCommandSendEvent",function(x,P,z,Q,S){U._gtag("event",P,Z(Z({event_category:x,event_label:z,value:Q},S&&{non_interaction:S.nonInteraction}),U._toGtagOptions(S)))}),C(this,"_gaCommandSendEventParameters",function(){for(var x=arguments.length,P=new Array(x),z=0;z<x;z++)P[z]=arguments[z];if(typeof P[0]=="string")U._gaCommandSendEvent.apply(U,_(P.slice(1)));else{var Q=P[0],S=Q.eventCategory,A=Q.eventAction,q=Q.eventLabel,K=Q.eventValue;Q.hitType;var at=d(Q,a);U._gaCommandSendEvent(S,A,q,K,at)}}),C(this,"_gaCommandSendTiming",function(x,P,z,Q){U._gtag("event","timing_complete",{name:P,value:z,event_category:x,event_label:Q})}),C(this,"_gaCommandSendPageview",function(x,P){if(P&&Object.keys(P).length){var z=U._toGtagOptions(P),Q=z.title,S=z.location,A=d(z,o);U._gtag("event","page_view",Z(Z(Z(Z({},x&&{page_path:x}),Q&&{page_title:Q}),S&&{page_location:S}),A))}else x?U._gtag("event","page_view",{page_path:x}):U._gtag("event","page_view")}),C(this,"_gaCommandSendPageviewParameters",function(){for(var x=arguments.length,P=new Array(x),z=0;z<x;z++)P[z]=arguments[z];if(typeof P[0]=="string")U._gaCommandSendPageview.apply(U,_(P.slice(1)));else{var Q=P[0],S=Q.page;Q.hitType;var A=d(Q,u);U._gaCommandSendPageview(S,A)}}),C(this,"_gaCommandSend",function(){for(var x=arguments.length,P=new Array(x),z=0;z<x;z++)P[z]=arguments[z];var Q=typeof P[0]=="string"?P[0]:P[0].hitType;switch(Q){case"event":U._gaCommandSendEventParameters.apply(U,P);break;case"pageview":U._gaCommandSendPageviewParameters.apply(U,P);break;case"timing":U._gaCommandSendTiming.apply(U,_(P.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Q));break;default:console.warn("Send command doesn't exist: ".concat(Q))}}),C(this,"_gaCommandSet",function(){for(var x=arguments.length,P=new Array(x),z=0;z<x;z++)P[z]=arguments[z];typeof P[0]=="string"&&(P[0]=C({},P[0],P[1])),U._gtag("set",U._toGtagOptions(P[0]))}),C(this,"_gaCommand",function(x){for(var P=arguments.length,z=new Array(P>1?P-1:0),Q=1;Q<P;Q++)z[Q-1]=arguments[Q];switch(x){case"send":U._gaCommandSend.apply(U,z);break;case"set":U._gaCommandSet.apply(U,z);break;default:console.warn("Command doesn't exist: ".concat(x))}}),C(this,"ga",function(){for(var x=arguments.length,P=new Array(x),z=0;z<x;z++)P[z]=arguments[z];if(typeof P[0]=="string")U._gaCommand.apply(U,P);else{var Q=P[0];U._gtag("get",U._currentMeasurementId,"client_id",function(S){U._isQueuing=!1;var A=U._queueGtag;for(Q({get:function(at){return at==="clientId"?S:at==="trackingId"?U._currentMeasurementId:at==="apiVersion"?"1":void 0}});A.length;){var q=A.shift();U._gtag.apply(U,_(q))}}),U._isQueuing=!0}return U.ga}),C(this,"event",function(x,P){if(typeof x=="string")U._gtag("event",x,U._toGtagOptions(P));else{var z=x.action,Q=x.category,S=x.label,A=x.value,q=x.nonInteraction,K=x.transport;if(!Q||!z){console.warn("args.category AND args.action are required in event()");return}var at={hitType:"event",eventCategory:(0,e.default)(Q),eventAction:(0,e.default)(z)};S&&(at.eventLabel=(0,e.default)(S)),typeof A<"u"&&(typeof A!="number"?console.warn("Expected `args.value` arg to be a Number."):at.eventValue=A),typeof q<"u"&&(typeof q!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):at.nonInteraction=q),typeof K<"u"&&(typeof K!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(K)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),at.transport=K)),U._gaCommand("send",at)}}),C(this,"send",function(x){U._gaCommand("send",x)}),this.reset()}return I(nt,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),nt}();n.GA4=L;var M=new L;n.default=M}(Xp)),Xp}var vE;function EU(){return vE||(vE=1,function(n){function t(d){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(d)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ReactGAImplementation=void 0;var e=o(vU());function a(d){if(typeof WeakMap!="function")return null;var m=new WeakMap,g=new WeakMap;return(a=function(T){return T?g:m})(d)}function o(d,m){if(d&&d.__esModule)return d;if(d===null||t(d)!=="object"&&typeof d!="function")return{default:d};var g=a(m);if(g&&g.has(d))return g.get(d);var _={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in d)if(w!=="default"&&Object.prototype.hasOwnProperty.call(d,w)){var D=T?Object.getOwnPropertyDescriptor(d,w):null;D&&(D.get||D.set)?Object.defineProperty(_,w,D):_[w]=d[w]}return _.default=d,g&&g.set(d,_),_}var u=e.GA4;n.ReactGAImplementation=u;var h=e.default;n.default=h}(Qp)),Qp}var TU=EU();const bf=Bm(TU),SU=()=>{bf.initialize("G-Y5KH49S1XK")},wU=()=>{bf.send({hitType:"pageview",page:window.location.pathname})},bU=(n,t)=>{bf.event({category:"Game",action:"Guess",label:n,value:t})},EE=(n,t,e)=>{bf.event({category:"Game",action:n==="won"?"Win":"Lose",label:e,value:t})},AU={usa:"United States",us:"United States","united states":"United States",uk:"United Kingdom","u.k.":"United Kingdom","Côte d’Ivoire":"Ivory Coast","Cote d’Ivoire":"Ivory Coast","dr congo":"Democratic Republic of the Congo","democratic republic congo":"Democratic Republic of the Congo","congo-kinshasa":"Democratic Republic of the Congo","congo-brazzaville":"Congo",swaziland:"Eswatini","czech republic":"Czechia",burma:"Myanmar","east timor":"Timor-Leste",taiwan:"Taiwan",venezuela:"Venezuela",lao:"Laos","south korea":"South Korea","north korea":"North Korea",macedonia:"North Macedonia",macao:"Macau","palestinian territories":"Palestine",...Object.fromEntries(["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Caribbean Netherlands","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Northern Cyprus","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"].map(n=>[n.toLowerCase(),n]))},ql=5,oo=fU(),Wp=$g(),RU=xw(),Ha=RU[oo]??null;function CU(){const[n,t]=bt.useState(null),[e,a]=bt.useState((Ha==null?void 0:Ha.guesses)??[]),[o,u]=bt.useState((Ha==null?void 0:Ha.result)??"playing"),[h,d]=bt.useState(!1),[m,g]=bt.useState(!1),[_,T]=bt.useState(null),[w,D]=bt.useState([]),[j,Z]=bt.useState(null),$=C=>Z(C),ft=new Date(oo).toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}),ht=new Date(oo).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});bt.useEffect(()=>{SU(),wU()},[]),bt.useEffect(()=>{gU(oo).then(t).catch(C=>console.error(C.message))},[]),bt.useEffect(()=>{$g()&&dU()},[]);const W=(n==null?void 0:n.target)??null,dt=W?cU[W]:null,ct=W?W.toLowerCase():null,yt=(n==null?void 0:n.infoDescription)??null,k=(n==null?void 0:n.source)??null;bt.useEffect(()=>{if(!dt)return;const C=`https://raw.githubusercontent.com/a-jiwa/chartle-data/main/countries/${dt}.json`;fetch(C).then(V=>V.json()).then(T).catch(V=>console.error("Failed to fetch target country data:",V))},[dt]),bt.useEffect(()=>{if(o!=="won"){d(!1);return}const C=300,V=C+1e3,N=setTimeout(()=>{pA({particleCount:120,spread:70,origin:{y:.6},disableForReducedMotion:!0,colors:["#c43333",...ts]})},C),L=setTimeout(()=>d(!0),V);return()=>{clearTimeout(N),clearTimeout(L)}},[o]),bt.useEffect(()=>{if(o!=="lost"){g(!1);return}const C=setTimeout(()=>g(!0),3e3);return()=>clearTimeout(C)},[o]),bt.useEffect(()=>{W&&v6({...Fg(),[oo]:{target:W,guesses:e,result:o,title:n.title}})},[e,o,W]),bt.useEffect(()=>{if(Wp)return;const C=setInterval(()=>{bh()!==oo&&window.location.reload()},6e4);return()=>clearInterval(C)},[]),bt.useEffect(()=>{if(!n)return;const C=Ha;if(!C)return;C.title===n.title||(a([]),u("playing"))},[n]);const I=C=>{if(o!=="playing")return;const V=C.trim();if(!V)return;const N=V.toLowerCase().trim(),L=AU[N]||V.replace(/\b\w/g,nt=>nt.toUpperCase());Um.some(nt=>nt.toLowerCase()===N)&&a(nt=>{if(nt.some(P=>P.toLowerCase()===N)||nt.length>=ql)return nt;const U=[...nt,L];bU(L,U.length),N===ct?(u("won"),EE("won",U.length,W)):U.length>=ql&&(u("lost"),EE("lost",U.length,W));const x=mE[L];if(x&&_&&_[x]){const{direction:P,distance_km:z}=_[x];console.log(`Your guess is ${z} km to the ${P}`)}return U})};return!n||!dt?null:it.jsxs("div",{className:"h-full antialiased flex flex-col items-center overflow-y-scroll",children:[it.jsx(DN,{onOpen:$,dateLabel:ht,overridden:Wp}),it.jsxs("div",{className:"pt-12 flex flex-col w-full max-w-[700px] h-full",children:[it.jsxs("div",{className:"flex-none h-2/3",children:[it.jsxs("div",{className:"px-4 pb-2 grid grid-cols-[1fr_auto] items-start gap-y-1",children:[it.jsxs("div",{children:[it.jsx("h2",{className:"mt-5 text-left font-bold text-gray-900 dark:text-white text-[20px] md:text-[22px] leading-tight",children:n.title}),it.jsx("p",{className:"text-left text-gray-600 dark:text-gray-300 text-[16px] mt-1",children:n.subtitle})]}),it.jsx("p",{className:`mt-5 md:mt-5 md:ml-4 text-[14px] hidden md:inline-block ${Wp?"text-yellow-800 bg-yellow-100 px-2 py-0.5 rounded":"text-gray-500"}`,children:ft})]}),it.jsx(g6,{csvUrl:n.csvUrl,meta:n,target:W,others:n.others??[],guesses:e,guessColours:ts,setAvailableCountries:D})]}),it.jsx("div",{className:"flex-none mt-8",children:it.jsx(y6,{guesses:e,onAddGuess:I,status:o,max:ql,guessColours:ts,targetData:_,countryToIso:mE,validCountries:w,target:W})})]}),it.jsx(E6,{open:h,onClose:()=>u("done"),guesses:e,target:W,infoDescription:yt,source:k,csvUrl:n.csvUrl,title:n.title,maxGuesses:ql}),it.jsx(T6,{open:m,onClose:()=>u("done"),target:W,infoDescription:yt,source:k,csvUrl:n.csvUrl,guesses:e,title:n.title,maxGuesses:ql}),it.jsx(S6,{open:j==="help",onClose:()=>Z(null)}),it.jsx(I6,{open:j==="history",onClose:()=>Z(null)}),it.jsx(M6,{open:j==="settings",onClose:()=>Z(null)}),it.jsx(N6,{open:j==="auth",onClose:()=>Z(null)})]})}dA.createRoot(document.getElementById("root")).render(it.jsx(aA.StrictMode,{children:it.jsx(xN,{children:it.jsx(CU,{})})}))});export default IU();
