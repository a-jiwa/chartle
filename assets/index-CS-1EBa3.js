var lA=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var xU=lA((DU,Eu)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function jm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bp={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function uA(){if(sv)return jl;sv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=e,jl.jsxs=e,jl}var ov;function cA(){return ov||(ov=1,bp.exports=uA()),bp.exports}var nt=cA(),Ap={exports:{}},zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function hA(){if(lv)return zt;lv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Z={};function Q(w,A,F){this.props=w,this.context=A,this.refs=Z,this.updater=F||D}Q.prototype.isReactComponent={},Q.prototype.setState=function(w,A){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,A,"setState")},Q.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function mt(){}mt.prototype=Q.prototype;function ut(w,A,F){this.props=w,this.context=A,this.refs=Z,this.updater=F||D}var at=ut.prototype=new mt;at.constructor=ut,j(at,Q.prototype),at.isPureReactComponent=!0;var _t=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function O(w,A,F,q,rt,ft){return F=ft.ref,{$$typeof:n,type:w,key:A,ref:F!==void 0?F:null,props:ft}}function C(w,A){return O(w.type,A,void 0,void 0,void 0,w.props)}function I(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function V(w){var A={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(F){return A[F]})}var M=/\/+/g;function P(w,A){return typeof w=="object"&&w!==null&&w.key!=null?V(""+w.key):A.toString(36)}function x(){}function tt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(x,x):(w.status="pending",w.then(function(A){w.status==="pending"&&(w.status="fulfilled",w.value=A)},function(A){w.status==="pending"&&(w.status="rejected",w.reason=A)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function H(w,A,F,q,rt){var ft=typeof w;(ft==="undefined"||ft==="boolean")&&(w=null);var pt=!1;if(w===null)pt=!0;else switch(ft){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(w.$$typeof){case n:case t:pt=!0;break;case _:return pt=w._init,H(pt(w._payload),A,F,q,rt)}}if(pt)return rt=rt(w),pt=q===""?"."+P(w,0):q,_t(rt)?(F="",pt!=null&&(F=pt.replace(M,"$&/")+"/"),H(rt,A,F,"",function(Lt){return Lt})):rt!=null&&(I(rt)&&(rt=C(rt,F+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(M,"$&/")+"/")+pt)),A.push(rt)),1;pt=0;var gt=q===""?".":q+":";if(_t(w))for(var vt=0;vt<w.length;vt++)q=w[vt],ft=gt+P(q,vt),pt+=H(q,A,F,ft,rt);else if(vt=S(w),typeof vt=="function")for(w=vt.call(w),vt=0;!(q=w.next()).done;)q=q.value,ft=gt+P(q,vt++),pt+=H(q,A,F,ft,rt);else if(ft==="object"){if(typeof w.then=="function")return H(tt(w),A,F,q,rt);throw A=String(w),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return pt}function N(w,A,F){if(w==null)return w;var q=[],rt=0;return H(w,q,"","",function(ft){return A.call(F,ft,rt++)}),q}function L(w){if(w._status===-1){var A=w._result;A=A(),A.then(function(F){(w._status===0||w._status===-1)&&(w._status=1,w._result=F)},function(F){(w._status===0||w._status===-1)&&(w._status=2,w._result=F)}),w._status===-1&&(w._status=0,w._result=A)}if(w._status===1)return w._result.default;throw w._result}var U=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function z(){}return zt.Children={map:N,forEach:function(w,A,F){N(w,function(){A.apply(this,arguments)},F)},count:function(w){var A=0;return N(w,function(){A++}),A},toArray:function(w){return N(w,function(A){return A})||[]},only:function(w){if(!I(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},zt.Component=Q,zt.Fragment=e,zt.Profiler=o,zt.PureComponent=ut,zt.StrictMode=a,zt.Suspense=m,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,zt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return dt.H.useMemoCache(w)}},zt.cache=function(w){return function(){return w.apply(null,arguments)}},zt.cloneElement=function(w,A,F){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var q=j({},w.props),rt=w.key,ft=void 0;if(A!=null)for(pt in A.ref!==void 0&&(ft=void 0),A.key!==void 0&&(rt=""+A.key),A)!Et.call(A,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&A.ref===void 0||(q[pt]=A[pt]);var pt=arguments.length-2;if(pt===1)q.children=F;else if(1<pt){for(var gt=Array(pt),vt=0;vt<pt;vt++)gt[vt]=arguments[vt+2];q.children=gt}return O(w.type,rt,void 0,void 0,ft,q)},zt.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},zt.createElement=function(w,A,F){var q,rt={},ft=null;if(A!=null)for(q in A.key!==void 0&&(ft=""+A.key),A)Et.call(A,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(rt[q]=A[q]);var pt=arguments.length-2;if(pt===1)rt.children=F;else if(1<pt){for(var gt=Array(pt),vt=0;vt<pt;vt++)gt[vt]=arguments[vt+2];rt.children=gt}if(w&&w.defaultProps)for(q in pt=w.defaultProps,pt)rt[q]===void 0&&(rt[q]=pt[q]);return O(w,ft,void 0,void 0,null,rt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(w){return{$$typeof:d,render:w}},zt.isValidElement=I,zt.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:L}},zt.memo=function(w,A){return{$$typeof:g,type:w,compare:A===void 0?null:A}},zt.startTransition=function(w){var A=dt.T,F={};dt.T=F;try{var q=w(),rt=dt.S;rt!==null&&rt(F,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(z,U)}catch(ft){U(ft)}finally{dt.T=A}},zt.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},zt.use=function(w){return dt.H.use(w)},zt.useActionState=function(w,A,F){return dt.H.useActionState(w,A,F)},zt.useCallback=function(w,A){return dt.H.useCallback(w,A)},zt.useContext=function(w){return dt.H.useContext(w)},zt.useDebugValue=function(){},zt.useDeferredValue=function(w,A){return dt.H.useDeferredValue(w,A)},zt.useEffect=function(w,A,F){var q=dt.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(w,A)},zt.useId=function(){return dt.H.useId()},zt.useImperativeHandle=function(w,A,F){return dt.H.useImperativeHandle(w,A,F)},zt.useInsertionEffect=function(w,A){return dt.H.useInsertionEffect(w,A)},zt.useLayoutEffect=function(w,A){return dt.H.useLayoutEffect(w,A)},zt.useMemo=function(w,A){return dt.H.useMemo(w,A)},zt.useOptimistic=function(w,A){return dt.H.useOptimistic(w,A)},zt.useReducer=function(w,A,F){return dt.H.useReducer(w,A,F)},zt.useRef=function(w){return dt.H.useRef(w)},zt.useState=function(w){return dt.H.useState(w)},zt.useSyncExternalStore=function(w,A,F){return dt.H.useSyncExternalStore(w,A,F)},zt.useTransition=function(){return dt.H.useTransition()},zt.version="19.1.0",zt}var uv;function Gm(){return uv||(uv=1,Ap.exports=hA()),Ap.exports}var At=Gm();const fA=jm(At);var Rp={exports:{}},Gl={},Cp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function dA(){return cv||(cv=1,function(n){function t(N,L){var U=N.length;N.push(L);t:for(;0<U;){var z=U-1>>>1,w=N[z];if(0<o(w,L))N[z]=L,N[U]=w,U=z;else break t}}function e(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var L=N[0],U=N.pop();if(U!==L){N[0]=U;t:for(var z=0,w=N.length,A=w>>>1;z<A;){var F=2*(z+1)-1,q=N[F],rt=F+1,ft=N[rt];if(0>o(q,U))rt<w&&0>o(ft,q)?(N[z]=ft,N[rt]=U,z=rt):(N[z]=q,N[F]=U,z=F);else if(rt<w&&0>o(ft,U))N[z]=ft,N[rt]=U,z=rt;else break t}}return L}function o(N,L){var U=N.sortIndex-L.sortIndex;return U!==0?U:N.id-L.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],g=[],_=1,T=null,S=3,D=!1,j=!1,Z=!1,Q=!1,mt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function _t(N){for(var L=e(g);L!==null;){if(L.callback===null)a(g);else if(L.startTime<=N)a(g),L.sortIndex=L.expirationTime,t(m,L);else break;L=e(g)}}function dt(N){if(Z=!1,_t(N),!j)if(e(m)!==null)j=!0,Et||(Et=!0,P());else{var L=e(g);L!==null&&H(dt,L.startTime-N)}}var Et=!1,O=-1,C=5,I=-1;function V(){return Q?!0:!(n.unstable_now()-I<C)}function M(){if(Q=!1,Et){var N=n.unstable_now();I=N;var L=!0;try{t:{j=!1,Z&&(Z=!1,ut(O),O=-1),D=!0;var U=S;try{e:{for(_t(N),T=e(m);T!==null&&!(T.expirationTime>N&&V());){var z=T.callback;if(typeof z=="function"){T.callback=null,S=T.priorityLevel;var w=z(T.expirationTime<=N);if(N=n.unstable_now(),typeof w=="function"){T.callback=w,_t(N),L=!0;break e}T===e(m)&&a(m),_t(N)}else a(m);T=e(m)}if(T!==null)L=!0;else{var A=e(g);A!==null&&H(dt,A.startTime-N),L=!1}}break t}finally{T=null,S=U,D=!1}L=void 0}}finally{L?P():Et=!1}}}var P;if(typeof at=="function")P=function(){at(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,tt=x.port2;x.port1.onmessage=M,P=function(){tt.postMessage(null)}}else P=function(){mt(M,0)};function H(N,L){O=mt(function(){N(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(N){switch(S){case 1:case 2:case 3:var L=3;break;default:L=S}var U=S;S=L;try{return N()}finally{S=U}},n.unstable_requestPaint=function(){Q=!0},n.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=S;S=N;try{return L()}finally{S=U}},n.unstable_scheduleCallback=function(N,L,U){var z=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,N){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=U+w,N={id:_++,callback:L,priorityLevel:N,startTime:U,expirationTime:w,sortIndex:-1},U>z?(N.sortIndex=U,t(g,N),e(m)===null&&N===e(g)&&(Z?(ut(O),O=-1):Z=!0,H(dt,U-z))):(N.sortIndex=w,t(m,N),j||D||(j=!0,Et||(Et=!0,P()))),N},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(N){var L=S;return function(){var U=S;S=L;try{return N.apply(this,arguments)}finally{S=U}}}}(Ip)),Ip}var hv;function pA(){return hv||(hv=1,Cp.exports=dA()),Cp.exports}var xp={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function mA(){if(fv)return pn;fv=1;var n=Gm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,_)},pn.flushSync=function(m){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=_,a.d.f()}},pn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},pn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},pn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:D}):_==="script"&&a.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},pn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);a.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},pn.requestFormReset=function(m){a.d.r(m)},pn.unstable_batchedUpdates=function(m,g){return m(g)},pn.useFormState=function(m,g,_){return h.H.useFormState(m,g,_)},pn.useFormStatus=function(){return h.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var dv;function gA(){if(dv)return xp.exports;dv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xp.exports=mA(),xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function yA(){if(pv)return Gl;pv=1;var n=pA(),t=Gm(),e=gA();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function h(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(u(r)!==r)throw Error(a(188))}function m(r){var i=r.alternate;if(!i){if(i=u(r),i===null)throw Error(a(188));return i!==r?null:r}for(var s=r,l=i;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),r;if(p===l)return d(f),i;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var E=!1,b=f.child;b;){if(b===s){E=!0,s=f,l=p;break}if(b===l){E=!0,l=f,s=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===s){E=!0,s=p,l=f;break}if(b===l){E=!0,l=p,s=f;break}b=b.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),at=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function tt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case Q:return"Profiler";case Z:return"StrictMode";case dt:return"Suspense";case Et:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case at:return(r.displayName||"Context")+".Provider";case ut:return(r._context.displayName||"Context")+".Consumer";case _t:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return i=r.displayName||null,i!==null?i:tt(r.type)||"Memo";case C:i=r._payload,r=r._init;try{return tt(r(i))}catch{}}return null}var H=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},z=[],w=-1;function A(r){return{current:r}}function F(r){0>w||(r.current=z[w],z[w]=null,w--)}function q(r,i){w++,z[w]=r.current,r.current=i}var rt=A(null),ft=A(null),pt=A(null),gt=A(null);function vt(r,i){switch(q(pt,i),q(ft,r),q(rt,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?k0(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=k0(i),r=V0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}F(rt),q(rt,r)}function Lt(){F(rt),F(ft),F(pt)}function Ht(r){r.memoizedState!==null&&q(gt,r);var i=rt.current,s=V0(i,r.type);i!==s&&(q(ft,r),q(rt,s))}function Ot(r){ft.current===r&&(F(rt),F(ft)),gt.current===r&&(F(gt),Pl._currentValue=U)}var $t=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,Ut=n.unstable_cancelCallback,ie=n.unstable_shouldYield,ge=n.unstable_requestPaint,Zt=n.unstable_now,ye=n.unstable_getCurrentPriorityLevel,nn=n.unstable_ImmediatePriority,oe=n.unstable_UserBlockingPriority,xe=n.unstable_NormalPriority,zn=n.unstable_LowPriority,jn=n.unstable_IdlePriority,bn=n.log,vn=n.unstable_setDisableYieldValue,$=null,bt=null;function ct(r){if(typeof bn=="function"&&vn(r),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode($,r)}catch{}}var wt=Math.clz32?Math.clz32:Kt,Vt=Math.log,Wt=Math.LN2;function Kt(r){return r>>>=0,r===0?32:31-(Vt(r)/Wt|0)|0}var ve=256,ke=4194304;function Ve(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function fn(r,i,s){var l=r.pendingLanes;if(l===0)return 0;var f=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=Ve(l):(E&=b,E!==0?f=Ve(E):s||(s=b&~r,s!==0&&(f=Ve(s))))):(b=l&~p,b!==0?f=Ve(b):E!==0?f=Ve(E):s||(s=l&~r,s!==0&&(f=Ve(s)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:f}function Ii(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function ms(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var r=ve;return ve<<=1,(ve&4194048)===0&&(ve=256),r}function Uo(){var r=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),r}function qr(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function Fr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Bo(r,i,s,l,f,p){var E=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var b=r.entanglements,k=r.expirationTimes,X=r.hiddenUpdates;for(s=E&~s;0<s;){var it=31-wt(s),ot=1<<it;b[it]=0,k[it]=-1;var W=X[it];if(W!==null)for(X[it]=null,it=0;it<W.length;it++){var J=W[it];J!==null&&(J.lane&=-536870913)}s&=~ot}l!==0&&yr(r,l,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~i))}function yr(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-wt(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|s&4194090}function zo(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var l=31-wt(s),f=1<<l;f&i|r[l]&i&&(r[l]|=i),s&=~f}}function xi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function gs(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Mi(){var r=L.p;return r!==0?r:(r=window.event,r===void 0?32:tv(r.type))}function Ou(r,i){var s=L.p;try{return L.p=r,i()}finally{L.p=s}}var we=Math.random().toString(36).slice(2),Ge="__reactFiber$"+we,Pe="__reactProps$"+we,Gn="__reactContainer$"+we,jo="__reactEvents$"+we,Cf="__reactListeners$"+we,Ni="__reactHandles$"+we,ku="__reactResources$"+we,va="__reactMarker$"+we;function Di(r){delete r[Ge],delete r[Pe],delete r[jo],delete r[Cf],delete r[Ni]}function $r(r){var i=r[Ge];if(i)return i;for(var s=r.parentNode;s;){if(i=s[Gn]||s[Ge]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=B0(r);r!==null;){if(s=r[Ge])return s;r=B0(r)}return i}r=s,s=r.parentNode}return null}function _r(r){if(r=r[Ge]||r[Gn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function vr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function En(r){var i=r[ku];return i||(i=r[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Me(r){r[va]=!0}var Go=new Set,ys={};function rr(r,i){Kr(r,i),Kr(r+"Capture",i)}function Kr(r,i){for(ys[r]=i,r=0;r<i.length;r++)Go.add(i[r])}var Vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},Ea={};function Lu(r){return $t.call(Ea,r)?!0:$t.call(Pu,r)?!1:Vu.test(r)?Ea[r]=!0:(Pu[r]=!0,!1)}function Oi(r,i,s){if(Lu(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function Er(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function rn(r,i,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+l)}}var Ta,Uu;function Yr(r){if(Ta===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ta=i&&i[1]||"",Uu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+r+Uu}var _s=!1;function vs(r,i){if(!r||_s)return"";_s=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(J){var W=J}Reflect.construct(r,[],ot)}else{try{ot.call()}catch(J){W=J}r.call(ot.prototype)}}else{try{throw Error()}catch(J){W=J}(ot=r())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var k=E.split(`
`),X=b.split(`
`);for(f=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(l===k.length||f===X.length)for(l=k.length-1,f=X.length-1;1<=l&&0<=f&&k[l]!==X[f];)f--;for(;1<=l&&0<=f;l--,f--)if(k[l]!==X[f]){if(l!==1||f!==1)do if(l--,f--,0>f||k[l]!==X[f]){var it=`
`+k[l].replace(" at new "," at ");return r.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",r.displayName)),it}while(1<=l&&0<=f);break}}}finally{_s=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?Yr(s):""}function Ho(r){switch(r.tag){case 26:case 27:case 5:return Yr(r.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 15:return vs(r.type,!1);case 11:return vs(r.type.render,!1);case 1:return vs(r.type,!0);case 31:return Yr("Activity");default:return""}}function Es(r){try{var i="";do i+=Ho(r),r=r.return;while(r);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qo(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function If(r){var i=qo(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),l=""+r[i];if(!r.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(r,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ts(r){r._valueTracker||(r._valueTracker=If(r))}function Fo(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return r&&(l=qo(r)?r.checked?"true":"false":r.value),r=l,r!==s?(i.setValue(r),!0):!1}function wa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var xf=/[\n"\\]/g;function Le(r){return r.replace(xf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nn(r,i,s,l,f,p,E,b){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Tn(i)):r.value!==""+Tn(i)&&(r.value=""+Tn(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?ki(r,E,Tn(i)):s!=null?ki(r,E,Tn(s)):l!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+Tn(b):r.removeAttribute("name")}function Sa(r,i,s,l,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+Tn(s):"",i=i!=null?""+Tn(i):s,b||i===r.value||(r.value=i),r.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=b?r.checked:!!l,r.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function ki(r,i,s){i==="number"&&wa(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function Qr(r,i,s,l){if(r=r.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<r.length;s++)f=i.hasOwnProperty("$"+r[s].value),r[s].selected!==f&&(r[s].selected=f),f&&l&&(r[s].defaultSelected=!0)}else{for(s=""+Tn(s),i=null,f=0;f<r.length;f++){if(r[f].value===s){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function fe(r,i,s){if(i!=null&&(i=""+Tn(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+Tn(s):""}function ba(r,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(H(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Tn(i),r.defaultValue=s,l=r.textContent,l===s&&l!==""&&l!==null&&(r.value=l)}function Hn(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(r,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,s):typeof s!="number"||s===0||Aa.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function $o(r,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Bu(r,f,l)}else for(var p in i)i.hasOwnProperty(p)&&Bu(r,p,i[p])}function Ko(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ws(r){return Nf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Xr=null;function qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Zr=null,Wr=null;function Yo(r){var i=_r(r);if(i&&(r=i.stateNode)){var s=r[Pe]||null;t:switch(r=i.stateNode,i.type){case"input":if(Nn(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Le(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==r&&l.form===r.form){var f=l[Pe]||null;if(!f)throw Error(a(90));Nn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===r.form&&Fo(l)}break t;case"textarea":fe(r,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Qr(r,!!s.multiple,i,!1)}}}var Tr=!1;function zu(r,i,s){if(Tr)return r(i,s);Tr=!0;try{var l=r(i);return l}finally{if(Tr=!1,(Zr!==null||Wr!==null)&&(Oc(),Zr&&(i=Zr,r=Wr,Wr=Zr=null,Yo(i),r)))for(i=0;i<r.length;i++)Yo(r[i])}}function Ra(r,i){var s=r.stateNode;if(s===null)return null;var l=s[Pe]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break t;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(ir)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Fn=!1}var wr=null,Vi=null,Jr=null;function Qo(){if(Jr)return Jr;var r,i=Vi,s=i.length,l,f="value"in wr?wr.value:wr.textContent,p=f.length;for(r=0;r<s&&i[r]===f[r];r++);var E=s-r;for(l=1;l<=E&&i[s-l]===f[p-l];l++);return Jr=f.slice(r,1<l?1-l:void 0)}function Sr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function br(){return!0}function Xo(){return!1}function Qe(r){function i(s,l,f,p,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(s=r[b],this[b]=s?s(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?br:Xo,this.isPropagationStopped=Xo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),i}var le={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Qe(le),Ia=_({},le,{view:0,detail:0}),ju=Qe(Ia),bs,As,Ar,xa=_({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ar&&(Ar&&r.type==="mousemove"?(bs=r.screenX-Ar.screenX,As=r.screenY-Ar.screenY):As=bs=0,Ar=r),bs)},movementY:function(r){return"movementY"in r?r.movementY:As}}),$n=Qe(xa),Gu=_({},xa,{dataTransfer:0}),Df=Qe(Gu),Ma=_({},Ia,{relatedTarget:0}),Rs=Qe(Ma),Zo=_({},le,{animationName:0,elapsedTime:0,pseudoElement:0}),Cs=Qe(Zo),Hu=_({},le,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Is=Qe(Hu),Of=_({},le,{data:0}),Wo=Qe(Of),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Fu[r])?!!i[r]:!1}function Da(){return Jo}var $u=_({},Ia,{key:function(r){if(r.key){var i=Na[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Sr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(r){return r.type==="keypress"?Sr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Sr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xs=Qe($u),Ku=_({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Qe(Ku),ti=_({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Yu=Qe(ti),Qu=_({},le,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Qe(Qu),Zu=_({},xa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ms=Qe(Zu),wn=_({},le,{newState:0,oldState:0}),Wu=Qe(wn),Ju=[9,13,27,32],Rr=ir&&"CompositionEvent"in window,c=null;ir&&"documentMode"in document&&(c=document.documentMode);var y=ir&&"TextEvent"in window&&!c,v=ir&&(!Rr||c&&8<c&&11>=c),R=" ",K=!1;function et(r,i){switch(r){case"keyup":return Ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Jt=!1;function He(r,i){switch(r){case"compositionend":return yt(i);case"keypress":return i.which!==32?null:(K=!0,R);case"textInput":return r=i.data,r===R&&K?null:r;default:return null}}function te(r,i){if(Jt)return r==="compositionend"||!Rr&&et(r,i)?(r=Qo(),Jr=Vi=wr=null,Jt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qe(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Xe[r.type]:i==="textarea"}function ei(r,i,s,l){Zr?Wr?Wr.push(l):Wr=[l]:Zr=l,i=Bc(i,"onChange"),0<i.length&&(s=new Ss("onChange","change",null,s,l),r.push({event:s,listeners:i}))}var an=null,Cr=null;function el(r){x0(r,0)}function tc(r){var i=vr(r);if(Fo(i))return r}function Xg(r,i){if(r==="change")return i}var Zg=!1;if(ir){var kf;if(ir){var Vf="oninput"in document;if(!Vf){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Vf=typeof Wg.oninput=="function"}kf=Vf}else kf=!1;Zg=kf&&(!document.documentMode||9<document.documentMode)}function Jg(){an&&(an.detachEvent("onpropertychange",ty),Cr=an=null)}function ty(r){if(r.propertyName==="value"&&tc(Cr)){var i=[];ei(i,Cr,r,qn(r)),zu(el,i)}}function US(r,i,s){r==="focusin"?(Jg(),an=i,Cr=s,an.attachEvent("onpropertychange",ty)):r==="focusout"&&Jg()}function BS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return tc(Cr)}function zS(r,i){if(r==="click")return tc(i)}function jS(r,i){if(r==="input"||r==="change")return tc(i)}function GS(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Dn=typeof Object.is=="function"?Object.is:GS;function nl(r,i){if(Dn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!$t.call(i,f)||!Dn(r[f],i[f]))return!1}return!0}function ey(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ny(r,i){var s=ey(r);r=0;for(var l;s;){if(s.nodeType===3){if(l=r+s.textContent.length,r<=i&&l>=i)return{node:s,offset:i-r};r=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ey(s)}}function ry(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?ry(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function iy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=wa(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=wa(r.document)}return i}function Pf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var HS=ir&&"documentMode"in document&&11>=document.documentMode,Ns=null,Lf=null,rl=null,Uf=!1;function ay(r,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uf||Ns==null||Ns!==wa(l)||(l=Ns,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&nl(rl,l)||(rl=l,l=Bc(Lf,"onSelect"),0<l.length&&(i=new Ss("onSelect","select",null,i,s),r.push({event:i,listeners:l}),i.target=Ns)))}function Oa(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var Ds={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Bf={},sy={};ir&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function ka(r){if(Bf[r])return Bf[r];if(!Ds[r])return r;var i=Ds[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in sy)return Bf[r]=i[s];return r}var oy=ka("animationend"),ly=ka("animationiteration"),uy=ka("animationstart"),qS=ka("transitionrun"),FS=ka("transitionstart"),$S=ka("transitioncancel"),cy=ka("transitionend"),hy=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function ar(r,i){hy.set(r,i),rr(i,[r])}var fy=new WeakMap;function Kn(r,i){if(typeof r=="object"&&r!==null){var s=fy.get(r);return s!==void 0?s:(i={value:r,source:i,stack:Es(i)},fy.set(r,i),i)}return{value:r,source:i,stack:Es(i)}}var Yn=[],Os=0,jf=0;function ec(){for(var r=Os,i=jf=Os=0;i<r;){var s=Yn[i];Yn[i++]=null;var l=Yn[i];Yn[i++]=null;var f=Yn[i];Yn[i++]=null;var p=Yn[i];if(Yn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&dy(s,f,p)}}function nc(r,i,s,l){Yn[Os++]=r,Yn[Os++]=i,Yn[Os++]=s,Yn[Os++]=l,jf|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function Gf(r,i,s,l){return nc(r,i,s,l),rc(r)}function ks(r,i){return nc(r,null,null,i),rc(r)}function dy(r,i,s){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=r.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&i!==null&&(f=31-wt(s),r=p.hiddenUpdates,l=r[f],l===null?r[f]=[i]:l.push(i),i.lane=s|536870912),p):null}function rc(r){if(50<Il)throw Il=0,Yd=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Vs={};function KS(r,i,s,l){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(r,i,s,l){return new KS(r,i,s,l)}function Hf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ni(r,i){var s=r.alternate;return s===null?(s=On(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&65011712,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function py(r,i){r.flags&=65011714;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ic(r,i,s,l,f,p){var E=0;if(l=r,typeof r=="function")Hf(r)&&(E=1);else if(typeof r=="string")E=Qb(r,s,rt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=On(31,s,i,f),r.elementType=I,r.lanes=p,r;case j:return Va(s.children,f,p,i);case Z:E=8,f|=24;break;case Q:return r=On(12,s,i,f|2),r.elementType=Q,r.lanes=p,r;case dt:return r=On(13,s,i,f),r.elementType=dt,r.lanes=p,r;case Et:return r=On(19,s,i,f),r.elementType=Et,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case mt:case at:E=10;break t;case ut:E=9;break t;case _t:E=11;break t;case O:E=14;break t;case C:E=16,l=null;break t}E=29,s=Error(a(130,r===null?"null":typeof r,"")),l=null}return i=On(E,s,i,f),i.elementType=r,i.type=l,i.lanes=p,i}function Va(r,i,s,l){return r=On(7,r,l,i),r.lanes=s,r}function qf(r,i,s){return r=On(6,r,null,i),r.lanes=s,r}function Ff(r,i,s){return i=On(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Ps=[],Ls=0,ac=null,sc=0,Qn=[],Xn=0,Pa=null,ri=1,ii="";function La(r,i){Ps[Ls++]=sc,Ps[Ls++]=ac,ac=r,sc=i}function my(r,i,s){Qn[Xn++]=ri,Qn[Xn++]=ii,Qn[Xn++]=Pa,Pa=r;var l=ri;r=ii;var f=32-wt(l)-1;l&=~(1<<f),s+=1;var p=32-wt(i)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,ri=1<<32-wt(i)+f|s<<f|l,ii=p+r}else ri=1<<p|s<<f|l,ii=r}function $f(r){r.return!==null&&(La(r,1),my(r,1,0))}function Kf(r){for(;r===ac;)ac=Ps[--Ls],Ps[Ls]=null,sc=Ps[--Ls],Ps[Ls]=null;for(;r===Pa;)Pa=Qn[--Xn],Qn[Xn]=null,ii=Qn[--Xn],Qn[Xn]=null,ri=Qn[--Xn],Qn[Xn]=null}var Sn=null,Ce=null,se=!1,Ua=null,Ir=!1,Yf=Error(a(519));function Ba(r){var i=Error(a(418,""));throw sl(Kn(i,r)),Yf}function gy(r){var i=r.stateNode,s=r.type,l=r.memoizedProps;switch(i[Ge]=r,i[Pe]=l,s){case"dialog":Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":case"embed":Ft("load",i);break;case"video":case"audio":for(s=0;s<Ml.length;s++)Ft(Ml[s],i);break;case"source":Ft("error",i);break;case"img":case"image":case"link":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"input":Ft("invalid",i),Sa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ts(i);break;case"select":Ft("invalid",i);break;case"textarea":Ft("invalid",i),ba(i,l.value,l.defaultValue,l.children),Ts(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||O0(i.textContent,s)?(l.popover!=null&&(Ft("beforetoggle",i),Ft("toggle",i)),l.onScroll!=null&&Ft("scroll",i),l.onScrollEnd!=null&&Ft("scrollend",i),l.onClick!=null&&(i.onclick=zc),i=!0):i=!1,i||Ba(r)}function yy(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:Sn=Sn.return}}function il(r){if(r!==Sn)return!1;if(!se)return yy(r),se=!0,!1;var i=r.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||cp(r.type,r.memoizedProps)),s=!s),s&&Ce&&Ba(r),yy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));t:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(s=r.data,s==="/$"){if(i===0){Ce=or(r.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;r=r.nextSibling}Ce=null}}else i===27?(i=Ce,Zi(r.type)?(r=pp,pp=null,Ce=r):Ce=i):Ce=Sn?or(r.stateNode.nextSibling):null;return!0}function al(){Ce=Sn=null,se=!1}function _y(){var r=Ua;return r!==null&&(Cn===null?Cn=r:Cn.push.apply(Cn,r),Ua=null),r}function sl(r){Ua===null?Ua=[r]:Ua.push(r)}var Qf=A(null),za=null,ai=null;function Pi(r,i,s){q(Qf,i._currentValue),i._currentValue=s}function si(r){r._currentValue=Qf.current,F(Qf)}function Xf(r,i,s){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===s)break;r=r.return}}function Zf(r,i,s,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var b=p;p=f;for(var k=0;k<i.length;k++)if(b.context===i[k]){p.lanes|=s,b=p.alternate,b!==null&&(b.lanes|=s),Xf(p.return,s,r),l||(E=null);break t}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),Xf(E,s,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ol(r,i,s,l){r=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var b=f.type;Dn(f.pendingProps.value,E.value)||(r!==null?r.push(b):r=[b])}}else if(f===gt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Pl):r=[Pl])}f=f.return}r!==null&&Zf(i,r,s,l),i.flags|=262144}function oc(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ja(r){za=r,ai=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return vy(za,r)}function lc(r,i){return za===null&&ja(r),vy(r,i)}function vy(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ai===null){if(r===null)throw Error(a(308));ai=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ai=ai.next=i;return s}var YS=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},QS=n.unstable_scheduleCallback,XS=n.unstable_NormalPriority,Fe={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new YS,data:new Map,refCount:0}}function ll(r){r.refCount--,r.refCount===0&&QS(XS,function(){r.controller.abort()})}var ul=null,Jf=0,Us=0,Bs=null;function ZS(r,i){if(ul===null){var s=ul=[];Jf=0,Us=ep(),Bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jf++,i.then(Ey,Ey),i}function Ey(){if(--Jf===0&&ul!==null){Bs!==null&&(Bs.status="fulfilled");var r=ul;ul=null,Us=0,Bs=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function WS(r,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Ty=N.S;N.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ZS(r,i),Ty!==null&&Ty(r,i)};var Ga=A(null);function td(){var r=Ga.current;return r!==null?r:Ee.pooledCache}function uc(r,i){i===null?q(Ga,Ga.current):q(Ga,i.pool)}function wy(){var r=td();return r===null?null:{parent:Fe._currentValue,pool:r}}var cl=Error(a(460)),Sy=Error(a(474)),cc=Error(a(542)),ed={then:function(){}};function by(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hc(){}function Ay(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(hc,hc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Cy(r),r;default:if(typeof i.status=="string")i.then(hc,hc);else{if(r=Ee,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Cy(r),r}throw hl=i,cl}}var hl=null;function Ry(){if(hl===null)throw Error(a(459));var r=hl;return hl=null,r}function Cy(r){if(r===cl||r===cc)throw Error(a(483))}var Li=!1;function nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ui(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Bi(r,i,s){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(ce&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=rc(r),dy(r,null,s),i}return nc(r,l,i,s),rc(r)}function fl(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,s|=l,i.lanes=s,zo(r,s)}}function id(r,i){var s=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?f=p=i:p=p.next=i}else f=p=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var ad=!1;function dl(){if(ad){var r=Bs;if(r!==null)throw r}}function pl(r,i,s,l){ad=!1;var f=r.updateQueue;Li=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var k=b,X=k.next;k.next=null,E===null?p=X:E.next=X,E=k;var it=r.alternate;it!==null&&(it=it.updateQueue,b=it.lastBaseUpdate,b!==E&&(b===null?it.firstBaseUpdate=X:b.next=X,it.lastBaseUpdate=k))}if(p!==null){var ot=f.baseState;E=0,it=X=k=null,b=p;do{var W=b.lane&-536870913,J=W!==b.lane;if(J?(ee&W)===W:(l&W)===W){W!==0&&W===Us&&(ad=!0),it!==null&&(it=it.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Dt=r,xt=b;W=i;var me=s;switch(xt.tag){case 1:if(Dt=xt.payload,typeof Dt=="function"){ot=Dt.call(me,ot,W);break t}ot=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=xt.payload,W=typeof Dt=="function"?Dt.call(me,ot,W):Dt,W==null)break t;ot=_({},ot,W);break t;case 2:Li=!0}}W=b.callback,W!==null&&(r.flags|=64,J&&(r.flags|=8192),J=f.callbacks,J===null?f.callbacks=[W]:J.push(W))}else J={lane:W,tag:b.tag,payload:b.payload,callback:b.callback,next:null},it===null?(X=it=J,k=ot):it=it.next=J,E|=W;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);it===null&&(k=ot),f.baseState=k,f.firstBaseUpdate=X,f.lastBaseUpdate=it,p===null&&(f.shared.lanes=0),Ki|=E,r.lanes=E,r.memoizedState=ot}}function Iy(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function xy(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)Iy(s[r],i)}var zs=A(null),fc=A(0);function My(r,i){r=di,q(fc,r),q(zs,i),di=r|i.baseLanes}function sd(){q(fc,di),q(zs,zs.current)}function od(){di=fc.current,F(zs),F(fc)}var zi=0,jt=null,de=null,Ue=null,dc=!1,js=!1,Ha=!1,pc=0,ml=0,Gs=null,JS=0;function Ne(){throw Error(a(321))}function ld(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!Dn(r[s],i[s]))return!1;return!0}function ud(r,i,s,l,f,p){return zi=p,jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,N.H=r===null||r.memoizedState===null?d_:p_,Ha=!1,p=s(l,f),Ha=!1,js&&(p=Dy(i,s,l,f)),Ny(r),p}function Ny(r){N.H=Ec;var i=de!==null&&de.next!==null;if(zi=0,Ue=de=jt=null,dc=!1,ml=0,Gs=null,i)throw Error(a(300));r===null||Ze||(r=r.dependencies,r!==null&&oc(r)&&(Ze=!0))}function Dy(r,i,s,l){jt=r;var f=0;do{if(js&&(Gs=null),ml=0,js=!1,25<=f)throw Error(a(301));if(f+=1,Ue=de=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}N.H=sb,p=i(s,l)}while(js);return p}function tb(){var r=N.H,i=r.useState()[0];return i=typeof i.then=="function"?gl(i):i,r=r.useState()[0],(de!==null?de.memoizedState:null)!==r&&(jt.flags|=1024),i}function cd(){var r=pc!==0;return pc=0,r}function hd(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function fd(r){if(dc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dc=!1}zi=0,Ue=de=jt=null,js=!1,ml=pc=0,Gs=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?jt.memoizedState=Ue=r:Ue=Ue.next=r,Ue}function Be(){if(de===null){var r=jt.alternate;r=r!==null?r.memoizedState:null}else r=de.next;var i=Ue===null?jt.memoizedState:Ue.next;if(i!==null)Ue=i,de=r;else{if(r===null)throw jt.alternate===null?Error(a(467)):Error(a(310));de=r,r={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},Ue===null?jt.memoizedState=Ue=r:Ue=Ue.next=r}return Ue}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(r){var i=ml;return ml+=1,Gs===null&&(Gs=[]),r=Ay(Gs,r,i),i=jt,(Ue===null?i.memoizedState:Ue.next)===null&&(i=i.alternate,N.H=i===null||i.memoizedState===null?d_:p_),r}function mc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gl(r);if(r.$$typeof===at)return dn(r)}throw Error(a(438,String(r)))}function pd(r){var i=null,s=jt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=jt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=dd(),jt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),l=0;l<r;l++)s[l]=V;return i.index++,s}function oi(r,i){return typeof i=="function"?i(r):i}function gc(r){var i=Be();return md(i,de,r)}function md(r,i,s){var l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=r.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,l.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{i=f.next;var b=E=null,k=null,X=i,it=!1;do{var ot=X.lane&-536870913;if(ot!==X.lane?(ee&ot)===ot:(zi&ot)===ot){var W=X.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ot===Us&&(it=!0);else if((zi&W)===W){X=X.next,W===Us&&(it=!0);continue}else ot={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(b=k=ot,E=p):k=k.next=ot,jt.lanes|=W,Ki|=W;ot=X.action,Ha&&s(p,ot),p=X.hasEagerState?X.eagerState:s(p,ot)}else W={lane:ot,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(b=k=W,E=p):k=k.next=W,jt.lanes|=ot,Ki|=ot;X=X.next}while(X!==null&&X!==i);if(k===null?E=p:k.next=b,!Dn(p,r.memoizedState)&&(Ze=!0,it&&(s=Bs,s!==null)))throw s;r.memoizedState=p,r.baseState=E,r.baseQueue=k,l.lastRenderedState=p}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function gd(r){var i=Be(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var l=s.dispatch,f=s.pending,p=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do p=r(p,E.action),E=E.next;while(E!==f);Dn(p,i.memoizedState)||(Ze=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,l]}function Oy(r,i,s){var l=jt,f=Be(),p=se;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Dn((de||f).memoizedState,s);E&&(f.memoizedState=s,Ze=!0),f=f.queue;var b=Py.bind(null,l,f,r);if(yl(2048,8,b,[r]),f.getSnapshot!==i||E||Ue!==null&&Ue.memoizedState.tag&1){if(l.flags|=2048,Hs(9,yc(),Vy.bind(null,l,f,s,i),null),Ee===null)throw Error(a(349));p||(zi&124)!==0||ky(l,i,s)}return s}function ky(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=jt.updateQueue,i===null?(i=dd(),jt.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function Vy(r,i,s,l){i.value=s,i.getSnapshot=l,Ly(i)&&Uy(r)}function Py(r,i,s){return s(function(){Ly(i)&&Uy(r)})}function Ly(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!Dn(r,s)}catch{return!0}}function Uy(r){var i=ks(r,2);i!==null&&Un(i,r,2)}function yd(r){var i=An();if(typeof r=="function"){var s=r;if(r=s(),Ha){ct(!0);try{s()}finally{ct(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:r},i}function By(r,i,s,l){return r.baseState=s,md(r,de,typeof l=="function"?l:oi)}function eb(r,i,s,l,f){if(vc(r))throw Error(a(485));if(r=i.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};N.T!==null?s(!0):p.isTransition=!1,l(p),s=i.pending,s===null?(p.next=i.pending=p,zy(i,p)):(p.next=s.next,i.pending=s.next=p)}}function zy(r,i){var s=i.action,l=i.payload,f=r.state;if(i.isTransition){var p=N.T,E={};N.T=E;try{var b=s(f,l),k=N.S;k!==null&&k(E,b),jy(r,i,b)}catch(X){_d(r,i,X)}finally{N.T=p}}else try{p=s(f,l),jy(r,i,p)}catch(X){_d(r,i,X)}}function jy(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Gy(r,i,l)},function(l){return _d(r,i,l)}):Gy(r,i,s)}function Gy(r,i,s){i.status="fulfilled",i.value=s,Hy(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,zy(r,s)))}function _d(r,i,s){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Hy(i),i=i.next;while(i!==l)}r.action=null}function Hy(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function qy(r,i){return i}function Fy(r,i){if(se){var s=Ee.formState;if(s!==null){t:{var l=jt;if(se){if(Ce){e:{for(var f=Ce,p=Ir;f.nodeType!==8;){if(!p){f=null;break e}if(f=or(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ce=or(f.nextSibling),l=f.data==="F!";break t}}Ba(l)}l=!1}l&&(i=s[0])}}return s=An(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:i},s.queue=l,s=c_.bind(null,jt,l),l.dispatch=s,l=yd(!1),p=Sd.bind(null,jt,!1,l.queue),l=An(),f={state:i,dispatch:null,action:r,pending:null},l.queue=f,s=eb.bind(null,jt,f,p,s),f.dispatch=s,l.memoizedState=r,[i,s,!1]}function $y(r){var i=Be();return Ky(i,de,r)}function Ky(r,i,s){if(i=md(r,i,qy)[0],r=gc(oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=gl(i)}catch(E){throw E===cl?cc:E}else l=i;i=Be();var f=i.queue,p=f.dispatch;return s!==i.memoizedState&&(jt.flags|=2048,Hs(9,yc(),nb.bind(null,f,s),null)),[l,p,r]}function nb(r,i){r.action=i}function Yy(r){var i=Be(),s=de;if(s!==null)return Ky(i,s,r);Be(),i=i.memoizedState,s=Be();var l=s.queue.dispatch;return s.memoizedState=r,[i,l,!1]}function Hs(r,i,s,l){return r={tag:r,create:s,deps:l,inst:i,next:null},i=jt.updateQueue,i===null&&(i=dd(),jt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(l=s.next,s.next=r,r.next=l,i.lastEffect=r),r}function yc(){return{destroy:void 0,resource:void 0}}function Qy(){return Be().memoizedState}function _c(r,i,s,l){var f=An();l=l===void 0?null:l,jt.flags|=r,f.memoizedState=Hs(1|i,yc(),s,l)}function yl(r,i,s,l){var f=Be();l=l===void 0?null:l;var p=f.memoizedState.inst;de!==null&&l!==null&&ld(l,de.memoizedState.deps)?f.memoizedState=Hs(i,p,s,l):(jt.flags|=r,f.memoizedState=Hs(1|i,p,s,l))}function Xy(r,i){_c(8390656,8,r,i)}function Zy(r,i){yl(2048,8,r,i)}function Wy(r,i){return yl(4,2,r,i)}function Jy(r,i){return yl(4,4,r,i)}function t_(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function e_(r,i,s){s=s!=null?s.concat([r]):null,yl(4,4,t_.bind(null,i,r),s)}function vd(){}function n_(r,i){var s=Be();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&ld(i,l[1])?l[0]:(s.memoizedState=[r,i],r)}function r_(r,i){var s=Be();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&ld(i,l[1]))return l[0];if(l=r(),Ha){ct(!0);try{r()}finally{ct(!1)}}return s.memoizedState=[l,i],l}function Ed(r,i,s){return s===void 0||(zi&1073741824)!==0?r.memoizedState=i:(r.memoizedState=s,r=s0(),jt.lanes|=r,Ki|=r,s)}function i_(r,i,s,l){return Dn(s,i)?s:zs.current!==null?(r=Ed(r,s,l),Dn(r,i)||(Ze=!0),r):(zi&42)===0?(Ze=!0,r.memoizedState=s):(r=s0(),jt.lanes|=r,Ki|=r,i)}function a_(r,i,s,l,f){var p=L.p;L.p=p!==0&&8>p?p:8;var E=N.T,b={};N.T=b,Sd(r,!1,i,s);try{var k=f(),X=N.S;if(X!==null&&X(b,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var it=WS(k,l);_l(r,i,it,Ln(r))}else _l(r,i,l,Ln(r))}catch(ot){_l(r,i,{then:function(){},status:"rejected",reason:ot},Ln())}finally{L.p=p,N.T=E}}function rb(){}function Td(r,i,s,l){if(r.tag!==5)throw Error(a(476));var f=s_(r).queue;a_(r,f,i,U,s===null?rb:function(){return o_(r),s(l)})}function s_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:U},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function o_(r){var i=s_(r).next.queue;_l(r,i,{},Ln())}function wd(){return dn(Pl)}function l_(){return Be().memoizedState}function u_(){return Be().memoizedState}function ib(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ln();r=Ui(s);var l=Bi(i,r,s);l!==null&&(Un(l,i,s),fl(l,i,s)),i={cache:Wf()},r.payload=i;return}i=i.return}}function ab(r,i,s){var l=Ln();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vc(r)?h_(i,s):(s=Gf(r,i,s,l),s!==null&&(Un(s,r,l),f_(s,i,l)))}function c_(r,i,s){var l=Ln();_l(r,i,s,l)}function _l(r,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(r))h_(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,b=p(E,s);if(f.hasEagerState=!0,f.eagerState=b,Dn(b,E))return nc(r,i,f,0),Ee===null&&ec(),!1}catch{}finally{}if(s=Gf(r,i,f,l),s!==null)return Un(s,r,l),f_(s,i,l),!0}return!1}function Sd(r,i,s,l){if(l={lane:2,revertLane:ep(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(r)){if(i)throw Error(a(479))}else i=Gf(r,s,l,2),i!==null&&Un(i,r,2)}function vc(r){var i=r.alternate;return r===jt||i!==null&&i===jt}function h_(r,i){js=dc=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function f_(r,i,s){if((s&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,s|=l,i.lanes=s,zo(r,s)}}var Ec={readContext:dn,use:mc,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne},d_={readContext:dn,use:mc,useCallback:function(r,i){return An().memoizedState=[r,i===void 0?null:i],r},useContext:dn,useEffect:Xy,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,_c(4194308,4,t_.bind(null,i,r),s)},useLayoutEffect:function(r,i){return _c(4194308,4,r,i)},useInsertionEffect:function(r,i){_c(4,2,r,i)},useMemo:function(r,i){var s=An();i=i===void 0?null:i;var l=r();if(Ha){ct(!0);try{r()}finally{ct(!1)}}return s.memoizedState=[l,i],l},useReducer:function(r,i,s){var l=An();if(s!==void 0){var f=s(i);if(Ha){ct(!0);try{s(i)}finally{ct(!1)}}}else f=i;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=ab.bind(null,jt,r),[l.memoizedState,r]},useRef:function(r){var i=An();return r={current:r},i.memoizedState=r},useState:function(r){r=yd(r);var i=r.queue,s=c_.bind(null,jt,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:vd,useDeferredValue:function(r,i){var s=An();return Ed(s,r,i)},useTransition:function(){var r=yd(!1);return r=a_.bind(null,jt,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var l=jt,f=An();if(se){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Ee===null)throw Error(a(349));(ee&124)!==0||ky(l,i,s)}f.memoizedState=s;var p={value:s,getSnapshot:i};return f.queue=p,Xy(Py.bind(null,l,p,r),[r]),l.flags|=2048,Hs(9,yc(),Vy.bind(null,l,p,s,i),null),s},useId:function(){var r=An(),i=Ee.identifierPrefix;if(se){var s=ii,l=ri;s=(l&~(1<<32-wt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=pc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=JS++,i="«"+i+"r"+s.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:wd,useFormState:Fy,useActionState:Fy,useOptimistic:function(r){var i=An();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Sd.bind(null,jt,!0,s),s.dispatch=i,[r,i]},useMemoCache:pd,useCacheRefresh:function(){return An().memoizedState=ib.bind(null,jt)}},p_={readContext:dn,use:mc,useCallback:n_,useContext:dn,useEffect:Zy,useImperativeHandle:e_,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:r_,useReducer:gc,useRef:Qy,useState:function(){return gc(oi)},useDebugValue:vd,useDeferredValue:function(r,i){var s=Be();return i_(s,de.memoizedState,r,i)},useTransition:function(){var r=gc(oi)[0],i=Be().memoizedState;return[typeof r=="boolean"?r:gl(r),i]},useSyncExternalStore:Oy,useId:l_,useHostTransitionStatus:wd,useFormState:$y,useActionState:$y,useOptimistic:function(r,i){var s=Be();return By(s,de,r,i)},useMemoCache:pd,useCacheRefresh:u_},sb={readContext:dn,use:mc,useCallback:n_,useContext:dn,useEffect:Zy,useImperativeHandle:e_,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:r_,useReducer:gd,useRef:Qy,useState:function(){return gd(oi)},useDebugValue:vd,useDeferredValue:function(r,i){var s=Be();return de===null?Ed(s,r,i):i_(s,de.memoizedState,r,i)},useTransition:function(){var r=gd(oi)[0],i=Be().memoizedState;return[typeof r=="boolean"?r:gl(r),i]},useSyncExternalStore:Oy,useId:l_,useHostTransitionStatus:wd,useFormState:Yy,useActionState:Yy,useOptimistic:function(r,i){var s=Be();return de!==null?By(s,de,r,i):(s.baseState=r,[r,s.queue.dispatch])},useMemoCache:pd,useCacheRefresh:u_},qs=null,vl=0;function Tc(r){var i=vl;return vl+=1,qs===null&&(qs=[]),Ay(qs,r,i)}function El(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function wc(r,i){throw i.$$typeof===T?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function m_(r){var i=r._init;return i(r._payload)}function g_(r){function i(G,B){if(r){var Y=G.deletions;Y===null?(G.deletions=[B],G.flags|=16):Y.push(B)}}function s(G,B){if(!r)return null;for(;B!==null;)i(G,B),B=B.sibling;return null}function l(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function f(G,B){return G=ni(G,B),G.index=0,G.sibling=null,G}function p(G,B,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<B?(G.flags|=67108866,B):Y):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function E(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function b(G,B,Y,st){return B===null||B.tag!==6?(B=qf(Y,G.mode,st),B.return=G,B):(B=f(B,Y),B.return=G,B)}function k(G,B,Y,st){var St=Y.type;return St===j?it(G,B,Y.props.children,st,Y.key):B!==null&&(B.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===C&&m_(St)===B.type)?(B=f(B,Y.props),El(B,Y),B.return=G,B):(B=ic(Y.type,Y.key,Y.props,null,G.mode,st),El(B,Y),B.return=G,B)}function X(G,B,Y,st){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Ff(Y,G.mode,st),B.return=G,B):(B=f(B,Y.children||[]),B.return=G,B)}function it(G,B,Y,st,St){return B===null||B.tag!==7?(B=Va(Y,G.mode,st,St),B.return=G,B):(B=f(B,Y),B.return=G,B)}function ot(G,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=qf(""+B,G.mode,Y),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Y=ic(B.type,B.key,B.props,null,G.mode,Y),El(Y,B),Y.return=G,Y;case D:return B=Ff(B,G.mode,Y),B.return=G,B;case C:var st=B._init;return B=st(B._payload),ot(G,B,Y)}if(H(B)||P(B))return B=Va(B,G.mode,Y,null),B.return=G,B;if(typeof B.then=="function")return ot(G,Tc(B),Y);if(B.$$typeof===at)return ot(G,lc(G,B),Y);wc(G,B)}return null}function W(G,B,Y,st){var St=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return St!==null?null:b(G,B,""+Y,st);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===St?k(G,B,Y,st):null;case D:return Y.key===St?X(G,B,Y,st):null;case C:return St=Y._init,Y=St(Y._payload),W(G,B,Y,st)}if(H(Y)||P(Y))return St!==null?null:it(G,B,Y,st,null);if(typeof Y.then=="function")return W(G,B,Tc(Y),st);if(Y.$$typeof===at)return W(G,B,lc(G,Y),st);wc(G,Y)}return null}function J(G,B,Y,st,St){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return G=G.get(Y)||null,b(B,G,""+st,St);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case S:return G=G.get(st.key===null?Y:st.key)||null,k(B,G,st,St);case D:return G=G.get(st.key===null?Y:st.key)||null,X(B,G,st,St);case C:var Gt=st._init;return st=Gt(st._payload),J(G,B,Y,st,St)}if(H(st)||P(st))return G=G.get(Y)||null,it(B,G,st,St,null);if(typeof st.then=="function")return J(G,B,Y,Tc(st),St);if(st.$$typeof===at)return J(G,B,Y,lc(B,st),St);wc(B,st)}return null}function Dt(G,B,Y,st){for(var St=null,Gt=null,Rt=B,Mt=B=0,Je=null;Rt!==null&&Mt<Y.length;Mt++){Rt.index>Mt?(Je=Rt,Rt=null):Je=Rt.sibling;var ae=W(G,Rt,Y[Mt],st);if(ae===null){Rt===null&&(Rt=Je);break}r&&Rt&&ae.alternate===null&&i(G,Rt),B=p(ae,B,Mt),Gt===null?St=ae:Gt.sibling=ae,Gt=ae,Rt=Je}if(Mt===Y.length)return s(G,Rt),se&&La(G,Mt),St;if(Rt===null){for(;Mt<Y.length;Mt++)Rt=ot(G,Y[Mt],st),Rt!==null&&(B=p(Rt,B,Mt),Gt===null?St=Rt:Gt.sibling=Rt,Gt=Rt);return se&&La(G,Mt),St}for(Rt=l(Rt);Mt<Y.length;Mt++)Je=J(Rt,G,Mt,Y[Mt],st),Je!==null&&(r&&Je.alternate!==null&&Rt.delete(Je.key===null?Mt:Je.key),B=p(Je,B,Mt),Gt===null?St=Je:Gt.sibling=Je,Gt=Je);return r&&Rt.forEach(function(na){return i(G,na)}),se&&La(G,Mt),St}function xt(G,B,Y,st){if(Y==null)throw Error(a(151));for(var St=null,Gt=null,Rt=B,Mt=B=0,Je=null,ae=Y.next();Rt!==null&&!ae.done;Mt++,ae=Y.next()){Rt.index>Mt?(Je=Rt,Rt=null):Je=Rt.sibling;var na=W(G,Rt,ae.value,st);if(na===null){Rt===null&&(Rt=Je);break}r&&Rt&&na.alternate===null&&i(G,Rt),B=p(na,B,Mt),Gt===null?St=na:Gt.sibling=na,Gt=na,Rt=Je}if(ae.done)return s(G,Rt),se&&La(G,Mt),St;if(Rt===null){for(;!ae.done;Mt++,ae=Y.next())ae=ot(G,ae.value,st),ae!==null&&(B=p(ae,B,Mt),Gt===null?St=ae:Gt.sibling=ae,Gt=ae);return se&&La(G,Mt),St}for(Rt=l(Rt);!ae.done;Mt++,ae=Y.next())ae=J(Rt,G,Mt,ae.value,st),ae!==null&&(r&&ae.alternate!==null&&Rt.delete(ae.key===null?Mt:ae.key),B=p(ae,B,Mt),Gt===null?St=ae:Gt.sibling=ae,Gt=ae);return r&&Rt.forEach(function(oA){return i(G,oA)}),se&&La(G,Mt),St}function me(G,B,Y,st){if(typeof Y=="object"&&Y!==null&&Y.type===j&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:t:{for(var St=Y.key;B!==null;){if(B.key===St){if(St=Y.type,St===j){if(B.tag===7){s(G,B.sibling),st=f(B,Y.props.children),st.return=G,G=st;break t}}else if(B.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===C&&m_(St)===B.type){s(G,B.sibling),st=f(B,Y.props),El(st,Y),st.return=G,G=st;break t}s(G,B);break}else i(G,B);B=B.sibling}Y.type===j?(st=Va(Y.props.children,G.mode,st,Y.key),st.return=G,G=st):(st=ic(Y.type,Y.key,Y.props,null,G.mode,st),El(st,Y),st.return=G,G=st)}return E(G);case D:t:{for(St=Y.key;B!==null;){if(B.key===St)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){s(G,B.sibling),st=f(B,Y.children||[]),st.return=G,G=st;break t}else{s(G,B);break}else i(G,B);B=B.sibling}st=Ff(Y,G.mode,st),st.return=G,G=st}return E(G);case C:return St=Y._init,Y=St(Y._payload),me(G,B,Y,st)}if(H(Y))return Dt(G,B,Y,st);if(P(Y)){if(St=P(Y),typeof St!="function")throw Error(a(150));return Y=St.call(Y),xt(G,B,Y,st)}if(typeof Y.then=="function")return me(G,B,Tc(Y),st);if(Y.$$typeof===at)return me(G,B,lc(G,Y),st);wc(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(s(G,B.sibling),st=f(B,Y),st.return=G,G=st):(s(G,B),st=qf(Y,G.mode,st),st.return=G,G=st),E(G)):s(G,B)}return function(G,B,Y,st){try{vl=0;var St=me(G,B,Y,st);return qs=null,St}catch(Rt){if(Rt===cl||Rt===cc)throw Rt;var Gt=On(29,Rt,null,G.mode);return Gt.lanes=st,Gt.return=G,Gt}finally{}}}var Fs=g_(!0),y_=g_(!1),Zn=A(null),xr=null;function ji(r){var i=r.alternate;q($e,$e.current&1),q(Zn,r),xr===null&&(i===null||zs.current!==null||i.memoizedState!==null)&&(xr=r)}function __(r){if(r.tag===22){if(q($e,$e.current),q(Zn,r),xr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(xr=r)}}else Gi()}function Gi(){q($e,$e.current),q(Zn,Zn.current)}function li(r){F(Zn),xr===r&&(xr=null),F($e)}var $e=A(0);function Sc(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||dp(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bd(r,i,s,l){i=r.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var Ad={enqueueSetState:function(r,i,s){r=r._reactInternals;var l=Ln(),f=Ui(l);f.payload=i,s!=null&&(f.callback=s),i=Bi(r,f,l),i!==null&&(Un(i,r,l),fl(i,r,l))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var l=Ln(),f=Ui(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Bi(r,f,l),i!==null&&(Un(i,r,l),fl(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=Ln(),l=Ui(s);l.tag=2,i!=null&&(l.callback=i),i=Bi(r,l,s),i!==null&&(Un(i,r,s),fl(i,r,s))}};function v_(r,i,s,l,f,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,p,E):i.prototype&&i.prototype.isPureReactComponent?!nl(s,l)||!nl(f,p):!0}function E_(r,i,s,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==r&&Ad.enqueueReplaceState(i,i.state,null)}function qa(r,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(r=r.defaultProps){s===i&&(s=_({},s));for(var f in r)s[f]===void 0&&(s[f]=r[f])}return s}var bc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function T_(r){bc(r)}function w_(r){console.error(r)}function S_(r){bc(r)}function Ac(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function b_(r,i,s){try{var l=r.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(r,i,s){return s=Ui(s),s.tag=3,s.payload={element:null},s.callback=function(){Ac(r,i)},s}function A_(r){return r=Ui(r),r.tag=3,r}function R_(r,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;r.payload=function(){return f(p)},r.callback=function(){b_(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){b_(i,s,l),typeof f!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function ob(r,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ol(i,s,f,!0),s=Zn.current,s!==null){switch(s.tag){case 13:return xr===null?Xd():s.alternate===null&&Ie===0&&(Ie=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===ed?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Wd(r,l,f)),!1;case 22:return s.flags|=65536,l===ed?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Wd(r,l,f)),!1}throw Error(a(435,s.tag))}return Wd(r,l,f),Xd(),!1}if(se)return i=Zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Yf&&(r=Error(a(422),{cause:l}),sl(Kn(r,s)))):(l!==Yf&&(i=Error(a(423),{cause:l}),sl(Kn(i,s))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=Kn(l,s),f=Rd(r.stateNode,l,f),id(r,f),Ie!==4&&(Ie=2)),!1;var p=Error(a(520),{cause:l});if(p=Kn(p,s),Cl===null?Cl=[p]:Cl.push(p),Ie!==4&&(Ie=2),i===null)return!0;l=Kn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=f&-f,s.lanes|=r,r=Rd(s.stateNode,l,r),id(s,r),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yi===null||!Yi.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=A_(f),R_(f,r,s,l),id(s,f),!1}s=s.return}while(s!==null);return!1}var C_=Error(a(461)),Ze=!1;function sn(r,i,s,l){i.child=r===null?y_(i,null,s,l):Fs(i,r.child,s,l)}function I_(r,i,s,l,f){s=s.render;var p=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return ja(i),l=ud(r,i,s,E,p,f),b=cd(),r!==null&&!Ze?(hd(r,i,f),ui(r,i,f)):(se&&b&&$f(i),i.flags|=1,sn(r,i,l,f),i.child)}function x_(r,i,s,l,f){if(r===null){var p=s.type;return typeof p=="function"&&!Hf(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,M_(r,i,p,l,f)):(r=ic(s.type,null,l,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!kd(r,f)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:nl,s(E,l)&&r.ref===i.ref)return ui(r,i,f)}return i.flags|=1,r=ni(p,l),r.ref=i.ref,r.return=i,i.child=r}function M_(r,i,s,l,f){if(r!==null){var p=r.memoizedProps;if(nl(p,l)&&r.ref===i.ref)if(Ze=!1,i.pendingProps=l=p,kd(r,f))(r.flags&131072)!==0&&(Ze=!0);else return i.lanes=r.lanes,ui(r,i,f)}return Cd(r,i,s,l,f)}function N_(r,i,s){var l=i.pendingProps,f=l.children,p=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,r!==null){for(f=i.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return D_(r,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&uc(i,p!==null?p.cachePool:null),p!==null?My(i,p):sd(),__(i);else return i.lanes=i.childLanes=536870912,D_(r,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(uc(i,p.cachePool),My(i,p),Gi(),i.memoizedState=null):(r!==null&&uc(i,null),sd(),Gi());return sn(r,i,f,s),i.child}function D_(r,i,s,l){var f=td();return f=f===null?null:{parent:Fe._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},r!==null&&uc(i,null),sd(),__(i),r!==null&&ol(r,i,l,!0),null}function Rc(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(r===null||r.ref!==s)&&(i.flags|=4194816)}}function Cd(r,i,s,l,f){return ja(i),s=ud(r,i,s,l,void 0,f),l=cd(),r!==null&&!Ze?(hd(r,i,f),ui(r,i,f)):(se&&l&&$f(i),i.flags|=1,sn(r,i,s,f),i.child)}function O_(r,i,s,l,f,p){return ja(i),i.updateQueue=null,s=Dy(i,l,s,f),Ny(r),l=cd(),r!==null&&!Ze?(hd(r,i,p),ui(r,i,p)):(se&&l&&$f(i),i.flags|=1,sn(r,i,s,p),i.child)}function k_(r,i,s,l,f){if(ja(i),i.stateNode===null){var p=Vs,E=s.contextType;typeof E=="object"&&E!==null&&(p=dn(E)),p=new s(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ad,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},nd(i),E=s.contextType,p.context=typeof E=="object"&&E!==null?dn(E):Vs,p.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(bd(i,s,E,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Ad.enqueueReplaceState(p,p.state,null),pl(i,l,p,f),dl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){p=i.stateNode;var b=i.memoizedProps,k=qa(s,b);p.props=k;var X=p.context,it=s.contextType;E=Vs,typeof it=="object"&&it!==null&&(E=dn(it));var ot=s.getDerivedStateFromProps;it=typeof ot=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,it||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||X!==E)&&E_(i,p,l,E),Li=!1;var W=i.memoizedState;p.state=W,pl(i,l,p,f),dl(),X=i.memoizedState,b||W!==X||Li?(typeof ot=="function"&&(bd(i,s,ot,l),X=i.memoizedState),(k=Li||v_(i,s,k,l,W,X,E))?(it||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=X),p.props=l,p.state=X,p.context=E,l=k):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,rd(r,i),E=i.memoizedProps,it=qa(s,E),p.props=it,ot=i.pendingProps,W=p.context,X=s.contextType,k=Vs,typeof X=="object"&&X!==null&&(k=dn(X)),b=s.getDerivedStateFromProps,(X=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ot||W!==k)&&E_(i,p,l,k),Li=!1,W=i.memoizedState,p.state=W,pl(i,l,p,f),dl();var J=i.memoizedState;E!==ot||W!==J||Li||r!==null&&r.dependencies!==null&&oc(r.dependencies)?(typeof b=="function"&&(bd(i,s,b,l),J=i.memoizedState),(it=Li||v_(i,s,it,l,W,J,k)||r!==null&&r.dependencies!==null&&oc(r.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,J,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,J,k)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),p.props=l,p.state=J,p.context=k,l=it):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),l=!1)}return p=l,Rc(r,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&l?(i.child=Fs(i,r.child,null,f),i.child=Fs(i,null,s,f)):sn(r,i,s,f),i.memoizedState=p.state,r=i.child):r=ui(r,i,f),r}function V_(r,i,s,l){return al(),i.flags|=256,sn(r,i,s,l),i.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(r){return{baseLanes:r,cachePool:wy()}}function Md(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=Wn),r}function P_(r,i,s){var l=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:($e.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(se){if(f?ji(i):Gi(),se){var b=Ce,k;if(k=b){t:{for(k=b,b=Ir;k.nodeType!==8;){if(!b){b=null;break t}if(k=or(k.nextSibling),k===null){b=null;break t}}b=k}b!==null?(i.memoizedState={dehydrated:b,treeContext:Pa!==null?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},k=On(18,null,null,0),k.stateNode=b,k.return=i,i.child=k,Sn=i,Ce=null,k=!0):k=!1}k||Ba(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return dp(b)?i.lanes=32:i.lanes=536870912,null;li(i)}return b=l.children,l=l.fallback,f?(Gi(),f=i.mode,b=Cc({mode:"hidden",children:b},f),l=Va(l,f,s,null),b.return=i,l.return=i,b.sibling=l,i.child=b,f=i.child,f.memoizedState=xd(s),f.childLanes=Md(r,E,s),i.memoizedState=Id,l):(ji(i),Nd(i,b))}if(k=r.memoizedState,k!==null&&(b=k.dehydrated,b!==null)){if(p)i.flags&256?(ji(i),i.flags&=-257,i=Dd(r,i,s)):i.memoizedState!==null?(Gi(),i.child=r.child,i.flags|=128,i=null):(Gi(),f=l.fallback,b=i.mode,l=Cc({mode:"visible",children:l.children},b),f=Va(f,b,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Fs(i,r.child,null,s),l=i.child,l.memoizedState=xd(s),l.childLanes=Md(r,E,s),i.memoizedState=Id,i=f);else if(ji(i),dp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var X=E.dgst;E=X,l=Error(a(419)),l.stack="",l.digest=E,sl({value:l,source:null,stack:null}),i=Dd(r,i,s)}else if(Ze||ol(r,i,s,!1),E=(s&r.childLanes)!==0,Ze||E){if(E=Ee,E!==null&&(l=s&-s,l=(l&42)!==0?1:xi(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,ks(r,l),Un(E,r,l),C_;b.data==="$?"||Xd(),i=Dd(r,i,s)}else b.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=k.treeContext,Ce=or(b.nextSibling),Sn=i,se=!0,Ua=null,Ir=!1,r!==null&&(Qn[Xn++]=ri,Qn[Xn++]=ii,Qn[Xn++]=Pa,ri=r.id,ii=r.overflow,Pa=i),i=Nd(i,l.children),i.flags|=4096);return i}return f?(Gi(),f=l.fallback,b=i.mode,k=r.child,X=k.sibling,l=ni(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,X!==null?f=ni(X,f):(f=Va(f,b,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,b=r.child.memoizedState,b===null?b=xd(s):(k=b.cachePool,k!==null?(X=Fe._currentValue,k=k.parent!==X?{parent:X,pool:X}:k):k=wy(),b={baseLanes:b.baseLanes|s,cachePool:k}),f.memoizedState=b,f.childLanes=Md(r,E,s),i.memoizedState=Id,l):(ji(i),s=r.child,r=s.sibling,s=ni(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=s,i.memoizedState=null,s)}function Nd(r,i){return i=Cc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Cc(r,i){return r=On(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dd(r,i,s){return Fs(i,r.child,null,s),r=Nd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function L_(r,i,s){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Xf(r.return,i,s)}function Od(r,i,s,l,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=f)}function U_(r,i,s){var l=i.pendingProps,f=l.revealOrder,p=l.tail;if(sn(r,i,l.children,s),l=$e.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&L_(r,s,i);else if(r.tag===19)L_(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(q($e,l),f){case"forwards":for(s=i.child,f=null;s!==null;)r=s.alternate,r!==null&&Sc(r)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Od(i,!1,f,s,p);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Sc(r)===null){i.child=f;break}r=f.sibling,f.sibling=s,s=f,f=r}Od(i,!0,s,null,p);break;case"together":Od(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ui(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),Ki|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(ol(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,s=ni(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=ni(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function kd(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&oc(r)))}function lb(r,i,s){switch(i.tag){case 3:vt(i,i.stateNode.containerInfo),Pi(i,Fe,r.memoizedState.cache),al();break;case 27:case 5:Ht(i);break;case 4:vt(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(i),i.flags|=128,null):(s&i.child.childLanes)!==0?P_(r,i,s):(ji(i),r=ui(r,i,s),r!==null?r.sibling:null);ji(i);break;case 19:var f=(r.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ol(r,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return U_(r,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),q($e,$e.current),l)break;return null;case 22:case 23:return i.lanes=0,N_(r,i,s);case 24:Pi(i,Fe,r.memoizedState.cache)}return ui(r,i,s)}function B_(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)Ze=!0;else{if(!kd(r,s)&&(i.flags&128)===0)return Ze=!1,lb(r,i,s);Ze=(r.flags&131072)!==0}else Ze=!1,se&&(i.flags&1048576)!==0&&my(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:t:{r=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Hf(l)?(r=qa(l,r),i.tag=1,i=k_(null,i,l,r,s)):(i.tag=0,i=Cd(null,i,l,r,s));else{if(l!=null){if(f=l.$$typeof,f===_t){i.tag=11,i=I_(null,i,l,r,s);break t}else if(f===O){i.tag=14,i=x_(null,i,l,r,s);break t}}throw i=tt(l)||l,Error(a(306,i,""))}}return i;case 0:return Cd(r,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=qa(l,i.pendingProps),k_(r,i,l,f,s);case 3:t:{if(vt(i,i.stateNode.containerInfo),r===null)throw Error(a(387));l=i.pendingProps;var p=i.memoizedState;f=p.element,rd(r,i),pl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Pi(i,Fe,l),l!==p.cache&&Zf(i,[Fe],s,!0),dl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=V_(r,i,l,s);break t}else if(l!==f){f=Kn(Error(a(424)),i),sl(f),i=V_(r,i,l,s);break t}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ce=or(r.firstChild),Sn=i,se=!0,Ua=null,Ir=!0,s=y_(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(al(),l===f){i=ui(r,i,s);break t}sn(r,i,l,s)}i=i.child}return i;case 26:return Rc(r,i),r===null?(s=H0(i.type,null,i.pendingProps,null))?i.memoizedState=s:se||(s=i.type,r=i.pendingProps,l=jc(pt.current).createElement(s),l[Ge]=i,l[Pe]=r,ln(l,s,r),Me(l),i.stateNode=l):i.memoizedState=H0(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ht(i),r===null&&se&&(l=i.stateNode=z0(i.type,i.pendingProps,pt.current),Sn=i,Ir=!0,f=Ce,Zi(i.type)?(pp=f,Ce=or(l.firstChild)):Ce=f),sn(r,i,i.pendingProps.children,s),Rc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&se&&((f=l=Ce)&&(l=Pb(l,i.type,i.pendingProps,Ir),l!==null?(i.stateNode=l,Sn=i,Ce=or(l.firstChild),Ir=!1,f=!0):f=!1),f||Ba(i)),Ht(i),f=i.type,p=i.pendingProps,E=r!==null?r.memoizedProps:null,l=p.children,cp(f,p)?l=null:E!==null&&cp(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=ud(r,i,tb,null,null,s),Pl._currentValue=f),Rc(r,i),sn(r,i,l,s),i.child;case 6:return r===null&&se&&((r=s=Ce)&&(s=Lb(s,i.pendingProps,Ir),s!==null?(i.stateNode=s,Sn=i,Ce=null,r=!0):r=!1),r||Ba(i)),null;case 13:return P_(r,i,s);case 4:return vt(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=Fs(i,null,l,s):sn(r,i,l,s),i.child;case 11:return I_(r,i,i.type,i.pendingProps,s);case 7:return sn(r,i,i.pendingProps,s),i.child;case 8:return sn(r,i,i.pendingProps.children,s),i.child;case 12:return sn(r,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Pi(i,i.type,l.value),sn(r,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ja(i),f=dn(f),l=l(f),i.flags|=1,sn(r,i,l,s),i.child;case 14:return x_(r,i,i.type,i.pendingProps,s);case 15:return M_(r,i,i.type,i.pendingProps,s);case 19:return U_(r,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},r===null?(s=Cc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=ni(r.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return N_(r,i,s);case 24:return ja(i),l=dn(Fe),r===null?(f=td(),f===null&&(f=Ee,p=Wf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),i.memoizedState={parent:l,cache:f},nd(i),Pi(i,Fe,f)):((r.lanes&s)!==0&&(rd(r,i),pl(i,null,null,s),dl()),f=r.memoizedState,p=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pi(i,Fe,l)):(l=p.cache,Pi(i,Fe,l),l!==f.cache&&Zf(i,[Fe],s,!0))),sn(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ci(r){r.flags|=4}function z_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Y0(i)){if(i=Zn.current,i!==null&&((ee&4194048)===ee?xr!==null:(ee&62914560)!==ee&&(ee&536870912)===0||i!==xr))throw hl=ed,Sy;r.flags|=8192}}function Ic(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Uo():536870912,r.lanes|=i,Qs|=i)}function Tl(r,i){if(!se)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function be(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,l=0;if(i)for(var f=r.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=s,i}function ub(r,i,s){var l=i.pendingProps;switch(Kf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(i),null;case 1:return be(i),null;case 3:return s=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),si(Fe),Lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(il(i)?ci(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_y())),be(i),null;case 26:return s=i.memoizedState,r===null?(ci(i),s!==null?(be(i),z_(i,s)):(be(i),i.flags&=-16777217)):s?s!==r.memoizedState?(ci(i),be(i),z_(i,s)):(be(i),i.flags&=-16777217):(r.memoizedProps!==l&&ci(i),be(i),i.flags&=-16777217),null;case 27:Ot(i),s=pt.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==l&&ci(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return be(i),null}r=rt.current,il(i)?gy(i):(r=z0(f,l,s),i.stateNode=r,ci(i))}return be(i),null;case 5:if(Ot(i),s=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&ci(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return be(i),null}if(r=rt.current,il(i))gy(i);else{switch(f=jc(pt.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}r[Ge]=i,r[Pe]=l;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;t:switch(ln(r,s,l),s){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ci(i)}}return be(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&ci(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(r=pt.current,il(i)){if(r=i.stateNode,s=i.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[Ge]=i,r=!!(r.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||O0(r.nodeValue,s)),r||Ba(i)}else r=jc(r).createTextNode(l),r[Ge]=i,i.stateNode=r}return be(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=il(i),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ge]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;be(i),f=!1}else f=_y(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(li(i),i):(li(i),null)}if(li(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,r=r!==null&&r.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return s!==r&&s&&(i.child.flags|=8192),Ic(i,i.updateQueue),be(i),null;case 4:return Lt(),r===null&&ap(i.stateNode.containerInfo),be(i),null;case 10:return si(i.type),be(i),null;case 19:if(F($e),f=i.memoizedState,f===null)return be(i),null;if(l=(i.flags&128)!==0,p=f.rendering,p===null)if(l)Tl(f,!1);else{if(Ie!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=Sc(r),p!==null){for(i.flags|=128,Tl(f,!1),r=p.updateQueue,i.updateQueue=r,Ic(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)py(s,r),s=s.sibling;return q($e,$e.current&1|2),i.child}r=r.sibling}f.tail!==null&&Zt()>Nc&&(i.flags|=128,l=!0,Tl(f,!1),i.lanes=4194304)}else{if(!l)if(r=Sc(p),r!==null){if(i.flags|=128,l=!0,r=r.updateQueue,i.updateQueue=r,Ic(i,r),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!se)return be(i),null}else 2*Zt()-f.renderingStartTime>Nc&&s!==536870912&&(i.flags|=128,l=!0,Tl(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(r=f.last,r!==null?r.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Zt(),i.sibling=null,r=$e.current,q($e,l?r&1|2:r&1),i):(be(i),null);case 22:case 23:return li(i),od(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(be(i),i.subtreeFlags&6&&(i.flags|=8192)):be(i),s=i.updateQueue,s!==null&&Ic(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),r!==null&&F(Ga),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),si(Fe),be(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function cb(r,i){switch(Kf(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return si(Fe),Lt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ot(i),null;case 13:if(li(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));al()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return F($e),null;case 4:return Lt(),null;case 10:return si(i.type),null;case 22:case 23:return li(i),od(),r!==null&&F(Ga),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return si(Fe),null;case 25:return null;default:return null}}function j_(r,i){switch(Kf(i),i.tag){case 3:si(Fe),Lt();break;case 26:case 27:case 5:Ot(i);break;case 4:Lt();break;case 13:li(i);break;case 19:F($e);break;case 10:si(i.type);break;case 22:case 23:li(i),od(),r!==null&&F(Ga);break;case 24:si(Fe)}}function wl(r,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&r)===r){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==f)}}catch(b){_e(i,i.return,b)}}function Hi(r,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&r)===r){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var k=s,X=b;try{X()}catch(it){_e(f,k,it)}}}l=l.next}while(l!==p)}}catch(it){_e(i,i.return,it)}}function G_(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{xy(i,s)}catch(l){_e(r,r.return,l)}}}function H_(r,i,s){s.props=qa(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(l){_e(r,i,l)}}function Sl(r,i){try{var s=r.ref;if(s!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof s=="function"?r.refCleanup=s(l):s.current=l}}catch(f){_e(r,i,f)}}function Mr(r,i){var s=r.ref,l=r.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){_e(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){_e(r,i,f)}else s.current=null}function q_(r){var i=r.type,s=r.memoizedProps,l=r.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){_e(r,r.return,f)}}function Vd(r,i,s){try{var l=r.stateNode;Nb(l,r.type,s,i),l[Pe]=i}catch(f){_e(r,r.return,f)}}function F_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zi(r.type)||r.tag===4}function Pd(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||F_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zi(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ld(r,i,s){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(r,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(r),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=zc));else if(l!==4&&(l===27&&Zi(r.type)&&(s=r.stateNode,i=null),r=r.child,r!==null))for(Ld(r,i,s),r=r.sibling;r!==null;)Ld(r,i,s),r=r.sibling}function xc(r,i,s){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(l!==4&&(l===27&&Zi(r.type)&&(s=r.stateNode),r=r.child,r!==null))for(xc(r,i,s),r=r.sibling;r!==null;)xc(r,i,s),r=r.sibling}function $_(r){var i=r.stateNode,s=r.memoizedProps;try{for(var l=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);ln(i,l,s),i[Ge]=r,i[Pe]=s}catch(p){_e(r,r.return,p)}}var hi=!1,De=!1,Ud=!1,K_=typeof WeakSet=="function"?WeakSet:Set,We=null;function hb(r,i){if(r=r.containerInfo,lp=Kc,r=iy(r),Pf(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else t:{s=(s=r.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var E=0,b=-1,k=-1,X=0,it=0,ot=r,W=null;e:for(;;){for(var J;ot!==s||f!==0&&ot.nodeType!==3||(b=E+f),ot!==p||l!==0&&ot.nodeType!==3||(k=E+l),ot.nodeType===3&&(E+=ot.nodeValue.length),(J=ot.firstChild)!==null;)W=ot,ot=J;for(;;){if(ot===r)break e;if(W===s&&++X===f&&(b=E),W===p&&++it===l&&(k=E),(J=ot.nextSibling)!==null)break;ot=W,W=ot.parentNode}ot=J}s=b===-1||k===-1?null:{start:b,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(up={focusedElem:r,selectionRange:s},Kc=!1,We=i;We!==null;)if(i=We,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,We=r;else for(;We!==null;){switch(i=We,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,s=i,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var Dt=qa(s.type,f,s.elementType===s.type);r=l.getSnapshotBeforeUpdate(Dt,p),l.__reactInternalSnapshotBeforeUpdate=r}catch(xt){_e(s,s.return,xt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)fp(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,We=r;break}We=i.return}}function Y_(r,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:qi(r,s),l&4&&wl(5,s);break;case 1:if(qi(r,s),l&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(E){_e(s,s.return,E)}else{var f=qa(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){_e(s,s.return,E)}}l&64&&G_(s),l&512&&Sl(s,s.return);break;case 3:if(qi(r,s),l&64&&(r=s.updateQueue,r!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{xy(r,i)}catch(E){_e(s,s.return,E)}}break;case 27:i===null&&l&4&&$_(s);case 26:case 5:qi(r,s),i===null&&l&4&&q_(s),l&512&&Sl(s,s.return);break;case 12:qi(r,s);break;case 13:qi(r,s),l&4&&Z_(r,s),l&64&&(r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(s=Eb.bind(null,s),Ub(r,s))));break;case 22:if(l=s.memoizedState!==null||hi,!l){i=i!==null&&i.memoizedState!==null||De,f=hi;var p=De;hi=l,(De=i)&&!p?Fi(r,s,(s.subtreeFlags&8772)!==0):qi(r,s),hi=f,De=p}break;case 30:break;default:qi(r,s)}}function Q_(r){var i=r.alternate;i!==null&&(r.alternate=null,Q_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Di(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Se=null,Rn=!1;function fi(r,i,s){for(s=s.child;s!==null;)X_(r,i,s),s=s.sibling}function X_(r,i,s){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount($,s)}catch{}switch(s.tag){case 26:De||Mr(s,i),fi(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:De||Mr(s,i);var l=Se,f=Rn;Zi(s.type)&&(Se=s.stateNode,Rn=!1),fi(r,i,s),Dl(s.stateNode),Se=l,Rn=f;break;case 5:De||Mr(s,i);case 6:if(l=Se,f=Rn,Se=null,fi(r,i,s),Se=l,Rn=f,Se!==null)if(Rn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(s.stateNode)}catch(p){_e(s,i,p)}else try{Se.removeChild(s.stateNode)}catch(p){_e(s,i,p)}break;case 18:Se!==null&&(Rn?(r=Se,U0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.stateNode),zl(r)):U0(Se,s.stateNode));break;case 4:l=Se,f=Rn,Se=s.stateNode.containerInfo,Rn=!0,fi(r,i,s),Se=l,Rn=f;break;case 0:case 11:case 14:case 15:De||Hi(2,s,i),De||Hi(4,s,i),fi(r,i,s);break;case 1:De||(Mr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&H_(s,i,l)),fi(r,i,s);break;case 21:fi(r,i,s);break;case 22:De=(l=De)||s.memoizedState!==null,fi(r,i,s),De=l;break;default:fi(r,i,s)}}function Z_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{zl(r)}catch(s){_e(i,i.return,s)}}function fb(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new K_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new K_),i;default:throw Error(a(435,r.tag))}}function Bd(r,i){var s=fb(r);i.forEach(function(l){var f=Tb.bind(null,r,l);s.has(l)||(s.add(l),l.then(f,f))})}function kn(r,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=r,E=i,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(Zi(b.type)){Se=b.stateNode,Rn=!1;break t}break;case 5:Se=b.stateNode,Rn=!1;break t;case 3:case 4:Se=b.stateNode.containerInfo,Rn=!0;break t}b=b.return}if(Se===null)throw Error(a(160));X_(p,E,f),Se=null,Rn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)W_(i,r),i=i.sibling}var sr=null;function W_(r,i){var s=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:kn(i,r),Vn(r),l&4&&(Hi(3,r,r.return),wl(3,r),Hi(5,r,r.return));break;case 1:kn(i,r),Vn(r),l&512&&(De||s===null||Mr(s,s.return)),l&64&&hi&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=sr;if(kn(i,r),Vn(r),l&512&&(De||s===null||Mr(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=r.memoizedState,s===null)if(l===null)if(r.stateNode===null){t:{l=r.type,s=r.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[va]||p[Ge]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),ln(p,l,s),p[Ge]=r,Me(p),l=p;break t;case"link":var E=$0("link","href",f).get(l+(s.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(b,1);break e}}p=f.createElement(l),ln(p,l,s),f.head.appendChild(p);break;case"meta":if(E=$0("meta","content",f).get(l+(s.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(b,1);break e}}p=f.createElement(l),ln(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[Ge]=r,Me(p),l=p}r.stateNode=l}else K0(f,r.type,r.stateNode);else r.stateNode=F0(f,l,r.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?K0(f,r.type,r.stateNode):F0(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Vd(r,r.memoizedProps,s.memoizedProps)}break;case 27:kn(i,r),Vn(r),l&512&&(De||s===null||Mr(s,s.return)),s!==null&&l&4&&Vd(r,r.memoizedProps,s.memoizedProps);break;case 5:if(kn(i,r),Vn(r),l&512&&(De||s===null||Mr(s,s.return)),r.flags&32){f=r.stateNode;try{Hn(f,"")}catch(J){_e(r,r.return,J)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,Vd(r,f,s!==null?s.memoizedProps:f)),l&1024&&(Ud=!0);break;case 6:if(kn(i,r),Vn(r),l&4){if(r.stateNode===null)throw Error(a(162));l=r.memoizedProps,s=r.stateNode;try{s.nodeValue=l}catch(J){_e(r,r.return,J)}}break;case 3:if(qc=null,f=sr,sr=Gc(i.containerInfo),kn(i,r),sr=f,Vn(r),l&4&&s!==null&&s.memoizedState.isDehydrated)try{zl(i.containerInfo)}catch(J){_e(r,r.return,J)}Ud&&(Ud=!1,J_(r));break;case 4:l=sr,sr=Gc(r.stateNode.containerInfo),kn(i,r),Vn(r),sr=l;break;case 12:kn(i,r),Vn(r);break;case 13:kn(i,r),Vn(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fd=Zt()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Bd(r,l)));break;case 22:f=r.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,X=hi,it=De;if(hi=X||f,De=it||k,kn(i,r),De=it,hi=X,Vn(r),l&8192)t:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||k||hi||De||Fa(r)),s=null,i=r;;){if(i.tag===5||i.tag===26){if(s===null){k=s=i;try{if(p=k.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=k.stateNode;var ot=k.memoizedProps.style,W=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;b.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){_e(k,k.return,J)}}}else if(i.tag===6){if(s===null){k=i;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(J){_e(k,k.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Bd(r,s))));break;case 19:kn(i,r),Vn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Bd(r,l)));break;case 30:break;case 21:break;default:kn(i,r),Vn(r)}}function Vn(r){var i=r.flags;if(i&2){try{for(var s,l=r.return;l!==null;){if(F_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=Pd(r);xc(r,p,f);break;case 5:var E=s.stateNode;s.flags&32&&(Hn(E,""),s.flags&=-33);var b=Pd(r);xc(r,b,E);break;case 3:case 4:var k=s.stateNode.containerInfo,X=Pd(r);Ld(r,X,k);break;default:throw Error(a(161))}}catch(it){_e(r,r.return,it)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function J_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;J_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function qi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Y_(r,i.alternate,i),i=i.sibling}function Fa(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Hi(4,i,i.return),Fa(i);break;case 1:Mr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&H_(i,i.return,s),Fa(i);break;case 27:Dl(i.stateNode);case 26:case 5:Mr(i,i.return),Fa(i);break;case 22:i.memoizedState===null&&Fa(i);break;case 30:Fa(i);break;default:Fa(i)}r=r.sibling}}function Fi(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=r,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:Fi(f,p,s),wl(4,p);break;case 1:if(Fi(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){_e(l,l.return,X)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Iy(k[f],b)}catch(X){_e(l,l.return,X)}}s&&E&64&&G_(p),Sl(p,p.return);break;case 27:$_(p);case 26:case 5:Fi(f,p,s),s&&l===null&&E&4&&q_(p),Sl(p,p.return);break;case 12:Fi(f,p,s);break;case 13:Fi(f,p,s),s&&E&4&&Z_(f,p);break;case 22:p.memoizedState===null&&Fi(f,p,s),Sl(p,p.return);break;case 30:break;default:Fi(f,p,s)}i=i.sibling}}function zd(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&ll(s))}function jd(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ll(r))}function Nr(r,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t0(r,i,s,l),i=i.sibling}function t0(r,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(r,i,s,l),f&2048&&wl(9,i);break;case 1:Nr(r,i,s,l);break;case 3:Nr(r,i,s,l),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ll(r)));break;case 12:if(f&2048){Nr(r,i,s,l),r=i.stateNode;try{var p=i.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){_e(i,i.return,k)}}else Nr(r,i,s,l);break;case 13:Nr(r,i,s,l);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?Nr(r,i,s,l):bl(r,i):p._visibility&2?Nr(r,i,s,l):(p._visibility|=2,$s(r,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&zd(E,i);break;case 24:Nr(r,i,s,l),f&2048&&jd(i.alternate,i);break;default:Nr(r,i,s,l)}}function $s(r,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,E=i,b=s,k=l,X=E.flags;switch(E.tag){case 0:case 11:case 15:$s(p,E,b,k,f),wl(8,E);break;case 23:break;case 22:var it=E.stateNode;E.memoizedState!==null?it._visibility&2?$s(p,E,b,k,f):bl(p,E):(it._visibility|=2,$s(p,E,b,k,f)),f&&X&2048&&zd(E.alternate,E);break;case 24:$s(p,E,b,k,f),f&&X&2048&&jd(E.alternate,E);break;default:$s(p,E,b,k,f)}i=i.sibling}}function bl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,l=i,f=l.flags;switch(l.tag){case 22:bl(s,l),f&2048&&zd(l.alternate,l);break;case 24:bl(s,l),f&2048&&jd(l.alternate,l);break;default:bl(s,l)}i=i.sibling}}var Al=8192;function Ks(r){if(r.subtreeFlags&Al)for(r=r.child;r!==null;)e0(r),r=r.sibling}function e0(r){switch(r.tag){case 26:Ks(r),r.flags&Al&&r.memoizedState!==null&&Zb(sr,r.memoizedState,r.memoizedProps);break;case 5:Ks(r);break;case 3:case 4:var i=sr;sr=Gc(r.stateNode.containerInfo),Ks(r),sr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Al,Al=16777216,Ks(r),Al=i):Ks(r));break;default:Ks(r)}}function n0(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Rl(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];We=l,i0(l,r)}n0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)r0(r),r=r.sibling}function r0(r){switch(r.tag){case 0:case 11:case 15:Rl(r),r.flags&2048&&Hi(9,r,r.return);break;case 3:Rl(r);break;case 12:Rl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Mc(r)):Rl(r);break;default:Rl(r)}}function Mc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];We=l,i0(l,r)}n0(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Hi(8,i,i.return),Mc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Mc(i));break;default:Mc(i)}r=r.sibling}}function i0(r,i){for(;We!==null;){var s=We;switch(s.tag){case 0:case 11:case 15:Hi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,We=l;else t:for(s=r;We!==null;){l=We;var f=l.sibling,p=l.return;if(Q_(l),l===s){We=null;break t}if(f!==null){f.return=p,We=f;break t}We=p}}}var db={getCacheForType:function(r){var i=dn(Fe),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s}},pb=typeof WeakMap=="function"?WeakMap:Map,ce=0,Ee=null,qt=null,ee=0,he=0,Pn=null,$i=!1,Ys=!1,Gd=!1,di=0,Ie=0,Ki=0,$a=0,Hd=0,Wn=0,Qs=0,Cl=null,Cn=null,qd=!1,Fd=0,Nc=1/0,Dc=null,Yi=null,on=0,Qi=null,Xs=null,Zs=0,$d=0,Kd=null,a0=null,Il=0,Yd=null;function Ln(){if((ce&2)!==0&&ee!==0)return ee&-ee;if(N.T!==null){var r=Us;return r!==0?r:ep()}return Mi()}function s0(){Wn===0&&(Wn=(ee&536870912)===0||se?gr():536870912);var r=Zn.current;return r!==null&&(r.flags|=32),Wn}function Un(r,i,s){(r===Ee&&(he===2||he===9)||r.cancelPendingCommit!==null)&&(Ws(r,0),Xi(r,ee,Wn,!1)),Fr(r,s),((ce&2)===0||r!==Ee)&&(r===Ee&&((ce&2)===0&&($a|=s),Ie===4&&Xi(r,ee,Wn,!1)),Dr(r))}function o0(r,i,s){if((ce&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&r.expiredLanes)===0||Ii(r,i),f=l?yb(r,i):Zd(r,i,!0),p=l;do{if(f===0){Ys&&!l&&Xi(r,i,0,!1);break}else{if(s=r.current.alternate,p&&!mb(s)){f=Zd(r,i,!1),p=!1;continue}if(f===2){if(p=i,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var b=r;f=Cl;var k=b.current.memoizedState.isDehydrated;if(k&&(Ws(b,E).flags|=256),E=Zd(b,E,!1),E!==2){if(Gd&&!k){b.errorRecoveryDisabledLanes|=p,$a|=p,f=4;break t}p=Cn,Cn=f,p!==null&&(Cn===null?Cn=p:Cn.push.apply(Cn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Ws(r,0),Xi(r,i,0,!0);break}t:{switch(l=r,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Xi(l,i,Wn,!$i);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Fd+300-Zt(),10<f)){if(Xi(l,i,Wn,!$i),fn(l,0,!0)!==0)break t;l.timeoutHandle=P0(l0.bind(null,l,s,Cn,Dc,qd,i,Wn,$a,Qs,$i,p,2,-0,0),f);break t}l0(l,s,Cn,Dc,qd,i,Wn,$a,Qs,$i,p,0,-0,0)}}break}while(!0);Dr(r)}function l0(r,i,s,l,f,p,E,b,k,X,it,ot,W,J){if(r.timeoutHandle=-1,ot=i.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:Xb},e0(i),ot=Wb(),ot!==null)){r.cancelPendingCommit=ot(m0.bind(null,r,i,p,s,l,f,E,b,k,it,1,W,J)),Xi(r,p,E,!X);return}m0(r,i,p,s,l,f,E,b,k)}function mb(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!Dn(p(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(r,i,s,l){i&=~Hd,i&=~$a,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var f=i;0<f;){var p=31-wt(f),E=1<<p;l[p]=-1,f&=~E}s!==0&&yr(r,s,i)}function Oc(){return(ce&6)===0?(xl(0),!1):!0}function Qd(){if(qt!==null){if(he===0)var r=qt.return;else r=qt,ai=za=null,fd(r),qs=null,vl=0,r=qt;for(;r!==null;)j_(r.alternate,r),r=r.return;qt=null}}function Ws(r,i){var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,Ob(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),Qd(),Ee=r,qt=s=ni(r.current,null),ee=i,he=0,Pn=null,$i=!1,Ys=Ii(r,i),Gd=!1,Qs=Wn=Hd=$a=Ki=Ie=0,Cn=Cl=null,qd=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var f=31-wt(l),p=1<<f;i|=r[f],l&=~p}return di=i,ec(),s}function u0(r,i){jt=null,N.H=Ec,i===cl||i===cc?(i=Ry(),he=3):i===Sy?(i=Ry(),he=4):he=i===C_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,qt===null&&(Ie=1,Ac(r,Kn(i,r.current)))}function c0(){var r=N.H;return N.H=Ec,r===null?Ec:r}function h0(){var r=N.A;return N.A=db,r}function Xd(){Ie=4,$i||(ee&4194048)!==ee&&Zn.current!==null||(Ys=!0),(Ki&134217727)===0&&($a&134217727)===0||Ee===null||Xi(Ee,ee,Wn,!1)}function Zd(r,i,s){var l=ce;ce|=2;var f=c0(),p=h0();(Ee!==r||ee!==i)&&(Dc=null,Ws(r,i)),i=!1;var E=Ie;t:do try{if(he!==0&&qt!==null){var b=qt,k=Pn;switch(he){case 8:Qd(),E=6;break t;case 3:case 2:case 9:case 6:Zn.current===null&&(i=!0);var X=he;if(he=0,Pn=null,Js(r,b,k,X),s&&Ys){E=0;break t}break;default:X=he,he=0,Pn=null,Js(r,b,k,X)}}gb(),E=Ie;break}catch(it){u0(r,it)}while(!0);return i&&r.shellSuspendCounter++,ai=za=null,ce=l,N.H=f,N.A=p,qt===null&&(Ee=null,ee=0,ec()),E}function gb(){for(;qt!==null;)f0(qt)}function yb(r,i){var s=ce;ce|=2;var l=c0(),f=h0();Ee!==r||ee!==i?(Dc=null,Nc=Zt()+500,Ws(r,i)):Ys=Ii(r,i);t:do try{if(he!==0&&qt!==null){i=qt;var p=Pn;e:switch(he){case 1:he=0,Pn=null,Js(r,i,p,1);break;case 2:case 9:if(by(p)){he=0,Pn=null,d0(i);break}i=function(){he!==2&&he!==9||Ee!==r||(he=7),Dr(r)},p.then(i,i);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:by(p)?(he=0,Pn=null,d0(i)):(he=0,Pn=null,Js(r,i,p,7));break;case 5:var E=null;switch(qt.tag){case 26:E=qt.memoizedState;case 5:case 27:var b=qt;if(!E||Y0(E)){he=0,Pn=null;var k=b.sibling;if(k!==null)qt=k;else{var X=b.return;X!==null?(qt=X,kc(X)):qt=null}break e}}he=0,Pn=null,Js(r,i,p,5);break;case 6:he=0,Pn=null,Js(r,i,p,6);break;case 8:Qd(),Ie=6;break t;default:throw Error(a(462))}}_b();break}catch(it){u0(r,it)}while(!0);return ai=za=null,N.H=l,N.A=f,ce=s,qt!==null?0:(Ee=null,ee=0,ec(),Ie)}function _b(){for(;qt!==null&&!ie();)f0(qt)}function f0(r){var i=B_(r.alternate,r,di);r.memoizedProps=r.pendingProps,i===null?kc(r):qt=i}function d0(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=O_(s,i,i.pendingProps,i.type,void 0,ee);break;case 11:i=O_(s,i,i.pendingProps,i.type.render,i.ref,ee);break;case 5:fd(i);default:j_(s,i),i=qt=py(i,di),i=B_(s,i,di)}r.memoizedProps=r.pendingProps,i===null?kc(r):qt=i}function Js(r,i,s,l){ai=za=null,fd(i),qs=null,vl=0;var f=i.return;try{if(ob(r,f,i,s,ee)){Ie=1,Ac(r,Kn(s,r.current)),qt=null;return}}catch(p){if(f!==null)throw qt=f,p;Ie=1,Ac(r,Kn(s,r.current)),qt=null;return}i.flags&32768?(se||l===1?r=!0:Ys||(ee&536870912)!==0?r=!1:($i=r=!0,(l===2||l===9||l===3||l===6)&&(l=Zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),p0(i,r)):kc(i)}function kc(r){var i=r;do{if((i.flags&32768)!==0){p0(i,$i);return}r=i.return;var s=ub(i.alternate,i,di);if(s!==null){qt=s;return}if(i=i.sibling,i!==null){qt=i;return}qt=i=r}while(i!==null);Ie===0&&(Ie=5)}function p0(r,i){do{var s=cb(r.alternate,r);if(s!==null){s.flags&=32767,qt=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){qt=r;return}qt=r=s}while(r!==null);Ie=6,qt=null}function m0(r,i,s,l,f,p,E,b,k){r.cancelPendingCommit=null;do Vc();while(on!==0);if((ce&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=jf,Bo(r,s,p,E,b,k),r===Ee&&(qt=Ee=null,ee=0),Xs=i,Qi=r,Zs=s,$d=p,Kd=f,a0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,wb(xe,function(){return E0(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,f=L.p,L.p=2,E=ce,ce|=4;try{hb(r,i,s)}finally{ce=E,L.p=f,N.T=l}}on=1,g0(),y0(),_0()}}function g0(){if(on===1){on=0;var r=Qi,i=Xs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=N.T,N.T=null;var l=L.p;L.p=2;var f=ce;ce|=4;try{W_(i,r);var p=up,E=iy(r.containerInfo),b=p.focusedElem,k=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&ry(b.ownerDocument.documentElement,b)){if(k!==null&&Pf(b)){var X=k.start,it=k.end;if(it===void 0&&(it=X),"selectionStart"in b)b.selectionStart=X,b.selectionEnd=Math.min(it,b.value.length);else{var ot=b.ownerDocument||document,W=ot&&ot.defaultView||window;if(W.getSelection){var J=W.getSelection(),Dt=b.textContent.length,xt=Math.min(k.start,Dt),me=k.end===void 0?xt:Math.min(k.end,Dt);!J.extend&&xt>me&&(E=me,me=xt,xt=E);var G=ny(b,xt),B=ny(b,me);if(G&&B&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var Y=ot.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),xt>me?(J.addRange(Y),J.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),J.addRange(Y))}}}}for(ot=[],J=b;J=J.parentNode;)J.nodeType===1&&ot.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ot.length;b++){var st=ot[b];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Kc=!!lp,up=lp=null}finally{ce=f,L.p=l,N.T=s}}r.current=i,on=2}}function y0(){if(on===2){on=0;var r=Qi,i=Xs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=N.T,N.T=null;var l=L.p;L.p=2;var f=ce;ce|=4;try{Y_(r,i.alternate,i)}finally{ce=f,L.p=l,N.T=s}}on=3}}function _0(){if(on===4||on===3){on=0,ge();var r=Qi,i=Xs,s=Zs,l=a0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,Xs=Qi=null,v0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Yi=null),gs(s),i=i.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot($,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=N.T,f=L.p,L.p=2,N.T=null;try{for(var p=r.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{N.T=i,L.p=f}}(Zs&3)!==0&&Vc(),Dr(r),f=r.pendingLanes,(s&4194090)!==0&&(f&42)!==0?r===Yd?Il++:(Il=0,Yd=r):Il=0,xl(0)}}function v0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,ll(i)))}function Vc(r){return g0(),y0(),_0(),E0()}function E0(){if(on!==5)return!1;var r=Qi,i=$d;$d=0;var s=gs(Zs),l=N.T,f=L.p;try{L.p=32>s?32:s,N.T=null,s=Kd,Kd=null;var p=Qi,E=Zs;if(on=0,Xs=Qi=null,Zs=0,(ce&6)!==0)throw Error(a(331));var b=ce;if(ce|=4,r0(p.current),t0(p,p.current,E,s),ce=b,xl(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot($,p)}catch{}return!0}finally{L.p=f,N.T=l,v0(r,i)}}function T0(r,i,s){i=Kn(s,i),i=Rd(r.stateNode,i,2),r=Bi(r,i,2),r!==null&&(Fr(r,2),Dr(r))}function _e(r,i,s){if(r.tag===3)T0(r,r,s);else for(;i!==null;){if(i.tag===3){T0(i,r,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yi===null||!Yi.has(l))){r=Kn(s,r),s=A_(2),l=Bi(i,s,2),l!==null&&(R_(s,l,i,r),Fr(l,2),Dr(l));break}}i=i.return}}function Wd(r,i,s){var l=r.pingCache;if(l===null){l=r.pingCache=new pb;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Gd=!0,f.add(s),r=vb.bind(null,r,i,s),i.then(r,r))}function vb(r,i,s){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,Ee===r&&(ee&s)===s&&(Ie===4||Ie===3&&(ee&62914560)===ee&&300>Zt()-Fd?(ce&2)===0&&Ws(r,0):Hd|=s,Qs===ee&&(Qs=0)),Dr(r)}function w0(r,i){i===0&&(i=Uo()),r=ks(r,i),r!==null&&(Fr(r,i),Dr(r))}function Eb(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),w0(r,s)}function Tb(r,i){var s=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),w0(r,s)}function wb(r,i){return re(r,i)}var Pc=null,to=null,Jd=!1,Lc=!1,tp=!1,Ka=0;function Dr(r){r!==to&&r.next===null&&(to===null?Pc=to=r:to=to.next=r),Lc=!0,Jd||(Jd=!0,bb())}function xl(r,i){if(!tp&&Lc){tp=!0;do for(var s=!1,l=Pc;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-wt(42|r)+1)-1,p&=f&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,R0(l,p))}else p=ee,p=fn(l,l===Ee?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ii(l,p)||(s=!0,R0(l,p));l=l.next}while(s);tp=!1}}function Sb(){S0()}function S0(){Lc=Jd=!1;var r=0;Ka!==0&&(Db()&&(r=Ka),Ka=0);for(var i=Zt(),s=null,l=Pc;l!==null;){var f=l.next,p=b0(l,i);p===0?(l.next=null,s===null?Pc=f:s.next=f,f===null&&(to=s)):(s=l,(r!==0||(p&3)!==0)&&(Lc=!0)),l=f}xl(r)}function b0(r,i){for(var s=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-wt(p),b=1<<E,k=f[E];k===-1?((b&s)===0||(b&l)!==0)&&(f[E]=ms(b,i)):k<=i&&(r.expiredLanes|=b),p&=~b}if(i=Ee,s=ee,s=fn(r,r===i?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,s===0||r===i&&(he===2||he===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Ut(l),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||Ii(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(l!==null&&Ut(l),gs(s)){case 2:case 8:s=oe;break;case 32:s=xe;break;case 268435456:s=jn;break;default:s=xe}return l=A0.bind(null,r),s=re(s,l),r.callbackPriority=i,r.callbackNode=s,i}return l!==null&&l!==null&&Ut(l),r.callbackPriority=2,r.callbackNode=null,2}function A0(r,i){if(on!==0&&on!==5)return r.callbackNode=null,r.callbackPriority=0,null;var s=r.callbackNode;if(Vc()&&r.callbackNode!==s)return null;var l=ee;return l=fn(r,r===Ee?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(o0(r,l,i),b0(r,Zt()),r.callbackNode!=null&&r.callbackNode===s?A0.bind(null,r):null)}function R0(r,i){if(Vc())return null;o0(r,i,!0)}function bb(){kb(function(){(ce&6)!==0?re(nn,Sb):S0()})}function ep(){return Ka===0&&(Ka=gr()),Ka}function C0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ws(""+r)}function I0(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function Ab(r,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var p=C0((f[Pe]||null).action),E=l.submitter;E&&(i=(i=E[Pe]||null)?C0(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var b=new Ss("action","action",null,l,f);r.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ka!==0){var k=E?I0(f,E):new FormData(f);Td(s,{pending:!0,data:k,method:f.method,action:p},null,k)}}else typeof p=="function"&&(b.preventDefault(),k=E?I0(f,E):new FormData(f),Td(s,{pending:!0,data:k,method:f.method,action:p},p,k))},currentTarget:f}]})}}for(var np=0;np<zf.length;np++){var rp=zf[np],Rb=rp.toLowerCase(),Cb=rp[0].toUpperCase()+rp.slice(1);ar(Rb,"on"+Cb)}ar(oy,"onAnimationEnd"),ar(ly,"onAnimationIteration"),ar(uy,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(qS,"onTransitionRun"),ar(FS,"onTransitionStart"),ar($S,"onTransitionCancel"),ar(cy,"onTransitionEnd"),Kr("onMouseEnter",["mouseout","mouseover"]),Kr("onMouseLeave",["mouseout","mouseover"]),Kr("onPointerEnter",["pointerout","pointerover"]),Kr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function x0(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var l=r[s],f=l.event;l=l.listeners;t:{var p=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],k=b.instance,X=b.currentTarget;if(b=b.listener,k!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=X;try{p(f)}catch(it){bc(it)}f.currentTarget=null,p=k}else for(E=0;E<l.length;E++){if(b=l[E],k=b.instance,X=b.currentTarget,b=b.listener,k!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=X;try{p(f)}catch(it){bc(it)}f.currentTarget=null,p=k}}}}function Ft(r,i){var s=i[jo];s===void 0&&(s=i[jo]=new Set);var l=r+"__bubble";s.has(l)||(M0(i,r,2,!1),s.add(l))}function ip(r,i,s){var l=0;i&&(l|=4),M0(s,r,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function ap(r){if(!r[Uc]){r[Uc]=!0,Go.forEach(function(s){s!=="selectionchange"&&(Ib.has(s)||ip(s,!1,r),ip(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,ip("selectionchange",!1,i))}}function M0(r,i,s,l){switch(tv(i)){case 2:var f=eA;break;case 8:f=nA;break;default:f=vp}s=f.bind(null,i,s,r),f=void 0,!Fn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(i,s,{capture:!0,passive:f}):r.addEventListener(i,s,!0):f!==void 0?r.addEventListener(i,s,{passive:f}):r.addEventListener(i,s,!1)}function sp(r,i,s,l,f){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=$r(b),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){l=p=E;continue t}b=b.parentNode}}l=l.return}zu(function(){var X=p,it=qn(s),ot=[];t:{var W=hy.get(r);if(W!==void 0){var J=Ss,Dt=r;switch(r){case"keypress":if(Sr(s)===0)break t;case"keydown":case"keyup":J=xs;break;case"focusin":Dt="focus",J=Rs;break;case"focusout":Dt="blur",J=Rs;break;case"beforeblur":case"afterblur":J=Rs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Yu;break;case oy:case ly:case uy:J=Cs;break;case cy:J=Xu;break;case"scroll":case"scrollend":J=ju;break;case"wheel":J=Ms;break;case"copy":case"cut":case"paste":J=Is;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=tl;break;case"toggle":case"beforetoggle":J=Wu}var xt=(i&4)!==0,me=!xt&&(r==="scroll"||r==="scrollend"),G=xt?W!==null?W+"Capture":null:W;xt=[];for(var B=X,Y;B!==null;){var st=B;if(Y=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||Y===null||G===null||(st=Ra(B,G),st!=null&&xt.push(Nl(B,st,Y))),me)break;B=B.return}0<xt.length&&(W=new J(W,Dt,null,s,it),ot.push({event:W,listeners:xt}))}}if((i&7)===0){t:{if(W=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",W&&s!==Xr&&(Dt=s.relatedTarget||s.fromElement)&&($r(Dt)||Dt[Gn]))break t;if((J||W)&&(W=it.window===it?it:(W=it.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Dt=s.relatedTarget||s.toElement,J=X,Dt=Dt?$r(Dt):null,Dt!==null&&(me=u(Dt),xt=Dt.tag,Dt!==me||xt!==5&&xt!==27&&xt!==6)&&(Dt=null)):(J=null,Dt=X),J!==Dt)){if(xt=$n,st="onMouseLeave",G="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(xt=tl,st="onPointerLeave",G="onPointerEnter",B="pointer"),me=J==null?W:vr(J),Y=Dt==null?W:vr(Dt),W=new xt(st,B+"leave",J,s,it),W.target=me,W.relatedTarget=Y,st=null,$r(it)===X&&(xt=new xt(G,B+"enter",Dt,s,it),xt.target=Y,xt.relatedTarget=me,st=xt),me=st,J&&Dt)e:{for(xt=J,G=Dt,B=0,Y=xt;Y;Y=eo(Y))B++;for(Y=0,st=G;st;st=eo(st))Y++;for(;0<B-Y;)xt=eo(xt),B--;for(;0<Y-B;)G=eo(G),Y--;for(;B--;){if(xt===G||G!==null&&xt===G.alternate)break e;xt=eo(xt),G=eo(G)}xt=null}else xt=null;J!==null&&N0(ot,W,J,xt,!1),Dt!==null&&me!==null&&N0(ot,me,Dt,xt,!0)}}t:{if(W=X?vr(X):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var St=Xg;else if(qe(W))if(Zg)St=jS;else{St=BS;var Gt=US}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Ko(X.elementType)&&(St=Xg):St=zS;if(St&&(St=St(r,X))){ei(ot,St,s,it);break t}Gt&&Gt(r,W,X),r==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&ki(W,"number",W.value)}switch(Gt=X?vr(X):window,r){case"focusin":(qe(Gt)||Gt.contentEditable==="true")&&(Ns=Gt,Lf=X,rl=null);break;case"focusout":rl=Lf=Ns=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,ay(ot,s,it);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":ay(ot,s,it)}var Rt;if(Rr)t:{switch(r){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Jt?et(r,s)&&(Mt="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(v&&s.locale!=="ko"&&(Jt||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Jt&&(Rt=Qo()):(wr=it,Vi="value"in wr?wr.value:wr.textContent,Jt=!0)),Gt=Bc(X,Mt),0<Gt.length&&(Mt=new Wo(Mt,r,null,s,it),ot.push({event:Mt,listeners:Gt}),Rt?Mt.data=Rt:(Rt=yt(s),Rt!==null&&(Mt.data=Rt)))),(Rt=y?He(r,s):te(r,s))&&(Mt=Bc(X,"onBeforeInput"),0<Mt.length&&(Gt=new Wo("onBeforeInput","beforeinput",null,s,it),ot.push({event:Gt,listeners:Mt}),Gt.data=Rt)),Ab(ot,r,X,s,it)}x0(ot,i)})}function Nl(r,i,s){return{instance:r,listener:i,currentTarget:s}}function Bc(r,i){for(var s=i+"Capture",l=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ra(r,s),f!=null&&l.unshift(Nl(r,f,p)),f=Ra(r,i),f!=null&&l.push(Nl(r,f,p))),r.tag===3)return l;r=r.return}return[]}function eo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function N0(r,i,s,l,f){for(var p=i._reactName,E=[];s!==null&&s!==l;){var b=s,k=b.alternate,X=b.stateNode;if(b=b.tag,k!==null&&k===l)break;b!==5&&b!==26&&b!==27||X===null||(k=X,f?(X=Ra(s,p),X!=null&&E.unshift(Nl(s,X,k))):f||(X=Ra(s,p),X!=null&&E.push(Nl(s,X,k)))),s=s.return}E.length!==0&&r.push({event:i,listeners:E})}var xb=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function D0(r){return(typeof r=="string"?r:""+r).replace(xb,`
`).replace(Mb,"")}function O0(r,i){return i=D0(i),D0(r)===i}function zc(){}function pe(r,i,s,l,f,p){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Hn(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Hn(r,""+l);break;case"className":Er(r,"class",l);break;case"tabIndex":Er(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(r,s,l);break;case"style":$o(r,l,p);break;case"data":if(i!=="object"){Er(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(s);break}l=ws(""+l),r.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&pe(r,i,"name",f.name,f,null),pe(r,i,"formEncType",f.formEncType,f,null),pe(r,i,"formMethod",f.formMethod,f,null),pe(r,i,"formTarget",f.formTarget,f,null)):(pe(r,i,"encType",f.encType,f,null),pe(r,i,"method",f.method,f,null),pe(r,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(s);break}l=ws(""+l),r.setAttribute(s,l);break;case"onClick":l!=null&&(r.onclick=zc);break;case"onScroll":l!=null&&Ft("scroll",r);break;case"onScrollEnd":l!=null&&Ft("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}s=ws(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,""+l):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":l===!0?r.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,l):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(s,l):r.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(s):r.setAttribute(s,l);break;case"popover":Ft("beforetoggle",r),Ft("toggle",r),Oi(r,"popover",l);break;case"xlinkActuate":rn(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oi(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mf.get(s)||s,Oi(r,s,l))}}function op(r,i,s,l,f,p){switch(s){case"style":$o(r,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"children":typeof l=="string"?Hn(r,l):(typeof l=="number"||typeof l=="bigint")&&Hn(r,""+l);break;case"onScroll":l!=null&&Ft("scroll",r);break;case"onScrollEnd":l!=null&&Ft("scrollend",r);break;case"onClick":l!=null&&(r.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ys.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),p=r[Pe]||null,p=p!=null?p[s]:null,typeof p=="function"&&r.removeEventListener(i,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,l,f);break t}s in r?r[s]=l:l===!0?r.setAttribute(s,""):Oi(r,s,l)}}}function ln(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",r),Ft("load",r);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:pe(r,i,p,E,s,null)}}f&&pe(r,i,"srcSet",s.srcSet,s,null),l&&pe(r,i,"src",s.src,s,null);return;case"input":Ft("invalid",r);var b=p=E=f=null,k=null,X=null;for(l in s)if(s.hasOwnProperty(l)){var it=s[l];if(it!=null)switch(l){case"name":f=it;break;case"type":E=it;break;case"checked":k=it;break;case"defaultChecked":X=it;break;case"value":p=it;break;case"defaultValue":b=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,i));break;default:pe(r,i,l,it,s,null)}}Sa(r,p,b,k,X,E,f,!1),Ts(r);return;case"select":Ft("invalid",r),l=E=p=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:pe(r,i,f,b,s,null)}i=p,s=E,r.multiple=!!l,i!=null?Qr(r,!!l,i,!1):s!=null&&Qr(r,!!l,s,!0);return;case"textarea":Ft("invalid",r),p=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(b=s[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:pe(r,i,E,b,s,null)}ba(r,l,f,p),Ts(r);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:pe(r,i,k,l,s,null)}return;case"dialog":Ft("beforetoggle",r),Ft("toggle",r),Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":Ft("load",r);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ft(Ml[l],r);break;case"image":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"embed":case"source":case"link":Ft("error",r),Ft("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(l=s[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:pe(r,i,X,l,s,null)}return;default:if(Ko(i)){for(it in s)s.hasOwnProperty(it)&&(l=s[it],l!==void 0&&op(r,i,it,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&pe(r,i,b,l,s,null))}function Nb(r,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,k=null,X=null,it=null;for(J in s){var ot=s[J];if(s.hasOwnProperty(J)&&ot!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":k=ot;default:l.hasOwnProperty(J)||pe(r,i,J,null,l,ot)}}for(var W in l){var J=l[W];if(ot=s[W],l.hasOwnProperty(W)&&(J!=null||ot!=null))switch(W){case"type":p=J;break;case"name":f=J;break;case"checked":X=J;break;case"defaultChecked":it=J;break;case"value":E=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==ot&&pe(r,i,W,J,l,ot)}}Nn(r,E,b,k,X,it,p,f);return;case"select":J=E=b=W=null;for(p in s)if(k=s[p],s.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":J=k;default:l.hasOwnProperty(p)||pe(r,i,p,null,l,k)}for(f in l)if(p=l[f],k=s[f],l.hasOwnProperty(f)&&(p!=null||k!=null))switch(f){case"value":W=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==k&&pe(r,i,f,p,l,k)}i=b,s=E,l=J,W!=null?Qr(r,!!s,W,!1):!!l!=!!s&&(i!=null?Qr(r,!!s,i,!0):Qr(r,!!s,s?[]:"",!1));return;case"textarea":J=W=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:pe(r,i,b,null,l,f)}for(E in l)if(f=l[E],p=s[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":W=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&pe(r,i,E,f,l,p)}fe(r,W,J);return;case"option":for(var Dt in s)if(W=s[Dt],s.hasOwnProperty(Dt)&&W!=null&&!l.hasOwnProperty(Dt))switch(Dt){case"selected":r.selected=!1;break;default:pe(r,i,Dt,null,l,W)}for(k in l)if(W=l[k],J=s[k],l.hasOwnProperty(k)&&W!==J&&(W!=null||J!=null))switch(k){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:pe(r,i,k,W,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in s)W=s[xt],s.hasOwnProperty(xt)&&W!=null&&!l.hasOwnProperty(xt)&&pe(r,i,xt,null,l,W);for(X in l)if(W=l[X],J=s[X],l.hasOwnProperty(X)&&W!==J&&(W!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:pe(r,i,X,W,l,J)}return;default:if(Ko(i)){for(var me in s)W=s[me],s.hasOwnProperty(me)&&W!==void 0&&!l.hasOwnProperty(me)&&op(r,i,me,void 0,l,W);for(it in l)W=l[it],J=s[it],!l.hasOwnProperty(it)||W===J||W===void 0&&J===void 0||op(r,i,it,W,l,J);return}}for(var G in s)W=s[G],s.hasOwnProperty(G)&&W!=null&&!l.hasOwnProperty(G)&&pe(r,i,G,null,l,W);for(ot in l)W=l[ot],J=s[ot],!l.hasOwnProperty(ot)||W===J||W==null&&J==null||pe(r,i,ot,W,l,J)}var lp=null,up=null;function jc(r){return r.nodeType===9?r:r.ownerDocument}function k0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function cp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hp=null;function Db(){var r=window.event;return r&&r.type==="popstate"?r===hp?!1:(hp=r,!0):(hp=null,!1)}var P0=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,L0=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof L0<"u"?function(r){return L0.resolve(null).then(r).catch(Vb)}:P0;function Vb(r){setTimeout(function(){throw r})}function Zi(r){return r==="head"}function U0(r,i){var s=i,l=0,f=0;do{var p=s.nextSibling;if(r.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=r.ownerDocument;if(s&1&&Dl(E.documentElement),s&2&&Dl(E.body),s&4)for(s=E.head,Dl(s),E=s.firstChild;E;){var b=E.nextSibling,k=E.nodeName;E[va]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=b}}if(f===0){r.removeChild(p),zl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);zl(i)}function fp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fp(s),Di(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function Pb(r,i,s,l){for(;r.nodeType===1;){var f=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[va])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=or(r.nextSibling),r===null)break}return null}function Lb(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=or(r.nextSibling),r===null))return null;return r}function dp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Ub(r,i){var s=r.ownerDocument;if(r.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function or(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var pp=null;function B0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return r;i--}else s==="/$"&&i++}r=r.previousSibling}return null}function z0(r,i,s){switch(i=jc(s),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Dl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Di(r)}var Jn=new Map,j0=new Set;function Gc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var pi=L.d;L.d={f:Bb,r:zb,D:jb,C:Gb,L:Hb,m:qb,X:$b,S:Fb,M:Kb};function Bb(){var r=pi.f(),i=Oc();return r||i}function zb(r){var i=_r(r);i!==null&&i.tag===5&&i.type==="form"?o_(i):pi.r(r)}var no=typeof document>"u"?null:document;function G0(r,i,s){var l=no;if(l&&typeof i=="string"&&i){var f=Le(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),j0.has(f)||(j0.add(f),r={rel:r,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),ln(i,"link",r),Me(i),l.head.appendChild(i)))}}function jb(r){pi.D(r),G0("dns-prefetch",r,null)}function Gb(r,i){pi.C(r,i),G0("preconnect",r,i)}function Hb(r,i,s){pi.L(r,i,s);var l=no;if(l&&r&&i){var f='link[rel="preload"][as="'+Le(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Le(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Le(s.imageSizes)+'"]')):f+='[href="'+Le(r)+'"]';var p=f;switch(i){case"style":p=ro(r);break;case"script":p=io(r)}Jn.has(p)||(r=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),Jn.set(p,r),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ol(p))||i==="script"&&l.querySelector(kl(p))||(i=l.createElement("link"),ln(i,"link",r),Me(i),l.head.appendChild(i)))}}function qb(r,i){pi.m(r,i);var s=no;if(s&&r){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Le(l)+'"][href="'+Le(r)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=io(r)}if(!Jn.has(p)&&(r=_({rel:"modulepreload",href:r},i),Jn.set(p,r),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(kl(p)))return}l=s.createElement("link"),ln(l,"link",r),Me(l),s.head.appendChild(l)}}}function Fb(r,i,s){pi.S(r,i,s);var l=no;if(l&&r){var f=En(l).hoistableStyles,p=ro(r);i=i||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Ol(p)))b.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},s),(s=Jn.get(p))&&mp(r,s);var k=E=l.createElement("link");Me(k),ln(k,"link",r),k._p=new Promise(function(X,it){k.onload=X,k.onerror=it}),k.addEventListener("load",function(){b.loading|=1}),k.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Hc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function $b(r,i){pi.X(r,i);var s=no;if(s&&r){var l=En(s).hoistableScripts,f=io(r),p=l.get(f);p||(p=s.querySelector(kl(f)),p||(r=_({src:r,async:!0},i),(i=Jn.get(f))&&gp(r,i),p=s.createElement("script"),Me(p),ln(p,"link",r),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Kb(r,i){pi.M(r,i);var s=no;if(s&&r){var l=En(s).hoistableScripts,f=io(r),p=l.get(f);p||(p=s.querySelector(kl(f)),p||(r=_({src:r,async:!0,type:"module"},i),(i=Jn.get(f))&&gp(r,i),p=s.createElement("script"),Me(p),ln(p,"link",r),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function H0(r,i,s,l){var f=(f=pt.current)?Gc(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ro(s.href),s=En(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=ro(s.href);var p=En(f).hoistableStyles,E=p.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=f.querySelector(Ol(r)))&&!p._p&&(E.instance=p,E.state.loading=5),Jn.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jn.set(r,s),p||Yb(f,r,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(s),s=En(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ro(r){return'href="'+Le(r)+'"'}function Ol(r){return'link[rel="stylesheet"]['+r+"]"}function q0(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function Yb(r,i,s,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",s),Me(i),r.head.appendChild(i))}function io(r){return'[src="'+Le(r)+'"]'}function kl(r){return"script[async]"+r}function F0(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+Le(s.href)+'"]');if(l)return i.instance=l,Me(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Me(l),ln(l,"style",f),Hc(l,s.precedence,r),i.instance=l;case"stylesheet":f=ro(s.href);var p=r.querySelector(Ol(f));if(p)return i.state.loading|=4,i.instance=p,Me(p),p;l=q0(s),(f=Jn.get(f))&&mp(l,f),p=(r.ownerDocument||r).createElement("link"),Me(p);var E=p;return E._p=new Promise(function(b,k){E.onload=b,E.onerror=k}),ln(p,"link",l),i.state.loading|=4,Hc(p,s.precedence,r),i.instance=p;case"script":return p=io(s.src),(f=r.querySelector(kl(p)))?(i.instance=f,Me(f),f):(l=s,(f=Jn.get(p))&&(l=_({},s),gp(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),Me(f),ln(f,"link",l),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,s.precedence,r));return i.instance}function Hc(r,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function mp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function gp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var qc=null;function $0(r,i,s){if(qc===null){var l=new Map,f=qc=new Map;f.set(s,l)}else f=qc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(r))return l;for(l.set(r,null),s=s.getElementsByTagName(r),f=0;f<s.length;f++){var p=s[f];if(!(p[va]||p[Ge]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=r+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function K0(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function Qb(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Vl=null;function Xb(){}function Zb(r,i,s){if(Vl===null)throw Error(a(475));var l=Vl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ro(s.href),p=r.querySelector(Ol(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Fc.bind(l),r.then(l,l)),i.state.loading|=4,i.instance=p,Me(p);return}p=r.ownerDocument||r,s=q0(s),(f=Jn.get(f))&&mp(s,f),p=p.createElement("link"),Me(p);var E=p;E._p=new Promise(function(b,k){E.onload=b,E.onerror=k}),ln(p,"link",s),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Fc.bind(l),r.addEventListener("load",i),r.addEventListener("error",i))}}function Wb(){if(Vl===null)throw Error(a(475));var r=Vl;return r.stylesheets&&r.count===0&&yp(r,r.stylesheets),0<r.count?function(i){var s=setTimeout(function(){if(r.stylesheets&&yp(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(s)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)yp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $c=null;function yp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$c=new Map,i.forEach(Jb,r),$c=null,Fc.call(r))}function Jb(r,i){if(!(i.state.loading&4)){var s=$c.get(r);if(s)var l=s.get(null);else{s=new Map,$c.set(r,s);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,f),s.set(E,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var Pl={$$typeof:at,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function tA(r,i,s,l,f,p,E,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Q0(r,i,s,l,f,p,E,b,k,X,it,ot){return r=new tA(r,i,s,E,b,k,X,ot),i=1,p===!0&&(i|=24),p=On(3,null,null,i),r.current=p,p.stateNode=r,i=Wf(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:i},nd(p),r}function X0(r){return r?(r=Vs,r):Vs}function Z0(r,i,s,l,f,p){f=X0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ui(i),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=Bi(r,l,i),s!==null&&(Un(s,r,i),fl(s,r,i))}function W0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function _p(r,i){W0(r,i),(r=r.alternate)&&W0(r,i)}function J0(r){if(r.tag===13){var i=ks(r,67108864);i!==null&&Un(i,r,67108864),_p(r,67108864)}}var Kc=!0;function eA(r,i,s,l){var f=N.T;N.T=null;var p=L.p;try{L.p=2,vp(r,i,s,l)}finally{L.p=p,N.T=f}}function nA(r,i,s,l){var f=N.T;N.T=null;var p=L.p;try{L.p=8,vp(r,i,s,l)}finally{L.p=p,N.T=f}}function vp(r,i,s,l){if(Kc){var f=Ep(l);if(f===null)sp(r,i,l,Yc,s),ev(r,l);else if(iA(f,r,i,s,l))l.stopPropagation();else if(ev(r,l),i&4&&-1<rA.indexOf(r)){for(;f!==null;){var p=_r(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Ve(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var k=1<<31-wt(E);b.entanglements[1]|=k,E&=~k}Dr(p),(ce&6)===0&&(Nc=Zt()+500,xl(0))}}break;case 13:b=ks(p,2),b!==null&&Un(b,p,2),Oc(),_p(p,2)}if(p=Ep(l),p===null&&sp(r,i,l,Yc,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else sp(r,i,l,null,s)}}function Ep(r){return r=qn(r),Tp(r)}var Yc=null;function Tp(r){if(Yc=null,r=$r(r),r!==null){var i=u(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=h(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Yc=r,null}function tv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case nn:return 2;case oe:return 8;case xe:case zn:return 32;case jn:return 268435456;default:return 32}default:return 32}}var wp=!1,Wi=null,Ji=null,ta=null,Ll=new Map,Ul=new Map,ea=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(r,i){switch(r){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function Bl(r,i,s,l,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},i!==null&&(i=_r(i),i!==null&&J0(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function iA(r,i,s,l,f){switch(i){case"focusin":return Wi=Bl(Wi,r,i,s,l,f),!0;case"dragenter":return Ji=Bl(Ji,r,i,s,l,f),!0;case"mouseover":return ta=Bl(ta,r,i,s,l,f),!0;case"pointerover":var p=f.pointerId;return Ll.set(p,Bl(Ll.get(p)||null,r,i,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Ul.set(p,Bl(Ul.get(p)||null,r,i,s,l,f)),!0}return!1}function nv(r){var i=$r(r.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){r.blockedOn=i,Ou(r.priority,function(){if(s.tag===13){var l=Ln();l=xi(l);var f=ks(s,l);f!==null&&Un(f,s,l),_p(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qc(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=Ep(r.nativeEvent);if(s===null){s=r.nativeEvent;var l=new s.constructor(s.type,s);Xr=l,s.target.dispatchEvent(l),Xr=null}else return i=_r(s),i!==null&&J0(i),r.blockedOn=s,!1;i.shift()}return!0}function rv(r,i,s){Qc(r)&&s.delete(i)}function aA(){wp=!1,Wi!==null&&Qc(Wi)&&(Wi=null),Ji!==null&&Qc(Ji)&&(Ji=null),ta!==null&&Qc(ta)&&(ta=null),Ll.forEach(rv),Ul.forEach(rv)}function Xc(r,i){r.blockedOn===i&&(r.blockedOn=null,wp||(wp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aA)))}var Zc=null;function iv(r){Zc!==r&&(Zc=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zc===r&&(Zc=null);for(var i=0;i<r.length;i+=3){var s=r[i],l=r[i+1],f=r[i+2];if(typeof l!="function"){if(Tp(l||s)===null)continue;break}var p=_r(s);p!==null&&(r.splice(i,3),i-=3,Td(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function zl(r){function i(k){return Xc(k,r)}Wi!==null&&Xc(Wi,r),Ji!==null&&Xc(Ji,r),ta!==null&&Xc(ta,r),Ll.forEach(i),Ul.forEach(i);for(var s=0;s<ea.length;s++){var l=ea[s];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ea.length&&(s=ea[0],s.blockedOn===null);)nv(s),s.blockedOn===null&&ea.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],E=f[Pe]||null;if(typeof p=="function")E||iv(s);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Pe]||null)b=E.formAction;else if(Tp(f)!==null)continue}else b=E.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),iv(s)}}}function Sp(r){this._internalRoot=r}Wc.prototype.render=Sp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Ln();Z0(s,l,r,i,null,null)},Wc.prototype.unmount=Sp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Z0(r.current,2,null,r,null,null),Oc(),i[Gn]=null}};function Wc(r){this._internalRoot=r}Wc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Mi();r={blockedOn:null,target:r,priority:i};for(var s=0;s<ea.length&&i!==0&&i<ea[s].priority;s++);ea.splice(s,0,r),s===0&&nv(r)}};var av=t.version;if(av!=="19.1.0")throw Error(a(527,av,"19.1.0"));L.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var sA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{$=Jc.inject(sA),bt=Jc}catch{}}return Gl.createRoot=function(r,i){if(!o(r))throw Error(a(299));var s=!1,l="",f=T_,p=w_,E=S_,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Q0(r,1,!1,null,null,s,l,f,p,E,b,null),r[Gn]=i.current,ap(r),new Sp(i)},Gl.hydrateRoot=function(r,i,s){if(!o(r))throw Error(a(299));var l=!1,f="",p=T_,E=w_,b=S_,k=null,X=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks),s.formState!==void 0&&(X=s.formState)),i=Q0(r,1,!0,i,s??null,l,f,p,E,b,k,X),i.context=X0(null),s=i.current,l=Ln(),l=xi(l),f=Ui(l),f.callback=null,Bi(s,f,l),s=l,i.current.lanes=s,Fr(i,s),Dr(i),r[Gn]=i.current,ap(r),new Wc(i)},Gl.version="19.1.0",Gl}var mv;function _A(){if(mv)return Rp.exports;mv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Rp.exports=yA(),Rp.exports}var vA=_A();const EA=jm(vA);var Eu={};(function n(t,e,a,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!t.OffscreenCanvas)return!1;var w=new OffscreenCanvas(1,1),A=w.getContext("2d");A.fillRect(0,0,1,1);var F=w.transferToImageBitmap();try{A.createPattern(F,"no-repeat")}catch{return!1}return!0}();function m(){}function g(w){var A=e.exports.Promise,F=A!==void 0?A:t.Promise;return typeof F=="function"?new F(w):(w(m,m),null)}var _=function(w,A){return{transform:function(F){if(w)return F;if(A.has(F))return A.get(F);var q=new OffscreenCanvas(F.width,F.height),rt=q.getContext("2d");return rt.drawImage(F,0,0),A.set(F,q),q},clear:function(){A.clear()}}}(d,new Map),T=function(){var w=Math.floor(16.666666666666668),A,F,q={},rt=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(A=function(ft){var pt=Math.random();return q[pt]=requestAnimationFrame(function gt(vt){rt===vt||rt+w-1<vt?(rt=vt,delete q[pt],ft()):q[pt]=requestAnimationFrame(gt)}),pt},F=function(ft){q[ft]&&cancelAnimationFrame(q[ft])}):(A=function(ft){return setTimeout(ft,w)},F=function(ft){return clearTimeout(ft)}),{frame:A,cancel:F}}(),S=function(){var w,A,F={};function q(rt){function ft(pt,gt){rt.postMessage({options:pt||{},callback:gt})}rt.init=function(gt){var vt=gt.transferControlToOffscreen();rt.postMessage({canvas:vt},[vt])},rt.fire=function(gt,vt,Lt){if(A)return ft(gt,null),A;var Ht=Math.random().toString(36).slice(2);return A=g(function(Ot){function $t(re){re.data.callback===Ht&&(delete F[Ht],rt.removeEventListener("message",$t),A=null,_.clear(),Lt(),Ot())}rt.addEventListener("message",$t),ft(gt,Ht),F[Ht]=$t.bind(null,{data:{callback:Ht}})}),A},rt.reset=function(){rt.postMessage({reset:!0});for(var gt in F)F[gt](),delete F[gt]}}return function(){if(w)return w;if(!a&&u){var rt=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{w=new Worker(URL.createObjectURL(new Blob([rt])))}catch(ft){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ft),null}q(w)}return w}}(),D={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(w,A){return A?A(w):w}function Z(w){return w!=null}function Q(w,A,F){return j(w&&Z(w[A])?w[A]:D[A],F)}function mt(w){return w<0?0:Math.floor(w)}function ut(w,A){return Math.floor(Math.random()*(A-w))+w}function at(w){return parseInt(w,16)}function _t(w){return w.map(dt)}function dt(w){var A=String(w).replace(/[^0-9a-f]/gi,"");return A.length<6&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]),{r:at(A.substring(0,2)),g:at(A.substring(2,4)),b:at(A.substring(4,6))}}function Et(w){var A=Q(w,"origin",Object);return A.x=Q(A,"x",Number),A.y=Q(A,"y",Number),A}function O(w){w.width=document.documentElement.clientWidth,w.height=document.documentElement.clientHeight}function C(w){var A=w.getBoundingClientRect();w.width=A.width,w.height=A.height}function I(w){var A=document.createElement("canvas");return A.style.position="fixed",A.style.top="0px",A.style.left="0px",A.style.pointerEvents="none",A.style.zIndex=w,A}function V(w,A,F,q,rt,ft,pt,gt,vt){w.save(),w.translate(A,F),w.rotate(ft),w.scale(q,rt),w.arc(0,0,1,pt,gt,vt),w.restore()}function M(w){var A=w.angle*(Math.PI/180),F=w.spread*(Math.PI/180);return{x:w.x,y:w.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:w.startVelocity*.5+Math.random()*w.startVelocity,angle2D:-A+(.5*F-Math.random()*F),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:w.color,shape:w.shape,tick:0,totalTicks:w.ticks,decay:w.decay,drift:w.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:w.gravity*3,ovalScalar:.6,scalar:w.scalar,flat:w.flat}}function P(w,A){A.x+=Math.cos(A.angle2D)*A.velocity+A.drift,A.y+=Math.sin(A.angle2D)*A.velocity+A.gravity,A.velocity*=A.decay,A.flat?(A.wobble=0,A.wobbleX=A.x+10*A.scalar,A.wobbleY=A.y+10*A.scalar,A.tiltSin=0,A.tiltCos=0,A.random=1):(A.wobble+=A.wobbleSpeed,A.wobbleX=A.x+10*A.scalar*Math.cos(A.wobble),A.wobbleY=A.y+10*A.scalar*Math.sin(A.wobble),A.tiltAngle+=.1,A.tiltSin=Math.sin(A.tiltAngle),A.tiltCos=Math.cos(A.tiltAngle),A.random=Math.random()+2);var F=A.tick++/A.totalTicks,q=A.x+A.random*A.tiltCos,rt=A.y+A.random*A.tiltSin,ft=A.wobbleX+A.random*A.tiltCos,pt=A.wobbleY+A.random*A.tiltSin;if(w.fillStyle="rgba("+A.color.r+", "+A.color.g+", "+A.color.b+", "+(1-F)+")",w.beginPath(),h&&A.shape.type==="path"&&typeof A.shape.path=="string"&&Array.isArray(A.shape.matrix))w.fill(L(A.shape.path,A.shape.matrix,A.x,A.y,Math.abs(ft-q)*.1,Math.abs(pt-rt)*.1,Math.PI/10*A.wobble));else if(A.shape.type==="bitmap"){var gt=Math.PI/10*A.wobble,vt=Math.abs(ft-q)*.1,Lt=Math.abs(pt-rt)*.1,Ht=A.shape.bitmap.width*A.scalar,Ot=A.shape.bitmap.height*A.scalar,$t=new DOMMatrix([Math.cos(gt)*vt,Math.sin(gt)*vt,-Math.sin(gt)*Lt,Math.cos(gt)*Lt,A.x,A.y]);$t.multiplySelf(new DOMMatrix(A.shape.matrix));var re=w.createPattern(_.transform(A.shape.bitmap),"no-repeat");re.setTransform($t),w.globalAlpha=1-F,w.fillStyle=re,w.fillRect(A.x-Ht/2,A.y-Ot/2,Ht,Ot),w.globalAlpha=1}else if(A.shape==="circle")w.ellipse?w.ellipse(A.x,A.y,Math.abs(ft-q)*A.ovalScalar,Math.abs(pt-rt)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI):V(w,A.x,A.y,Math.abs(ft-q)*A.ovalScalar,Math.abs(pt-rt)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI);else if(A.shape==="star")for(var Ut=Math.PI/2*3,ie=4*A.scalar,ge=8*A.scalar,Zt=A.x,ye=A.y,nn=5,oe=Math.PI/nn;nn--;)Zt=A.x+Math.cos(Ut)*ge,ye=A.y+Math.sin(Ut)*ge,w.lineTo(Zt,ye),Ut+=oe,Zt=A.x+Math.cos(Ut)*ie,ye=A.y+Math.sin(Ut)*ie,w.lineTo(Zt,ye),Ut+=oe;else w.moveTo(Math.floor(A.x),Math.floor(A.y)),w.lineTo(Math.floor(A.wobbleX),Math.floor(rt)),w.lineTo(Math.floor(ft),Math.floor(pt)),w.lineTo(Math.floor(q),Math.floor(A.wobbleY));return w.closePath(),w.fill(),A.tick<A.totalTicks}function x(w,A,F,q,rt){var ft=A.slice(),pt=w.getContext("2d"),gt,vt,Lt=g(function(Ht){function Ot(){gt=vt=null,pt.clearRect(0,0,q.width,q.height),_.clear(),rt(),Ht()}function $t(){a&&!(q.width===o.width&&q.height===o.height)&&(q.width=w.width=o.width,q.height=w.height=o.height),!q.width&&!q.height&&(F(w),q.width=w.width,q.height=w.height),pt.clearRect(0,0,q.width,q.height),ft=ft.filter(function(re){return P(pt,re)}),ft.length?gt=T.frame($t):Ot()}gt=T.frame($t),vt=Ot});return{addFettis:function(Ht){return ft=ft.concat(Ht),Lt},canvas:w,promise:Lt,reset:function(){gt&&T.cancel(gt),vt&&vt()}}}function tt(w,A){var F=!w,q=!!Q(A||{},"resize"),rt=!1,ft=Q(A,"disableForReducedMotion",Boolean),pt=u&&!!Q(A||{},"useWorker"),gt=pt?S():null,vt=F?O:C,Lt=w&&gt?!!w.__confetti_initialized:!1,Ht=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ot;function $t(Ut,ie,ge){for(var Zt=Q(Ut,"particleCount",mt),ye=Q(Ut,"angle",Number),nn=Q(Ut,"spread",Number),oe=Q(Ut,"startVelocity",Number),xe=Q(Ut,"decay",Number),zn=Q(Ut,"gravity",Number),jn=Q(Ut,"drift",Number),bn=Q(Ut,"colors",_t),vn=Q(Ut,"ticks",Number),$=Q(Ut,"shapes"),bt=Q(Ut,"scalar"),ct=!!Q(Ut,"flat"),wt=Et(Ut),Vt=Zt,Wt=[],Kt=w.width*wt.x,ve=w.height*wt.y;Vt--;)Wt.push(M({x:Kt,y:ve,angle:ye,spread:nn,startVelocity:oe,color:bn[Vt%bn.length],shape:$[ut(0,$.length)],ticks:vn,decay:xe,gravity:zn,drift:jn,scalar:bt,flat:ct}));return Ot?Ot.addFettis(Wt):(Ot=x(w,Wt,vt,ie,ge),Ot.promise)}function re(Ut){var ie=ft||Q(Ut,"disableForReducedMotion",Boolean),ge=Q(Ut,"zIndex",Number);if(ie&&Ht)return g(function(oe){oe()});F&&Ot?w=Ot.canvas:F&&!w&&(w=I(ge),document.body.appendChild(w)),q&&!Lt&&vt(w);var Zt={width:w.width,height:w.height};gt&&!Lt&&gt.init(w),Lt=!0,gt&&(w.__confetti_initialized=!0);function ye(){if(gt){var oe={getBoundingClientRect:function(){if(!F)return w.getBoundingClientRect()}};vt(oe),gt.postMessage({resize:{width:oe.width,height:oe.height}});return}Zt.width=Zt.height=null}function nn(){Ot=null,q&&(rt=!1,t.removeEventListener("resize",ye)),F&&w&&(document.body.contains(w)&&document.body.removeChild(w),w=null,Lt=!1)}return q&&!rt&&(rt=!0,t.addEventListener("resize",ye,!1)),gt?gt.fire(Ut,Zt,nn):$t(Ut,Zt,nn)}return re.reset=function(){gt&&gt.reset(),Ot&&Ot.reset()},re}var H;function N(){return H||(H=tt(null,{useWorker:!0,resize:!0})),H}function L(w,A,F,q,rt,ft,pt){var gt=new Path2D(w),vt=new Path2D;vt.addPath(gt,new DOMMatrix(A));var Lt=new Path2D;return Lt.addPath(vt,new DOMMatrix([Math.cos(pt)*rt,Math.sin(pt)*rt,-Math.sin(pt)*ft,Math.cos(pt)*ft,F,q])),Lt}function U(w){if(!h)throw new Error("path confetti are not supported in this browser");var A,F;typeof w=="string"?A=w:(A=w.path,F=w.matrix);var q=new Path2D(A),rt=document.createElement("canvas"),ft=rt.getContext("2d");if(!F){for(var pt=1e3,gt=pt,vt=pt,Lt=0,Ht=0,Ot,$t,re=0;re<pt;re+=2)for(var Ut=0;Ut<pt;Ut+=2)ft.isPointInPath(q,re,Ut,"nonzero")&&(gt=Math.min(gt,re),vt=Math.min(vt,Ut),Lt=Math.max(Lt,re),Ht=Math.max(Ht,Ut));Ot=Lt-gt,$t=Ht-vt;var ie=10,ge=Math.min(ie/Ot,ie/$t);F=[ge,0,0,ge,-Math.round(Ot/2+gt)*ge,-Math.round($t/2+vt)*ge]}return{type:"path",path:A,matrix:F}}function z(w){var A,F=1,q="#000000",rt='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof w=="string"?A=w:(A=w.text,F="scalar"in w?w.scalar:F,rt="fontFamily"in w?w.fontFamily:rt,q="color"in w?w.color:q);var ft=10*F,pt=""+ft+"px "+rt,gt=new OffscreenCanvas(ft,ft),vt=gt.getContext("2d");vt.font=pt;var Lt=vt.measureText(A),Ht=Math.ceil(Lt.actualBoundingBoxRight+Lt.actualBoundingBoxLeft),Ot=Math.ceil(Lt.actualBoundingBoxAscent+Lt.actualBoundingBoxDescent),$t=2,re=Lt.actualBoundingBoxLeft+$t,Ut=Lt.actualBoundingBoxAscent+$t;Ht+=$t+$t,Ot+=$t+$t,gt=new OffscreenCanvas(Ht,Ot),vt=gt.getContext("2d"),vt.font=pt,vt.fillStyle=q,vt.fillText(A,re,Ut);var ie=1/F;return{type:"bitmap",bitmap:gt.transferToImageBitmap(),matrix:[ie,0,0,ie,-Ht*ie/2,-Ot*ie/2]}}e.exports=function(){return N().apply(this,arguments)},e.exports.reset=function(){N().reset()},e.exports.create=tt,e.exports.shapeFromPath=U,e.exports.shapeFromText=z})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Eu,!1);const TA=Eu.exports;Eu.exports.create;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,a)=>a?a.toUpperCase():e.toLowerCase()),gv=n=>{const t=SA(n);return t.charAt(0).toUpperCase()+t.slice(1)},AE=(...n)=>n.filter((t,e,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===e).join(" ").trim(),bA=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=At.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:h,...d},m)=>At.createElement("svg",{ref:m,...AA,width:t,height:t,stroke:n,strokeWidth:a?Number(e)*24/Number(t):e,className:AE("lucide",o),...!u&&!bA(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,_])=>At.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=(n,t)=>{const e=At.forwardRef(({className:a,...o},u)=>At.createElement(RA,{ref:u,iconNode:t,className:AE(`lucide-${wA(gv(n))}`,`lucide-${n}`,a),...o}));return e.displayName=gv(n),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],IA=RE("menu",CA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CE=RE("x",xA),MA=()=>{};var yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=function(n){const t=[];let e=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},NA=function(n){const t=[];let e=0,a=0;for(;e<n.length;){const o=n[e++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],h=n[e++],d=n[e++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=n[e++],h=n[e++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},xE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,D=g&63;m||(D=64,h||(S=64)),a.push(e[_],e[T],e[S],e[D])}return a.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(IE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):NA(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new DA;const S=u<<2|d>>4;if(a.push(S),g!==64){const D=d<<4&240|g>>2;if(a.push(D),T!==64){const j=g<<6&192|T;a.push(j)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(n){const t=IE(n);return xE.encodeByteArray(t,!0)},Rh=function(n){return OA(n).replace(/\./g,"")},ME=function(n){try{return xE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>kA().__FIREBASE_DEFAULTS__,PA=()=>{if(typeof process>"u"||typeof yv>"u")return;const n=yv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&ME(n[1]);return t&&JSON.parse(t)},of=()=>{try{return MA()||VA()||PA()||LA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NE=n=>{var t,e;return(e=(t=of())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},UA=n=>{const t=NE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},DE=()=>{var n;return(n=of())==null?void 0:n.config},OE=n=>{var t;return(t=of())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rh(JSON.stringify(e)),Rh(JSON.stringify(h)),""].join(".")}const tu={};function jA(){const n={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?n.emulator.push(t):n.prod.push(t);return n}function GA(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let _v=!1;function VE(n,t){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||tu[n]===t||tu[n]||_v)return;tu[n]=t;function e(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=jA().prod.length>0;function h(){const S=document.getElementById(a);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{_v=!0,h()},S}function _(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=GA(a),D=e("text"),j=document.getElementById(D)||document.createElement("span"),Z=e("learnmore"),Q=document.getElementById(Z)||document.createElement("a"),mt=e("preprendIcon"),ut=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const at=S.element;d(at),_(Q,Z);const _t=g();m(ut,mt),at.append(ut,j,Q,_t),document.body.appendChild(at)}u?(j.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function qA(){var t;const n=(t=of())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $A(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YA(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XA(){try{return typeof indexedDB=="object"}catch{return!1}}function ZA(){return new Promise((n,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="FirebaseError";class Ci extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=WA,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?JA(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ci(o,d,a)}}function JA(n,t){return n.replace(t2,(e,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const t2=/\{\$([^}]+)}/g;function e2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function is(n,t){if(n===t)return!0;const e=Object.keys(n),a=Object.keys(t);for(const o of e){if(!a.includes(o))return!1;const u=n[o],h=t[o];if(vv(u)&&vv(h)){if(!is(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!e.includes(o))return!1;return!0}function vv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){const t=[];for(const[e,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function n2(n,t){const e=new r2(n,t);return e.subscribe.bind(e)}class r2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let o;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");i2(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:a},o.next===void 0&&(o.next=Mp),o.error===void 0&&(o.error=Mp),o.complete===void 0&&(o.complete=Mp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n){return n&&n._delegate?n._delegate:n}class as{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new BA;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(o2(t))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Qa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qa){return this.instances.has(t)}getOptions(t=Qa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(t,e){const a=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const o of a)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:s2(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qa){return this.component?this.component.multipleInstances?t:Qa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s2(n){return n===Qa?void 0:n}function o2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new a2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Yt||(Yt={}));const u2={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},c2=Yt.INFO,h2={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},f2=(n,t,...e)=>{if(t<n.logLevel)return;const a=new Date().toISOString(),o=h2[t];if(o)console[o](`[${a}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hm{constructor(t){this.name=t,this._logLevel=c2,this._logHandler=f2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?u2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}}const d2=(n,t)=>t.some(e=>n instanceof e);let Ev,Tv;function p2(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,em=new WeakMap,LE=new WeakMap,Np=new WeakMap,qm=new WeakMap;function g2(n){const t=new Promise((e,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{e(la(n.result)),o()},h=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&PE.set(e,n)}).catch(()=>{}),qm.set(t,n),t}function y2(n){if(em.has(n))return;const t=new Promise((e,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});em.set(n,t)}let nm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return em.get(n);if(t==="objectStoreNames")return n.objectStoreNames||LE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return la(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function _2(n){nm=n(nm)}function v2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=n.call(Dp(this),t,...e);return LE.set(a,t.sort?t.sort():[t]),la(a)}:m2().includes(n)?function(...t){return n.apply(Dp(this),t),la(PE.get(this))}:function(...t){return la(n.apply(Dp(this),t))}}function E2(n){return typeof n=="function"?v2(n):(n instanceof IDBTransaction&&y2(n),d2(n,p2())?new Proxy(n,nm):n)}function la(n){if(n instanceof IDBRequest)return g2(n);if(Np.has(n))return Np.get(n);const t=E2(n);return t!==n&&(Np.set(n,t),qm.set(t,n)),t}const Dp=n=>qm.get(n);function T2(n,t,{blocked:e,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=la(h);return a&&h.addEventListener("upgradeneeded",m=>{a(la(h.result),m.oldVersion,m.newVersion,la(h.transaction),m)}),e&&h.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const w2=["get","getKey","getAll","getAllKeys","count"],S2=["put","add","delete","clear"],Op=new Map;function wv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Op.get(t))return Op.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,o=S2.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(o||w2.includes(e)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return Op.set(t,u),u}_2(n=>({...n,get:(t,e,a)=>wv(t,e)||n.get(t,e,a),has:(t,e)=>!!wv(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(A2(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function A2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rm="@firebase/app",Sv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Hm("@firebase/app"),R2="@firebase/app-compat",C2="@firebase/analytics-compat",I2="@firebase/analytics",x2="@firebase/app-check-compat",M2="@firebase/app-check",N2="@firebase/auth",D2="@firebase/auth-compat",O2="@firebase/database",k2="@firebase/data-connect",V2="@firebase/database-compat",P2="@firebase/functions",L2="@firebase/functions-compat",U2="@firebase/installations",B2="@firebase/installations-compat",z2="@firebase/messaging",j2="@firebase/messaging-compat",G2="@firebase/performance",H2="@firebase/performance-compat",q2="@firebase/remote-config",F2="@firebase/remote-config-compat",$2="@firebase/storage",K2="@firebase/storage-compat",Y2="@firebase/firestore",Q2="@firebase/ai",X2="@firebase/firestore-compat",Z2="firebase",W2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",J2={[rm]:"fire-core",[R2]:"fire-core-compat",[I2]:"fire-analytics",[C2]:"fire-analytics-compat",[M2]:"fire-app-check",[x2]:"fire-app-check-compat",[N2]:"fire-auth",[D2]:"fire-auth-compat",[O2]:"fire-rtdb",[k2]:"fire-data-connect",[V2]:"fire-rtdb-compat",[P2]:"fire-fn",[L2]:"fire-fn-compat",[U2]:"fire-iid",[B2]:"fire-iid-compat",[z2]:"fire-fcm",[j2]:"fire-fcm-compat",[G2]:"fire-perf",[H2]:"fire-perf-compat",[q2]:"fire-rc",[F2]:"fire-rc-compat",[$2]:"fire-gcs",[K2]:"fire-gcs-compat",[Y2]:"fire-fst",[X2]:"fire-fst-compat",[Q2]:"fire-vertex","fire-js":"fire-js",[Z2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,tR=new Map,am=new Map;function bv(n,t){try{n.container.addComponent(t)}catch(e){wi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function vo(n){const t=n.name;if(am.has(t))return wi.debug(`There were multiple attempts to register component ${t}.`),!1;am.set(t,n);for(const e of Ch.values())bv(e,n);for(const e of tR.values())bv(e,n);return!0}function Fm(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new Tu("app","Firebase",eR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,e,a){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=W2;function UE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw ua.create("bad-app-name",{appName:String(o)});if(e||(e=DE()),!e)throw ua.create("no-options");const u=Ch.get(o);if(u){if(is(e,u.options)&&is(a,u.config))return u;throw ua.create("duplicate-app",{appName:o})}const h=new l2(o);for(const m of am.values())h.addComponent(m);const d=new nR(e,a,h);return Ch.set(o,d),d}function BE(n=im){const t=Ch.get(n);if(!t&&n===im&&DE())return UE();if(!t)throw ua.create("no-app",{appName:n});return t}function ca(n,t,e){let a=J2[n]??n;e&&(a+=`-${e}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),wi.warn(h.join(" "));return}vo(new as(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebase-heartbeat-database",iR=1,ou="firebase-heartbeat-store";let kp=null;function zE(){return kp||(kp=T2(rR,iR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ou)}catch(e){console.warn(e)}}}}).catch(n=>{throw ua.create("idb-open",{originalErrorMessage:n.message})})),kp}async function aR(n){try{const e=(await zE()).transaction(ou),a=await e.objectStore(ou).get(jE(n));return await e.done,a}catch(t){if(t instanceof Ci)wi.warn(t.message);else{const e=ua.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});wi.warn(e.message)}}}async function Av(n,t){try{const a=(await zE()).transaction(ou,"readwrite");await a.objectStore(ou).put(t,jE(n)),await a.done}catch(e){if(e instanceof Ci)wi.warn(e.message);else{const a=ua.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});wi.warn(a.message)}}}function jE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=1024,oR=30;class lR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new cR(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>oR){const h=hR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){wi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rv(),{heartbeatsToSend:a,unsentEntries:o}=uR(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return wi.warn(e),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function uR(n,t=sR){const e=[];let a=n.slice();for(const o of n){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Cv(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Cv(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class cR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XA()?ZA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await aR(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Cv(n){return Rh(JSON.stringify({version:2,heartbeats:n})).length}function hR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let a=1;a<n.length;a++)n[a].date<e&&(e=n[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n){vo(new as("platform-logger",t=>new b2(t),"PRIVATE")),vo(new as("heartbeat",t=>new lR(t),"PRIVATE")),ca(rm,Sv,n),ca(rm,Sv,"esm2020"),ca("fire-js","")}fR("");function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dR=GE,HE=new Tu("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Hm("@firebase/auth");function pR(n,...t){Ih.logLevel<=Yt.WARN&&Ih.warn(`Auth (${No}): ${n}`,...t)}function hh(n,...t){Ih.logLevel<=Yt.ERROR&&Ih.error(`Auth (${No}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(n,...t){throw Km(n,...t)}function pr(n,...t){return Km(n,...t)}function $m(n,t,e){const a={...dR(),[t]:e};return new Tu("auth","Firebase",a).create(t,{appName:n.name})}function ts(n){return $m(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mR(n,t,e){const a=e;if(!(t instanceof a))throw a.name!==t.constructor.name&&zr(n,"argument-error"),$m(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(n,...t){if(typeof n!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(e,...a)}return HE.create(n,...t)}function kt(n,t,...e){if(!n)throw Km(t,...e)}function _i(n){const t="INTERNAL ASSERTION FAILED: "+n;throw hh(t),new Error(t)}function Si(n,t){n||_i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function gR(){return Iv()==="http:"||Iv()==="https:"}function Iv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gR()||$A()||"connection"in navigator)?navigator.onLine:!0}function _R(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,e){this.shortDelay=t,this.longDelay=e,Si(e>t,"Short delay should be less than long delay!"),this.isMobile=HA()||KA()}get(){return yR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(n,t){Si(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TR=new Su(3e4,6e4);function Qm(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Do(n,t,e,a,o={}){return FE(n,o,async()=>{let u={},h={};a&&(t==="GET"?h=a:u={body:JSON.stringify(a)});const d=wu({key:n.config.apiKey,...h}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:m,...u};return FA()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Mo(n.emulatorConfig.host)&&(g.credentials="include"),qE.fetch()(await $E(n,n.config.apiHost,e,d),g)})}async function FE(n,t,e){n._canInitEmulator=!1;const a={...vR,...t};try{const o=new SR(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw th(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw th(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw th(n,"user-disabled",h);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $m(n,_,g);zr(n,_)}}catch(o){if(o instanceof Ci)throw o;zr(n,"network-request-failed",{message:String(o)})}}async function wR(n,t,e,a,o={}){const u=await Do(n,t,e,a,o);return"mfaPendingCredential"in u&&zr(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function $E(n,t,e,a){const o=`${t}${e}?${a}`,u=n,h=u.config.emulator?Ym(n.config,o):`${n.config.apiScheme}://${o}`;return ER.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class SR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(pr(this.auth,"network-request-failed")),TR.get())})}}function th(n,t,e){const a={appName:n.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const o=pr(n,t,a);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(n,t){return Do(n,"POST","/v1/accounts:delete",t)}async function xh(n,t){return Do(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function AR(n,t=!1){const e=nr(n),a=await e.getIdToken(t),o=Xm(a);kt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:eu(Vp(o.auth_time)),issuedAtTime:eu(Vp(o.iat)),expirationTime:eu(Vp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Vp(n){return Number(n)*1e3}function Xm(n){const[t,e,a]=n.split(".");if(t===void 0||e===void 0||a===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ME(e);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function xv(n){const t=Xm(n);return kt(t,"internal-error"),kt(typeof t.exp<"u","internal-error"),kt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(n,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof Ci&&RR(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function RR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(n){var T;const t=n.auth,e=await n.getIdToken(),a=await lu(n,xh(t,{idToken:e}));kt(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?KE(o.providerUserInfo):[],h=xR(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function IR(n){const t=nr(n);await Mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xR(n,t){return[...n.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function KE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(n,t){const e=await FE(n,{},async()=>{const a=wu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,h=await $E(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return n.emulatorConfig&&Mo(n.emulatorConfig.host)&&(m.credentials="include"),qE.fetch()(h,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function NR(n,t){return Do(n,"POST","/v2/accounts:revokeToken",Qm(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){kt(t.idToken,"internal-error"),kt(typeof t.idToken<"u","internal-error"),kt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){kt(t.length!==0,"internal-error");const e=xv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(kt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:o,expiresIn:u}=await MR(t,e);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:o,expirationTime:u}=e,h=new fo;return a&&(kt(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(kt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(kt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(n,t){kt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class fr{constructor({uid:t,auth:e,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new CR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await lu(this,this.stsTokenManager.getToken(this.auth,t));return kt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return AR(this,t)}reload(){return IR(this)}_assign(t){this!==t&&(kt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new fr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await Mh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(ts(this.auth));const t=await this.getIdToken();return await lu(this,bR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const a=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,h=e.photoURL??void 0,d=e.tenantId??void 0,m=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:D,providerData:j,stsTokenManager:Z}=e;kt(T&&Z,t,"internal-error");const Q=fo.fromJSON(this.name,Z);kt(typeof T=="string",t,"internal-error"),ra(a,t.name),ra(o,t.name),kt(typeof S=="boolean",t,"internal-error"),kt(typeof D=="boolean",t,"internal-error"),ra(u,t.name),ra(h,t.name),ra(d,t.name),ra(m,t.name),ra(g,t.name),ra(_,t.name);const mt=new fr({uid:T,auth:t,email:o,emailVerified:S,displayName:a,isAnonymous:D,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:Q,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(mt.providerData=j.map(ut=>({...ut}))),m&&(mt._redirectEventId=m),mt}static async _fromIdTokenResponse(t,e,a=!1){const o=new fo;o.updateFromServerResponse(e);const u=new fr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Mh(u),u}static async _fromGetAccountInfoResponse(t,e,a){const o=e.users[0];kt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new fo;d.updateFromIdToken(a);const m=new fr({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function vi(n){Si(n instanceof Function,"Expected a class definition");let t=Mv.get(n);return t?(Si(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Mv.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}YE.type="NONE";const Nv=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n,t,e){return`firebase:${n}:${t}:${e}`}class po{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xh(this.auth,{idToken:t}).catch(()=>{});return e?fr._fromGetAccountInfoResponse(this.auth,e,t):null}return fr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new po(vi(Nv),t,a);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||vi(Nv);const h=fh(a,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const S=await xh(t,{idToken:_}).catch(()=>{});if(!S)break;T=await fr._fromGetAccountInfoResponse(t,S,_)}else T=fr._fromJSON(t,_);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new po(u,t,a):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new po(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tT(t))return"Blackberry";if(eT(t))return"Webos";if(XE(t))return"Safari";if((t.includes("chrome/")||ZE(t))&&!t.includes("edge/"))return"Chrome";if(JE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function QE(n=_n()){return/firefox\//i.test(n)}function XE(n=_n()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZE(n=_n()){return/crios\//i.test(n)}function WE(n=_n()){return/iemobile/i.test(n)}function JE(n=_n()){return/android/i.test(n)}function tT(n=_n()){return/blackberry/i.test(n)}function eT(n=_n()){return/webos/i.test(n)}function Zm(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function DR(n=_n()){var t;return Zm(n)&&!!((t=window.navigator)!=null&&t.standalone)}function OR(){return YA()&&document.documentMode===10}function nT(n=_n()){return Zm(n)||JE(n)||eT(n)||tT(n)||/windows phone/i.test(n)||WE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n,t=[]){let e;switch(n){case"Browser":e=Dv(_n());break;case"Worker":e=`${Dv(_n())}-${n}`;break;default:e=n}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${No}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=u=>new Promise((h,d)=>{try{const m=t(u);h(m)}catch(m){d(m)}});a.onAbort=e,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,t={}){return Do(n,"GET","/v2/passwordPolicy",Qm(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=6;class LR{constructor(t){var a;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??PR,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=t.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,e,a,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new kR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=vi(e)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await po.create(this,t),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xh(this,{idToken:t}),a=await fr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(cr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let a=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===d)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Mh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_R()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cr(this.app))return Promise.reject(ts(this));const e=t?nr(t):null;return e&&kt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cr(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await VR(this),e=new LR(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Tu("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await NR(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&vi(t)||this._popupRedirectResolver;kt(e,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[vi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(kt(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,a,o);return()=>{h=!0,m()}}else{const m=t.addObserver(e);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&pR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function lf(n){return nr(n)}class Ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=n2(e=>this.observer=e)}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BR(n){Wm=n}function zR(n){return Wm.loadJS(n)}function jR(){return Wm.gapiScript}function GR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n,t){const e=Fm(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(is(u,t??{}))return o;zr(o,"already-initialized")}return e.initialize({options:t})}function qR(n,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(vi);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function FR(n,t,e){const a=lf(n);kt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=iT(t),{host:h,port:d}=$R(t),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){kt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),kt(is(g,a.config.emulator)&&is(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Mo(h)?(kE(`${u}//${h}${m}`),VE("Auth",!0)):KR()}function iT(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function $R(n){const t=iT(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:kv(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:kv(h)}}}function kv(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function KR(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _i("not implemented")}_getIdTokenResponse(t){return _i("not implemented")}_linkToIdToken(t,e){return _i("not implemented")}_getReauthenticationResolver(t){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(n,t){return wR(n,"POST","/v1/accounts:signInWithIdp",Qm(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="http://localhost";class ss extends aT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ss(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):zr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...u}=e;if(!a||!o)return null;const h=new ss(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return mo(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,mo(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,mo(t,e)}buildRequest(){const t={requestUri:YR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=wu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Jm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends bu{constructor(){super("facebook.com")}static credential(t){return ss._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ia.credential(t.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ss._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return gi.credential(e,a)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends bu{constructor(){super("github.com")}static credential(t){return ss._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return aa.credentialFromTaggedObject(t)}static credentialFromError(t){return aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return aa.credential(t.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends bu{constructor(){super("twitter.com")}static credential(t,e){return ss._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return sa.credentialFromTaggedObject(t)}static credentialFromError(t){return sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return sa.credential(e,a)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,o=!1){const u=await fr._fromIdTokenResponse(t,a,o),h=Vv(a);return new Eo({user:u,providerId:h,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const o=Vv(a);return new Eo({user:t,providerId:o,_tokenResponse:a,operationType:e})}}function Vv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Ci{constructor(t,e,a,o){super(e.code,e.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,o){return new Nh(t,e,a,o)}}function sT(n,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(n,u,t,a):u})}async function QR(n,t,e=!1){const a=await lu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Eo._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n,t,e=!1){const{auth:a}=n;if(cr(a.app))return Promise.reject(ts(a));const o="reauthenticate";try{const u=await lu(n,sT(a,o,t,n),e);kt(u.idToken,a,"internal-error");const h=Xm(u.idToken);kt(h,a,"internal-error");const{sub:d}=h;return kt(n.uid===d,a,"user-mismatch"),Eo._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(n,t,e=!1){if(cr(n.app))return Promise.reject(ts(n));const a="signIn",o=await sT(n,a,t),u=await Eo._fromIdTokenResponse(n,a,o);return e||await n._updateCurrentUser(u.user),u}function WR(n,t,e,a){return nr(n).onIdTokenChanged(t,e,a)}function JR(n,t,e){return nr(n).beforeAuthStateChanged(t,e)}function oT(n,t,e,a){return nr(n).onAuthStateChanged(t,e,a)}function tC(n){return nr(n).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1e3,nC=10;class uT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),o=this.localCache[e];a!==o&&t(e,o,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!e&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);OR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,nC):o()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}uT.type="LOCAL";const rC=uT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}cT.type="SESSION";const hT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const a=new uf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,u)),m=await iC(d);e.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=tg("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function sC(n){kr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function oC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function uC(){return fT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebaseLocalStorageDb",cC=1,Oh="firebaseLocalStorage",pT="fbase_key";class Au{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function cf(n,t){return n.transaction([Oh],t?"readwrite":"readonly").objectStore(Oh)}function hC(){const n=indexedDB.deleteDatabase(dT);return new Au(n).toPromise()}function lm(){const n=indexedDB.open(dT,cC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Oh,{keyPath:pT})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Oh)?t(a):(a.close(),await hC(),t(await lm()))})})}async function Pv(n,t,e){const a=cf(n,!0).put({[pT]:t,value:e});return new Au(a).toPromise()}async function fC(n,t){const e=cf(n,!1).get(t),a=await new Au(e).toPromise();return a===void 0?null:a.value}function Lv(n,t){const e=cf(n,!0).delete(t);return new Au(e).toPromise()}const dC=800,pC=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>pC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(uC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,a;if(this.activeServiceWorker=await oC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(a=t[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Pv(t,Dh,"1"),await Lv(t,Dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>Pv(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>fC(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Lv(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new Au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const mC=mT;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n,t){return t?vi(t):(kt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends aT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return mo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return mo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return mo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function gC(n){return ZR(n.auth,new eg(n),n.bypassAuthState)}function yC(n){const{auth:t,user:e}=n;return kt(e,t,"internal-error"),XR(e,new eg(n),n.bypassAuthState)}async function _C(n){const{auth:t,user:e}=n;return kt(e,t,"internal-error"),QR(e,new eg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t,e,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:e,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gC;case"linkViaPopup":case"linkViaRedirect":return _C;case"reauthViaPopup":case"reauthViaRedirect":return yC;default:zr(this.auth,"internal-error")}}resolve(t){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Su(2e3,1e4);async function EC(n,t,e){if(cr(n.app))return Promise.reject(pr(n,"operation-not-supported-in-this-environment"));const a=lf(n);mR(n,t,Jm);const o=gT(a,e);return new Za(a,"signInViaPopup",t,o).executeNotNull()}class Za extends yT{constructor(t,e,a,o,u){super(t,e,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return kt(t,this.auth,"internal-error"),t}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const t=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if((a=(e=this.authWindow)==null?void 0:e.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vC.get())};t()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="pendingRedirect",dh=new Map;class wC extends yT{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=dh.get(this.auth._key());if(!t){try{const a=await SC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}dh.set(this.auth._key(),t)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SC(n,t){const e=RC(t),a=AC(n);if(!await a._isAvailable())return!1;const o=await a._get(e)==="true";return await a._remove(e),o}function bC(n,t){dh.set(n._key(),t)}function AC(n){return vi(n._redirectPersistence)}function RC(n){return fh(TC,n.config.apiKey,n.name)}async function CC(n,t,e=!1){if(cr(n.app))return Promise.reject(ts(n));const a=lf(n),o=gT(a,t),h=await new wC(a,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=10*60*1e3;class xC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!_T(t)){const o=((a=t.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";e.onError(pr(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=IC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(t))}saveEventToCache(t){this.cachedEventUids.add(Uv(t)),this.lastProcessedEventTime=Date.now()}}function Uv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function _T({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function MC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n,t={}){return Do(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function kC(n){if(n.config.emulator)return;const{authorizedDomains:t}=await NC(n);for(const e of t)try{if(VC(e))return}catch{}zr(n,"unauthorized-domain")}function VC(n){const t=sm(),{protocol:e,hostname:a}=new URL(t);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&a===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===a}if(!OC.test(e))return!1;if(DC.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new Su(3e4,6e4);function Bv(){const n=kr().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function LC(n){return new Promise((t,e)=>{var o,u,h;function a(){Bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bv(),e(pr(n,"network-request-failed"))},timeout:PC.get()})}if((u=(o=kr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((h=kr().gapi)!=null&&h.load)a();else{const d=GR("iframefcb");return kr()[d]=()=>{gapi.load?a():e(pr(n,"network-request-failed"))},zR(`${jR()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw ph=null,t})}let ph=null;function UC(n){return ph=ph||LC(n),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new Su(5e3,15e3),zC="__/auth/iframe",jC="emulator/auth/iframe",GC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qC(n){const t=n.config;kt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Ym(t,jC):`https://${n.config.authDomain}/${zC}`,a={apiKey:t.apiKey,appName:n.name,v:No},o=HC.get(n.config.apiHost);o&&(a.eid=o);const u=n._getFrameworks();return u.length&&(a.fw=u.join(",")),`${e}?${wu(a).slice(1)}`}async function FC(n){const t=await UC(n),e=kr().gapi;return kt(e,n,"internal-error"),t.open({where:document.body,url:qC(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=pr(n,"network-request-failed"),d=kr().setTimeout(()=>{u(h)},BC.get());function m(){kr().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KC=500,YC=600,QC="_blank",XC="http://localhost";class zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(n,t,e,a=KC,o=YC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...$C,width:a.toString(),height:o.toString(),top:u,left:h},g=_n().toLowerCase();e&&(d=ZE(g)?QC:e),QE(g)&&(t=t||XC,m.scrollbars="yes");const _=Object.entries(m).reduce((S,[D,j])=>`${S}${D}=${j},`,"");if(DR(g)&&d!=="_self")return WC(t||"",d),new zv(null);const T=window.open(t||"",d,_);kt(T,n,"popup-blocked");try{T.focus()}catch{}return new zv(T)}function WC(n,t){const e=document.createElement("a");e.href=n,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="__/auth/handler",tI="emulator/auth/handler",eI=encodeURIComponent("fac");async function jv(n,t,e,a,o,u){kt(n.config.authDomain,n,"auth-domain-config-required"),kt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:a,v:No,eventId:o};if(t instanceof Jm){t.setDefaultLanguage(n.languageCode),h.providerId=t.providerId||"",e2(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(t instanceof bu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${eI}=${encodeURIComponent(m)}`:"";return`${nI(n)}?${wu(d).slice(1)}${g}`}function nI({config:n}){return n.emulator?Ym(n,tI):`https://${n.authDomain}/${JC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class rI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hT,this._completeRedirectFn=CC,this._overrideRedirectResult=bC}async _openPopup(t,e,a,o){var h;Si((h=this.eventManagers[t._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await jv(t,e,a,sm(),o);return ZC(t,u,tg())}async _openRedirect(t,e,a,o){await this._originValidation(t);const u=await jv(t,e,a,sm(),o);return sC(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Si(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await FC(t),a=new xC(t);return e.register("authEvent",o=>(kt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Pp,{type:Pp},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Pp];u!==void 0&&e(!!u),zr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=kC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return nT()||XE()||Zm()}}const iI=rI;var Gv="@firebase/auth",Hv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oI(n){vo(new as("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;kt(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(n)},g=new UR(a,o,u,m);return qR(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),vo(new as("auth-internal",t=>{const e=lf(t.getProvider("auth").getImmediate());return(a=>new aI(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ca(Gv,Hv,sI(n)),ca(Gv,Hv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=5*60,uI=OE("authIdTokenMaxAge")||lI;let qv=null;const cI=n=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>uI)return;const o=e==null?void 0:e.token;qv!==o&&(qv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hI(n=BE()){const t=Fm(n,"auth");if(t.isInitialized())return t.getImmediate();const e=HR(n,{popupRedirectResolver:iI,persistence:[mC,rC,hT]}),a=OE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=cI(u.toString());JR(e,h,()=>h(e.currentUser)),WR(e,d=>h(d))}}const o=NE("auth");return o&&FR(e,`http://${o}`),e}function fI(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}BR({loadJS(n){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=t,a.onerror=o=>{const u=pr("internal-error");u.customData=o,e(u)},a.type="text/javascript",a.charset="UTF-8",fI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oI("Browser");var dI="firebase",pI="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca(dI,pI,"app");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,vT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,C){function I(){}I.prototype=C.prototype,O.D=C.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(V,M,P){for(var x=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)x[tt-2]=arguments[tt];return C.prototype[M].apply(V,x)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,I){I||(I=0);var V=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)V[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)V[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=O.g[0],I=O.g[1],M=O.g[2];var P=O.g[3],x=C+(P^I&(M^P))+V[0]+3614090360&4294967295;C=I+(x<<7&4294967295|x>>>25),x=P+(M^C&(I^M))+V[1]+3905402710&4294967295,P=C+(x<<12&4294967295|x>>>20),x=M+(I^P&(C^I))+V[2]+606105819&4294967295,M=P+(x<<17&4294967295|x>>>15),x=I+(C^M&(P^C))+V[3]+3250441966&4294967295,I=M+(x<<22&4294967295|x>>>10),x=C+(P^I&(M^P))+V[4]+4118548399&4294967295,C=I+(x<<7&4294967295|x>>>25),x=P+(M^C&(I^M))+V[5]+1200080426&4294967295,P=C+(x<<12&4294967295|x>>>20),x=M+(I^P&(C^I))+V[6]+2821735955&4294967295,M=P+(x<<17&4294967295|x>>>15),x=I+(C^M&(P^C))+V[7]+4249261313&4294967295,I=M+(x<<22&4294967295|x>>>10),x=C+(P^I&(M^P))+V[8]+1770035416&4294967295,C=I+(x<<7&4294967295|x>>>25),x=P+(M^C&(I^M))+V[9]+2336552879&4294967295,P=C+(x<<12&4294967295|x>>>20),x=M+(I^P&(C^I))+V[10]+4294925233&4294967295,M=P+(x<<17&4294967295|x>>>15),x=I+(C^M&(P^C))+V[11]+2304563134&4294967295,I=M+(x<<22&4294967295|x>>>10),x=C+(P^I&(M^P))+V[12]+1804603682&4294967295,C=I+(x<<7&4294967295|x>>>25),x=P+(M^C&(I^M))+V[13]+4254626195&4294967295,P=C+(x<<12&4294967295|x>>>20),x=M+(I^P&(C^I))+V[14]+2792965006&4294967295,M=P+(x<<17&4294967295|x>>>15),x=I+(C^M&(P^C))+V[15]+1236535329&4294967295,I=M+(x<<22&4294967295|x>>>10),x=C+(M^P&(I^M))+V[1]+4129170786&4294967295,C=I+(x<<5&4294967295|x>>>27),x=P+(I^M&(C^I))+V[6]+3225465664&4294967295,P=C+(x<<9&4294967295|x>>>23),x=M+(C^I&(P^C))+V[11]+643717713&4294967295,M=P+(x<<14&4294967295|x>>>18),x=I+(P^C&(M^P))+V[0]+3921069994&4294967295,I=M+(x<<20&4294967295|x>>>12),x=C+(M^P&(I^M))+V[5]+3593408605&4294967295,C=I+(x<<5&4294967295|x>>>27),x=P+(I^M&(C^I))+V[10]+38016083&4294967295,P=C+(x<<9&4294967295|x>>>23),x=M+(C^I&(P^C))+V[15]+3634488961&4294967295,M=P+(x<<14&4294967295|x>>>18),x=I+(P^C&(M^P))+V[4]+3889429448&4294967295,I=M+(x<<20&4294967295|x>>>12),x=C+(M^P&(I^M))+V[9]+568446438&4294967295,C=I+(x<<5&4294967295|x>>>27),x=P+(I^M&(C^I))+V[14]+3275163606&4294967295,P=C+(x<<9&4294967295|x>>>23),x=M+(C^I&(P^C))+V[3]+4107603335&4294967295,M=P+(x<<14&4294967295|x>>>18),x=I+(P^C&(M^P))+V[8]+1163531501&4294967295,I=M+(x<<20&4294967295|x>>>12),x=C+(M^P&(I^M))+V[13]+2850285829&4294967295,C=I+(x<<5&4294967295|x>>>27),x=P+(I^M&(C^I))+V[2]+4243563512&4294967295,P=C+(x<<9&4294967295|x>>>23),x=M+(C^I&(P^C))+V[7]+1735328473&4294967295,M=P+(x<<14&4294967295|x>>>18),x=I+(P^C&(M^P))+V[12]+2368359562&4294967295,I=M+(x<<20&4294967295|x>>>12),x=C+(I^M^P)+V[5]+4294588738&4294967295,C=I+(x<<4&4294967295|x>>>28),x=P+(C^I^M)+V[8]+2272392833&4294967295,P=C+(x<<11&4294967295|x>>>21),x=M+(P^C^I)+V[11]+1839030562&4294967295,M=P+(x<<16&4294967295|x>>>16),x=I+(M^P^C)+V[14]+4259657740&4294967295,I=M+(x<<23&4294967295|x>>>9),x=C+(I^M^P)+V[1]+2763975236&4294967295,C=I+(x<<4&4294967295|x>>>28),x=P+(C^I^M)+V[4]+1272893353&4294967295,P=C+(x<<11&4294967295|x>>>21),x=M+(P^C^I)+V[7]+4139469664&4294967295,M=P+(x<<16&4294967295|x>>>16),x=I+(M^P^C)+V[10]+3200236656&4294967295,I=M+(x<<23&4294967295|x>>>9),x=C+(I^M^P)+V[13]+681279174&4294967295,C=I+(x<<4&4294967295|x>>>28),x=P+(C^I^M)+V[0]+3936430074&4294967295,P=C+(x<<11&4294967295|x>>>21),x=M+(P^C^I)+V[3]+3572445317&4294967295,M=P+(x<<16&4294967295|x>>>16),x=I+(M^P^C)+V[6]+76029189&4294967295,I=M+(x<<23&4294967295|x>>>9),x=C+(I^M^P)+V[9]+3654602809&4294967295,C=I+(x<<4&4294967295|x>>>28),x=P+(C^I^M)+V[12]+3873151461&4294967295,P=C+(x<<11&4294967295|x>>>21),x=M+(P^C^I)+V[15]+530742520&4294967295,M=P+(x<<16&4294967295|x>>>16),x=I+(M^P^C)+V[2]+3299628645&4294967295,I=M+(x<<23&4294967295|x>>>9),x=C+(M^(I|~P))+V[0]+4096336452&4294967295,C=I+(x<<6&4294967295|x>>>26),x=P+(I^(C|~M))+V[7]+1126891415&4294967295,P=C+(x<<10&4294967295|x>>>22),x=M+(C^(P|~I))+V[14]+2878612391&4294967295,M=P+(x<<15&4294967295|x>>>17),x=I+(P^(M|~C))+V[5]+4237533241&4294967295,I=M+(x<<21&4294967295|x>>>11),x=C+(M^(I|~P))+V[12]+1700485571&4294967295,C=I+(x<<6&4294967295|x>>>26),x=P+(I^(C|~M))+V[3]+2399980690&4294967295,P=C+(x<<10&4294967295|x>>>22),x=M+(C^(P|~I))+V[10]+4293915773&4294967295,M=P+(x<<15&4294967295|x>>>17),x=I+(P^(M|~C))+V[1]+2240044497&4294967295,I=M+(x<<21&4294967295|x>>>11),x=C+(M^(I|~P))+V[8]+1873313359&4294967295,C=I+(x<<6&4294967295|x>>>26),x=P+(I^(C|~M))+V[15]+4264355552&4294967295,P=C+(x<<10&4294967295|x>>>22),x=M+(C^(P|~I))+V[6]+2734768916&4294967295,M=P+(x<<15&4294967295|x>>>17),x=I+(P^(M|~C))+V[13]+1309151649&4294967295,I=M+(x<<21&4294967295|x>>>11),x=C+(M^(I|~P))+V[4]+4149444226&4294967295,C=I+(x<<6&4294967295|x>>>26),x=P+(I^(C|~M))+V[11]+3174756917&4294967295,P=C+(x<<10&4294967295|x>>>22),x=M+(C^(P|~I))+V[2]+718787259&4294967295,M=P+(x<<15&4294967295|x>>>17),x=I+(P^(M|~C))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+P&4294967295}a.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var I=C-this.blockSize,V=this.B,M=this.h,P=0;P<C;){if(M==0)for(;P<=I;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<C;)if(V[M++]=O.charCodeAt(P++),M==this.blockSize){o(this,V),M=0;break}}else for(;P<C;)if(V[M++]=O[P++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=C},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var I=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=I&255,I/=256;for(this.u(O),O=Array(16),C=I=0;4>C;++C)for(var V=0;32>V;V+=8)O[I++]=this.g[C]>>>V&255;return O};function u(O,C){var I=d;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=C(O)}function h(O,C){this.h=C;for(var I=[],V=!0,M=O.length-1;0<=M;M--){var P=O[M]|0;V&&P==C||(I[M]=P,V=!1)}this.g=I}var d={};function m(O){return-128<=O&&128>O?u(O,function(C){return new h([C|0],0>C?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return Q(g(-O));for(var C=[],I=1,V=0;O>=I;V++)C[V]=O/I|0,I*=4294967296;return new h(C,0)}function _(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return Q(_(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(C,8)),V=T,M=0;M<O.length;M+=8){var P=Math.min(8,O.length-M),x=parseInt(O.substring(M,M+P),C);8>P?(P=g(Math.pow(C,P)),V=V.j(P).add(g(x))):(V=V.j(I),V=V.add(g(x)))}return V}var T=m(0),S=m(1),D=m(16777216);n=h.prototype,n.m=function(){if(Z(this))return-Q(this).m();for(var O=0,C=1,I=0;I<this.g.length;I++){var V=this.i(I);O+=(0<=V?V:4294967296+V)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(j(this))return"0";if(Z(this))return"-"+Q(this).toString(O);for(var C=g(Math.pow(O,6)),I=this,V="";;){var M=_t(I,C).g;I=mt(I,M.j(C));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=M,j(I))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function j(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function Z(O){return O.h==-1}n.l=function(O){return O=mt(this,O),Z(O)?-1:j(O)?0:1};function Q(O){for(var C=O.g.length,I=[],V=0;V<C;V++)I[V]=~O.g[V];return new h(I,~O.h).add(S)}n.abs=function(){return Z(this)?Q(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],V=0,M=0;M<=C;M++){var P=V+(this.i(M)&65535)+(O.i(M)&65535),x=(P>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);V=x>>>16,P&=65535,x&=65535,I[M]=x<<16|P}return new h(I,I[I.length-1]&-2147483648?-1:0)};function mt(O,C){return O.add(Q(C))}n.j=function(O){if(j(this)||j(O))return T;if(Z(this))return Z(O)?Q(this).j(Q(O)):Q(Q(this).j(O));if(Z(O))return Q(this.j(Q(O)));if(0>this.l(D)&&0>O.l(D))return g(this.m()*O.m());for(var C=this.g.length+O.g.length,I=[],V=0;V<2*C;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<O.g.length;M++){var P=this.i(V)>>>16,x=this.i(V)&65535,tt=O.i(M)>>>16,H=O.i(M)&65535;I[2*V+2*M]+=x*H,ut(I,2*V+2*M),I[2*V+2*M+1]+=P*H,ut(I,2*V+2*M+1),I[2*V+2*M+1]+=x*tt,ut(I,2*V+2*M+1),I[2*V+2*M+2]+=P*tt,ut(I,2*V+2*M+2)}for(V=0;V<C;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=C;V<2*C;V++)I[V]=0;return new h(I,0)};function ut(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function at(O,C){this.g=O,this.h=C}function _t(O,C){if(j(C))throw Error("division by zero");if(j(O))return new at(T,T);if(Z(O))return C=_t(Q(O),C),new at(Q(C.g),Q(C.h));if(Z(C))return C=_t(O,Q(C)),new at(Q(C.g),C.h);if(30<O.g.length){if(Z(O)||Z(C))throw Error("slowDivide_ only works with positive integers.");for(var I=S,V=C;0>=V.l(O);)I=dt(I),V=dt(V);var M=Et(I,1),P=Et(V,1);for(V=Et(V,2),I=Et(I,2);!j(V);){var x=P.add(V);0>=x.l(O)&&(M=M.add(I),P=x),V=Et(V,1),I=Et(I,1)}return C=mt(O,M.j(C)),new at(M,C)}for(M=T;0<=O.l(C);){for(I=Math.max(1,Math.floor(O.m()/C.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=g(I),x=P.j(C);Z(x)||0<x.l(O);)I-=V,P=g(I),x=P.j(C);j(P)&&(P=S),M=M.add(P),O=mt(O,x)}return new at(M,O)}n.A=function(O){return _t(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],V=0;V<C;V++)I[V]=this.i(V)&O.i(V);return new h(I,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],V=0;V<C;V++)I[V]=this.i(V)|O.i(V);return new h(I,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],V=0;V<C;V++)I[V]=this.i(V)^O.i(V);return new h(I,this.h^O.h)};function dt(O){for(var C=O.g.length+1,I=[],V=0;V<C;V++)I[V]=O.i(V)<<1|O.i(V-1)>>>31;return new h(I,O.h)}function Et(O,C){var I=C>>5;C%=32;for(var V=O.g.length-I,M=[],P=0;P<V;P++)M[P]=0<C?O.i(P+I)>>>C|O.i(P+I+1)<<32-C:O.i(P+I);return new h(M,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,vT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ha=h}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,$l,TT,mh,um,wT,ST,bT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=e(this);function o(c,y){if(y)t:{var v=a;c=c.split(".");for(var R=0;R<c.length-1;R++){var K=c[R];if(!(K in v))break t;v=v[K]}c=c[c.length-1],R=v[c],y=y(R),y!=R&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,R=!1,K={next:function(){if(!R&&v<c.length){var et=v++;return{value:y(et,c[et]),done:!1}}return R=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,R),c.apply(y,K)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function j(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,K,et){for(var yt=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)yt[Jt-2]=arguments[Jt];return y.prototype[K].apply(R,yt)}}function Z(c){const y=c.length;if(0<y){const v=Array(y);for(let R=0;R<y;R++)v[R]=c[R];return v}return[]}function Q(c,y){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(m(R)){const K=c.length||0,et=R.length||0;c.length=K+et;for(let yt=0;yt<et;yt++)c[K+yt]=R[yt]}else c.push(R)}}class mt{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ut(c){return/^[\s\xa0]*$/.test(c)}function at(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function _t(c){return _t[" "](c),c}_t[" "]=function(){};var dt=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function Et(c,y,v){for(const R in c)y.call(v,c[R],R,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(v in R)c[v]=R[v];for(let et=0;et<I.length;et++)v=I[et],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function M(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function P(c){d.setTimeout(()=>{throw c},0)}function x(){var c=z;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,v){const R=H.get();R.set(y,v),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new mt(()=>new N,c=>c.reset());class N{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let L,U=!1,z=new tt,w=()=>{const c=d.Promise.resolve(void 0);L=()=>{c.then(A)}};var A=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){P(v)}var y=H;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}U=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function ft(c,y){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(dt){t:{try{_t(y.nodeName);var K=!0;break t}catch{}K=!1}K||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ft.aa.h.call(this)}}j(ft,q);var pt={2:"touch",3:"pen",4:"mouse"};ft.prototype.h=function(){ft.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Lt(c,y,v,R,K){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!R,this.ha=K,this.key=++vt,this.da=this.fa=!1}function Ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ot(c){this.src=c,this.g={},this.h=0}Ot.prototype.add=function(c,y,v,R,K){var et=c.toString();c=this.g[et],c||(c=this.g[et]=[],this.h++);var yt=re(c,y,R,K);return-1<yt?(y=c[yt],v||(y.fa=!1)):(y=new Lt(y,this.src,et,!!R,K),y.fa=v,c.push(y)),y};function $t(c,y){var v=y.type;if(v in c.g){var R=c.g[v],K=Array.prototype.indexOf.call(R,y,void 0),et;(et=0<=K)&&Array.prototype.splice.call(R,K,1),et&&(Ht(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function re(c,y,v,R){for(var K=0;K<c.length;++K){var et=c[K];if(!et.da&&et.listener==y&&et.capture==!!v&&et.ha==R)return K}return-1}var Ut="closure_lm_"+(1e6*Math.random()|0),ie={};function ge(c,y,v,R,K){if(Array.isArray(y)){for(var et=0;et<y.length;et++)ge(c,y[et],v,R,K);return null}return v=vn(v),c&&c[gt]?c.K(y,v,g(R)?!!R.capture:!1,K):Zt(c,y,v,!1,R,K)}function Zt(c,y,v,R,K,et){if(!y)throw Error("Invalid event type");var yt=g(K)?!!K.capture:!!K,Jt=jn(c);if(Jt||(c[Ut]=Jt=new Ot(c)),v=Jt.add(y,v,R,yt,et),v.proxy)return v;if(R=ye(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)rt||(K=yt),K===void 0&&(K=!1),c.addEventListener(y.toString(),R,K);else if(c.attachEvent)c.attachEvent(xe(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ye(){function c(v){return y.call(c.src,c.listener,v)}const y=zn;return c}function nn(c,y,v,R,K){if(Array.isArray(y))for(var et=0;et<y.length;et++)nn(c,y[et],v,R,K);else R=g(R)?!!R.capture:!!R,v=vn(v),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&(et=c.g[y],v=re(et,v,R,K),-1<v&&(Ht(et[v]),Array.prototype.splice.call(et,v,1),et.length==0&&(delete c.g[y],c.h--)))):c&&(c=jn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=re(y,v,R,K)),(v=-1<c?y[c]:null)&&oe(v))}function oe(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])$t(y.i,c);else{var v=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(v,R,c.capture):y.detachEvent?y.detachEvent(xe(v),R):y.addListener&&y.removeListener&&y.removeListener(R),(v=jn(y))?($t(v,c),v.h==0&&(v.src=null,y[Ut]=null)):Ht(c)}}}function xe(c){return c in ie?ie[c]:ie[c]="on"+c}function zn(c,y){if(c.da)c=!0;else{y=new ft(y,this);var v=c.listener,R=c.ha||c.src;c.fa&&oe(c),c=v.call(R,y)}return c}function jn(c){return c=c[Ut],c instanceof Ot?c:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(c){return typeof c=="function"?c:(c[bn]||(c[bn]=function(y){return c.handleEvent(y)}),c[bn])}function $(){F.call(this),this.i=new Ot(this),this.M=this,this.F=null}j($,F),$.prototype[gt]=!0,$.prototype.removeEventListener=function(c,y,v,R){nn(this,c,y,v,R)};function bt(c,y){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new q(y,c);else if(y instanceof q)y.target=y.target||c;else{var K=y;y=new q(R,c),V(y,K)}if(K=!0,v)for(var et=v.length-1;0<=et;et--){var yt=y.g=v[et];K=ct(yt,R,!0,y)&&K}if(yt=y.g=c,K=ct(yt,R,!0,y)&&K,K=ct(yt,R,!1,y)&&K,v)for(et=0;et<v.length;et++)yt=y.g=v[et],K=ct(yt,R,!1,y)&&K}$.prototype.N=function(){if($.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],R=0;R<v.length;R++)Ht(v[R]);delete c.g[y],c.h--}}this.F=null},$.prototype.K=function(c,y,v,R){return this.i.add(String(c),y,!1,v,R)},$.prototype.L=function(c,y,v,R){return this.i.add(String(c),y,!0,v,R)};function ct(c,y,v,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,et=0;et<y.length;++et){var yt=y[et];if(yt&&!yt.da&&yt.capture==v){var Jt=yt.listener,He=yt.ha||yt.src;yt.fa&&$t(c.i,yt),K=Jt.call(He,R)!==!1&&K}}return K&&!R.defaultPrevented}function wt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Vt(c){c.g=wt(()=>{c.g=null,c.i&&(c.i=!1,Vt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Wt extends F{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(c){F.call(this),this.h=c,this.g={}}j(Kt,F);var ve=[];function ke(c){Et(c.g,function(y,v){this.g.hasOwnProperty(v)&&oe(y)},c),c.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),ke(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ve=d.JSON.stringify,fn=d.JSON.parse,Ii=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ms(){}ms.prototype.h=null;function gr(c){return c.h||(c.h=c.i())}function Uo(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){q.call(this,"d")}j(Fr,q);function Bo(){q.call(this,"c")}j(Bo,q);var yr={},zo=null;function xi(){return zo=zo||new $}yr.La="serverreachability";function gs(c){q.call(this,yr.La,c)}j(gs,q);function Mi(c){const y=xi();bt(y,new gs(y))}yr.STAT_EVENT="statevent";function Ou(c,y){q.call(this,yr.STAT_EVENT,c),this.stat=y}j(Ou,q);function we(c){const y=xi();bt(y,new Ou(y,c))}yr.Ma="timingevent";function Ge(c,y){q.call(this,yr.Ma,c),this.size=y}j(Ge,q);function Pe(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function jo(c,y,v,R,K,et){c.info(function(){if(c.g)if(et)for(var yt="",Jt=et.split("&"),He=0;He<Jt.length;He++){var te=Jt[He].split("=");if(1<te.length){var Xe=te[0];te=te[1];var qe=Xe.split("_");yt=2<=qe.length&&qe[1]=="type"?yt+(Xe+"="+te+"&"):yt+(Xe+"=redacted&")}}else yt=null;else yt=et;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+y+`
`+v+`
`+yt})}function Cf(c,y,v,R,K,et,yt){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+y+`
`+v+`
`+et+" "+yt})}function Ni(c,y,v,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+va(c,v)+(R?" "+R:"")})}function ku(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function va(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var K=R[1];if(Array.isArray(K)&&!(1>K.length)){var et=K[0];if(et!="noop"&&et!="stop"&&et!="close")for(var yt=1;yt<K.length;yt++)K[yt]=""}}}}return Ve(v)}catch{return y}}var Di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function vr(){}j(vr,ms),vr.prototype.g=function(){return new XMLHttpRequest},vr.prototype.i=function(){return{}},_r=new vr;function En(c,y,v,R){this.j=c,this.i=y,this.l=v,this.R=R||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var Go={},ys={};function rr(c,y,v){c.L=1,c.v=ba(Nn(y)),c.m=v,c.P=!0,Kr(c,null)}function Kr(c,y){c.F=Date.now(),Ea(c),c.A=Nn(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Yo(v.i,"t",R),c.C=0,v=c.j.J,c.h=new Me,c.g=Xu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Wt(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,R=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(ve[0]=K.toString()),K=ve);for(var et=0;et<K.length;et++){var yt=ge(v,K[et],R||y.handleEvent,!1,y.h||y);if(!yt)break;y.g[yt.key]=yt}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mi(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const y=this.M;y&&$n(c)==3?y.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)t:{const qe=$n(this.g);var y=this.g.Ba();const ei=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||qe!=4||y==7||(y==8||0>=ei?Mi(3):Mi(2)),Oi(this);var v=this.g.Z();this.X=v;e:if(Vu(this)){var R=Gu(this.g);c="";var K=R.length,et=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Er(this);var yt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(et&&y==K-1)});R.length=0,this.h.g+=c,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=v==200,Cf(this.i,this.u,this.A,this.l,this.R,qe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,He=this.g;if((Jt=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Jt)){var te=Jt;break e}}te=null}if(v=te)Ni(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,v);else{this.o=!1,this.s=3,we(12),rn(this),Er(this);break t}}if(this.P){v=!0;let an;for(;!this.J&&this.C<yt.length;)if(an=Pu(this,yt),an==ys){qe==4&&(this.s=4,we(14),v=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Go){this.s=4,we(15),Ni(this.i,this.l,yt,"[Invalid Chunk]"),v=!1;break}else Ni(this.i,this.l,an,null),Ta(this,an);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||yt.length!=0||this.h.h||(this.s=1,we(16),v=!1),this.o=this.o&&v,!v)Ni(this.i,this.l,yt,"[Invalid Chunked Response]"),rn(this),Er(this);else if(0<yt.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),Da(Xe),Xe.M=!0,we(11))}}else Ni(this.i,this.l,yt,null),Ta(this,yt);qe==4&&rn(this),this.o&&!this.J&&(qe==4?Ku(this.j,this):(this.o=!1,Ea(this)))}else Df(this.g),v==400&&0<yt.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),rn(this),Er(this)}}}catch{}finally{}};function Vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,y){var v=c.C,R=y.indexOf(`
`,v);return R==-1?ys:(v=Number(y.substring(v,R)),isNaN(v)?Go:(R+=1,R+v>y.length?ys:(y=y.slice(R,R+v),c.C=R+v,y)))}En.prototype.cancel=function(){this.J=!0,rn(this)};function Ea(c){c.S=Date.now()+c.I,Lu(c,c.I)}function Lu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Pe(S(c.ba,c),y)}function Oi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(Mi(),we(17)),rn(this),this.s=2,Er(this)):Lu(this,this.S-c)};function Er(c){c.j.G==0||c.J||Ku(c.j,c)}function rn(c){Oi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ke(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ta(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ho(v.h,c))){if(!c.K&&Ho(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)xs(v),Cs(v);else break t;Jo(v),we(18)}}else v.za=K[1],0<v.za-v.T&&37500>K[2]&&v.F&&v.v==0&&!v.C&&(v.C=Pe(S(v.Za,v),6e3));if(1>=vs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ti(v,11)}else if((c.K||v.g==c)&&xs(v),!ut(y))for(K=v.Da.g.parse(y),y=0;y<K.length;y++){let te=K[y];if(v.T=te[0],te=te[1],v.G==2)if(te[0]=="c"){v.K=te[1],v.ia=te[2];const Xe=te[3];Xe!=null&&(v.la=Xe,v.j.info("VER="+v.la));const qe=te[4];qe!=null&&(v.Aa=qe,v.j.info("SVER="+v.Aa));const ei=te[5];ei!=null&&typeof ei=="number"&&0<ei&&(R=1.5*ei,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const an=c.g;if(an){const Cr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var et=R.h;et.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Es(et,et.h),et.h=null))}if(R.D){const el=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(R.ya=el,fe(R.I,R.D,el))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var yt=c;if(R.qa=Qu(R,R.J?R.ia:null,R.W),yt.K){Tn(R.h,yt);var Jt=yt,He=R.L;He&&(Jt.I=He),Jt.B&&(Oi(Jt),Ea(Jt)),R.g=yt}else Fu(R);0<v.i.length&&Is(v)}else te[0]!="stop"&&te[0]!="close"||ti(v,7);else v.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?ti(v,7):Zo(v):te[0]!="noop"&&v.l&&v.l.ta(te),v.v=0)}}Mi(4)}catch{}}var Uu=class{constructor(c,y){this.g=c,this.map=y}};function Yr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _s(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vs(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Es(c,y){c.g?c.g.add(y):c.h=y}function Tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yr.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Z(c.i)}function If(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,R=0;R<v;R++)y.push(c[R]);return y}y=[],v=0;for(R in c)y[v++]=c[R];return y}function Ts(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const R in c)y[v++]=R;return y}}}function Fo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ts(c),R=If(c),K=R.length,et=0;et<K;et++)y.call(void 0,R[et],v&&v[et],c)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),K=null;if(0<=R){var et=c[v].substring(0,R);K=c[v].substring(R+1)}else et=c[v];y(et,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Le(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Le){this.h=c.h,Sa(this,c.j),this.o=c.o,this.g=c.g,ki(this,c.s),this.l=c.l;var y=c.i,v=new Xr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Qr(this,v),this.m=c.m}else c&&(y=String(c).match(wa))?(this.h=!1,Sa(this,y[1]||"",!0),this.o=Hn(y[2]||""),this.g=Hn(y[3]||"",!0),ki(this,y[4]),this.l=Hn(y[5]||"",!0),Qr(this,y[6]||"",!0),this.m=Hn(y[7]||"")):(this.h=!1,this.i=new Xr(null,this.h))}Le.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Aa(y,$o,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Aa(y,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Aa(v,v.charAt(0)=="/"?Mf:Ko,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Aa(v,ws)),c.join("")};function Nn(c){return new Le(c)}function Sa(c,y,v){c.j=v?Hn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ki(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Qr(c,y,v){y instanceof Xr?(c.i=y,zu(c.i,c.h)):(v||(y=Aa(y,Nf)),c.i=new Xr(y,c.h))}function fe(c,y,v){c.i.set(y,v)}function ba(c){return fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Aa(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Bu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Ko=/[#\?:]/g,Mf=/[#\?]/g,Nf=/[#\?@]/g,ws=/#/g;function Xr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&xf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Xr.prototype,n.add=function(c,y){qn(this),this.i=null,c=Tr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Zr(c,y){qn(c),y=Tr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Wr(c,y){return qn(c),y=Tr(c,y),c.g.has(y)}n.forEach=function(c,y){qn(this),this.g.forEach(function(v,R){v.forEach(function(K){c.call(y,K,R,this)},this)},this)},n.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let R=0;R<y.length;R++){const K=c[R];for(let et=0;et<K.length;et++)v.push(y[R])}return v},n.V=function(c){qn(this);let y=[];if(typeof c=="string")Wr(this,c)&&(y=y.concat(this.g.get(Tr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},n.set=function(c,y){return qn(this),this.i=null,c=Tr(this,c),Wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yo(c,y,v){Zr(c,y),0<v.length&&(c.i=null,c.g.set(Tr(c,y),Z(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var R=y[v];const et=encodeURIComponent(String(R)),yt=this.V(R);for(R=0;R<yt.length;R++){var K=et;yt[R]!==""&&(K+="="+encodeURIComponent(String(yt[R]))),c.push(K)}}return this.i=c.join("&")};function Tr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zu(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(v,R){var K=R.toLowerCase();R!=K&&(Zr(this,R),Yo(this,K,v))},c)),c.j=y}function Ra(c,y){const v=new Gn;if(d.Image){const R=new Image;R.onload=D(Fn,v,"TestLoadImage: loaded",!0,y,R),R.onerror=D(Fn,v,"TestLoadImage: error",!1,y,R),R.onabort=D(Fn,v,"TestLoadImage: abort",!1,y,R),R.ontimeout=D(Fn,v,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function ir(c,y){const v=new Gn,R=new AbortController,K=setTimeout(()=>{R.abort(),Fn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(et=>{clearTimeout(K),et.ok?Fn(v,"TestPingServer: ok",!0,y):Fn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Fn(v,"TestPingServer: error",!1,y)})}function Fn(c,y,v,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(v)}catch{}}function Ca(){this.g=new Ii}function wr(c,y,v){const R=v||"";try{Fo(c,function(K,et){let yt=K;g(K)&&(yt=Ve(K)),y.push(R+et+"="+encodeURIComponent(yt))})}catch(K){throw y.push(R+"type="+encodeURIComponent("_badmap")),K}}function Vi(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Vi,ms),Vi.prototype.g=function(){return new Jr(this.l,this.j)},Vi.prototype.i=function(c){return function(){return c}}({});function Jr(c,y){$.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Jr,$),n=Jr.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,br(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Sr(this):br(this),this.readyState==3&&Qo(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},n.Qa=function(c){this.g&&(this.response=c,Sr(this))},n.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,br(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return Et(c,function(v,R){y+=R,y+=":",y+=v,y+=`\r
`}),y}function Qe(c,y,v){t:{for(R in v){var R=!1;break t}R=!0}R||(v=Xo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):fe(c,y,v))}function le(c){$.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(le,$);var Ss=/^https?$/i,Ia=["POST","PUT"];n=le.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?gr(this.o):gr(_r),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(et){ju(this,et);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)v.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const et of R.keys())v.set(et,R.get(et));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(et=>et.toLowerCase()=="content-type"),K=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ia,y,void 0))||R||K||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,yt]of v)this.g.setRequestHeader(et,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(c),this.u=!1}catch(et){ju(this,et)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,bs(c),Ar(c)}function bs(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,bt(this,"complete"),bt(this,"abort"),Ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?As(this):this.bb())},n.bb=function(){As(this)};function As(c){if(c.h&&typeof h<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)wt(c.Ea,0,c);else if(bt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const yt=c.Z();t:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var R;if(R=yt===0){var K=String(c.D).match(wa)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),R=!Ss.test(K?K.toLowerCase():"")}v=R}if(v)bt(c,"complete"),bt(c,"success");else{c.m=6;try{var et=2<$n(c)?c.g.statusText:""}catch{et=""}c.l=et+" ["+c.Z()+"]",bs(c)}}finally{Ar(c)}}}}function Ar(c,y){if(c.g){xa(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||bt(c,"ready");try{v.onreadystatechange=R}catch{}}}function xa(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fn(y)}};function Gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const y={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(ut(c[R]))continue;var v=M(c[R]);const K=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const et=y[K]||[];y[K]=et,et.push(v)}O(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Rs(c){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,c),this.cb=Ma("retryDelaySeedMs",1e4,c),this.Wa=Ma("forwardChannelMaxRetries",2,c),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yr(c&&c.concurrentRequestLimit),this.Da=new Ca,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Rs.prototype,n.la=8,n.G=1,n.connect=function(c,y,v,R){we(0),this.W=c,this.H=y||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=Qu(this,null,this.W),Is(this)};function Zo(c){if(Hu(c),c.G==3){var y=c.U++,v=Nn(c.I);if(fe(v,"SID",c.K),fe(v,"RID",y),fe(v,"TYPE","terminate"),Na(c,v),y=new En(c,c.j,y),y.L=2,y.v=ba(Nn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ea(y)}Yu(c)}function Cs(c){c.g&&(Da(c),c.g.cancel(),c.g=null)}function Hu(c){Cs(c),c.u&&(d.clearTimeout(c.u),c.u=null),xs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Is(c){if(!_s(c.h)&&!c.s){c.s=!0;var y=c.Ga;L||w(),U||(L(),U=!0),z.add(y,c),c.B=0}}function Of(c,y){return vs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Pe(S(c.Ga,c,y),tl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new En(this,this.j,c);let et=this.o;if(this.S&&(et?(et=C(et),V(et,this.S)):et=this.S),this.m!==null||this.O||(K.H=et,et=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=qu(this,K,y),v=Nn(this.I),fe(v,"RID",c),fe(v,"CVER",22),this.D&&fe(v,"X-HTTP-Session-Id",this.D),Na(this,v),et&&(this.O?y="headers="+encodeURIComponent(String(Xo(et)))+"&"+y:this.m&&Qe(v,this.m,et)),Es(this.h,K),this.Ua&&fe(v,"TYPE","init"),this.P?(fe(v,"$req",y),fe(v,"SID","null"),K.T=!0,rr(K,v,null)):rr(K,v,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||_s(this.h)||Wo(this))};function Wo(c,y){var v;y?v=y.l:v=c.U++;const R=Nn(c.I);fe(R,"SID",c.K),fe(R,"RID",v),fe(R,"AID",c.T),Na(c,R),c.m&&c.o&&Qe(R,c.m,c.o),v=new En(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Es(c.h,v),rr(v,R,y)}function Na(c,y){c.H&&Et(c.H,function(v,R){fe(y,R,v)}),c.l&&Fo({},function(v,R){fe(y,R,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);var R=c.l?S(c.l.Na,c.l,c):null;t:{var K=c.i;let et=-1;for(;;){const yt=["count="+v];et==-1?0<v?(et=K[0].g,yt.push("ofs="+et)):et=0:yt.push("ofs="+et);let Jt=!0;for(let He=0;He<v;He++){let te=K[He].g;const Xe=K[He].map;if(te-=et,0>te)et=Math.max(0,K[He].g-100),Jt=!1;else try{wr(Xe,yt,"req"+te+"_")}catch{R&&R(Xe)}}if(Jt){R=yt.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,R}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;L||w(),U||(L(),U=!0),z.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Pe(S(c.Fa,c),tl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Pe(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),Cs(this),$u(this))};function Da(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Nn(c.qa);fe(y,"RID","rpc"),fe(y,"SID",c.K),fe(y,"AID",c.T),fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&fe(y,"TO",c.ja),fe(y,"TYPE","xmlhttp"),Na(c,y),c.m&&c.o&&Qe(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ba(Nn(y)),v.m=null,v.P=!0,Kr(v,c)}n.Za=function(){this.C!=null&&(this.C=null,Cs(this),Jo(this),we(19))};function xs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ku(c,y){var v=null;if(c.g==y){xs(c),Da(c),c.g=null;var R=2}else if(Ho(c.h,y))v=y.D,Tn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var K=c.B;R=xi(),bt(R,new Ge(R,v)),Is(c)}else Fu(c);else if(K=y.s,K==3||K==0&&0<y.X||!(R==1&&Of(c,y)||R==2&&Jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),K){case 1:ti(c,5);break;case 4:ti(c,10);break;case 3:ti(c,6);break;default:ti(c,2)}}}function tl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function ti(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),R=c.Xa;const K=!R;R=new Le(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Sa(R,"https"),ba(R),K?Ra(R.toString(),v):ir(R.toString(),v)}else we(2);c.G=0,c.l&&c.l.sa(y),Yu(c),Hu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ka,y),Q(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Qu(c,y,v){var R=v instanceof Le?Nn(v):new Le(v);if(R.g!="")y&&(R.g=y+"."+R.g),ki(R,R.s);else{var K=d.location;R=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var et=new Le(null);R&&Sa(et,R),y&&(et.g=y),K&&ki(et,K),v&&(et.l=v),R=et}return v=c.D,y=c.ya,v&&y&&fe(R,v,y),fe(R,"VER",c.la),Na(c,R),R}function Xu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new le(new Vi({eb:v})):new le(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}n=Zu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ms(){}Ms.prototype.g=function(c,y){return new wn(c,y)};function wn(c,y){$.call(this),this.g=new Rs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ut(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ut(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Rr(this)}j(wn,$),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Zo(this.g)},wn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ve(c),c=v);y.i.push(new Uu(y.Ya++,c)),y.G==3&&Is(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,wn.aa.N.call(this)};function Wu(c){Fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(Wu,Fr);function Ju(){Bo.call(this),this.status=1}j(Ju,Bo);function Rr(c){this.g=c}j(Rr,Zu),Rr.prototype.ua=function(){bt(this.g,"a")},Rr.prototype.ta=function(c){bt(this.g,new Wu(c))},Rr.prototype.sa=function(c){bt(this.g,new Ju)},Rr.prototype.ra=function(){bt(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,bT=function(){return new Ms},ST=function(){return xi()},wT=yr,um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,mh=Di,$r.COMPLETE="complete",TT=$r,Uo.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",$.prototype.listen=$.prototype.K,$l=Uo,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha,ET=le}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",Kv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Hm("@firebase/firestore");function so(){return os.logLevel}function Tt(n,...t){if(os.logLevel<=Yt.DEBUG){const e=t.map(ng);os.debug(`Firestore (${Oo}): ${n}`,...e)}}function bi(n,...t){if(os.logLevel<=Yt.ERROR){const e=t.map(ng);os.error(`Firestore (${Oo}): ${n}`,...e)}}function To(n,...t){if(os.logLevel<=Yt.WARN){const e=t.map(ng);os.warn(`Firestore (${Oo}): ${n}`,...e)}}function ng(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n,t,e){let a="Unexpected state";typeof t=="string"?a=t:e=t,AT(n,a,e)}function AT(n,t,e){let a=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{a+=" CONTEXT: "+JSON.stringify(e)}catch{a+=" CONTEXT: "+e}throw bi(a),new Error(a)}function ue(n,t,e,a){let o="Unexpected state";typeof e=="string"?o=e:a=e,n||AT(t,o,a)}function Bt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Ci{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(gn.UNAUTHENTICATED))}shutdown(){}}class gI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class yI{constructor(t){this.t=t,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ue(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,e(m)):Promise.resolve();let u=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fa,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fa)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ue(typeof a.accessToken=="string",31837,{l:a}),new RT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string",2055,{h:t}),new gn(t)}}class _I{constructor(t,e,a){this.P=t,this.T=e,this.I=a,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vI{constructor(t,e,a){this.P=t,this.T=e,this.I=a}getToken(){return Promise.resolve(new _I(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ue(this.o===void 0,3512);const a=u=>{u.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Tt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ue(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Yv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<n;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=TI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<e&&(a+=t.charAt(o[u]%62))}return a}}function Qt(n,t){return n<t?-1:n>t?1:0}function cm(n,t){const e=Math.min(n.length,t.length);for(let a=0;a<e;a++){const o=n.charAt(a),u=t.charAt(a);if(o!==u)return Lp(o)===Lp(u)?Qt(o,u):Lp(o)?1:-1}return Qt(n.length,t.length)}const wI=55296,SI=57343;function Lp(n){const t=n.charCodeAt(0);return t>=wI&&t<=SI}function wo(n,t,e){return n.length===t.length&&n.every((a,o)=>e(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="__name__";class Or{constructor(t,e,a){e===void 0?e=0:e>t.length&&Nt(637,{offset:e,range:t.length}),a===void 0?a=t.length-e:a>t.length-e&&Nt(1746,{length:a,range:t.length-e}),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return Or.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Or?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let o=0;o<a;o++){const u=Or.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Qt(t.length,e.length)}static compareSegments(t,e){const a=Or.isNumericId(t),o=Or.isNumericId(e);return a&&!o?-1:!a&&o?1:a&&o?Or.extractNumericId(t).compare(Or.extractNumericId(e)):cm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ha.fromString(t.substring(4,t.length-2))}}class Ae extends Or{construct(t,e,a){return new Ae(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(o=>o.length>0))}return new Ae(e)}static emptyPath(){return new Ae([])}}const bI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Or{construct(t,e,a){return new cn(t,e,a)}static isValidIdentifier(t){return bI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new cn([Qv])}static fromServerFormat(t){const e=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new Ct(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ct(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new Ct(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(e)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.path=t}static fromPath(t){return new It(Ae.fromString(t))}static fromName(t){return new It(Ae.fromString(t).popFirst(5))}static empty(){return new It(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new Ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n,t,e){if(!e)throw new Ct(ht.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function RI(n,t,e,a){if(t===!0&&a===!0)throw new Ct(ht.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Xv(n){if(!It.isDocumentKey(n))throw new Ct(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ig(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Nt(12329,{type:typeof n})}function uu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ig(n);throw new Ct(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ru(n,t){if(!CT(n))throw new Ct(ht.INVALID_ARGUMENT,"JSON must be an object");let e;for(const a in t)if(t[a]){const o=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in n)){e=`JSON missing required field: '${a}'`;break}const h=n[a];if(o&&typeof h!==o){e=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){e=`Expected '${a}' field to equal '${u.value}'`;break}}if(e)throw new Ct(ht.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Wv=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(t){return Te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*Wv);return new Te(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Zv)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ru(t,Te._jsonSchema))return new Te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:je("string",Te._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new Te(0,0))}static max(){return new Pt(new Te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function CI(n,t){const e=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=Pt.fromTimestamp(a===1e9?new Te(e+1,0):new Te(e,a));return new da(o,It.empty(),t)}function II(n){return new da(n.readTime,n.key,cu)}class da{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new da(Pt.min(),It.empty(),cu)}static max(){return new da(Pt.max(),It.empty(),cu)}}function xI(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=It.comparator(n.documentKey,t.documentKey),e!==0?e:Qt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(n){if(n.code!==ht.FAILED_PRECONDITION||n.message!==MI)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(a,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.reject(e)}static resolve(t){return new lt((e,a)=>{e(t)})}static reject(t){return new lt((e,a)=>{a(t)})}static waitFor(t){return new lt((e,a)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&e()},m=>a(m))}),h=!0,u===o&&e()})}static or(t){let e=lt.resolve(!1);for(const a of t)e=e.next(o=>o?lt.resolve(o):a());return e}static forEach(t,e){const a=[];return t.forEach((o,u)=>{a.push(e.call(this,o,u))}),this.waitFor(a)}static mapArray(t,e){return new lt((a,o)=>{const u=t.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next(_=>{h[g]=_,++d,d===u&&a(h)},_=>o(_))}})}static doWhile(t,e){return new lt((a,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):a()};u()})}}function DI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Vo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>e.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=-1;function ff(n){return n==null}function kh(n){return n===0&&1/n==-1/0}function OI(n){return typeof n=="number"&&Number.isInteger(n)&&!kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="";function kI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Jv(t)),t=VI(n.get(e),t);return Jv(t)}function VI(n,t){let e=t;const a=n.length;for(let o=0;o<a;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case IT:e+="";break;default:e+=u}}return e}function Jv(n){return n+IT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function hs(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function xT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,e){this.comparator=t,this.root=e||un.EMPTY}insert(t,e){return new Re(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return e+a.left.size;o<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nh(this.root,t,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nh(this.root,t,this.comparator,!0)}}class nh{constructor(t,e,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?a(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,e,a,o,u){this.key=t,this.value=e,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,o,u){return new un(t??this.key,e??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,a),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,e,a,o,u){return this}insert(t,e,a){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new e1(this.data.getIterator())}getIteratorFrom(t){return new e1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ye(this.comparator);return e.data=t,e}}class e1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new dr([])}unionWith(t){let e=new Ye(cn.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new dr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wo(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new MT("Invalid base64 string: "+u):u}}(t);return new hn(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new hn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let o=0;o<e.length;o++)a[o]=e.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const PI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(n){if(ue(!!n,39018),typeof n=="string"){let t=0;const e=PI.exec(n);if(ue(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ma(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="server_timestamp",DT="__type__",OT="__previous_value__",kT="__local_write_time__";function sg(n){var e,a;return((a=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[DT])==null?void 0:a.stringValue)===NT}function df(n){const t=n.mapValue.fields[OT];return sg(t)?df(t):t}function hu(n){const t=pa(n.mapValue.fields[kT].timestampValue);return new Te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,e,a,o,u,h,d,m,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const Vh="(default)";class fu{constructor(t,e){this.projectId=t,this.database=e||Vh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(t){return t instanceof fu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="__type__",UI="__max__",rh={mapValue:{}},PT="__vector__",Ph="value";function ga(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sg(n)?4:zI(n)?9007199254740991:BI(n)?10:11:Nt(28295,{value:n})}function jr(n,t){if(n===t)return!0;const e=ga(n);if(e!==ga(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return hu(n).isEqual(hu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=pa(o.timestampValue),d=pa(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return ma(o.bytesValue).isEqual(ma(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return Oe(o.geoPointValue.latitude)===Oe(u.geoPointValue.latitude)&&Oe(o.geoPointValue.longitude)===Oe(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Oe(o.integerValue)===Oe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Oe(o.doubleValue),d=Oe(u.doubleValue);return h===d?kh(h)===kh(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return wo(n.arrayValue.values||[],t.arrayValue.values||[],jr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(t1(h)!==t1(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!jr(h[m],d[m])))return!1;return!0}(n,t);default:return Nt(52216,{left:n})}}function du(n,t){return(n.values||[]).find(e=>jr(e,t))!==void 0}function So(n,t){if(n===t)return 0;const e=ga(n),a=ga(t);if(e!==a)return Qt(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=Oe(u.integerValue||u.doubleValue),m=Oe(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return n1(n.timestampValue,t.timestampValue);case 4:return n1(hu(n),hu(t));case 5:return cm(n.stringValue,t.stringValue);case 6:return function(u,h){const d=ma(u),m=ma(h);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Qt(d[g],m[g]);if(_!==0)return _}return Qt(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Qt(Oe(u.latitude),Oe(h.latitude));return d!==0?d:Qt(Oe(u.longitude),Oe(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return r1(n.arrayValue,t.arrayValue);case 10:return function(u,h){var S,D,j,Z;const d=u.fields||{},m=h.fields||{},g=(S=d[Ph])==null?void 0:S.arrayValue,_=(D=m[Ph])==null?void 0:D.arrayValue,T=Qt(((j=g==null?void 0:g.values)==null?void 0:j.length)||0,((Z=_==null?void 0:_.values)==null?void 0:Z.length)||0);return T!==0?T:r1(g,_)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const S=cm(m[T],_[T]);if(S!==0)return S;const D=So(d[m[T]],g[_[T]]);if(D!==0)return D}return Qt(m.length,_.length)}(n.mapValue,t.mapValue);default:throw Nt(23264,{he:e})}}function n1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Qt(n,t);const e=pa(n),a=pa(t),o=Qt(e.seconds,a.seconds);return o!==0?o:Qt(e.nanos,a.nanos)}function r1(n,t){const e=n.values||[],a=t.values||[];for(let o=0;o<e.length&&o<a.length;++o){const u=So(e[o],a[o]);if(u)return u}return Qt(e.length,a.length)}function bo(n){return hm(n)}function hm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const a=pa(e);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ma(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return It.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let a="[",o=!0;for(const u of e.values||[])o?o=!1:a+=",",a+=hm(u);return a+"]"}(n.arrayValue):"mapValue"in n?function(e){const a=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${hm(e.fields[h])}`;return o+"}"}(n.mapValue):Nt(61005,{value:n})}function gh(n){switch(ga(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=df(n);return t?16+gh(t):16;case 5:return 2*n.stringValue.length;case 6:return ma(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+gh(u),0)}(n.arrayValue);case 10:case 11:return function(a){let o=0;return hs(a.fields,(u,h)=>{o+=u.length+gh(h)}),o}(n.mapValue);default:throw Nt(13486,{value:n})}}function fm(n){return!!n&&"integerValue"in n}function og(n){return!!n&&"arrayValue"in n}function i1(n){return!!n&&"nullValue"in n}function a1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yh(n){return!!n&&"mapValue"in n}function BI(n){var e,a;return((a=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[VT])==null?void 0:a.stringValue)===PT}function nu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return hs(n.mapValue.fields,(e,a)=>t.mapValue.fields[e]=nu(a)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nu(n.arrayValue.values[e]);return t}return{...n}}function zI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.value=t}static empty(){return new tr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!yh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(e)}setAll(t){let e=cn.emptyPath(),a={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,a,o),a={},o=[],e=d.popLast()}h?a[d.lastSegment()]=nu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,a,o)}delete(t){const e=this.field(t.popLast());yh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return jr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=e.mapValue.fields[t.get(a)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,a){hs(e,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new tr(nu(this.value))}}function LT(n){const t=[];return hs(n.fields,(e,a)=>{const o=new cn([e]);if(yh(a)){const u=LT(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new dr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,e,a,o,u,h,d){this.key=t,this.documentType=e,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new yn(t,0,Pt.min(),Pt.min(),Pt.min(),tr.empty(),0)}static newFoundDocument(t,e,a,o){return new yn(t,1,e,Pt.min(),a,o,0)}static newNoDocument(t,e){return new yn(t,2,e,Pt.min(),Pt.min(),tr.empty(),0)}static newUnknownDocument(t,e){return new yn(t,3,e,Pt.min(),Pt.min(),tr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e){this.position=t,this.inclusive=e}}function s1(n,t,e){let a=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?a=It.comparator(It.fromName(h.referenceValue),e.key):a=So(h,e.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function o1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!jr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e="asc"){this.field=t,this.dir=e}}function jI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class Ke extends UT{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new HI(t,e,a):e==="array-contains"?new $I(t,a):e==="in"?new KI(t,a):e==="not-in"?new YI(t,a):e==="array-contains-any"?new QI(t,a):new Ke(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new qI(t,a):new FI(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(So(e,this.value)):e!==null&&ga(this.value)===ga(e)&&this.matchesComparison(So(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends UT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Gr(t,e)}matches(t){return BT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BT(n){return n.op==="and"}function zT(n){return GI(n)&&BT(n)}function GI(n){for(const t of n.filters)if(t instanceof Gr)return!1;return!0}function dm(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+bo(n.value);if(zT(n))return n.filters.map(t=>dm(t)).join(",");{const t=n.filters.map(e=>dm(e)).join(",");return`${n.op}(${t})`}}function jT(n,t){return n instanceof Ke?function(a,o){return o instanceof Ke&&a.op===o.op&&a.field.isEqual(o.field)&&jr(a.value,o.value)}(n,t):n instanceof Gr?function(a,o){return o instanceof Gr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&jT(h,o.filters[d]),!0):!1}(n,t):void Nt(19439)}function GT(n){return n instanceof Ke?function(e){return`${e.field.canonicalString()} ${e.op} ${bo(e.value)}`}(n):n instanceof Gr?function(e){return e.op.toString()+" {"+e.getFilters().map(GT).join(" ,")+"}"}(n):"Filter"}class HI extends Ke{constructor(t,e,a){super(t,e,a),this.key=It.fromName(a.referenceValue)}matches(t){const e=It.comparator(t.key,this.key);return this.matchesComparison(e)}}class qI extends Ke{constructor(t,e){super(t,"in",e),this.keys=HT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class FI extends Ke{constructor(t,e){super(t,"not-in",e),this.keys=HT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function HT(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map(a=>It.fromName(a.referenceValue))}class $I extends Ke{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return og(e)&&du(e.arrayValue,this.value)}}class KI extends Ke{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&du(this.value.arrayValue,e)}}class YI extends Ke{constructor(t,e){super(t,"not-in",e)}matches(t){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!du(this.value.arrayValue,e)}}class QI extends Ke{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!og(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>du(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,e=null,a=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function l1(n,t=null,e=[],a=[],o=null,u=null,h=null){return new XI(n,t,e,a,o,u,h)}function lg(n){const t=Bt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>dm(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),ff(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>bo(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>bo(a)).join(",")),t.Te=e}return t.Te}function ug(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!jI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!jT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!o1(n.startAt,t.startAt)&&o1(n.endAt,t.endAt)}function pm(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,e=null,a=[],o=[],u=null,h="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZI(n,t,e,a,o,u,h,d){return new pf(n,t,e,a,o,u,h,d)}function cg(n){return new pf(n)}function u1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WI(n){return n.collectionGroup!==null}function ru(n){const t=Bt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ye(cn.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Uh(u,a))}),e.has(cn.keyField().canonicalString())||t.Ie.push(new Uh(cn.keyField(),a))}return t.Ie}function Vr(n){const t=Bt(n);return t.Ee||(t.Ee=JI(t,ru(n))),t.Ee}function JI(n,t){if(n.limitType==="F")return l1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Uh(o.field,u)});const e=n.endAt?new Lh(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new Lh(n.startAt.position,n.startAt.inclusive):null;return l1(n.path,n.collectionGroup,t,n.filters,n.limit,e,a)}}function mm(n,t,e){return new pf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function mf(n,t){return ug(Vr(n),Vr(t))&&n.limitType===t.limitType}function qT(n){return`${lg(Vr(n))}|lt:${n.limitType}`}function oo(n){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(o=>GT(o)).join(", ")}]`),ff(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(o=>bo(o)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(o=>bo(o)).join(",")),`Target(${a})`}(Vr(n))}; limitType=${n.limitType})`}function gf(n,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):It.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(n,t)&&function(a,o){for(const u of ru(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(a,o){return!(a.startAt&&!function(h,d,m){const g=s1(h,d,m);return h.inclusive?g<=0:g<0}(a.startAt,ru(a),o)||a.endAt&&!function(h,d,m){const g=s1(h,d,m);return h.inclusive?g>=0:g>0}(a.endAt,ru(a),o))}(n,t)}function tx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FT(n){return(t,e)=>{let a=!1;for(const o of ru(n)){const u=ex(o,t,e);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function ex(n,t,e){const a=n.field.isKeyField()?It.comparator(t.key,e.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?So(m,g):Nt(42886)}(n.field,t,e);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Nt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[e]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){hs(this.inner,(e,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return xT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Re(It.comparator);function Ai(){return nx}const $T=new Re(It.comparator);function Kl(...n){let t=$T;for(const e of n)t=t.insert(e.key,e);return t}function KT(n){let t=$T;return n.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function Wa(){return iu()}function YT(){return iu()}function iu(){return new fs(n=>n.toString(),(n,t)=>n.isEqual(t))}const rx=new Re(It.comparator),ix=new Ye(It.comparator);function Xt(...n){let t=ix;for(const e of n)t=t.add(e);return t}const ax=new Ye(Qt);function sx(){return ax}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(t)?"-0":t}}function QT(n){return{integerValue:""+n}}function ox(n,t){return OI(t)?QT(t):hg(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function lx(n,t,e){return n instanceof Bh?function(o,u){const h={fields:{[DT]:{stringValue:NT},[kT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sg(u)&&(u=df(u)),u&&(h.fields[OT]=u),{mapValue:h}}(e,t):n instanceof pu?ZT(n,t):n instanceof mu?WT(n,t):function(o,u){const h=XT(o,u),d=c1(h)+c1(o.Ae);return fm(h)&&fm(o.Ae)?QT(d):hg(o.serializer,d)}(n,t)}function ux(n,t,e){return n instanceof pu?ZT(n,t):n instanceof mu?WT(n,t):e}function XT(n,t){return n instanceof zh?function(a){return fm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Bh extends yf{}class pu extends yf{constructor(t){super(),this.elements=t}}function ZT(n,t){const e=JT(t);for(const a of n.elements)e.some(o=>jr(o,a))||e.push(a);return{arrayValue:{values:e}}}class mu extends yf{constructor(t){super(),this.elements=t}}function WT(n,t){let e=JT(t);for(const a of n.elements)e=e.filter(o=>!jr(o,a));return{arrayValue:{values:e}}}class zh extends yf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function c1(n){return Oe(n.integerValue||n.doubleValue)}function JT(n){return og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cx(n,t){return n.field.isEqual(t.field)&&function(a,o){return a instanceof pu&&o instanceof pu||a instanceof mu&&o instanceof mu?wo(a.elements,o.elements,jr):a instanceof zh&&o instanceof zh?jr(a.Ae,o.Ae):a instanceof Bh&&o instanceof Bh}(n.transform,t.transform)}class hx{constructor(t,e){this.version=t,this.transformResults=e}}class Ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _h(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class _f{}function tw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new nw(n.key,Ei.none()):new Cu(n.key,n.data,Ei.none());{const e=n.data,a=tr.empty();let o=new Ye(cn.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new ds(n.key,a,new dr(o.toArray()),Ei.none())}}function fx(n,t,e){n instanceof Cu?function(o,u,h){const d=o.value.clone(),m=f1(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,e):n instanceof ds?function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=f1(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(ew(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function au(n,t,e,a){return n instanceof Cu?function(u,h,d,m){if(!_h(u.precondition,h))return d;const g=u.value.clone(),_=d1(u.fieldTransforms,m,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,e,a):n instanceof ds?function(u,h,d,m){if(!_h(u.precondition,h))return d;const g=d1(u.fieldTransforms,m,h),_=h.data;return _.setAll(ew(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(n,t,e,a):function(u,h,d){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,e)}function dx(n,t){let e=null;for(const a of n.fieldTransforms){const o=t.data.field(a.field),u=XT(a.transform,o||null);u!=null&&(e===null&&(e=tr.empty()),e.set(a.field,u))}return e||null}function h1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&wo(a,o,(u,h)=>cx(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Cu extends _f{constructor(t,e,a,o=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends _f{constructor(t,e,a,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ew(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=n.data.field(e);t.set(e,a)}}),t}function f1(n,t,e){const a=new Map;ue(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);a.set(u.field,ux(h,d,e[o]))}return a}function d1(n,t,e){const a=new Map;for(const o of n){const u=o.transform,h=e.data.field(o.field);a.set(o.field,lx(u,h,t))}return a}class nw extends _f{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class px extends _f{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,e,a,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&fx(u,t,a[o])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=au(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=au(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=YT();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=e.has(o.key)?null:d;const m=tw(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Pt.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Xt())}isEqual(t){return this.batchId===t.batchId&&wo(this.mutations,t.mutations,(e,a)=>h1(e,a))&&wo(this.baseMutations,t.baseMutations,(e,a)=>h1(e,a))}}class fg{constructor(t,e,a,o){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=o}static from(t,e,a){ue(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=function(){return rx}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new fg(t,e,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ne;function _x(n){switch(n){case ht.OK:return Nt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Nt(15467,{code:n})}}function rw(n){if(n===void 0)return bi("GRPC error has no .code"),ht.UNKNOWN;switch(n){case ze.OK:return ht.OK;case ze.CANCELLED:return ht.CANCELLED;case ze.UNKNOWN:return ht.UNKNOWN;case ze.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case ze.INTERNAL:return ht.INTERNAL;case ze.UNAVAILABLE:return ht.UNAVAILABLE;case ze.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case ze.NOT_FOUND:return ht.NOT_FOUND;case ze.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case ze.ABORTED:return ht.ABORTED;case ze.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case ze.DATA_LOSS:return ht.DATA_LOSS;default:return Nt(39323,{code:n})}}(ne=ze||(ze={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new ha([4294967295,4294967295],0);function p1(n){const t=vx().encode(n),e=new vT;return e.update(t),new Uint8Array(e.digest())}function m1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ha([e,a],0),new ha([o,u],0)]}class dg{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new Yl(`Invalid padding: ${e}`);if(a<0)throw new Yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ha.fromNumber(this.ge)}ye(t,e,a){let o=t.add(e.multiply(ha.fromNumber(a)));return o.compare(Ex)===1&&(o=new ha([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=p1(t),[a,o]=m1(e);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(t,e,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new dg(u,o,e);return a.forEach(d=>h.insert(d)),h}insert(t){if(this.ge===0)return;const e=p1(t),[a,o]=m1(e);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.Se(h)}}Se(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e,a,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const o=new Map;return o.set(t,Iu.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new vf(Pt.min(),o,new Re(Qt),Ai(),Xt())}}class Iu{constructor(t,e,a,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new Iu(a,e,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,e,a,o){this.be=t,this.removedTargetIds=e,this.key=a,this.De=o}}class iw{constructor(t,e){this.targetId=t,this.Ce=e}}class aw{constructor(t,e,a=hn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=o}}class g1{constructor(){this.ve=0,this.Fe=y1(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Xt(),e=Xt(),a=Xt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:a=a.add(o);break;default:Nt(38017,{changeType:u})}}),new Iu(this.Me,this.xe,t,e,a)}qe(){this.Oe=!1,this.Fe=y1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Tx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ai(),this.Je=ih(),this.He=ih(),this.Ye=new Re(Qt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const a=this.nt(e);switch(t.state){case 0:this.rt(e)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),a.Le(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((a,o)=>{this.rt(o)&&e(o)})}st(t){const e=t.targetId,a=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(pm(u))if(a===0){const h=new It(u.path);this.et(e,h,yn.newNoDocument(h,Pt.min()))}else ue(a===1,20013,{expectedCount:a});else{const h=this._t(e);if(h!==a){const d=this.ut(t),m=d?this.ct(d,t,h):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=e;let h,d;try{h=ma(a).toUint8Array()}catch(m){if(m instanceof MT)return To("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new dg(h,o,u)}catch(m){return To(m instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,a){return e.Ce.count===a-this.Pt(t,e.targetId)?0:2}Pt(t,e){const a=this.Ge.getRemoteKeysForTarget(e);let o=0;return a.forEach(u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)}),o}Tt(t){const e=new Map;this.ze.forEach((u,h)=>{const d=this.ot(h);if(d){if(u.current&&pm(d.target)){const m=new It(d.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,yn.newNoDocument(m,t))}u.Be&&(e.set(h,u.ke()),u.qe())}});let a=Xt();this.He.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.je.forEach((u,h)=>h.setReadTime(t));const o=new vf(t,e,this.Ye,this.je,a);return this.je=Ai(),this.Je=ih(),this.He=ih(),this.Ye=new Re(Qt),o}Xe(t,e){if(!this.rt(t))return;const a=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,a),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),a&&(this.je=this.je.insert(e,a))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new g1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ye(Qt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ye(Qt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Tt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new g1),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ih(){return new Re(It.comparator)}function y1(){return new Re(It.comparator)}const wx={asc:"ASCENDING",desc:"DESCENDING"},Sx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bx={and:"AND",or:"OR"};class Ax{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function gm(n,t){return n.useProto3Json||ff(t)?t:{value:t}}function jh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Rx(n,t){return jh(n,t.toTimestamp())}function Pr(n){return ue(!!n,49232),Pt.fromTimestamp(function(e){const a=pa(e);return new Te(a.seconds,a.nanos)}(n))}function pg(n,t){return ym(n,t).canonicalString()}function ym(n,t){const e=function(o){return new Ae(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?e:e.child(t)}function ow(n){const t=Ae.fromString(n);return ue(fw(t),10190,{key:t.toString()}),t}function _m(n,t){return pg(n.databaseId,t.path)}function Up(n,t){const e=ow(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new It(uw(e))}function lw(n,t){return pg(n.databaseId,t)}function Cx(n){const t=ow(n);return t.length===4?Ae.emptyPath():uw(t)}function vm(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uw(n){return ue(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _1(n,t,e){return{name:_m(n,t),fields:e.value.mapValue.fields}}function Ix(n,t){let e;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Nt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(ue(_===void 0||typeof _=="string",58123),hn.fromBase64String(_||"")):(ue(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),hn.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ht.UNKNOWN:rw(g.code);return new Ct(_,g.message||"")}(h);e=new aw(a,o,u,d||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Up(n,a.document.name),u=Pr(a.document.updateTime),h=a.document.createTime?Pr(a.document.createTime):Pt.min(),d=new tr({mapValue:{fields:a.document.fields}}),m=yn.newFoundDocument(o,u,h,d),g=a.targetIds||[],_=a.removedTargetIds||[];e=new vh(g,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Up(n,a.document),u=a.readTime?Pr(a.readTime):Pt.min(),h=yn.newNoDocument(o,u),d=a.removedTargetIds||[];e=new vh([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Up(n,a.document),u=a.removedTargetIds||[];e=new vh([],u,o,null)}else{if(!("filter"in t))return Nt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new yx(o,u),d=a.targetId;e=new iw(d,h)}}return e}function xx(n,t){let e;if(t instanceof Cu)e={update:_1(n,t.key,t.value)};else if(t instanceof nw)e={delete:_m(n,t.key)};else if(t instanceof ds)e={update:_1(n,t.key,t.data),updateMask:Ux(t.fieldMask)};else{if(!(t instanceof px))return Nt(16599,{Vt:t.type});e={verify:_m(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof Bh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof mu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zh)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Nt(20930,{transform:h.transform})}(0,a))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Rx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Nt(27497)}(n,t.precondition)),e}function Mx(n,t){return n&&n.length>0?(ue(t!==void 0,14353),n.map(e=>function(o,u){let h=o.updateTime?Pr(o.updateTime):Pr(u);return h.isEqual(Pt.min())&&(h=Pr(u)),new hx(h,o.transformResults||[])}(e,t))):[]}function Nx(n,t){return{documents:[lw(n,t.path)]}}function Dx(n,t){const e={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=lw(n,o);const u=function(g){if(g.length!==0)return hw(Gr.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:lo(S.field),direction:Vx(S.dir)}}(_))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=gm(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:e,parent:o}}function Ox(n){let t=Cx(n.parent);const e=n.structuredQuery,a=e.from?e.from.length:0;let o=null;if(a>0){ue(a===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=function(T){const S=cw(T);return S instanceof Gr&&zT(S)?S.getFilters():[S]}(e.where));let h=[];e.orderBy&&(h=function(T){return T.map(S=>function(j){return new Uh(uo(j.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(S))}(e.orderBy));let d=null;e.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,ff(S)?null:S}(e.limit));let m=null;e.startAt&&(m=function(T){const S=!!T.before,D=T.values||[];return new Lh(D,S)}(e.startAt));let g=null;return e.endAt&&(g=function(T){const S=!T.before,D=T.values||[];return new Lh(D,S)}(e.endAt)),ZI(t,o,h,u,d,"F",m,g)}function kx(n,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function cw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=uo(e.unaryFilter.field);return Ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(e.unaryFilter.field);return Ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(e.unaryFilter.field);return Ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=uo(e.unaryFilter.field);return Ke.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ke.create(uo(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Gr.create(e.compositeFilter.filters.map(a=>cw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(e.compositeFilter.op))}(n):Nt(30097,{filter:n})}function Vx(n){return wx[n]}function Px(n){return Sx[n]}function Lx(n){return bx[n]}function lo(n){return{fieldPath:n.canonicalString()}}function uo(n){return cn.fromServerFormat(n.fieldPath)}function hw(n){return n instanceof Ke?function(e){if(e.op==="=="){if(a1(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NAN"}};if(i1(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(a1(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NOT_NAN"}};if(i1(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(e.field),op:Px(e.op),value:e.value}}}(n):n instanceof Gr?function(e){const a=e.getFilters().map(o=>hw(o));return a.length===1?a[0]:{compositeFilter:{op:Lx(e.op),filters:a}}}(n):Nt(54877,{filter:n})}function Ux(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function fw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,e,a,o,u=Pt.min(),h=Pt.min(),d=hn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new oa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.yt=t}}function zx(n){const t=Ox({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.Cn=new Gx}addToCollectionParentIndex(t,e){return this.Cn.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(da.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(da.min())}updateCollectionGroup(t,e,a){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class Gx{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e]||new Ye(Ae.comparator),u=!o.has(a);return this.index[e]=o.add(a),u}has(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ye(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dw=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(dw,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="LruGarbageCollector",Hx=1048576;function T1([n,t],[e,a]){const o=Qt(n,e);return o===0?Qt(t,a):o}class qx{constructor(t){this.Ir=t,this.buffer=new Ye(T1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();T1(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Fx{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Tt(E1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vo(e)?Tt(E1,"Ignoring IndexedDB error during garbage collection: ",e):await ko(e)}await this.Vr(3e5)})}}class $x{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return lt.resolve(hf.ce);const a=new qx(e);return this.mr.forEachTarget(t,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.mr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(v1)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let a,o,u,h,d,m,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o))).next(T=>(a=T,d=Date.now(),this.removeTargets(t,a,e))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,a))).next(T=>(g=Date.now(),so()<=Yt.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function Kx(n,t){return new $x(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.changes=new fs(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?lt.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,e,a,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(a!==null&&au(a.mutation,o,dr.empty(),Te.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,Xt()).next(()=>a))}getLocalViewOfDocuments(t,e,a=Xt()){const o=Wa();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,a).next(u=>{let h=Kl();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const a=Wa();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,Xt()))}populateOverlays(t,e,a){const o=[];return a.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,a,o){let u=Ai();const h=iu(),d=function(){return iu()}();return e.forEach((m,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ds)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),au(_.mutation,g,_.mutation.getFieldMask(),Te.now())):h.set(g.key,dr.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,_)=>h.set(g,_)),e.forEach((g,_)=>d.set(g,new Qx(_,h.get(g)??null))),d))}recalculateAndSaveOverlays(t,e){const a=iu();let o=new Re((h,d)=>h-d),u=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let _=a.get(m)||dr.empty();_=d.applyToLocalView(g,_),a.set(m,_);const T=(o.get(d.batchId)||Xt()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=YT();_.forEach(S=>{if(!u.has(S)){const D=tw(e.get(S),a.get(S));D!==null&&T.set(S,D),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return lt.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,o){return function(h){return It.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):WI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,o):this.getDocumentsMatchingCollectionQuery(t,e,a,o)}getNextDocuments(t,e,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,o-u.size):lt.resolve(Wa());let d=cu,m=u;return h.next(g=>lt.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?lt.resolve():this.remoteDocumentCache.getEntry(t,_).next(S=>{m=m.insert(_,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Xt())).next(_=>({batchId:d,changes:KT(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new It(e)).next(a=>{let o=Kl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,a,o){const u=e.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(t,u).next(d=>lt.forEach(d,m=>{const g=function(T,S){return new pf(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(_=>{_.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,u,o))).next(h=>{u.forEach((m,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,yn.newInvalidDocument(_)))});let d=Kl();return h.forEach((m,g)=>{const _=u.get(m);_!==void 0&&au(_.mutation,g,dr.empty(),Te.now()),gf(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return lt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}}(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(o){return{name:o.name,query:zx(o.bundledQuery),readTime:Pr(o.readTime)}}(e)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.overlays=new Re(It.comparator),this.qr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const a=Wa();return lt.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((o,u)=>{this.St(t,e,u)}),lt.resolve()}removeOverlaysForBatchId(t,e,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(a)),lt.resolve()}getOverlaysForCollection(t,e,a){const o=Wa(),u=e.length+1,h=new It(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return lt.resolve(o)}getOverlaysForCollectionGroup(t,e,a,o){let u=new Re((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=Wa(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Wa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return lt.resolve(d)}St(t,e,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new gx(e,a));let u=this.qr.get(e);u===void 0&&(u=Xt(),this.qr.set(e,u)),this.qr.set(e,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Qr=new Ye(tn.$r),this.Ur=new Ye(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const a=new tn(t,e);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.Gr(new tn(t,e))}zr(t,e){t.forEach(a=>this.removeReference(a,e))}jr(t){const e=new It(new Ae([])),a=new tn(e,t),o=new tn(e,t+1),u=[];return this.Ur.forEachInRange([a,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new It(new Ae([])),a=new tn(e,t),o=new tn(e,t+1);let u=Xt();return this.Ur.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new tn(t,0),a=this.Qr.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class tn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return It.comparator(t.key,e.key)||Qt(t.Yr,e.Yr)}static Kr(t,e){return Qt(t.Yr,e.Yr)||It.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(tn.$r)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new mx(u,e,a,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new tn(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return lt.resolve(h)}lookupMutationBatch(t,e){return lt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,o=this.ei(a),u=o<0?0:o;return lt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?ag:this.tr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new tn(e,0),o=new tn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],h=>{const d=this.Xr(h.Yr);u.push(d)}),lt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new Ye(Qt);return e.forEach(o=>{const u=new tn(o,0),h=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],d=>{a=a.add(d.Yr)})}),lt.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,o=a.length+1;let u=a;It.isDocumentKey(u)||(u=u.child(""));const h=new tn(new It(u),0);let d=new Ye(Qt);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)},h),lt.resolve(this.ti(d))}ti(t){const e=[];return t.forEach(a=>{const o=this.Xr(a);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){ue(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return lt.forEach(e.mutations,o=>{const u=new tn(o.key,e.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=a})}ir(t){}containsKey(t,e){const a=new tn(e,0),o=this.Zr.firstAfterOrEqual(a);return lt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t){this.ri=t,this.docs=function(){return new Re(It.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,o=this.docs.get(a),u=o?o.size:0,h=this.ri(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return lt.resolve(a?a.document.mutableCopy():yn.newInvalidDocument(e))}getEntries(t,e){let a=Ai();return e.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))}),lt.resolve(a)}getDocumentsMatchingQuery(t,e,a,o){let u=Ai();const h=e.path,d=new It(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||xI(II(_),a)<=0||(o.has(_.key)||gf(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return lt.resolve(u)}getAllFromCollectionGroup(t,e,a,o){Nt(9500)}ii(t,e){return lt.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new nM(this)}getSize(t){return lt.resolve(this.size)}}class nM extends Yx{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)}),lt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.persistence=t,this.si=new fs(e=>lg(e),ug),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new mg,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(t,e){return this.si.forEach((a,o)=>e(o)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this.oi&&(this.oi=e),lt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ao(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.Pr(e),lt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,a){let o=0;const u=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=e&&a.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),lt.waitFor(u).next(()=>o)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const a=this.si.get(e)||null;return lt.resolve(a)}addMatchingKeys(t,e,a){return this._i.Wr(e,a),lt.resolve()}removeMatchingKeys(t,e,a){this._i.zr(e,a);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),lt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const a=this._i.Hr(e);return lt.resolve(a)}containsKey(t,e){return lt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,e){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new Jx,this.referenceDelegate=t(this),this.Pi=new rM(this),this.indexManager=new jx,this.remoteDocumentCache=function(o){return new eM(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new Bx(e),this.Ii=new Zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Wx,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.ui[t.toKey()];return a||(a=new tM(e,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,a){Tt("MemoryPersistence","Starting transaction:",t);const o=new iM(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,e){return lt.or(Object.values(this.ui).map(a=>()=>a.containsKey(t,e)))}}class iM extends NI{constructor(t){super(),this.currentSequenceNumber=t}}class gg{constructor(t){this.persistence=t,this.Ri=new mg,this.Vi=null}static mi(t){return new gg(t)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(t,e,a){return this.Ri.addReference(a,e),this.fi.delete(a.toString()),lt.resolve()}removeReference(t,e,a){return this.Ri.removeReference(a,e),this.fi.add(a.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),lt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>a.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.fi,a=>{const o=It.fromPath(a);return this.gi(t,o).next(u=>{u||e.removeEntry(o,Pt.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(a=>{a?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return lt.or([()=>lt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Gh{constructor(t,e){this.persistence=t,this.pi=new fs(a=>kI(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Kx(this,e)}static mi(t,e){return new Gh(t,e)}Ei(){}di(t){return lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(o=>a+o))}wr(t){let e=0;return this.pr(t,a=>{e++}).next(()=>e)}pr(t,e){return lt.forEach(this.pi,(a,o)=>this.br(t,a,o).next(u=>u?lt.resolve():e(o)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,h=>this.br(t,h,e).next(d=>{d||(a++,u.removeEntry(h,Pt.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.pi.set(a,t.currentSequenceNumber),lt.resolve()}removeReference(t,e,a){return this.pi.set(a,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=gh(t.data.value)),e}br(t,e,a){return lt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return lt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,e,a,o){this.targetId=t,this.fromCache=e,this.Es=a,this.ds=o}static As(t,e){let a=Xt(),o=Xt();for(const u of e.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(t,e.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QA()?8:DI(_n())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,a,o){const u={result:null};return this.ys(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(t,e,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new aM;return this.Ss(t,e,h).next(d=>{if(u.result=d,this.Vs)return this.bs(t,e,h,d.size)})}).next(()=>u.result)}bs(t,e,a,o){return a.documentReadCount<this.fs?(so()<=Yt.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",oo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),lt.resolve()):(so()<=Yt.DEBUG&&Tt("QueryEngine","Query:",oo(e),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(so()<=Yt.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",oo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vr(e))):lt.resolve())}ys(t,e){if(u1(e))return lt.resolve(null);let a=Vr(e);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=mm(e,null,"F"),a=Vr(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=Xt(...u);return this.ps.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,a).next(m=>{const g=this.Ds(e,d);return this.Cs(e,g,h,m.readTime)?this.ys(t,mm(e,null,"F")):this.vs(t,g,e,m)}))})))}ws(t,e,a,o){return u1(e)||o.isEqual(Pt.min())?lt.resolve(null):this.ps.getDocuments(t,a).next(u=>{const h=this.Ds(e,u);return this.Cs(e,h,a,o)?lt.resolve(null):(so()<=Yt.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(e)),this.vs(t,h,e,CI(o,cu)).next(d=>d))})}Ds(t,e){let a=new Ye(FT(t));return e.forEach((o,u)=>{gf(t,u)&&(a=a.add(u))}),a}Cs(t,e,a,o){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,a){return so()<=Yt.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",oo(e)),this.ps.getDocumentsMatchingQuery(t,e,da.min(),a)}vs(t,e,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",oM=3e8;class lM{constructor(t,e,a,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new Re(Qt),this.xs=new fs(u=>lg(u),ug),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function uM(n,t,e,a){return new lM(n,t,e,a)}async function mw(n,t){const e=Bt(n);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let o;return e.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let m=Xt();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(a,m).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function cM(n,t){const e=Bt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,S=T.keys();let D=lt.resolve();return S.forEach(j=>{D=D.next(()=>_.getEntry(m,j)).next(Z=>{const Q=g.docVersions.get(j);ue(Q!==null,48541),Z.version.compareTo(Q)<0&&(T.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),_.addEntry(Z)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(e,a,t,u).next(()=>u.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Xt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(a,o))})}function gw(n){const t=Bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function hM(n,t){const e=Bt(n),a=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach((_,T)=>{const S=o.get(T);if(!S)return;d.push(e.Pi.removeMatchingKeys(u,_.removedDocuments,T).next(()=>e.Pi.addMatchingKeys(u,_.addedDocuments,T)));let D=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(hn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,a)),o=o.insert(T,D),function(Z,Q,mt){return Z.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=oM?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(S,D,_)&&d.push(e.Pi.updateTargetData(u,D))});let m=Ai(),g=Xt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(fM(u,h,t.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!a.isEqual(Pt.min())){const _=e.Pi.getLastRemoteSnapshotVersion(u).next(T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(_)}return lt.waitFor(d).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(e.Ms=o,u))}function fM(n,t,e){let a=Xt(),o=Xt();return e.forEach(u=>a=a.add(u)),t.getEntries(n,a).next(u=>{let h=Ai();return e.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Pt.min())?(t.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),h=h.insert(d,m)):Tt(_g,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:h,qs:o}})}function dM(n,t){const e=Bt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=ag),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function pM(n,t){const e=Bt(n);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return e.Pi.getTargetData(a,t).next(u=>u?(o=u,lt.resolve(o)):e.Pi.allocateTargetId(a).next(h=>(o=new oa(t,h,"TargetPurposeListen",a.currentSequenceNumber),e.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=e.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(a.targetId,a),e.xs.set(t,a.targetId)),a})}async function Em(n,t,e){const a=Bt(n),o=a.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Vo(h))throw h;Tt(_g,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function w1(n,t,e){const a=Bt(n);let o=Pt.min(),u=Xt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,_){const T=Bt(m),S=T.xs.get(_);return S!==void 0?lt.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,_)}(a,h,Vr(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>a.Fs.getDocumentsMatchingQuery(h,t,e?o:Pt.min(),e?u:Xt())).next(d=>(mM(a,tx(t),d),{documents:d,Qs:u})))}function mM(n,t,e){let a=n.Os.get(t)||Pt.min();e.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),n.Os.set(t,a)}class S1{constructor(){this.activeTargetIds=sx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gM{constructor(){this.Mo=new S1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,a){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new S1,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="ConnectivityMonitor";class A1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(b1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Tt(b1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function Tm(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="RestConnection",_M={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Vh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,e,a,o,u){const h=Tm(),d=this.zo(t,e.toUriEncodedString());Tt(Bp,`Sending RPC '${t}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),_=Mo(g);return this.Jo(t,d,m,a,_).then(T=>(Tt(Bp,`Received RPC '${t}' ${h}: `,T),T),T=>{throw To(Bp,`RPC '${t}' ${h} failed with error: `,T,"url: ",d,"request:",a),T})}Ho(t,e,a,o,u,h){return this.Go(t,e,a,o,u)}jo(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}zo(t,e){const a=_M[t];return`${this.Uo}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class TM extends vM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,a,o,u){const h=Tm();return new Promise((d,m)=>{const g=new ET;g.setWithCredentials(!0),g.listenOnce(TT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const T=g.getResponseJson();Tt(mn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),d(T);break;case mh.TIMEOUT:Tt(mn,`RPC '${t}' ${h} timed out`),m(new Ct(ht.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const S=g.getStatus();if(Tt(mn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D==null?void 0:D.error;if(j&&j.status&&j.message){const Z=function(mt){const ut=mt.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(ut)>=0?ut:ht.UNKNOWN}(j.status);m(new Ct(Z,j.message))}else m(new Ct(ht.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ct(ht.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Tt(mn,`RPC '${t}' ${h} completed.`)}});const _=JSON.stringify(o);Tt(mn,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",_,a,15)})}T_(t,e,a){const o=Tm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=bT(),d=ST(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,a),m.encodeInitMessageHeaders=!0;const _=u.join("");Tt(mn,`Creating RPC '${t}' stream ${o}: ${_}`,m);const T=h.createWebChannel(_,m);this.I_(T);let S=!1,D=!1;const j=new EM({Yo:Q=>{D?Tt(mn,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(S||(Tt(mn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),Tt(mn,`RPC '${t}' stream ${o} sending:`,Q),T.send(Q))},Zo:()=>T.close()}),Z=(Q,mt,ut)=>{Q.listen(mt,at=>{try{ut(at)}catch(_t){setTimeout(()=>{throw _t},0)}})};return Z(T,$l.EventType.OPEN,()=>{D||(Tt(mn,`RPC '${t}' stream ${o} transport opened.`),j.o_())}),Z(T,$l.EventType.CLOSE,()=>{D||(D=!0,Tt(mn,`RPC '${t}' stream ${o} transport closed`),j.a_(),this.E_(T))}),Z(T,$l.EventType.ERROR,Q=>{D||(D=!0,To(mn,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),j.a_(new Ct(ht.UNAVAILABLE,"The operation could not be completed")))}),Z(T,$l.EventType.MESSAGE,Q=>{var mt;if(!D){const ut=Q.data[0];ue(!!ut,16349);const at=ut,_t=(at==null?void 0:at.error)||((mt=at[0])==null?void 0:mt.error);if(_t){Tt(mn,`RPC '${t}' stream ${o} received error:`,_t);const dt=_t.status;let Et=function(I){const V=ze[I];if(V!==void 0)return rw(V)}(dt),O=_t.message;Et===void 0&&(Et=ht.INTERNAL,O="Unknown error status: "+dt+" with message "+_t.message),D=!0,j.a_(new Ct(Et,O)),T.close()}else Tt(mn,`RPC '${t}' stream ${o} received:`,ut),j.u_(ut)}}),Z(d,wT.STAT_EVENT,Q=>{Q.stat===um.PROXY?Tt(mn,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===um.NOPROXY&&Tt(mn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n){return new Ax(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,e,a=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-a);o>0&&Tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="PersistentStream";class _w{constructor(t,e,a,o,u,h,d,m){this.Mi=t,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(bi(e.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===e&&this.G_(a,o)},a=>{t(()=>{const o=new Ct(ht.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(t,e){const a=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Tt(R1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(Tt(R1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wM extends _w{constructor(t,e,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Ix(this.serializer,t),a=function(u){if(!("targetChange"in u))return Pt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Pt.min():h.readTime?Pr(h.readTime):Pt.min()}(t);return this.listener.H_(e,a)}Y_(t){const e={};e.database=vm(this.serializer),e.addTarget=function(u,h){let d;const m=h.target;if(d=pm(m)?{documents:Nx(u,m)}:{query:Dx(u,m).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=sw(u,h.resumeToken);const g=gm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Pt.min())>0){d.readTime=jh(u,h.snapshotVersion.toTimestamp());const g=gm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const a=kx(this.serializer,t);a&&(e.labels=a),this.q_(e)}Z_(t){const e={};e.database=vm(this.serializer),e.removeTarget=t,this.q_(e)}}class SM extends _w{constructor(t,e,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ue(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ue(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ue(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Mx(t.writeResults,t.commitTime),a=Pr(t.commitTime);return this.listener.na(a,e)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>xx(this.serializer,a))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{}class AM extends bM{constructor(t,e,a,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(t,ym(e,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ct(ht.UNKNOWN,u.toString())})}Ho(t,e,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(t,ym(e,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ct(ht.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(e),this.aa=!1):Tt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="RemoteStore";class CM{constructor(t,e,a,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{a.enqueueAndForget(async()=>{ps(this)&&(Tt(ls,"Restarting streams for network reachability change."),await async function(m){const g=Bt(m);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Tf(g)}(this))})}),this.Ra=new RM(a,o)}}async function Tf(n){if(ps(n))for(const t of n.da)await t(!0)}async function xu(n){for(const t of n.da)await t(!1)}function vw(n,t){const e=Bt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),wg(e)?Tg(e):Po(e).O_()&&Eg(e,t))}function vg(n,t){const e=Bt(n),a=Po(e);e.Ia.delete(t),a.O_()&&Ew(e,t),e.Ia.size===0&&(a.O_()?a.L_():ps(e)&&e.Ra.set("Unknown"))}function Eg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Po(n).Y_(t)}function Ew(n,t){n.Va.Ue(t),Po(n).Z_(t)}function Tg(n){n.Va=new Tx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Po(n).start(),n.Ra.ua()}function wg(n){return ps(n)&&!Po(n).x_()&&n.Ia.size>0}function ps(n){return Bt(n).Ea.size===0}function Tw(n){n.Va=void 0}async function IM(n){n.Ra.set("Online")}async function xM(n){n.Ia.forEach((t,e)=>{Eg(n,t)})}async function MM(n,t){Tw(n),wg(n)?(n.Ra.ha(t),Tg(n)):n.Ra.set("Unknown")}async function NM(n,t,e){if(n.Ra.set("Online"),t instanceof aw&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))}(n,t)}catch(a){Tt(ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Hh(n,a)}else if(t instanceof vh?n.Va.Ze(t):t instanceof iw?n.Va.st(t):n.Va.tt(t),!e.isEqual(Pt.min()))try{const a=await gw(n.localStore);e.compareTo(a)>=0&&await function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const _=u.Ia.get(m);if(!_)return;u.Ia.set(m,_.withResumeToken(hn.EMPTY_BYTE_STRING,_.snapshotVersion)),Ew(u,m);const T=new oa(_.target,m,g,_.sequenceNumber);Eg(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(a){Tt(ls,"Failed to raise snapshot:",a),await Hh(n,a)}}async function Hh(n,t,e){if(!Vo(t))throw t;n.Ea.add(1),await xu(n),n.Ra.set("Offline"),e||(e=()=>gw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Tt(ls,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Tf(n)})}function ww(n,t){return t().catch(e=>Hh(n,e,t))}async function wf(n){const t=Bt(n),e=ya(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ag;for(;DM(t);)try{const o=await dM(t.localStore,a);if(o===null){t.Ta.length===0&&e.L_();break}a=o.batchId,OM(t,o)}catch(o){await Hh(t,o)}Sw(t)&&bw(t)}function DM(n){return ps(n)&&n.Ta.length<10}function OM(n,t){n.Ta.push(t);const e=ya(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Sw(n){return ps(n)&&!ya(n).x_()&&n.Ta.length>0}function bw(n){ya(n).start()}async function kM(n){ya(n).ra()}async function VM(n){const t=ya(n);for(const e of n.Ta)t.ea(e.mutations)}async function PM(n,t,e){const a=n.Ta.shift(),o=fg.from(a,t,e);await ww(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await wf(n)}async function LM(n,t){t&&ya(n).X_&&await async function(a,o){if(function(h){return _x(h)&&h!==ht.ABORTED}(o.code)){const u=a.Ta.shift();ya(a).B_(),await ww(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await wf(a)}}(n,t),Sw(n)&&bw(n)}async function C1(n,t){const e=Bt(n);e.asyncQueue.verifyOperationInProgress(),Tt(ls,"RemoteStore received new credentials");const a=ps(e);e.Ea.add(3),await xu(e),a&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Tf(e)}async function UM(n,t){const e=Bt(n);t?(e.Ea.delete(2),await Tf(e)):t||(e.Ea.add(2),await xu(e),e.Ra.set("Unknown"))}function Po(n){return n.ma||(n.ma=function(e,a,o){const u=Bt(e);return u.sa(),new wM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:IM.bind(null,n),t_:xM.bind(null,n),r_:MM.bind(null,n),H_:NM.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),wg(n)?Tg(n):n.Ra.set("Unknown")):(await n.ma.stop(),Tw(n))})),n.ma}function ya(n){return n.fa||(n.fa=function(e,a,o){const u=Bt(e);return u.sa(),new SM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:kM.bind(null,n),r_:LM.bind(null,n),ta:VM.bind(null,n),na:PM.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await wf(n)):(await n.fa.stop(),n.Ta.length>0&&(Tt(ls,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,e,a,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,o,u){const h=Date.now()+a,d=new Sg(t,e,h,o,u);return d.start(a),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(n,t){if(bi("AsyncQueue",`${t}: ${n}`),Vo(n))return new Ct(ht.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(t){return new go(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||It.comparator(e.key,a.key):(e,a)=>It.comparator(e.key,a.key),this.keyedMap=Kl(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof go)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new go;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.ga=new Re(It.comparator)}track(t){const e=t.doc.key,a=this.ga.get(e);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(e,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(e):t.type===1&&a.type===2?this.ga=this.ga.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Nt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,a)=>{t.push(a)}),t}}class Ro{constructor(t,e,a,o,u,h,d,m,g){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,a,o,u){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new Ro(t,e,go.emptySet(e),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==a[o].type||!e[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class zM{constructor(){this.queries=x1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,a){const o=Bt(e),u=o.queries;o.queries=x1(),u.forEach((h,d)=>{for(const m of d.Sa)m.onError(a)})})(this,new Ct(ht.ABORTED,"Firestore shutting down"))}}function x1(){return new fs(n=>qT(n),mf)}async function jM(n,t){const e=Bt(n);let a=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(a=2):(u=new BM,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=bg(h,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Ag(e)}async function GM(n,t){const e=Bt(n),a=t.query;let o=3;const u=e.queries.get(a);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function HM(n,t){const e=Bt(n);let a=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(a=!0);h.wa=o}}a&&Ag(e)}function qM(n,t,e){const a=Bt(n),o=a.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);a.queries.delete(t)}function Ag(n){n.Ca.forEach(t=>{t.next()})}var wm,M1;(M1=wm||(wm={})).Ma="default",M1.Cache="cache";class FM{constructor(t,e,a){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Ro(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const a=e!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.key=t}}class Rw{constructor(t){this.key=t}}class $M{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xt(),this.mutatedKeys=Xt(),this.eu=FT(t),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(t,e){const a=e?e.iu:new I1,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,T)=>{const S=o.get(_),D=gf(this.query,T)?T:null,j=!!S&&this.mutatedKeys.has(S.key),Z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let Q=!1;S&&D?S.data.isEqual(D.data)?j!==Z&&(a.track({type:3,doc:D}),Q=!0):this.su(S,D)||(a.track({type:2,doc:D}),Q=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(d=!0)):!S&&D?(a.track({type:0,doc:D}),Q=!0):S&&!D&&(a.track({type:1,doc:S}),Q=!0,(m||g)&&(d=!0)),Q&&(D?(h=h.add(D),u=Z?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:h,iu:a,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort((_,T)=>function(D,j){const Z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:Q})}};return Z(D)-Z(j)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(a),o=o??!1;const d=e&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,h.length!==0||g?{snapshot:new Ro(this.query,t.tu,u,h,t.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Xt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const e=[];return t.forEach(a=>{this.Xa.has(a)||e.push(new Rw(a))}),this.Xa.forEach(a=>{t.has(a)||e.push(new Aw(a))}),e}cu(t){this.Ya=t.Qs,this.Xa=Xt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class KM{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class YM{constructor(t){this.key=t,this.hu=!1}}class QM{constructor(t,e,a,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fs(d=>qT(d),mf),this.Iu=new Map,this.Eu=new Set,this.du=new Re(It.comparator),this.Au=new Map,this.Ru=new mg,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XM(n,t,e=!0){const a=Dw(n);let o;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Cw(a,t,e,!0),o}async function ZM(n,t){const e=Dw(n);await Cw(e,t,!0,!1)}async function Cw(n,t,e,a){const o=await pM(n.localStore,Vr(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,e);let d;return a&&(d=await WM(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&e&&vw(n.remoteStore,o),d}async function WM(n,t,e,a,o){n.pu=(T,S,D)=>async function(Z,Q,mt,ut){let at=Q.view.ru(mt);at.Cs&&(at=await w1(Z.localStore,Q.query,!1).then(({documents:O})=>Q.view.ru(O,at)));const _t=ut&&ut.targetChanges.get(Q.targetId),dt=ut&&ut.targetMismatches.get(Q.targetId)!=null,Et=Q.view.applyChanges(at,Z.isPrimaryClient,_t,dt);return D1(Z,Q.targetId,Et.au),Et.snapshot}(n,T,S,D);const u=await w1(n.localStore,t,!0),h=new $M(t,u.Qs),d=h.ru(u.documents),m=Iu.createSynthesizedTargetChangeForCurrentChange(e,a&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,m);D1(n,e,g.au);const _=new KM(t,e,h);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function JM(n,t,e){const a=Bt(n),o=a.Tu.get(t),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter(h=>!mf(h,t))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),e&&vg(a.remoteStore,o.targetId),Sm(a,o.targetId)}).catch(ko)):(Sm(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function tN(n,t){const e=Bt(n),a=e.Tu.get(t),o=e.Iu.get(a.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),vg(e.remoteStore,a.targetId))}async function eN(n,t,e){const a=lN(n);try{const o=await function(h,d){const m=Bt(h),g=Te.now(),_=d.reduce((D,j)=>D.add(j.key),Xt());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let j=Ai(),Z=Xt();return m.Ns.getEntries(D,_).next(Q=>{j=Q,j.forEach((mt,ut)=>{ut.isValidDocument()||(Z=Z.add(mt))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,j)).next(Q=>{T=Q;const mt=[];for(const ut of d){const at=dx(ut,T.get(ut.key).overlayedDocument);at!=null&&mt.push(new ds(ut.key,at,LT(at.value.mapValue),Ei.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,mt,d)}).next(Q=>{S=Q;const mt=Q.applyToLocalDocumentSet(T,Z);return m.documentOverlayCache.saveOverlays(D,Q.batchId,mt)})}).then(()=>({batchId:S.batchId,changes:KT(T)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Vu[h.currentUser.toKey()];g||(g=new Re(Qt)),g=g.insert(d,m),h.Vu[h.currentUser.toKey()]=g}(a,o.batchId,e),await Mu(a,o.changes),await wf(a.remoteStore)}catch(o){const u=bg(o,"Failed to persist write");e.reject(u)}}async function Iw(n,t){const e=Bt(n);try{const a=await hM(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Au.get(u);h&&(ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ue(h.hu,14607):o.removedDocuments.size>0&&(ue(h.hu,42227),h.hu=!1))}),await Mu(e,a,t)}catch(a){await ko(a)}}function N1(n,t,e){const a=Bt(n);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const o=[];a.Tu.forEach((u,h)=>{const d=h.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Bt(h);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)}),g&&Ag(m)}(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function nN(n,t,e){const a=Bt(n);a.sharedClientState.updateQueryState(t,"rejected",e);const o=a.Au.get(t),u=o&&o.key;if(u){let h=new Re(It.comparator);h=h.insert(u,yn.newNoDocument(u,Pt.min()));const d=Xt().add(u),m=new vf(Pt.min(),new Map,new Re(Qt),h,d);await Iw(a,m),a.du=a.du.remove(u),a.Au.delete(t),Cg(a)}else await Em(a.localStore,t,!1).then(()=>Sm(a,t,e)).catch(ko)}async function rN(n,t){const e=Bt(n),a=t.batch.batchId;try{const o=await cM(e.localStore,t);Mw(e,a,null),xw(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await Mu(e,o)}catch(o){await ko(o)}}async function iN(n,t,e){const a=Bt(n);try{const o=await function(h,d){const m=Bt(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(ue(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(a.localStore,t);Mw(a,t,e),xw(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await Mu(a,o)}catch(o){await ko(o)}}function xw(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function Mw(n,t,e){const a=Bt(n);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function Sm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const a of n.Iu.get(t))n.Tu.delete(a),e&&n.Pu.yu(a,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(a=>{n.Ru.containsKey(a)||Nw(n,a)})}function Nw(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(vg(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Cg(n))}function D1(n,t,e){for(const a of e)a instanceof Aw?(n.Ru.addReference(a.key,t),aN(n,a)):a instanceof Rw?(Tt(Rg,"Document no longer in limbo: "+a.key),n.Ru.removeReference(a.key,t),n.Ru.containsKey(a.key)||Nw(n,a.key)):Nt(19791,{wu:a})}function aN(n,t){const e=t.key,a=e.path.canonicalString();n.du.get(e)||n.Eu.has(a)||(Tt(Rg,"New document in limbo: "+e),n.Eu.add(a),Cg(n))}function Cg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new It(Ae.fromString(t)),a=n.fu.next();n.Au.set(a,new YM(e)),n.du=n.du.insert(e,a),vw(n.remoteStore,new oa(Vr(cg(e.path)),a,"TargetPurposeLimboResolution",hf.ce))}}async function Mu(n,t,e){const a=Bt(n),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach((d,m)=>{h.push(a.pu(m,t,e).then(g=>{var _;if((g||e)&&a.isPrimaryClient){const T=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(m.targetId))==null?void 0:_.current;a.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=yg.As(m.targetId,g);u.push(T)}}))}),await Promise.all(h),a.Pu.H_(o),await async function(m,g){const _=Bt(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>lt.forEach(g,S=>lt.forEach(S.Es,D=>_.persistence.referenceDelegate.addReference(T,S.targetId,D)).next(()=>lt.forEach(S.ds,D=>_.persistence.referenceDelegate.removeReference(T,S.targetId,D)))))}catch(T){if(!Vo(T))throw T;Tt(_g,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const D=_.Ms.get(S),j=D.snapshotVersion,Z=D.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(S,Z)}}}(a.localStore,u))}async function sN(n,t){const e=Bt(n);if(!e.currentUser.isEqual(t)){Tt(Rg,"User change. New user:",t.toKey());const a=await mw(e.localStore,t);e.currentUser=t,function(u,h){u.mu.forEach(d=>{d.forEach(m=>{m.reject(new Ct(ht.CANCELLED,h))})}),u.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Mu(e,a.Ls)}}function oN(n,t){const e=Bt(n),a=e.Au.get(t);if(a&&a.hu)return Xt().add(a.key);{let o=Xt();const u=e.Iu.get(t);if(!u)return o;for(const h of u){const d=e.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function Dw(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Iw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nN.bind(null,t),t.Pu.H_=HM.bind(null,t.eventManager),t.Pu.yu=qM.bind(null,t.eventManager),t}function lN(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,t),t}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ef(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return uM(this.persistence,new sM,t.initialUser,this.serializer)}Cu(t){return new pw(gg.mi,this.serializer)}Du(t){return new gM}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class uN extends qh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ue(this.persistence.referenceDelegate instanceof Gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Fx(a,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new pw(a=>Gh.mi(a,e),this.serializer)}}class bm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>N1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await UM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new zM}()}createDatastore(t){const e=Ef(t.databaseInfo.databaseId),a=function(u){return new TM(u)}(t.databaseInfo);return function(u,h,d,m){return new AM(u,h,d,m)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,o,u,h,d){return new CM(a,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>N1(this.syncEngine,e,0),function(){return A1.v()?new A1:new yM}())}createSyncEngine(t,e){return function(o,u,h,d,m,g,_){const T=new QM(o,u,h,d,m,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=Bt(o);Tt(ls,"RemoteStore shutting down."),u.Ea.add(5),await xu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class hN{constructor(t,e,a,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{Tt(_a,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(Tt(_a,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=bg(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function jp(n,t){n.asyncQueue.verifyOperationInProgress(),Tt(_a,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let a=e.initialUser;n.setCredentialChangeListener(async o=>{a.isEqual(o)||(await mw(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function O1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await fN(n);Tt(_a,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(a=>C1(t.remoteStore,a)),n.setAppCheckTokenChangeListener((a,o)=>C1(t.remoteStore,o)),n._onlineComponents=t}async function fN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Tt(_a,"Using user provided OfflineComponentProvider");try{await jp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;To("Error using user provided cache. Falling back to memory cache: "+e),await jp(n,new qh)}}else Tt(_a,"Using default OfflineComponentProvider"),await jp(n,new uN(void 0));return n._offlineComponents}async function Ow(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Tt(_a,"Using user provided OnlineComponentProvider"),await O1(n,n._uninitializedComponentsProvider._online)):(Tt(_a,"Using default OnlineComponentProvider"),await O1(n,new bm))),n._onlineComponents}function dN(n){return Ow(n).then(t=>t.syncEngine)}async function pN(n){const t=await Ow(n),e=t.eventManager;return e.onListen=XM.bind(null,t.syncEngine),e.onUnlisten=JM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=ZM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=tN.bind(null,t.syncEngine),e}function mN(n,t,e={}){const a=new fa;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const _=new cN({next:S=>{_.Nu(),h.enqueueAndForget(()=>GM(u,T));const D=S.docs.has(d);!D&&S.fromCache?g.reject(new Ct(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&m&&m.source==="server"?g.reject(new Ct(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new FM(cg(d.path),_,{includeMetadataChanges:!0,qa:!0});return jM(u,T)}(await pN(n),n.asyncQueue,t,e,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firestore.googleapis.com",V1=!0;class P1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vw,this.ssl=V1}else this.host=t.host,this.ssl=t.ssl??V1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Hx)throw new Ct(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kw(t.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ig{constructor(t,e,a,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new mI;switch(a.type){case"firstParty":return new vI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ct(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=k1.get(e);a&&(Tt("ComponentProvider","Removing Datastore"),k1.delete(e),a.terminate())}(this),Promise.resolve()}}function gN(n,t,e,a={}){var g;n=uu(n,Ig);const o=Mo(t),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(kE(`https://${d}`),VE("Firestore",!0)),u.host!==Vw&&u.host!==d&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:a};if(!is(m,h)&&(n._setSettings(m),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=gn.MOCK_USER;else{_=zA(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new Ct(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new gn(S)}n._authCredentials=new gI(new RT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new xg(this.firestore,t,this._query)}}class en{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,a){if(Ru(e,en._jsonSchema))return new en(t,a||null,new It(Ae.fromString(e.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:je("string",en._jsonSchemaVersion),referencePath:je("string")};class gu extends xg{constructor(t,e,a){super(t,e,cg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new It(t))}withConverter(t){return new gu(this.firestore,t,this._path)}}function Mg(n,t,...e){if(n=nr(n),arguments.length===1&&(t=rg.newId()),AI("doc","path",t),n instanceof Ig){const a=Ae.fromString(t,...e);return Xv(a),new en(n,null,new It(a))}{if(!(n instanceof en||n instanceof gu))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Ae.fromString(t,...e));return Xv(a),new en(n.firestore,n instanceof gu?n.converter:null,new It(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="AsyncQueue";class U1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yw(this,"async_queue_retry"),this._c=()=>{const a=zp();a&&Tt(L1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const e=zp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=zp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new fa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Vo(t))throw t;Tt(L1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(a=>{throw this.nc=a,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",B1(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=e,e}enqueueAfterDelay(t,e,a){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Sg.createAndSchedule(this,t,e,a,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Nt(47125,{Pc:B1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function B1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Ng extends Ig{constructor(t,e,a,o){super(t,e,a,o),this.type="firestore",this._queue=new U1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new U1(t),this._firestoreClient=void 0,await t}}}function yN(n,t){const e=typeof n=="object"?n:BE(),a=typeof n=="string"?n:Vh,o=Fm(e,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=UA("firestore");u&&gN(o,...u)}return o}function Pw(n){if(n._terminated)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_N(n),n._firestoreClient}function _N(n){var a,o,u;const t=n._freezeSettings(),e=function(d,m,g,_){return new LI(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,kw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new hN(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this._byteString=t}static fromBase64String(t){try{return new er(hn.fromBase64String(t))}catch(e){throw new Ct(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new er(hn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ru(t,er._jsonSchema))return er.fromBase64String(t.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:je("string",er._jsonSchemaVersion),bytes:je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(t){if(Ru(t,Lr._jsonSchema))return new Lr(t.latitude,t.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:je("string",Lr._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ru(t,Ur._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Ur(t.vectorValues);throw new Ct(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:je("string",Ur._jsonSchemaVersion),vectorValues:je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class EN{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new ds(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cu(t,this.data,e,this.fieldTransforms)}}function Uw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ac:n})}}class Og{constructor(t,e,a,o,u,h){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Og({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),a=this.Vc({path:e,fc:!1});return a.gc(t),a}yc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),a=this.Vc({path:e,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Uw(this.Ac)&&vN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TN{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||Ef(t)}Cc(t,e,a,o=!1){return new Og({Ac:t,methodName:e,Dc:a,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wN(n){const t=n._freezeSettings(),e=Ef(n._databaseId);return new TN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function SN(n,t,e,a,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);Gw("Data must be an object, but it was:",h,a);const d=zw(a,h);let m,g;if(u.merge)m=new dr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=bN(t,T,e);if(!h.contains(S))throw new Ct(ht.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);RN(_,S)||_.push(S)}m=new dr(_),g=h.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=h.fieldTransforms;return new EN(new tr(d),m,g)}function Bw(n,t){if(jw(n=nr(n)))return Gw("Unsupported field value:",t,n),zw(n,t);if(n instanceof Lw)return function(a,o){if(!Uw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let m=Bw(d,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(n,t)}return function(a,o){if((a=nr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ox(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Te.fromDate(a);return{timestampValue:jh(o.serializer,u)}}if(a instanceof Te){const u=new Te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(a instanceof Lr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof er)return{bytesValue:sw(o.serializer,a._byteString)};if(a instanceof en){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ur)return function(h,d){return{mapValue:{fields:{[VT]:{stringValue:PT},[Ph]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return hg(d.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${ig(a)}`)}(n,t)}function zw(n,t){const e={};return xT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(n,(a,o)=>{const u=Bw(o,t.mc(a));u!=null&&(e[a]=u)}),{mapValue:{fields:e}}}function jw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Te||n instanceof Lr||n instanceof er||n instanceof en||n instanceof Lw||n instanceof Ur)}function Gw(n,t,e){if(!jw(e)||!CT(e)){const a=ig(e);throw a==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+a)}}function bN(n,t,e){if((t=nr(t))instanceof Dg)return t._internalPath;if(typeof t=="string")return Hw(n,t);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,e)}const AN=new RegExp("[~\\*/\\[\\]]");function Hw(n,t,e){if(t.search(AN)>=0)throw Fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Dg(...t.split("."))._internalPath}catch{throw Fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Fh(n,t,e,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new Ct(ht.INVALID_ARGUMENT,d+n+m)}function RN(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,e,a,o,u){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Fw("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class CN extends qw{data(){return super.data()}}function Fw(n,t){return typeof t=="string"?Hw(n,t):t instanceof Dg?t._internalPath:t._delegate._internalPath}class IN{convertValue(t,e="none"){switch(ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ma(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return hs(t,(o,u)=>{a[o]=this.convertValue(u,e)}),a}convertVectorValue(t){var a,o,u;const e=(u=(o=(a=t.fields)==null?void 0:a[Ph].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>Oe(h.doubleValue));return new Ur(e)}convertGeoPoint(t){return new Lr(Oe(t.latitude),Oe(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=df(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const e=pa(t);return new Te(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=Ae.fromString(t);ue(fw(a),9688,{name:t});const o=new fu(a.get(1),a.get(3)),u=new It(a.popFirst(5));return o.isEqual(e)||bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n,t,e){let a;return a=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,a}class Ql{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class es extends qw{constructor(t,e,a,o,u,h){super(t,e,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field(Fw("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=es._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}es._jsonSchemaVersion="firestore/documentSnapshot/1.0",es._jsonSchema={type:je("string",es._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class Eh extends es{data(t={}){return super.data(t)}}class su{constructor(t,e,a,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new Eh(this._firestore,this._userDataWriter,a.key,a,new Ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:MN(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=su._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(e.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){n=uu(n,en);const t=uu(n.firestore,Ng);return mN(Pw(t),n._key).then(e=>kN(t,n,e))}su._jsonSchemaVersion="firestore/querySnapshot/1.0",su._jsonSchema={type:je("string",su._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class DN extends IN{constructor(t){super(),this.firestore=t}convertBytes(t){return new er(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,e)}}function $h(n,t,e){n=uu(n,en);const a=uu(n.firestore,Ng),o=xN(n.converter,t,e);return ON(a,[SN(wN(a),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,Ei.none())])}function ON(n,t){return function(a,o){const u=new fa;return a.asyncQueue.enqueueAndForget(async()=>eN(await dN(a),o,u)),u.promise}(Pw(n),t)}function kN(n,t,e){const a=e.docs.get(t._key),o=new DN(n);return new es(n,o,t._key,a,new Ql(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Oo=o})(No),vo(new as("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new Ng(new yI(a.getProvider("auth-internal")),new EI(h,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ct(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,_)}(h,o),h);return u={useFetchStreams:e,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),ca($v,Kv,t),ca($v,Kv,"esm2020")})();const VN={apiKey:"AIzaSyAsv8TV5YSdGLup4nImBjaaaEKbwe9lRm8",authDomain:"chartle-c4a68.firebaseapp.com",projectId:"chartle-c4a68",storageBucket:"chartle-c4a68.appspot.com",messagingSenderId:"1031120307533",appId:"1:1031120307533:web:a51ef04dabbcecd020e304",measurementId:"G-SCBHLT03DM"},$w=UE(VN),ns=hI($w),PN=new gi,kg=yN($w),Kw=At.createContext({user:null});function LN({children:n}){const[t,e]=At.useState(null);return At.useEffect(()=>oT(ns,e),[]),nt.jsx(Kw.Provider,{value:{user:t},children:n})}function UN(){return At.useContext(Kw)}function BN({onOpen:n,dateLabel:t,overridden:e}){var g;const{user:a}=UN(),[o,u]=At.useState(!1),h=a?a.photoURL?nt.jsx("img",{src:a.photoURL,alt:"Account",className:"h-6 w-6 rounded-full object-cover",referrerPolicy:"no-referrer"}):nt.jsx("span",{"aria-label":"Account",className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-400 text-xs font-semibold text-white",children:(g=a.displayName)==null?void 0:g.charAt(0).toUpperCase()}):"Sign in",d=[{id:"help",label:"Help"},{id:"history",label:"History"},{id:"settings",label:"Settings"},{id:"auth",label:h}],m=_=>{n==null||n(_),u(!1)};return nt.jsx("header",{className:"fixed inset-x-0 top-0 z-50 border-b border-gray-300 dark:border-gray-700 bg-[#f9f9f9]/60 dark:bg-[#111]/60 backdrop-blur-md",children:nt.jsxs("div",{className:"relative mx-auto w-full max-w-[700px] px-4 py-3 h-[52px]",children:[nt.jsx("span",{className:`absolute left-4 top-1/2 -translate-y-1/2 text-sm ${e?"bg-yellow-100 dark:bg-yellow-900 px-2 py-0.5 rounded text-yellow-800 dark:text-yellow-300":"text-[color:var(--axis-text-color)]"}`,children:t}),nt.jsx("h1",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-xl font-[Menlo,_monospace] tracking-wide text-gray-800 dark:text-white",children:"📈 chartle"}),nt.jsx("button",{"aria-label":"Toggle menu",onClick:()=>u(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-600",children:o?nt.jsx(CE,{className:"h-5 w-5"}):nt.jsx(IA,{className:"h-5 w-5"})}),o&&nt.jsx("nav",{className:"absolute right-4 top-full w-48 origin-top rounded-md [background-color:var(--guessed-box)] shadow-md",children:nt.jsx("ul",{className:"flex flex-col divide-y divide-gray-200 dark:divide-gray-700",children:d.map(({id:_,label:T})=>nt.jsx("li",{children:nt.jsx("button",{onClick:()=>m(_),className:"block w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:_==="auth"&&a?"Account":typeof T=="string"?T:"Account"})},_))})})]})})}function Th(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Yw(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Vg(n){let t,e,a;n.length!==2?(t=Th,e=(d,m)=>Th(n(d),m),a=(d,m)=>n(d)-m):(t=n===Th||n===Yw?n:zN,e=n,a=n);function o(d,m,g=0,_=d.length){if(g<_){if(t(m,m)!==0)return _;do{const T=g+_>>>1;e(d[T],m)<0?g=T+1:_=T}while(g<_)}return g}function u(d,m,g=0,_=d.length){if(g<_){if(t(m,m)!==0)return _;do{const T=g+_>>>1;e(d[T],m)<=0?g=T+1:_=T}while(g<_)}return g}function h(d,m,g=0,_=d.length){const T=o(d,m,g,_-1);return T>g&&a(d[T-1],m)>-a(d[T],m)?T-1:T}return{left:o,center:h,right:u}}function zN(){return 0}function jN(n){return n===null?NaN:+n}const GN=Vg(Th),HN=GN.right;Vg(jN).center;class Am extends Map{constructor(t,e=$N){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[a,o]of t)this.set(a,o)}get(t){return super.get(z1(this,t))}has(t){return super.has(z1(this,t))}set(t,e){return super.set(qN(this,t),e)}delete(t){return super.delete(FN(this,t))}}function z1({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):e}function qN({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):(n.set(a,e),e)}function FN({_intern:n,_key:t},e){const a=t(e);return n.has(a)&&(e=n.get(a),n.delete(a)),e}function $N(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Rm(n){return n}function Kh(n,...t){return Qw(n,Rm,Rm,t)}function KN(n,t,...e){return Qw(n,Rm,t,e)}function Qw(n,t,e,a){return function o(u,h){if(h>=a.length)return e(u);const d=new Am,m=a[h++];let g=-1;for(const _ of u){const T=m(_,++g,u),S=d.get(T);S?S.push(_):d.set(T,[_])}for(const[_,T]of d)d.set(_,o(T,h));return t(d)}(n,0)}const YN=Math.sqrt(50),QN=Math.sqrt(10),XN=Math.sqrt(2);function Yh(n,t,e){const a=(t-n)/Math.max(0,e),o=Math.floor(Math.log10(a)),u=a/Math.pow(10,o),h=u>=YN?10:u>=QN?5:u>=XN?2:1;let d,m,g;return o<0?(g=Math.pow(10,-o)/h,d=Math.round(n*g),m=Math.round(t*g),d/g<n&&++d,m/g>t&&--m,g=-g):(g=Math.pow(10,o)*h,d=Math.round(n/g),m=Math.round(t/g),d*g<n&&++d,m*g>t&&--m),m<d&&.5<=e&&e<2?Yh(n,t,e*2):[d,m,g]}function ZN(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const a=t<n,[o,u,h]=a?Yh(t,n,e):Yh(n,t,e);if(!(u>=o))return[];const d=u-o+1,m=new Array(d);if(a)if(h<0)for(let g=0;g<d;++g)m[g]=(u-g)/-h;else for(let g=0;g<d;++g)m[g]=(u-g)*h;else if(h<0)for(let g=0;g<d;++g)m[g]=(o+g)/-h;else for(let g=0;g<d;++g)m[g]=(o+g)*h;return m}function Cm(n,t,e){return t=+t,n=+n,e=+e,Yh(n,t,e)[2]}function WN(n,t,e){t=+t,n=+n,e=+e;const a=t<n,o=a?Cm(t,n,e):Cm(n,t,e);return(a?-1:1)*(o<0?1/-o:o)}function yi(n,t){let e;if(t===void 0)for(const a of n)a!=null&&(e<a||e===void 0&&a>=a)&&(e=a);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&(e<o||e===void 0&&o>=o)&&(e=o)}return e}function Qh(n,t){let e;if(t===void 0)for(const a of n)a!=null&&(e>a||e===void 0&&a>=a)&&(e=a);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&(e>o||e===void 0&&o>=o)&&(e=o)}return e}function JN(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var a=-1,o=Math.max(0,Math.ceil((t-n)/e))|0,u=new Array(o);++a<o;)u[a]=n+a*e;return u}function t4(n){return n}var Gp=1,Hp=2,Im=3,Xl=4,j1=1e-6;function e4(n){return"translate("+n+",0)"}function n4(n){return"translate(0,"+n+")"}function r4(n){return t=>+n(t)}function i4(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function a4(){return!this.__axis}function Xw(n,t){var e=[],a=null,o=null,u=6,h=6,d=3,m=typeof window<"u"&&window.devicePixelRatio>1?0:.5,g=n===Gp||n===Xl?-1:1,_=n===Xl||n===Hp?"x":"y",T=n===Gp||n===Im?e4:n4;function S(D){var j=a??(t.ticks?t.ticks.apply(t,e):t.domain()),Z=o??(t.tickFormat?t.tickFormat.apply(t,e):t4),Q=Math.max(u,0)+d,mt=t.range(),ut=+mt[0]+m,at=+mt[mt.length-1]+m,_t=(t.bandwidth?i4:r4)(t.copy(),m),dt=D.selection?D.selection():D,Et=dt.selectAll(".domain").data([null]),O=dt.selectAll(".tick").data(j,t).order(),C=O.exit(),I=O.enter().append("g").attr("class","tick"),V=O.select("line"),M=O.select("text");Et=Et.merge(Et.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(I),V=V.merge(I.append("line").attr("stroke","currentColor").attr(_+"2",g*u)),M=M.merge(I.append("text").attr("fill","currentColor").attr(_,g*Q).attr("dy",n===Gp?"0em":n===Im?"0.71em":"0.32em")),D!==dt&&(Et=Et.transition(D),O=O.transition(D),V=V.transition(D),M=M.transition(D),C=C.transition(D).attr("opacity",j1).attr("transform",function(P){return isFinite(P=_t(P))?T(P+m):this.getAttribute("transform")}),I.attr("opacity",j1).attr("transform",function(P){var x=this.parentNode.__axis;return T((x&&isFinite(x=x(P))?x:_t(P))+m)})),C.remove(),Et.attr("d",n===Xl||n===Hp?h?"M"+g*h+","+ut+"H"+m+"V"+at+"H"+g*h:"M"+m+","+ut+"V"+at:h?"M"+ut+","+g*h+"V"+m+"H"+at+"V"+g*h:"M"+ut+","+m+"H"+at),O.attr("opacity",1).attr("transform",function(P){return T(_t(P)+m)}),V.attr(_+"2",g*u),M.attr(_,g*Q).text(Z),dt.filter(a4).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===Hp?"start":n===Xl?"end":"middle"),dt.each(function(){this.__axis=_t})}return S.scale=function(D){return arguments.length?(t=D,S):t},S.ticks=function(){return e=Array.from(arguments),S},S.tickArguments=function(D){return arguments.length?(e=D==null?[]:Array.from(D),S):e.slice()},S.tickValues=function(D){return arguments.length?(a=D==null?null:Array.from(D),S):a&&a.slice()},S.tickFormat=function(D){return arguments.length?(o=D,S):o},S.tickSize=function(D){return arguments.length?(u=h=+D,S):u},S.tickSizeInner=function(D){return arguments.length?(u=+D,S):u},S.tickSizeOuter=function(D){return arguments.length?(h=+D,S):h},S.tickPadding=function(D){return arguments.length?(d=+D,S):d},S.offset=function(D){return arguments.length?(m=+D,S):m},S}function Zw(n){return Xw(Im,n)}function xm(n){return Xw(Xl,n)}var s4={value:()=>{}};function Ww(){for(var n=0,t=arguments.length,e={},a;n<t;++n){if(!(a=arguments[n]+"")||a in e||/[\s.]/.test(a))throw new Error("illegal type: "+a);e[a]=[]}return new wh(e)}function wh(n){this._=n}function o4(n,t){return n.trim().split(/^|\s+/).map(function(e){var a="",o=e.indexOf(".");if(o>=0&&(a=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:a}})}wh.prototype=Ww.prototype={constructor:wh,on:function(n,t){var e=this._,a=o4(n+"",e),o,u=-1,h=a.length;if(arguments.length<2){for(;++u<h;)if((o=(n=a[u]).type)&&(o=l4(e[o],n.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<h;)if(o=(n=a[u]).type)e[o]=G1(e[o],n.name,t);else if(t==null)for(o in e)e[o]=G1(e[o],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new wh(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var e=new Array(o),a=0,o,u;a<o;++a)e[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],a=0,o=u.length;a<o;++a)u[a].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var a=this._[n],o=0,u=a.length;o<u;++o)a[o].value.apply(t,e)}};function l4(n,t){for(var e=0,a=n.length,o;e<a;++e)if((o=n[e]).name===t)return o.value}function G1(n,t,e){for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n[a]=s4,n=n.slice(0,a).concat(n.slice(a+1));break}return e!=null&&n.push({name:t,value:e}),n}var Mm="http://www.w3.org/1999/xhtml";const H1={svg:"http://www.w3.org/2000/svg",xhtml:Mm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sf(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),H1.hasOwnProperty(t)?{space:H1[t],local:n}:n}function u4(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Mm&&t.documentElement.namespaceURI===Mm?t.createElement(n):t.createElementNS(e,n)}}function c4(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Pg(n){var t=Sf(n);return(t.local?c4:u4)(t)}function h4(){}function Lg(n){return n==null?h4:function(){return this.querySelector(n)}}function f4(n){typeof n!="function"&&(n=Lg(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=new Array(h),m,g,_=0;_<h;++_)(m=u[_])&&(g=n.call(m,m.__data__,_,u))&&("__data__"in m&&(g.__data__=m.__data__),d[_]=g);return new Bn(a,this._parents)}function d4(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function p4(){return[]}function Jw(n){return n==null?p4:function(){return this.querySelectorAll(n)}}function m4(n){return function(){return d4(n.apply(this,arguments))}}function g4(n){typeof n=="function"?n=m4(n):n=Jw(n);for(var t=this._groups,e=t.length,a=[],o=[],u=0;u<e;++u)for(var h=t[u],d=h.length,m,g=0;g<d;++g)(m=h[g])&&(a.push(n.call(m,m.__data__,g,h)),o.push(m));return new Bn(a,o)}function tS(n){return function(){return this.matches(n)}}function eS(n){return function(t){return t.matches(n)}}var y4=Array.prototype.find;function _4(n){return function(){return y4.call(this.children,n)}}function v4(){return this.firstElementChild}function E4(n){return this.select(n==null?v4:_4(typeof n=="function"?n:eS(n)))}var T4=Array.prototype.filter;function w4(){return Array.from(this.children)}function S4(n){return function(){return T4.call(this.children,n)}}function b4(n){return this.selectAll(n==null?w4:S4(typeof n=="function"?n:eS(n)))}function A4(n){typeof n!="function"&&(n=tS(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=[],m,g=0;g<h;++g)(m=u[g])&&n.call(m,m.__data__,g,u)&&d.push(m);return new Bn(a,this._parents)}function nS(n){return new Array(n.length)}function R4(){return new Bn(this._enter||this._groups.map(nS),this._parents)}function Xh(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Xh.prototype={constructor:Xh,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function C4(n){return function(){return n}}function I4(n,t,e,a,o,u){for(var h=0,d,m=t.length,g=u.length;h<g;++h)(d=t[h])?(d.__data__=u[h],a[h]=d):e[h]=new Xh(n,u[h]);for(;h<m;++h)(d=t[h])&&(o[h]=d)}function x4(n,t,e,a,o,u,h){var d,m,g=new Map,_=t.length,T=u.length,S=new Array(_),D;for(d=0;d<_;++d)(m=t[d])&&(S[d]=D=h.call(m,m.__data__,d,t)+"",g.has(D)?o[d]=m:g.set(D,m));for(d=0;d<T;++d)D=h.call(n,u[d],d,u)+"",(m=g.get(D))?(a[d]=m,m.__data__=u[d],g.delete(D)):e[d]=new Xh(n,u[d]);for(d=0;d<_;++d)(m=t[d])&&g.get(S[d])===m&&(o[d]=m)}function M4(n){return n.__data__}function N4(n,t){if(!arguments.length)return Array.from(this,M4);var e=t?x4:I4,a=this._parents,o=this._groups;typeof n!="function"&&(n=C4(n));for(var u=o.length,h=new Array(u),d=new Array(u),m=new Array(u),g=0;g<u;++g){var _=a[g],T=o[g],S=T.length,D=D4(n.call(_,_&&_.__data__,g,a)),j=D.length,Z=d[g]=new Array(j),Q=h[g]=new Array(j),mt=m[g]=new Array(S);e(_,T,Z,Q,mt,D,t);for(var ut=0,at=0,_t,dt;ut<j;++ut)if(_t=Z[ut]){for(ut>=at&&(at=ut+1);!(dt=Q[at])&&++at<j;);_t._next=dt||null}}return h=new Bn(h,a),h._enter=d,h._exit=m,h}function D4(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function O4(){return new Bn(this._exit||this._groups.map(nS),this._parents)}function k4(n,t,e){var a=this.enter(),o=this,u=this.exit();return typeof n=="function"?(a=n(a),a&&(a=a.selection())):a=a.append(n+""),t!=null&&(o=t(o),o&&(o=o.selection())),e==null?u.remove():e(u),a&&o?a.merge(o).order():o}function V4(n){for(var t=n.selection?n.selection():n,e=this._groups,a=t._groups,o=e.length,u=a.length,h=Math.min(o,u),d=new Array(o),m=0;m<h;++m)for(var g=e[m],_=a[m],T=g.length,S=d[m]=new Array(T),D,j=0;j<T;++j)(D=g[j]||_[j])&&(S[j]=D);for(;m<o;++m)d[m]=e[m];return new Bn(d,this._parents)}function P4(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var a=n[t],o=a.length-1,u=a[o],h;--o>=0;)(h=a[o])&&(u&&h.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(h,u),u=h);return this}function L4(n){n||(n=U4);function t(T,S){return T&&S?n(T.__data__,S.__data__):!T-!S}for(var e=this._groups,a=e.length,o=new Array(a),u=0;u<a;++u){for(var h=e[u],d=h.length,m=o[u]=new Array(d),g,_=0;_<d;++_)(g=h[_])&&(m[_]=g);m.sort(t)}return new Bn(o,this._parents).order()}function U4(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function B4(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function z4(){return Array.from(this)}function j4(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a=n[t],o=0,u=a.length;o<u;++o){var h=a[o];if(h)return h}return null}function G4(){let n=0;for(const t of this)++n;return n}function H4(){return!this.node()}function q4(n){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var o=t[e],u=0,h=o.length,d;u<h;++u)(d=o[u])&&n.call(d,d.__data__,u,o);return this}function F4(n){return function(){this.removeAttribute(n)}}function $4(n){return function(){this.removeAttributeNS(n.space,n.local)}}function K4(n,t){return function(){this.setAttribute(n,t)}}function Y4(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function Q4(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function X4(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Z4(n,t){var e=Sf(n);if(arguments.length<2){var a=this.node();return e.local?a.getAttributeNS(e.space,e.local):a.getAttribute(e)}return this.each((t==null?e.local?$4:F4:typeof t=="function"?e.local?X4:Q4:e.local?Y4:K4)(e,t))}function rS(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function W4(n){return function(){this.style.removeProperty(n)}}function J4(n,t,e){return function(){this.style.setProperty(n,t,e)}}function tD(n,t,e){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(n):this.style.setProperty(n,a,e)}}function eD(n,t,e){return arguments.length>1?this.each((t==null?W4:typeof t=="function"?tD:J4)(n,t,e??"")):Co(this.node(),n)}function Co(n,t){return n.style.getPropertyValue(t)||rS(n).getComputedStyle(n,null).getPropertyValue(t)}function nD(n){return function(){delete this[n]}}function rD(n,t){return function(){this[n]=t}}function iD(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function aD(n,t){return arguments.length>1?this.each((t==null?nD:typeof t=="function"?iD:rD)(n,t)):this.node()[n]}function iS(n){return n.trim().split(/^|\s+/)}function Ug(n){return n.classList||new aS(n)}function aS(n){this._node=n,this._names=iS(n.getAttribute("class")||"")}aS.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function sS(n,t){for(var e=Ug(n),a=-1,o=t.length;++a<o;)e.add(t[a])}function oS(n,t){for(var e=Ug(n),a=-1,o=t.length;++a<o;)e.remove(t[a])}function sD(n){return function(){sS(this,n)}}function oD(n){return function(){oS(this,n)}}function lD(n,t){return function(){(t.apply(this,arguments)?sS:oS)(this,n)}}function uD(n,t){var e=iS(n+"");if(arguments.length<2){for(var a=Ug(this.node()),o=-1,u=e.length;++o<u;)if(!a.contains(e[o]))return!1;return!0}return this.each((typeof t=="function"?lD:t?sD:oD)(e,t))}function cD(){this.textContent=""}function hD(n){return function(){this.textContent=n}}function fD(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function dD(n){return arguments.length?this.each(n==null?cD:(typeof n=="function"?fD:hD)(n)):this.node().textContent}function pD(){this.innerHTML=""}function mD(n){return function(){this.innerHTML=n}}function gD(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function yD(n){return arguments.length?this.each(n==null?pD:(typeof n=="function"?gD:mD)(n)):this.node().innerHTML}function _D(){this.nextSibling&&this.parentNode.appendChild(this)}function vD(){return this.each(_D)}function ED(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TD(){return this.each(ED)}function wD(n){var t=typeof n=="function"?n:Pg(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function SD(){return null}function bD(n,t){var e=typeof n=="function"?n:Pg(n),a=t==null?SD:typeof t=="function"?t:Lg(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})}function AD(){var n=this.parentNode;n&&n.removeChild(this)}function RD(){return this.each(AD)}function CD(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function ID(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function xD(n){return this.select(n?ID:CD)}function MD(n){return arguments.length?this.property("__data__",n):this.node().__data__}function ND(n){return function(t){n.call(this,t,this.__data__)}}function DD(n){return n.trim().split(/^|\s+/).map(function(t){var e="",a=t.indexOf(".");return a>=0&&(e=t.slice(a+1),t=t.slice(0,a)),{type:t,name:e}})}function OD(n){return function(){var t=this.__on;if(t){for(var e=0,a=-1,o=t.length,u;e<o;++e)u=t[e],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):t[++a]=u;++a?t.length=a:delete this.__on}}}function kD(n,t,e){return function(){var a=this.__on,o,u=ND(t);if(a){for(var h=0,d=a.length;h<d;++h)if((o=a[h]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=e),o.value=t;return}}this.addEventListener(n.type,u,e),o={type:n.type,name:n.name,value:t,listener:u,options:e},a?a.push(o):this.__on=[o]}}function VD(n,t,e){var a=DD(n+""),o,u=a.length,h;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,g=d.length,_;m<g;++m)for(o=0,_=d[m];o<u;++o)if((h=a[o]).type===_.type&&h.name===_.name)return _.value}return}for(d=t?kD:OD,o=0;o<u;++o)this.each(d(a[o],t,e));return this}function lS(n,t,e){var a=rS(n),o=a.CustomEvent;typeof o=="function"?o=new o(t,e):(o=a.document.createEvent("Event"),e?(o.initEvent(t,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(t,!1,!1)),n.dispatchEvent(o)}function PD(n,t){return function(){return lS(this,n,t)}}function LD(n,t){return function(){return lS(this,n,t.apply(this,arguments))}}function UD(n,t){return this.each((typeof t=="function"?LD:PD)(n,t))}function*BD(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a=n[t],o=0,u=a.length,h;o<u;++o)(h=a[o])&&(yield h)}var uS=[null];function Bn(n,t){this._groups=n,this._parents=t}function Nu(){return new Bn([[document.documentElement]],uS)}function zD(){return this}Bn.prototype=Nu.prototype={constructor:Bn,select:f4,selectAll:g4,selectChild:E4,selectChildren:b4,filter:A4,data:N4,enter:R4,exit:O4,join:k4,merge:V4,selection:zD,order:P4,sort:L4,call:B4,nodes:z4,node:j4,size:G4,empty:H4,each:q4,attr:Z4,style:eD,property:aD,classed:uD,text:dD,html:yD,raise:vD,lower:TD,append:wD,insert:bD,remove:RD,clone:xD,datum:MD,on:VD,dispatch:UD,[Symbol.iterator]:BD};function lr(n){return typeof n=="string"?new Bn([[document.querySelector(n)]],[document.documentElement]):new Bn([[n]],uS)}function jD(n){return lr(Pg(n).call(document.documentElement))}function GD(n){let t;for(;t=n.sourceEvent;)n=t;return n}function HD(n,t){if(n=GD(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var a=e.createSVGPoint();return a.x=n.clientX,a.y=n.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}}return[n.pageX,n.pageY]}function Bg(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function cS(n,t){var e=Object.create(n.prototype);for(var a in t)e[a]=t[a];return e}function Du(){}var yu=.7,Zh=1/yu,yo="\\s*([+-]?\\d+)\\s*",_u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qD=/^#([0-9a-f]{3,8})$/,FD=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),$D=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),KD=new RegExp(`^rgba\\(${yo},${yo},${yo},${_u}\\)$`),YD=new RegExp(`^rgba\\(${Br},${Br},${Br},${_u}\\)$`),QD=new RegExp(`^hsl\\(${_u},${Br},${Br}\\)$`),XD=new RegExp(`^hsla\\(${_u},${Br},${Br},${_u}\\)$`),q1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bg(Du,us,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:F1,formatHex:F1,formatHex8:ZD,formatHsl:WD,formatRgb:$1,toString:$1});function F1(){return this.rgb().formatHex()}function ZD(){return this.rgb().formatHex8()}function WD(){return hS(this).formatHsl()}function $1(){return this.rgb().formatRgb()}function us(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=qD.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?K1(t):e===3?new Mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FD.exec(n))?new Mn(t[1],t[2],t[3],1):(t=$D.exec(n))?new Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KD.exec(n))?sh(t[1],t[2],t[3],t[4]):(t=YD.exec(n))?sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QD.exec(n))?X1(t[1],t[2]/100,t[3]/100,1):(t=XD.exec(n))?X1(t[1],t[2]/100,t[3]/100,t[4]):q1.hasOwnProperty(n)?K1(q1[n]):n==="transparent"?new Mn(NaN,NaN,NaN,0):null}function K1(n){return new Mn(n>>16&255,n>>8&255,n&255,1)}function sh(n,t,e,a){return a<=0&&(n=t=e=NaN),new Mn(n,t,e,a)}function JD(n){return n instanceof Du||(n=us(n)),n?(n=n.rgb(),new Mn(n.r,n.g,n.b,n.opacity)):new Mn}function Nm(n,t,e,a){return arguments.length===1?JD(n):new Mn(n,t,e,a??1)}function Mn(n,t,e,a){this.r=+n,this.g=+t,this.b=+e,this.opacity=+a}Bg(Mn,Nm,cS(Du,{brighter(n){return n=n==null?Zh:Math.pow(Zh,n),new Mn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?yu:Math.pow(yu,n),new Mn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Mn(rs(this.r),rs(this.g),rs(this.b),Wh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y1,formatHex:Y1,formatHex8:tO,formatRgb:Q1,toString:Q1}));function Y1(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}`}function tO(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}${Ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q1(){const n=Wh(this.opacity);return`${n===1?"rgb(":"rgba("}${rs(this.r)}, ${rs(this.g)}, ${rs(this.b)}${n===1?")":`, ${n})`}`}function Wh(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function rs(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ja(n){return n=rs(n),(n<16?"0":"")+n.toString(16)}function X1(n,t,e,a){return a<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new hr(n,t,e,a)}function hS(n){if(n instanceof hr)return new hr(n.h,n.s,n.l,n.opacity);if(n instanceof Du||(n=us(n)),!n)return new hr;if(n instanceof hr)return n;n=n.rgb();var t=n.r/255,e=n.g/255,a=n.b/255,o=Math.min(t,e,a),u=Math.max(t,e,a),h=NaN,d=u-o,m=(u+o)/2;return d?(t===u?h=(e-a)/d+(e<a)*6:e===u?h=(a-t)/d+2:h=(t-e)/d+4,d/=m<.5?u+o:2-u-o,h*=60):d=m>0&&m<1?0:h,new hr(h,d,m,n.opacity)}function eO(n,t,e,a){return arguments.length===1?hS(n):new hr(n,t,e,a??1)}function hr(n,t,e,a){this.h=+n,this.s=+t,this.l=+e,this.opacity=+a}Bg(hr,eO,cS(Du,{brighter(n){return n=n==null?Zh:Math.pow(Zh,n),new hr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?yu:Math.pow(yu,n),new hr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,a=e+(e<.5?e:1-e)*t,o=2*e-a;return new Mn(qp(n>=240?n-240:n+120,o,a),qp(n,o,a),qp(n<120?n+240:n-120,o,a),this.opacity)},clamp(){return new hr(Z1(this.h),oh(this.s),oh(this.l),Wh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Wh(this.opacity);return`${n===1?"hsl(":"hsla("}${Z1(this.h)}, ${oh(this.s)*100}%, ${oh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Z1(n){return n=(n||0)%360,n<0?n+360:n}function oh(n){return Math.max(0,Math.min(1,n||0))}function qp(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const zg=n=>()=>n;function nO(n,t){return function(e){return n+e*t}}function rO(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(a){return Math.pow(n+a*t,e)}}function iO(n){return(n=+n)==1?fS:function(t,e){return e-t?rO(t,e,n):zg(isNaN(t)?e:t)}}function fS(n,t){var e=t-n;return e?nO(n,e):zg(isNaN(n)?t:n)}const Jh=function n(t){var e=iO(t);function a(o,u){var h=e((o=Nm(o)).r,(u=Nm(u)).r),d=e(o.g,u.g),m=e(o.b,u.b),g=fS(o.opacity,u.opacity);return function(_){return o.r=h(_),o.g=d(_),o.b=m(_),o.opacity=g(_),o+""}}return a.gamma=n,a}(1);function aO(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,a=t.slice(),o;return function(u){for(o=0;o<e;++o)a[o]=n[o]*(1-u)+t[o]*u;return a}}function sO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function oO(n,t){var e=t?t.length:0,a=n?Math.min(e,n.length):0,o=new Array(a),u=new Array(e),h;for(h=0;h<a;++h)o[h]=jg(n[h],t[h]);for(;h<e;++h)u[h]=t[h];return function(d){for(h=0;h<a;++h)u[h]=o[h](d);return u}}function lO(n,t){var e=new Date;return n=+n,t=+t,function(a){return e.setTime(n*(1-a)+t*a),e}}function ur(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function uO(n,t){var e={},a={},o;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in n?e[o]=jg(n[o],t[o]):a[o]=t[o];return function(u){for(o in e)a[o]=e[o](u);return a}}var Dm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fp=new RegExp(Dm.source,"g");function cO(n){return function(){return n}}function hO(n){return function(t){return n(t)+""}}function dS(n,t){var e=Dm.lastIndex=Fp.lastIndex=0,a,o,u,h=-1,d=[],m=[];for(n=n+"",t=t+"";(a=Dm.exec(n))&&(o=Fp.exec(t));)(u=o.index)>e&&(u=t.slice(e,u),d[h]?d[h]+=u:d[++h]=u),(a=a[0])===(o=o[0])?d[h]?d[h]+=o:d[++h]=o:(d[++h]=null,m.push({i:h,x:ur(a,o)})),e=Fp.lastIndex;return e<t.length&&(u=t.slice(e),d[h]?d[h]+=u:d[++h]=u),d.length<2?m[0]?hO(m[0].x):cO(t):(t=m.length,function(g){for(var _=0,T;_<t;++_)d[(T=m[_]).i]=T.x(g);return d.join("")})}function jg(n,t){var e=typeof t,a;return t==null||e==="boolean"?zg(t):(e==="number"?ur:e==="string"?(a=us(t))?(t=a,Jh):dS:t instanceof us?Jh:t instanceof Date?lO:sO(t)?aO:Array.isArray(t)?oO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uO:ur)(n,t)}function fO(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var W1=180/Math.PI,Om={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pS(n,t,e,a,o,u){var h,d,m;return(h=Math.sqrt(n*n+t*t))&&(n/=h,t/=h),(m=n*e+t*a)&&(e-=n*m,a-=t*m),(d=Math.sqrt(e*e+a*a))&&(e/=d,a/=d,m/=d),n*a<t*e&&(n=-n,t=-t,m=-m,h=-h),{translateX:o,translateY:u,rotate:Math.atan2(t,n)*W1,skewX:Math.atan(m)*W1,scaleX:h,scaleY:d}}var lh;function dO(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Om:pS(t.a,t.b,t.c,t.d,t.e,t.f)}function pO(n){return n==null||(lh||(lh=document.createElementNS("http://www.w3.org/2000/svg","g")),lh.setAttribute("transform",n),!(n=lh.transform.baseVal.consolidate()))?Om:(n=n.matrix,pS(n.a,n.b,n.c,n.d,n.e,n.f))}function mS(n,t,e,a){function o(g){return g.length?g.pop()+" ":""}function u(g,_,T,S,D,j){if(g!==T||_!==S){var Z=D.push("translate(",null,t,null,e);j.push({i:Z-4,x:ur(g,T)},{i:Z-2,x:ur(_,S)})}else(T||S)&&D.push("translate("+T+t+S+e)}function h(g,_,T,S){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),S.push({i:T.push(o(T)+"rotate(",null,a)-2,x:ur(g,_)})):_&&T.push(o(T)+"rotate("+_+a)}function d(g,_,T,S){g!==_?S.push({i:T.push(o(T)+"skewX(",null,a)-2,x:ur(g,_)}):_&&T.push(o(T)+"skewX("+_+a)}function m(g,_,T,S,D,j){if(g!==T||_!==S){var Z=D.push(o(D)+"scale(",null,",",null,")");j.push({i:Z-4,x:ur(g,T)},{i:Z-2,x:ur(_,S)})}else(T!==1||S!==1)&&D.push(o(D)+"scale("+T+","+S+")")}return function(g,_){var T=[],S=[];return g=n(g),_=n(_),u(g.translateX,g.translateY,_.translateX,_.translateY,T,S),h(g.rotate,_.rotate,T,S),d(g.skewX,_.skewX,T,S),m(g.scaleX,g.scaleY,_.scaleX,_.scaleY,T,S),g=_=null,function(D){for(var j=-1,Z=S.length,Q;++j<Z;)T[(Q=S[j]).i]=Q.x(D);return T.join("")}}}var mO=mS(dO,"px, ","px)","deg)"),gO=mS(pO,", ",")",")"),Io=0,Zl=0,Hl=0,gS=1e3,tf,Wl,ef=0,cs=0,bf=0,vu=typeof performance=="object"&&performance.now?performance:Date,yS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Gg(){return cs||(yS(yO),cs=vu.now()+bf)}function yO(){cs=0}function nf(){this._call=this._time=this._next=null}nf.prototype=_S.prototype={constructor:nf,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Gg():+e)+(t==null?0:+t),!this._next&&Wl!==this&&(Wl?Wl._next=this:tf=this,Wl=this),this._call=n,this._time=e,km()},stop:function(){this._call&&(this._call=null,this._time=1/0,km())}};function _S(n,t,e){var a=new nf;return a.restart(n,t,e),a}function _O(){Gg(),++Io;for(var n=tf,t;n;)(t=cs-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Io}function J1(){cs=(ef=vu.now())+bf,Io=Zl=0;try{_O()}finally{Io=0,EO(),cs=0}}function vO(){var n=vu.now(),t=n-ef;t>gS&&(bf-=t,ef=n)}function EO(){for(var n,t=tf,e,a=1/0;t;)t._call?(a>t._time&&(a=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:tf=e);Wl=n,km(a)}function km(n){if(!Io){Zl&&(Zl=clearTimeout(Zl));var t=n-cs;t>24?(n<1/0&&(Zl=setTimeout(J1,n-vu.now()-bf)),Hl&&(Hl=clearInterval(Hl))):(Hl||(ef=vu.now(),Hl=setInterval(vO,gS)),Io=1,yS(J1))}}function tE(n,t,e){var a=new nf;return t=t==null?0:+t,a.restart(o=>{a.stop(),n(o+t)},t,e),a}var TO=Ww("start","end","cancel","interrupt"),wO=[],vS=0,eE=1,Vm=2,Sh=3,nE=4,Pm=5,bh=6;function Af(n,t,e,a,o,u){var h=n.__transition;if(!h)n.__transition={};else if(e in h)return;SO(n,e,{name:t,index:a,group:o,on:TO,tween:wO,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:vS})}function Hg(n,t){var e=mr(n,t);if(e.state>vS)throw new Error("too late; already scheduled");return e}function Hr(n,t){var e=mr(n,t);if(e.state>Sh)throw new Error("too late; already running");return e}function mr(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function SO(n,t,e){var a=n.__transition,o;a[t]=e,e.timer=_S(u,0,e.time);function u(g){e.state=eE,e.timer.restart(h,e.delay,e.time),e.delay<=g&&h(g-e.delay)}function h(g){var _,T,S,D;if(e.state!==eE)return m();for(_ in a)if(D=a[_],D.name===e.name){if(D.state===Sh)return tE(h);D.state===nE?(D.state=bh,D.timer.stop(),D.on.call("interrupt",n,n.__data__,D.index,D.group),delete a[_]):+_<t&&(D.state=bh,D.timer.stop(),D.on.call("cancel",n,n.__data__,D.index,D.group),delete a[_])}if(tE(function(){e.state===Sh&&(e.state=nE,e.timer.restart(d,e.delay,e.time),d(g))}),e.state=Vm,e.on.call("start",n,n.__data__,e.index,e.group),e.state===Vm){for(e.state=Sh,o=new Array(S=e.tween.length),_=0,T=-1;_<S;++_)(D=e.tween[_].value.call(n,n.__data__,e.index,e.group))&&(o[++T]=D);o.length=T+1}}function d(g){for(var _=g<e.duration?e.ease.call(null,g/e.duration):(e.timer.restart(m),e.state=Pm,1),T=-1,S=o.length;++T<S;)o[T].call(n,_);e.state===Pm&&(e.on.call("end",n,n.__data__,e.index,e.group),m())}function m(){e.state=bh,e.timer.stop(),delete a[t];for(var g in a)return;delete n.__transition}}function bO(n,t){var e=n.__transition,a,o,u=!0,h;if(e){t=t==null?null:t+"";for(h in e){if((a=e[h]).name!==t){u=!1;continue}o=a.state>Vm&&a.state<Pm,a.state=bh,a.timer.stop(),a.on.call(o?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete e[h]}u&&delete n.__transition}}function AO(n){return this.each(function(){bO(this,n)})}function RO(n,t){var e,a;return function(){var o=Hr(this,n),u=o.tween;if(u!==e){a=e=u;for(var h=0,d=a.length;h<d;++h)if(a[h].name===t){a=a.slice(),a.splice(h,1);break}}o.tween=a}}function CO(n,t,e){var a,o;if(typeof e!="function")throw new Error;return function(){var u=Hr(this,n),h=u.tween;if(h!==a){o=(a=h).slice();for(var d={name:t,value:e},m=0,g=o.length;m<g;++m)if(o[m].name===t){o[m]=d;break}m===g&&o.push(d)}u.tween=o}}function IO(n,t){var e=this._id;if(n+="",arguments.length<2){for(var a=mr(this.node(),e).tween,o=0,u=a.length,h;o<u;++o)if((h=a[o]).name===n)return h.value;return null}return this.each((t==null?RO:CO)(e,n,t))}function qg(n,t,e){var a=n._id;return n.each(function(){var o=Hr(this,a);(o.value||(o.value={}))[t]=e.apply(this,arguments)}),function(o){return mr(o,a).value[t]}}function ES(n,t){var e;return(typeof t=="number"?ur:t instanceof us?Jh:(e=us(t))?(t=e,Jh):dS)(n,t)}function xO(n){return function(){this.removeAttribute(n)}}function MO(n){return function(){this.removeAttributeNS(n.space,n.local)}}function NO(n,t,e){var a,o=e+"",u;return function(){var h=this.getAttribute(n);return h===o?null:h===a?u:u=t(a=h,e)}}function DO(n,t,e){var a,o=e+"",u;return function(){var h=this.getAttributeNS(n.space,n.local);return h===o?null:h===a?u:u=t(a=h,e)}}function OO(n,t,e){var a,o,u;return function(){var h,d=e(this),m;return d==null?void this.removeAttribute(n):(h=this.getAttribute(n),m=d+"",h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d)))}}function kO(n,t,e){var a,o,u;return function(){var h,d=e(this),m;return d==null?void this.removeAttributeNS(n.space,n.local):(h=this.getAttributeNS(n.space,n.local),m=d+"",h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d)))}}function VO(n,t){var e=Sf(n),a=e==="transform"?gO:ES;return this.attrTween(n,typeof t=="function"?(e.local?kO:OO)(e,a,qg(this,"attr."+n,t)):t==null?(e.local?MO:xO)(e):(e.local?DO:NO)(e,a,t))}function PO(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function LO(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function UO(n,t){var e,a;function o(){var u=t.apply(this,arguments);return u!==a&&(e=(a=u)&&LO(n,u)),e}return o._value=t,o}function BO(n,t){var e,a;function o(){var u=t.apply(this,arguments);return u!==a&&(e=(a=u)&&PO(n,u)),e}return o._value=t,o}function zO(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var a=Sf(n);return this.tween(e,(a.local?UO:BO)(a,t))}function jO(n,t){return function(){Hg(this,n).delay=+t.apply(this,arguments)}}function GO(n,t){return t=+t,function(){Hg(this,n).delay=t}}function HO(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?jO:GO)(t,n)):mr(this.node(),t).delay}function qO(n,t){return function(){Hr(this,n).duration=+t.apply(this,arguments)}}function FO(n,t){return t=+t,function(){Hr(this,n).duration=t}}function $O(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?qO:FO)(t,n)):mr(this.node(),t).duration}function KO(n,t){if(typeof t!="function")throw new Error;return function(){Hr(this,n).ease=t}}function YO(n){var t=this._id;return arguments.length?this.each(KO(t,n)):mr(this.node(),t).ease}function QO(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;Hr(this,n).ease=e}}function XO(n){if(typeof n!="function")throw new Error;return this.each(QO(this._id,n))}function ZO(n){typeof n!="function"&&(n=tS(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=[],m,g=0;g<h;++g)(m=u[g])&&n.call(m,m.__data__,g,u)&&d.push(m);return new Ri(a,this._parents,this._name,this._id)}function WO(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,a=t.length,o=e.length,u=Math.min(a,o),h=new Array(a),d=0;d<u;++d)for(var m=t[d],g=e[d],_=m.length,T=h[d]=new Array(_),S,D=0;D<_;++D)(S=m[D]||g[D])&&(T[D]=S);for(;d<a;++d)h[d]=t[d];return new Ri(h,this._parents,this._name,this._id)}function JO(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function t3(n,t,e){var a,o,u=JO(t)?Hg:Hr;return function(){var h=u(this,n),d=h.on;d!==a&&(o=(a=d).copy()).on(t,e),h.on=o}}function e3(n,t){var e=this._id;return arguments.length<2?mr(this.node(),e).on.on(n):this.each(t3(e,n,t))}function n3(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function r3(){return this.on("end.remove",n3(this._id))}function i3(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Lg(n));for(var a=this._groups,o=a.length,u=new Array(o),h=0;h<o;++h)for(var d=a[h],m=d.length,g=u[h]=new Array(m),_,T,S=0;S<m;++S)(_=d[S])&&(T=n.call(_,_.__data__,S,d))&&("__data__"in _&&(T.__data__=_.__data__),g[S]=T,Af(g[S],t,e,S,g,mr(_,e)));return new Ri(u,this._parents,t,e)}function a3(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Jw(n));for(var a=this._groups,o=a.length,u=[],h=[],d=0;d<o;++d)for(var m=a[d],g=m.length,_,T=0;T<g;++T)if(_=m[T]){for(var S=n.call(_,_.__data__,T,m),D,j=mr(_,e),Z=0,Q=S.length;Z<Q;++Z)(D=S[Z])&&Af(D,t,e,Z,S,j);u.push(S),h.push(_)}return new Ri(u,h,t,e)}var s3=Nu.prototype.constructor;function o3(){return new s3(this._groups,this._parents)}function l3(n,t){var e,a,o;return function(){var u=Co(this,n),h=(this.style.removeProperty(n),Co(this,n));return u===h?null:u===e&&h===a?o:o=t(e=u,a=h)}}function TS(n){return function(){this.style.removeProperty(n)}}function u3(n,t,e){var a,o=e+"",u;return function(){var h=Co(this,n);return h===o?null:h===a?u:u=t(a=h,e)}}function c3(n,t,e){var a,o,u;return function(){var h=Co(this,n),d=e(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(n),Co(this,n))),h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d))}}function h3(n,t){var e,a,o,u="style."+t,h="end."+u,d;return function(){var m=Hr(this,n),g=m.on,_=m.value[u]==null?d||(d=TS(t)):void 0;(g!==e||o!==_)&&(a=(e=g).copy()).on(h,o=_),m.on=a}}function f3(n,t,e){var a=(n+="")=="transform"?mO:ES;return t==null?this.styleTween(n,l3(n,a)).on("end.style."+n,TS(n)):typeof t=="function"?this.styleTween(n,c3(n,a,qg(this,"style."+n,t))).each(h3(this._id,n)):this.styleTween(n,u3(n,a,t),e).on("end.style."+n,null)}function d3(n,t,e){return function(a){this.style.setProperty(n,t.call(this,a),e)}}function p3(n,t,e){var a,o;function u(){var h=t.apply(this,arguments);return h!==o&&(a=(o=h)&&d3(n,h,e)),a}return u._value=t,u}function m3(n,t,e){var a="style."+(n+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,p3(n,t,e??""))}function g3(n){return function(){this.textContent=n}}function y3(n){return function(){var t=n(this);this.textContent=t??""}}function _3(n){return this.tween("text",typeof n=="function"?y3(qg(this,"text",n)):g3(n==null?"":n+""))}function v3(n){return function(t){this.textContent=n.call(this,t)}}function E3(n){var t,e;function a(){var o=n.apply(this,arguments);return o!==e&&(t=(e=o)&&v3(o)),t}return a._value=n,a}function T3(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,E3(n))}function w3(){for(var n=this._name,t=this._id,e=wS(),a=this._groups,o=a.length,u=0;u<o;++u)for(var h=a[u],d=h.length,m,g=0;g<d;++g)if(m=h[g]){var _=mr(m,t);Af(m,n,e,g,h,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Ri(a,this._parents,n,e)}function S3(){var n,t,e=this,a=e._id,o=e.size();return new Promise(function(u,h){var d={value:h},m={value:function(){--o===0&&u()}};e.each(function(){var g=Hr(this,a),_=g.on;_!==n&&(t=(n=_).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(m)),g.on=t}),o===0&&u()})}var b3=0;function Ri(n,t,e,a){this._groups=n,this._parents=t,this._name=e,this._id=a}function wS(){return++b3}var mi=Nu.prototype;Ri.prototype={constructor:Ri,select:i3,selectAll:a3,selectChild:mi.selectChild,selectChildren:mi.selectChildren,filter:ZO,merge:WO,selection:o3,transition:w3,call:mi.call,nodes:mi.nodes,node:mi.node,size:mi.size,empty:mi.empty,each:mi.each,on:e3,attr:VO,attrTween:zO,style:f3,styleTween:m3,text:_3,textTween:T3,remove:r3,tween:IO,delay:HO,duration:$O,ease:YO,easeVarying:XO,end:S3,[Symbol.iterator]:mi[Symbol.iterator]};const rE=n=>+n;function A3(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var R3={time:null,delay:0,duration:250,ease:A3};function C3(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function I3(n){var t,e;n instanceof Ri?(t=n._id,n=n._name):(t=wS(),(e=R3).time=Gg(),n=n==null?null:n+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var h=a[u],d=h.length,m,g=0;g<d;++g)(m=h[g])&&Af(m,n,t,g,h,e||C3(m,t));return new Ri(a,this._parents,n,t)}Nu.prototype.interrupt=AO;Nu.prototype.transition=I3;const Lm=Math.PI,Um=2*Lm,Xa=1e-6,x3=Um-Xa;function SS(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function M3(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return SS;const e=10**t;return function(a){this._+=a[0];for(let o=1,u=a.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+a[o]}}class N3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SS:M3(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,a,o){this._append`Q${+t},${+e},${this._x1=+a},${this._y1=+o}`}bezierCurveTo(t,e,a,o,u,h){this._append`C${+t},${+e},${+a},${+o},${this._x1=+u},${this._y1=+h}`}arcTo(t,e,a,o,u){if(t=+t,e=+e,a=+a,o=+o,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,d=this._y1,m=a-t,g=o-e,_=h-t,T=d-e,S=_*_+T*T;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(S>Xa)if(!(Math.abs(T*m-g*_)>Xa)||!u)this._append`L${this._x1=t},${this._y1=e}`;else{let D=a-h,j=o-d,Z=m*m+g*g,Q=D*D+j*j,mt=Math.sqrt(Z),ut=Math.sqrt(S),at=u*Math.tan((Lm-Math.acos((Z+S-Q)/(2*mt*ut)))/2),_t=at/ut,dt=at/mt;Math.abs(_t-1)>Xa&&this._append`L${t+_t*_},${e+_t*T}`,this._append`A${u},${u},0,0,${+(T*D>_*j)},${this._x1=t+dt*m},${this._y1=e+dt*g}`}}arc(t,e,a,o,u,h){if(t=+t,e=+e,a=+a,h=!!h,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(o),m=a*Math.sin(o),g=t+d,_=e+m,T=1^h,S=h?o-u:u-o;this._x1===null?this._append`M${g},${_}`:(Math.abs(this._x1-g)>Xa||Math.abs(this._y1-_)>Xa)&&this._append`L${g},${_}`,a&&(S<0&&(S=S%Um+Um),S>x3?this._append`A${a},${a},0,1,${T},${t-d},${e-m}A${a},${a},0,1,${T},${this._x1=g},${this._y1=_}`:S>Xa&&this._append`A${a},${a},0,${+(S>=Lm)},${T},${this._x1=t+a*Math.cos(u)},${this._y1=e+a*Math.sin(u)}`)}rect(t,e,a,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${a=+a}v${+o}h${-a}Z`}toString(){return this._}}var iE={},$p={},Kp=34,ql=10,Yp=13;function bS(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function D3(n,t){var e=bS(n);return function(a,o){return t(e(a),o,n)}}function aE(n){var t=Object.create(null),e=[];return n.forEach(function(a){for(var o in a)o in t||e.push(t[o]=o)}),e}function In(n,t){var e=n+"",a=e.length;return a<t?new Array(t-a+1).join(0)+e:e}function O3(n){return n<0?"-"+In(-n,6):n>9999?"+"+In(n,6):In(n,4)}function k3(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),a=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":O3(n.getUTCFullYear())+"-"+In(n.getUTCMonth()+1,2)+"-"+In(n.getUTCDate(),2)+(o?"T"+In(t,2)+":"+In(e,2)+":"+In(a,2)+"."+In(o,3)+"Z":a?"T"+In(t,2)+":"+In(e,2)+":"+In(a,2)+"Z":e||t?"T"+In(t,2)+":"+In(e,2)+"Z":"")}function V3(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function a(T,S){var D,j,Z=o(T,function(Q,mt){if(D)return D(Q,mt-1);j=Q,D=S?D3(Q,S):bS(Q)});return Z.columns=j||[],Z}function o(T,S){var D=[],j=T.length,Z=0,Q=0,mt,ut=j<=0,at=!1;T.charCodeAt(j-1)===ql&&--j,T.charCodeAt(j-1)===Yp&&--j;function _t(){if(ut)return $p;if(at)return at=!1,iE;var Et,O=Z,C;if(T.charCodeAt(O)===Kp){for(;Z++<j&&T.charCodeAt(Z)!==Kp||T.charCodeAt(++Z)===Kp;);return(Et=Z)>=j?ut=!0:(C=T.charCodeAt(Z++))===ql?at=!0:C===Yp&&(at=!0,T.charCodeAt(Z)===ql&&++Z),T.slice(O+1,Et-1).replace(/""/g,'"')}for(;Z<j;){if((C=T.charCodeAt(Et=Z++))===ql)at=!0;else if(C===Yp)at=!0,T.charCodeAt(Z)===ql&&++Z;else if(C!==e)continue;return T.slice(O,Et)}return ut=!0,T.slice(O,j)}for(;(mt=_t())!==$p;){for(var dt=[];mt!==iE&&mt!==$p;)dt.push(mt),mt=_t();S&&(dt=S(dt,Q++))==null||D.push(dt)}return D}function u(T,S){return T.map(function(D){return S.map(function(j){return _(D[j])}).join(n)})}function h(T,S){return S==null&&(S=aE(T)),[S.map(_).join(n)].concat(u(T,S)).join(`
`)}function d(T,S){return S==null&&(S=aE(T)),u(T,S).join(`
`)}function m(T){return T.map(g).join(`
`)}function g(T){return T.map(_).join(n)}function _(T){return T==null?"":T instanceof Date?k3(T):t.test(T+="")?'"'+T.replace(/"/g,'""')+'"':T}return{parse:a,parseRows:o,format:h,formatBody:d,formatRows:m,formatRow:g,formatValue:_}}var P3=V3(","),L3=P3.parse;function AS(n){for(var t in n){var e=n[t].trim(),a,o;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(a=+e))e=a;else if(o=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))U3&&o[4]&&!o[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[t]=e}return n}const U3=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function B3(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function z3(n,t){return fetch(n,t).then(B3)}function j3(n){return function(t,e,a){return arguments.length===2&&typeof e=="function"&&(a=e,e=void 0),z3(t,e).then(function(o){return n(o,a)})}}var RS=j3(L3);function G3(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function rf(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,a=n.slice(0,e);return[a.length>1?a[0]+a.slice(2):a,+n.slice(e+1)]}function xo(n){return n=rf(Math.abs(n)),n?n[1]:NaN}function H3(n,t){return function(e,a){for(var o=e.length,u=[],h=0,d=n[0],m=0;o>0&&d>0&&(m+d+1>a&&(d=Math.max(1,a-m)),u.push(e.substring(o-=d,o+d)),!((m+=d+1)>a));)d=n[h=(h+1)%n.length];return u.reverse().join(t)}}function q3(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var F3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function af(n){if(!(t=F3.exec(n)))throw new Error("invalid format: "+n);var t;return new Fg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}af.prototype=Fg.prototype;function Fg(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Fg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $3(n){t:for(var t=n.length,e=1,a=-1,o;e<t;++e)switch(n[e]){case".":a=o=e;break;case"0":a===0&&(a=e),o=e;break;default:if(!+n[e])break t;a>0&&(a=0);break}return a>0?n.slice(0,a)+n.slice(o+1):n}var CS;function K3(n,t){var e=rf(n,t);if(!e)return n+"";var a=e[0],o=e[1],u=o-(CS=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,h=a.length;return u===h?a:u>h?a+new Array(u-h+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+rf(n,Math.max(0,t+u-1))[0]}function sE(n,t){var e=rf(n,t);if(!e)return n+"";var a=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}const oE={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:G3,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>sE(n*100,t),r:sE,s:K3,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function lE(n){return n}var uE=Array.prototype.map,cE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Y3(n){var t=n.grouping===void 0||n.thousands===void 0?lE:H3(uE.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",a=n.currency===void 0?"":n.currency[1]+"",o=n.decimal===void 0?".":n.decimal+"",u=n.numerals===void 0?lE:q3(uE.call(n.numerals,String)),h=n.percent===void 0?"%":n.percent+"",d=n.minus===void 0?"−":n.minus+"",m=n.nan===void 0?"NaN":n.nan+"";function g(T){T=af(T);var S=T.fill,D=T.align,j=T.sign,Z=T.symbol,Q=T.zero,mt=T.width,ut=T.comma,at=T.precision,_t=T.trim,dt=T.type;dt==="n"?(ut=!0,dt="g"):oE[dt]||(at===void 0&&(at=12),_t=!0,dt="g"),(Q||S==="0"&&D==="=")&&(Q=!0,S="0",D="=");var Et=Z==="$"?e:Z==="#"&&/[boxX]/.test(dt)?"0"+dt.toLowerCase():"",O=Z==="$"?a:/[%p]/.test(dt)?h:"",C=oE[dt],I=/[defgprs%]/.test(dt);at=at===void 0?6:/[gprs]/.test(dt)?Math.max(1,Math.min(21,at)):Math.max(0,Math.min(20,at));function V(M){var P=Et,x=O,tt,H,N;if(dt==="c")x=C(M)+x,M="";else{M=+M;var L=M<0||1/M<0;if(M=isNaN(M)?m:C(Math.abs(M),at),_t&&(M=$3(M)),L&&+M==0&&j!=="+"&&(L=!1),P=(L?j==="("?j:d:j==="-"||j==="("?"":j)+P,x=(dt==="s"?cE[8+CS/3]:"")+x+(L&&j==="("?")":""),I){for(tt=-1,H=M.length;++tt<H;)if(N=M.charCodeAt(tt),48>N||N>57){x=(N===46?o+M.slice(tt+1):M.slice(tt))+x,M=M.slice(0,tt);break}}}ut&&!Q&&(M=t(M,1/0));var U=P.length+M.length+x.length,z=U<mt?new Array(mt-U+1).join(S):"";switch(ut&&Q&&(M=t(z+M,z.length?mt-x.length:1/0),z=""),D){case"<":M=P+M+x+z;break;case"=":M=P+z+M+x;break;case"^":M=z.slice(0,U=z.length>>1)+P+M+x+z.slice(U);break;default:M=z+P+M+x;break}return u(M)}return V.toString=function(){return T+""},V}function _(T,S){var D=g((T=af(T),T.type="f",T)),j=Math.max(-8,Math.min(8,Math.floor(xo(S)/3)))*3,Z=Math.pow(10,-j),Q=cE[8+j/3];return function(mt){return D(Z*mt)+Q}}return{format:g,formatPrefix:_}}var uh,IS,xS;Q3({thousands:",",grouping:[3],currency:["$",""]});function Q3(n){return uh=Y3(n),IS=uh.format,xS=uh.formatPrefix,uh}function X3(n){return Math.max(0,-xo(Math.abs(n)))}function Z3(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xo(t)/3)))*3-xo(Math.abs(n)))}function W3(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,xo(t)-xo(n))+1}function $g(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const hE=Symbol("implicit");function MS(){var n=new Am,t=[],e=[],a=hE;function o(u){let h=n.get(u);if(h===void 0){if(a!==hE)return a;n.set(u,h=t.push(u)-1)}return e[h%e.length]}return o.domain=function(u){if(!arguments.length)return t.slice();t=[],n=new Am;for(const h of u)n.has(h)||n.set(h,t.push(h)-1);return o},o.range=function(u){return arguments.length?(e=Array.from(u),o):e.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.copy=function(){return MS(t,e).unknown(a)},$g.apply(o,arguments),o}function NS(){var n=MS().unknown(void 0),t=n.domain,e=n.range,a=0,o=1,u,h,d=!1,m=0,g=0,_=.5;delete n.unknown;function T(){var S=t().length,D=o<a,j=D?o:a,Z=D?a:o;u=(Z-j)/Math.max(1,S-m+g*2),d&&(u=Math.floor(u)),j+=(Z-j-u*(S-m))*_,h=u*(1-m),d&&(j=Math.round(j),h=Math.round(h));var Q=JN(S).map(function(mt){return j+u*mt});return e(D?Q.reverse():Q)}return n.domain=function(S){return arguments.length?(t(S),T()):t()},n.range=function(S){return arguments.length?([a,o]=S,a=+a,o=+o,T()):[a,o]},n.rangeRound=function(S){return[a,o]=S,a=+a,o=+o,d=!0,T()},n.bandwidth=function(){return h},n.step=function(){return u},n.round=function(S){return arguments.length?(d=!!S,T()):d},n.padding=function(S){return arguments.length?(m=Math.min(1,g=+S),T()):m},n.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),T()):m},n.paddingOuter=function(S){return arguments.length?(g=+S,T()):g},n.align=function(S){return arguments.length?(_=Math.max(0,Math.min(1,S)),T()):_},n.copy=function(){return NS(t(),[a,o]).round(d).paddingInner(m).paddingOuter(g).align(_)},$g.apply(T(),arguments)}function J3(n){return function(){return n}}function tk(n){return+n}var fE=[0,1];function ho(n){return n}function Bm(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:J3(isNaN(t)?NaN:.5)}function ek(n,t){var e;return n>t&&(e=n,n=t,t=e),function(a){return Math.max(n,Math.min(t,a))}}function nk(n,t,e){var a=n[0],o=n[1],u=t[0],h=t[1];return o<a?(a=Bm(o,a),u=e(h,u)):(a=Bm(a,o),u=e(u,h)),function(d){return u(a(d))}}function rk(n,t,e){var a=Math.min(n.length,t.length)-1,o=new Array(a),u=new Array(a),h=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++h<a;)o[h]=Bm(n[h],n[h+1]),u[h]=e(t[h],t[h+1]);return function(d){var m=HN(n,d,1,a)-1;return u[m](o[m](d))}}function ik(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ak(){var n=fE,t=fE,e=jg,a,o,u,h=ho,d,m,g;function _(){var S=Math.min(n.length,t.length);return h!==ho&&(h=ek(n[0],n[S-1])),d=S>2?rk:nk,m=g=null,T}function T(S){return S==null||isNaN(S=+S)?u:(m||(m=d(n.map(a),t,e)))(a(h(S)))}return T.invert=function(S){return h(o((g||(g=d(t,n.map(a),ur)))(S)))},T.domain=function(S){return arguments.length?(n=Array.from(S,tk),_()):n.slice()},T.range=function(S){return arguments.length?(t=Array.from(S),_()):t.slice()},T.rangeRound=function(S){return t=Array.from(S),e=fO,_()},T.clamp=function(S){return arguments.length?(h=S?!0:ho,_()):h!==ho},T.interpolate=function(S){return arguments.length?(e=S,_()):e},T.unknown=function(S){return arguments.length?(u=S,T):u},function(S,D){return a=S,o=D,_()}}function sk(){return ak()(ho,ho)}function ok(n,t,e,a){var o=WN(n,t,e),u;switch(a=af(a??",f"),a.type){case"s":{var h=Math.max(Math.abs(n),Math.abs(t));return a.precision==null&&!isNaN(u=Z3(o,h))&&(a.precision=u),xS(a,h)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(u=W3(o,Math.max(Math.abs(n),Math.abs(t))))&&(a.precision=u-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(u=X3(o))&&(a.precision=u-(a.type==="%")*2);break}}return IS(a)}function lk(n){var t=n.domain;return n.ticks=function(e){var a=t();return ZN(a[0],a[a.length-1],e??10)},n.tickFormat=function(e,a){var o=t();return ok(o[0],o[o.length-1],e??10,a)},n.nice=function(e){e==null&&(e=10);var a=t(),o=0,u=a.length-1,h=a[o],d=a[u],m,g,_=10;for(d<h&&(g=h,h=d,d=g,g=o,o=u,u=g);_-- >0;){if(g=Cm(h,d,e),g===m)return a[o]=h,a[u]=d,t(a);if(g>0)h=Math.floor(h/g)*g,d=Math.ceil(d/g)*g;else if(g<0)h=Math.ceil(h*g)/g,d=Math.floor(d*g)/g;else break;m=g}return n},n}function _o(){var n=sk();return n.copy=function(){return ik(n,_o())},$g.apply(n,arguments),lk(n)}function ao(n){return function(){return n}}function uk(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const a=Math.floor(e);if(!(a>=0))throw new RangeError(`invalid digits: ${e}`);t=a}return n},()=>new N3(t)}function ck(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function DS(n){this._context=n}DS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function hk(n){return new DS(n)}function fk(n){return n[0]}function dk(n){return n[1]}function OS(n,t){var e=ao(!0),a=null,o=hk,u=null,h=uk(d);n=typeof n=="function"?n:n===void 0?fk:ao(n),t=typeof t=="function"?t:t===void 0?dk:ao(t);function d(m){var g,_=(m=ck(m)).length,T,S=!1,D;for(a==null&&(u=o(D=h())),g=0;g<=_;++g)!(g<_&&e(T=m[g],g,m))===S&&((S=!S)?u.lineStart():u.lineEnd()),S&&u.point(+n(T,g,m),+t(T,g,m));if(D)return u=null,D+""||null}return d.x=function(m){return arguments.length?(n=typeof m=="function"?m:ao(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ao(+m),d):t},d.defined=function(m){return arguments.length?(e=typeof m=="function"?m:ao(!!m),d):e},d.curve=function(m){return arguments.length?(o=m,a!=null&&(u=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=u=null:u=o(a=m),d):a},d}function dE(n){return n<0?-1:1}function pE(n,t,e){var a=n._x1-n._x0,o=t-n._x1,u=(n._y1-n._y0)/(a||o<0&&-0),h=(e-n._y1)/(o||a<0&&-0),d=(u*o+h*a)/(a+o);return(dE(u)+dE(h))*Math.min(Math.abs(u),Math.abs(h),.5*Math.abs(d))||0}function mE(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function Qp(n,t,e){var a=n._x0,o=n._y0,u=n._x1,h=n._y1,d=(u-a)/3;n._context.bezierCurveTo(a+d,o+d*t,u-d,h-d*e,u,h)}function sf(n){this._context=n}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qp(this,this._t0,mE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,Qp(this,mE(this,e=pE(this,n,t)),e);break;default:Qp(this,this._t0,e=pE(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};Object.create(sf.prototype).point=function(n,t){sf.prototype.point.call(this,t,n)};function kS(n){return new sf(n)}function Jl(n,t,e){this.k=n,this.x=t,this.y=e}Jl.prototype={constructor:Jl,scale:function(n){return n===1?this:new Jl(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Jl(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Jl.prototype;function pk(n){const[t,e]=At.useState({width:0,height:0});return At.useEffect(()=>{const a=n.current;if(!a)return;const o=new ResizeObserver(([u])=>e(u.contentRect));return o.observe(a),()=>o.disconnect()},[n]),t}const Ti=["#3b9e9e","#4f7cac","#b48f2b","#8c6fa8","#d17968"],mk=JSON.parse('[{"country":"Afghanistan","population":37172386},{"country":"Albania","population":2866376},{"country":"Algeria","population":42228429},{"country":"American Samoa","population":55465},{"country":"Andorra","population":77006},{"country":"Angola","population":30809762},{"country":"Anguilla","population":15094},{"country":"Antarctica","population":1106},{"country":"Antigua and Barbuda","population":96286},{"country":"Argentina","population":44494502},{"country":"Armenia","population":2951776},{"country":"Aruba","population":105845},{"country":"Australia","population":24982688},{"country":"Austria","population":8840521},{"country":"Azerbaijan","population":9939800},{"country":"Bahamas","population":385640},{"country":"Bahrain","population":1569439},{"country":"Bangladesh","population":161356039},{"country":"Barbados","population":286641},{"country":"Belarus","population":9483499},{"country":"Belgium","population":11433256},{"country":"Belize","population":383071},{"country":"Benin","population":11485048},{"country":"Bermuda","population":63973},{"country":"Bhutan","population":754394},{"country":"Bolivia","population":11353142},{"country":"Bosnia and Herzegovina","population":3323929},{"country":"Botswana","population":2254126},{"country":"Bouvet Island","population":0},{"country":"Brazil","population":209469333},{"country":"British Indian Ocean Territory","population":0},{"country":"Brunei","population":428962},{"country":"Bulgaria","population":7025037},{"country":"Burkina Faso","population":19751535},{"country":"Burundi","population":11175378},{"country":"Cabo Verde","population":555987},{"country":"Cambodia","population":16249798},{"country":"Cameroon","population":25216237},{"country":"Canada","population":37057765},{"country":"Cape Verde","population":543767},{"country":"Cayman Islands","population":64174},{"country":"Central African Republic","population":4666377},{"country":"Chad","population":15477751},{"country":"Chile","population":18729160},{"country":"China","population":1392730000},{"country":"Christmas Island","population":1402},{"country":"Cocos (Keeling) Islands","population":596},{"country":"Colombia","population":49648685},{"country":"Comoros","population":832322},{"country":"Congo","population":5244363},{"country":"Cook Islands","population":17379},{"country":"Costa Rica","population":4999441},{"country":"Croatia","population":4087843},{"country":"Cuba","population":11338138},{"country":"Cyprus","population":1189265},{"country":"Czech Republic","population":10629928},{"country":"Denmark","population":5793636},{"country":"Djibouti","population":958920},{"country":"Dominica","population":71625},{"country":"Dominican Republic","population":10627165},{"country":"East Timor","population":1267972},{"country":"Ecuador","population":17084357},{"country":"Egypt","population":98423595},{"country":"El Salvador","population":6420744},{"country":"England","population":55619400},{"country":"Equatorial Guinea","population":1308974},{"country":"Eritrea","population":6213972},{"country":"Estonia","population":1321977},{"country":"Eswatini","population":1136191},{"country":"Ethiopia","population":109224559},{"country":"Falkland Islands","population":2840},{"country":"Faroe Islands","population":48497},{"country":"Fiji Islands","population":883483},{"country":"Finland","population":5515525},{"country":"France","population":66977107},{"country":"French Guiana","population":290691},{"country":"French Polynesia","population":277679},{"country":"French Southern territories","population":0},{"country":"Gabon","population":2119275},{"country":"Gambia","population":2280102},{"country":"Georgia","population":3726549},{"country":"Germany","population":82905782},{"country":"Ghana","population":29767108},{"country":"Gibraltar","population":33718},{"country":"Greece","population":10731726},{"country":"Greenland","population":56025},{"country":"Grenada","population":111454},{"country":"Guadeloupe","population":395700},{"country":"Guam","population":165768},{"country":"Guatemala","population":17247807},{"country":"Guinea","population":12414318},{"country":"Guinea-Bissau","population":1874309},{"country":"Guyana","population":779004},{"country":"Haiti","population":11123176},{"country":"Heard Island and McDonald Islands","population":0},{"country":"Holy See (Vatican City State)","population":825},{"country":"Honduras","population":9587522},{"country":"Hong Kong","population":7451000},{"country":"Hungary","population":9775564},{"country":"Iceland","population":352721},{"country":"India","population":1352617328},{"country":"Indonesia","population":267663435},{"country":"Iran","population":81800269},{"country":"Iraq","population":38433600},{"country":"Ireland","population":4867309},{"country":"Israel","population":8882800},{"country":"Italy","population":60421760},{"country":"Ivory Coast","population":25069229},{"country":"Jamaica","population":2934855},{"country":"Japan","population":126529100},{"country":"Jordan","population":9956011},{"country":"Kazakhstan","population":18272430},{"country":"Kenya","population":51393010},{"country":"Kiribati","population":115847},{"country":"Kuwait","population":4137309},{"country":"Kyrgyzstan","population":6322800},{"country":"Laos","population":7061507},{"country":"Latvia","population":1927174},{"country":"Lebanon","population":6848925},{"country":"Lesotho","population":2108132},{"country":"Liberia","population":4818977},{"country":"Libya","population":6678567},{"country":"Liechtenstein","population":37910},{"country":"Lithuania","population":2801543},{"country":"Luxembourg","population":607950},{"country":"Macao","population":631636},{"country":"North Macedonia","population":2084367},{"country":"Madagascar","population":26262368},{"country":"Malawi","population":18143315},{"country":"Malaysia","population":31528585},{"country":"Maldives","population":515696},{"country":"Mali","population":19077690},{"country":"Malta","population":484630},{"country":"Marshall Islands","population":58413},{"country":"Martinique","population":376480},{"country":"Mauritania","population":4403319},{"country":"Mauritius","population":1265303},{"country":"Mayotte","population":270372},{"country":"Mexico","population":126190788},{"country":"Micronesia, Federated States of","population":112640},{"country":"Moldova","population":2706049},{"country":"Monaco","population":38682},{"country":"Mongolia","population":3170208},{"country":"Montenegro","population":631219},{"country":"Montserrat","population":5900},{"country":"Morocco","population":36029138},{"country":"Mozambique","population":29495962},{"country":"Myanmar","population":53708395},{"country":"Namibia","population":2448255},{"country":"Nauru","population":12704},{"country":"Nepal","population":28087871},{"country":"Netherlands","population":17231624},{"country":"Netherlands Antilles","population":227049},{"country":"New Caledonia","population":284060},{"country":"New Zealand","population":4841000},{"country":"Nicaragua","population":6465513},{"country":"Niger","population":22442948},{"country":"Nigeria","population":195874740},{"country":"Niue","population":1624},{"country":"Norfolk Island","population":2169},{"country":"North Korea","population":25549819},{"country":"Northern Ireland","population":1885400},{"country":"Northern Mariana Islands","population":56882},{"country":"Norway","population":5311916},{"country":"Oman","population":4829483},{"country":"Pakistan","population":212215030},{"country":"Palau","population":17907},{"country":"Palestine","population":4569087},{"country":"Panama","population":4176873},{"country":"Papua New Guinea","population":8606316},{"country":"Paraguay","population":6956071},{"country":"Peru","population":31989256},{"country":"Philippines","population":106651922},{"country":"Pitcairn","population":67},{"country":"Poland","population":37974750},{"country":"Portugal","population":10283822},{"country":"Puerto Rico","population":3195153},{"country":"Qatar","population":2781677},{"country":"Reunion","population":859959},{"country":"Romania","population":19466145},{"country":"Russia","population":144478050},{"country":"Rwanda","population":12301939},{"country":"Saint Helena","population":6600},{"country":"Saint Kitts and Nevis","population":52441},{"country":"Saint Lucia","population":181889},{"country":"Saint Pierre and Miquelon","population":5888},{"country":"Saint Vincent and the Grenadines","population":110210},{"country":"Samoa","population":196130},{"country":"San Marino","population":33785},{"country":"Sao Tome and Principe","population":211028},{"country":"Saudi Arabia","population":33699947},{"country":"Scotland","population":5424800},{"country":"Senegal","population":15854360},{"country":"Serbia","population":6963764},{"country":"Seychelles","population":96762},{"country":"Sierra Leone","population":7650154},{"country":"Singapore","population":5638676},{"country":"Slovakia","population":5446771},{"country":"Slovenia","population":2073894},{"country":"Solomon Islands","population":652858},{"country":"Somalia","population":15008154},{"country":"South Africa","population":57779622},{"country":"South Georgia and the South Sandwich Islands","population":30},{"country":"South Korea","population":51606633},{"country":"South Sudan","population":10975920},{"country":"Spain","population":46796540},{"country":"Sri Lanka","population":21670000},{"country":"Sudan","population":41801533},{"country":"Suriname","population":575991},{"country":"Svalbard and Jan Mayen","population":2572},{"country":"Sweden","population":10175214},{"country":"Switzerland","population":8513227},{"country":"Syria","population":16906283},{"country":"Tajikistan","population":9100837},{"country":"Tanzania","population":56318348},{"country":"Thailand","population":69428524},{"country":"The Democratic Republic of Congo","population":84068091},{"country":"Togo","population":7889094},{"country":"Tokelau","population":1411},{"country":"Tonga","population":103197},{"country":"Trinidad and Tobago","population":1389858},{"country":"Tunisia","population":11565204},{"country":"Turkey","population":82319724},{"country":"Turkmenistan","population":5850908},{"country":"Turks and Caicos Islands","population":37665},{"country":"Tuvalu","population":11508},{"country":"Uganda","population":42723139},{"country":"Ukraine","population":44622516},{"country":"United Arab Emirates","population":9630959},{"country":"United Kingdom","population":66460344},{"country":"United States","population":326687501},{"country":"United States Minor Outlying Islands","population":300},{"country":"Uruguay","population":3449299},{"country":"Uzbekistan","population":32955400},{"country":"Vanuatu","population":292680},{"country":"Venezuela","population":28870195},{"country":"Vietnam","population":95540395},{"country":"Virgin Islands, British","population":29802},{"country":"Virgin Islands, U.S.","population":106977},{"country":"Wales","population":3139000},{"country":"Wallis and Futuna","population":15289},{"country":"Western Sahara","population":652271},{"country":"Yemen","population":28498687},{"country":"Zambia","population":17351822},{"country":"Zimbabwe","population":14439018}]'),gk=mk.filter(({population:n})=>n>=3e5).map(({country:n,population:t})=>({name:n,population:+t}));function yk({csvUrl:n,meta:t,target:e,others:a=[],guesses:o=[],setAvailableCountries:u}){const h=At.useRef(null),d=At.useRef(null),{width:m,height:g}=pk(h),[_,T]=At.useState(null),[S,D]=At.useState(null),j=At.useRef(null);At.useEffect(()=>{n&&RS(n,AS).then(Q=>{if(!Q.length)return;const mt=Object.keys(Q[0]),ut=mt.filter(L=>/^\d{4}$/.test(L)),at=ut.length>3;let _t;if(at){const[L,U]=mt;_t=Q.flatMap(z=>ut.map(w=>({Country:z[L],ISO:z[U],Year:+w,Production:z[w]})))}else{const[L,U,z]=mt,w=mt.find((A,F)=>F>2&&typeof Q[0][A]=="number");_t=Q.filter(A=>A[U]&&typeof A[U]=="string"&&A[U].trim()!==""&&!A[U].startsWith("OWID")&&(t.yearStart==null||A[z]>=t.yearStart)&&(t.yearEnd==null||A[z]<=t.yearEnd)).map(A=>({Country:A[L],ISO:A[U],Year:A[z],Production:A[w]}))}console.log("Standardized data:",_t);const dt=_t.map(L=>L.Year),Et=t.yearStart??Qh(dt),O=t.yearEnd??yi(dt),C=O-Et+1,I=Kh(_t.filter(L=>L.Year>=Et&&L.Year<=O),L=>L.Country),V=.6,M=Array.from(I.entries()).filter(([L,U])=>new Set(U.map(w=>w.Year)).size/C>=V).map(([L])=>L),P=3e5,x=new Map(Object.entries(gk).map(([L,U])=>[U.name||L,U.population])),tt=M.filter(L=>{const U=x.get(L);return typeof U=="number"&&U>=P}),H=_t.filter(L=>tt.includes(L.Country));T(_t),D(H);const N=Array.from(new Set(_t.map(L=>L.Country)));u(N)})},[n]);const Z=Q=>{const mt=KN(Q.filter(at=>at.Country!==e&&typeof at.Production=="number"&&!isNaN(at.Production)),at=>yi(at,_t=>_t.Production),at=>at.Country);return Array.from(mt.entries()).sort((at,_t)=>Yw(at[1],_t[1])).map(([at])=>at).filter((at,_t,dt)=>dt.indexOf(at)===_t).filter(at=>at!==e)};return At.useEffect(()=>{if(!_||!S||!t||!e||m===0||g===0)return;const Q=requestAnimationFrame(()=>{var vn;const mt=t.unitSuffix,ut=getComputedStyle(document.documentElement).getPropertyValue("--stroke-outline").trim(),at=a.length?a:Z(S),_t=new Set([e,...at,...o]),dt=Kh(_.filter($=>_t.has($.Country)),$=>$.Country),Et={top:30,right:50,bottom:60,left:50},O=m-Et.left-Et.right,C=g-Et.top-Et.bottom,I=_o().domain([t.yearStart??Qh(_,$=>$.Year),t.yearEnd??yi(_,$=>$.Year)]).range([0,O]),V=yi(dt,([,$])=>yi($,bt=>bt.Production/t.scale)),M=_o().domain([0,V]).range([C,0]);(j.current===null||V>j.current)&&(j.current=V);const x=OS().defined($=>typeof $.Production=="number"&&!isNaN($.Production)).curve(kS).x($=>I($.Year)).y($=>M($.Production/t.scale));console.log("x-domain:",I.domain()),console.log("sample target years:",dt.get(e).map($=>$.Year));const tt=at.map($=>({id:`${$}-base`,country:$,rows:dt.get($)??[],stroke:getComputedStyle(document.documentElement).getPropertyValue("--other-lines").trim(),width:1.5,opacity:.4})),H=[{id:`${e}-target`,country:e,rows:dt.get(e)??[],stroke:getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim(),width:4,opacity:1}],N=o.map(($,bt)=>{var Vt;const ct=dt.get($)??[],wt=((Vt=ct[0])==null?void 0:Vt.ISO)??$;return{id:`${$}-guess`,country:$,iso:wt,rows:ct,stroke:Ti[bt],width:3,opacity:1}});[...tt,...H,...N];const L=lr(d.current).attr("viewBox",[0,0,m,g]).attr("preserveAspectRatio","xMidYMid meet").style("overflow","visible");let U=L.select("g.chart-root");U.empty()&&(U=L.append("g").attr("class","chart-root").attr("transform",`translate(${Et.left},${Et.top})`).call($=>{$.append("g").attr("class","x-axis"),$.append("g").attr("class","y-axis")}));let z=U.select("g.hover-layer");z.empty()&&(z=U.append("g").attr("class","hover-layer"),z.append("line").attr("class","hover-line").attr("stroke","#6b7280").attr("stroke-width",1).attr("stroke-dasharray","4 4").attr("y1",0).style("opacity",0),z.append("circle").attr("class","hover-dot-target").attr("r",4).attr("fill","#c43333").attr("stroke","#ffffff").attr("stroke-width",1.5).style("opacity",0).attr("pointer-events","none"),z.append("text").attr("class","hover-year-label").attr("text-anchor","middle").attr("font-size",16).attr("font-weight",600).attr("fill","#292929").attr("font-family","Open Sans, sans-serif").attr("dy","1.5em").style("opacity",0).attr("pointer-events","none"),z.append("rect").attr("class","hover-value-bg").attr("fill","#ffffff").attr("rx",3).attr("ry",3).style("opacity",0).attr("pointer-events","none"),z.append("text").attr("class","hover-value-label").attr("text-anchor","start").attr("font-size",14).attr("font-weight",600).attr("fill","#c43333").attr("font-family","Open Sans, sans-serif").style("opacity",0).attr("pointer-events","none"),z.append("rect").attr("class","hover-capture").attr("fill","transparent").attr("pointer-events","all").style("touch-action","none")),z.select(".hover-line").attr("y2",C),z.select(".hover-capture").attr("width",O).attr("height",C),z.select(".hover-year-label").attr("y",C);const w=z.selectAll("circle.guess-dot").data(N,$=>$.id);w.enter().append("circle").attr("class","guess-dot").attr("r",4).attr("fill",$=>$.stroke).attr("stroke","#ffffff").attr("stroke-width",1.5).style("opacity",0).attr("pointer-events","none"),w.exit().remove();const A=z.selectAll("g.guess-pill").data(N,$=>$.id),F=A.enter().append("g").attr("class","guess-pill").style("pointer-events","none").style("opacity",0);F.append("rect").attr("rx",3).attr("ry",3).attr("fill","#ffffff"),F.append("text").attr("font-size",14).attr("font-weight",600).attr("font-family","OpenSans,sans-serif"),A.exit().remove(),z.raise();const q=Vg($=>$.Year).left,rt=dt.get(e)??[],ft=($,bt)=>{if(!$.length)return null;const ct=q($,bt);if(ct<=0)return $[0].Production/t.scale;if(ct>=$.length)return $[$.length-1].Production/t.scale;const wt=$[ct-1],Vt=$[ct],Wt=(bt-wt.Year)/(Vt.Year-wt.Year);return wt.Production/t.scale+Wt*(Vt.Production/t.scale-wt.Production/t.scale)},pt=$=>{if($==null)return"";const bt=Math.abs($);let ct=$,wt="";return bt>=1e9?(ct=$/1e9,wt="B"):bt>=1e6?(ct=$/1e6,wt="M"):bt>=1e3&&(ct=$/1e3,wt="k"),ct.toFixed(1)+wt+(t.unitSuffix||"")},gt=$=>{const[bt,ct]=HD($,z.node()),wt=Math.min(O,Math.max(0,bt)),Vt=Math.min(C,Math.max(0,ct)),Wt=40;Ot.selectAll("path").interrupt().transition().duration(300).ease(rE).attr("opacity",.15),z.select(".hover-line").attr("x1",wt).attr("x2",wt).style("opacity",1);const Kt=I.invert(wt);z.select(".hover-year-label").attr("x",wt).text(Math.round(Kt)).style("opacity",1),U.select(".x-axis").selectAll(".tick text").style("opacity",0);const ve=ft(rt,Kt);if(ve!=null){const ke=M(ve);z.select(".hover-dot-target").attr("cx",wt).attr("cy",ke).style("opacity",1);const fn=z.select(".hover-value-label").attr("x",wt+8).attr("y",ke-6).text(pt(ve)).style("opacity",1).node().getBBox();z.select(".hover-value-bg").attr("x",fn.x-4).attr("y",fn.y-2).attr("width",fn.width+8).attr("height",fn.height+4).style("opacity",.85)}z.selectAll("g.guess-pill").each(function(ke){const Ve=ft(ke.rows,Kt);if(Ve==null){lr(this).style("opacity",0);return}const fn=M(Ve);if(!(Math.abs(fn-Vt)<=Wt)){lr(this).style("opacity",0);return}const gr=lr(this).style("opacity",1).select("text").attr("fill",ke.stroke).attr("x",wt+8).attr("y",fn-6).text(pt(Ve)).node().getBBox();lr(this).select("rect").attr("x",gr.x-4).attr("y",gr.y-2).attr("width",gr.width+8).attr("height",gr.height+4).style("opacity",.85)}),z.selectAll("circle.guess-dot").each(function(ke){const Ve=ft(ke.rows,Kt);lr(this).style("opacity",Ve==null?0:1).attr("cx",wt).attr("cy",M(Ve))})},vt=()=>{z.select(".hover-line").style("opacity",0),z.select(".hover-dot-target").style("opacity",0),z.select(".hover-year-label").style("opacity",0),z.select(".hover-value-label").style("opacity",0),z.select(".hover-value-bg").style("opacity",0),z.selectAll("g.guess-pill").style("opacity",0),z.selectAll("circle.guess-dot").style("opacity",0),U.select(".x-axis").selectAll(".tick text").style("opacity",1),Ot.selectAll("path").interrupt().transition().duration(300).ease(rE).attr("opacity",.4)};z.select(".hover-capture").on("pointerenter pointerdown pointermove",gt).on("pointerup pointercancel pointerout",vt),U.select(".x-axis").attr("transform",`translate(0,${C})`).call(Zw(I).ticks(Math.min(5,Math.floor(O/100))).tickFormat($=>String($))).selectAll(".tick text").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).attr("dy","0.95em").style("font-family","Open Sans, sans-serif");const Lt=$=>{if(typeof $!="number"||isNaN($))return"";const bt=Math.abs($);let ct;return bt>=1e9?ct=($/1e9).toFixed(1).replace(/\.0$/,"")+"B":bt>=1e6?ct=($/1e6).toFixed(1).replace(/\.0$/,"")+"M":bt>=1e3?ct=($/1e3).toFixed(1).replace(/\.0$/,"")+"k":ct=$.toString(),mt?`${ct}${mt}`:ct},Ht=$=>{$.call(xm(M).ticks(4).tickSize(-O).tickSizeOuter(0).tickFormat(Lt)),$.selectAll(".tick text").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).style("font-family","Open Sans, sans-serif"),$.selectAll(".domain").attr("stroke-opacity",0),$.selectAll(".tick line").attr("stroke",getComputedStyle(document.documentElement).getPropertyValue("--axis-lines-color").trim()).attr("stroke-opacity",.6).attr("stroke-width",1)};U.select(".y-axis").call(Ht),Math.max(...U.select(".y-axis").selectAll("text").nodes().map($=>$.getBBox().width));let Ot=U.select("g.base-lines");Ot.empty()&&(Ot=U.append("g").attr("class","base-lines"));let $t=U.select("g.guess-lines");$t.empty()&&($t=U.append("g").attr("class","guess-lines"));const re=Ot.selectAll("g.base-line").data(tt,$=>$.id);re.enter().append("g").attr("class","base-line").append("path").attr("fill","none").attr("stroke",$=>$.stroke).attr("stroke-width",$=>$.width).attr("opacity",$=>$.opacity).attr("d",$=>x($.rows)),re.select("path").attr("stroke",$=>$.stroke).attr("stroke-width",$=>$.width).attr("opacity",$=>$.opacity).attr("d",$=>x($.rows)),re.exit().remove();const ie=$t.selectAll("g.guess-line").data(N,$=>$.id),ge=ie.enter().append("g").attr("class","guess-line");ge.append("path").attr("fill","none").attr("stroke",ut).attr("stroke-width",$=>$.width+2.5).attr("opacity",1).attr("d",$=>x($.rows)),ge.append("path").attr("fill","none").attr("stroke",$=>$.stroke).attr("stroke-width",$=>$.width).attr("opacity",$=>$.opacity).attr("d",$=>x($.rows)),ge.selectAll("path").each(function(){const $=this.getTotalLength();lr(this).attr("stroke-dasharray",`${$} ${$}`).attr("stroke-dashoffset",$).transition().duration(2500).attr("stroke-dashoffset",0)}),ie.select("path:nth-child(1)").attr("stroke-width",$=>$.width+1.5).attr("d",$=>x($.rows)),ie.select("path:nth-child(2)").attr("stroke",$=>$.stroke).attr("stroke-width",$=>$.width).attr("opacity",$=>$.opacity).attr("d",$=>x($.rows)),ie.exit().remove();const Zt=4,ye=4;function nn($,bt=12){const ct=$.nodes().map(Vt=>{const Wt=lr(Vt);return{node:Wt,y:parseFloat(Wt.attr("y")),x:parseFloat(Wt.attr("x"))}});ct.sort((Vt,Wt)=>Vt.y-Wt.y);const wt=[];for(let Vt=0;Vt<ct.length;Vt++){const Wt=ct[Vt];let Kt=Wt.y,ve=0,ke=-1;for(;!(!wt.some(fn=>Math.abs(fn.y-Kt)<bt)||(ke*=-1,ve+=bt,Kt=Wt.y+ke*ve,ve>100)););Wt.node.attr("y",Kt),wt.push({y:Kt})}}ge.selectAll("path:last-child").each(function($,bt){const ct=lr(this);this.getTotalLength();const wt=$.rows.filter(ke=>typeof ke.Production=="number"),Vt=wt[wt.length-1];if(!Vt)return;const Wt=I(Vt.Year)+Zt,Kt=M(Vt.Production/t.scale)+ye,ve=()=>{U.append("text").attr("class",$.country===e?"target-label":"guess-label").attr("font-size",14).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",$.country===e?getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim():$.stroke).attr("stroke",ut).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",Wt).attr("y",Kt).text($.iso),setTimeout(()=>{nn(U.selectAll("text.guess-label, text.target-label"))},0)};$.country===e?ve():ct.transition().duration(2500).attr("stroke-dashoffset",0).on("end",ve)});const oe=H[0];let xe=U.select("g.target-line");if(xe.empty()){xe=U.append("g").attr("class","target-line");const $=x(oe.rows),bt=xe.append("path").attr("fill","none").attr("stroke",ut).attr("stroke-width",oe.width+2.5).attr("opacity",1).attr("d",$),ct=xe.append("path").attr("fill","none").attr("stroke",oe.stroke).attr("stroke-width",oe.width).attr("opacity",oe.opacity).attr("d",$);[bt,ct].forEach(wt=>{const Vt=wt.node().getTotalLength();wt.attr("stroke-dasharray",`${Vt} ${Vt}`).attr("stroke-dashoffset",Vt).transition().duration(2500).attr("stroke-dashoffset",0)})}else{const $=x(oe.rows);xe.selectAll("path").data([0,1]).join("path").attr("fill","none").attr("stroke",(bt,ct)=>ct===0?strokeOutline:oe.stroke).attr("stroke-width",(bt,ct)=>ct===0?oe.width+2.5:oe.width).attr("opacity",oe.opacity).attr("d",$)}U.selectAll("text.target-unknown-label, text.target-label").remove();const zn=dt.get(e)??[],jn=zn.filter($=>typeof $.Production=="number"),bn=jn[jn.length-1];if(bn){const $=I(bn.Year)+4,bt=M(bn.Production/t.scale)+4,ct=((vn=zn[0])==null?void 0:vn.ISO)??e,wt=()=>{U.append("text").attr("class","target-label").attr("font-size",14).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim()).attr("stroke",ut).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",$).attr("y",bt).text(ct)},Vt=()=>{U.append("text").attr("class","target-unknown-label").attr("font-size",14).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim()).attr("stroke",ut).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",$).attr("y",bt).text("xxx")};if(o.includes(e))wt();else{xe.select("path:nth-child(2)");const Kt=setTimeout(()=>{o.includes(e)||Vt()},2500),ve=new MutationObserver(()=>{o.includes(e)&&(clearTimeout(Kt),U.selectAll("text.target-unknown-label").remove(),wt(),ve.disconnect())});return ve.observe(d.current,{childList:!0,subtree:!0}),()=>ve.disconnect()}}z.raise()});return()=>cancelAnimationFrame(Q)},[_,t,m,g,e,a,o,Ti]),nt.jsx("div",{ref:h,className:"w-full h-full",children:m>0&&g>0&&nt.jsx("svg",{ref:d,className:"w-full h-full"})})}const zm=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Caribbean Netherlands","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Northern Cyprus","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"];function gE(n="",t=""){const e=t.length+1,a=n.length+1,o=Array.from({length:e},(u,h)=>Array.from({length:a},(d,m)=>h===0?m:h));for(let u=1;u<e;u++)for(let h=1;h<a;h++)o[u][h]=t[u-1]===n[h-1]?o[u-1][h-1]:1+Math.min(o[u-1][h],o[u][h-1],o[u-1][h-1]);return o[e-1][a-1]}const ch=["⬆️","↗️","➡️","↘️","⬇️","↙️","⬅️","↖️"];function _k({guesses:n,onAddGuess:t,status:e,max:a,targetData:o,countryToIso:u,clue:h=!1,validCountries:d=[],target:m}){const[g,_]=At.useState(""),[T,S]=At.useState(!1),[D,j]=At.useState(""),[Z,Q]=At.useState({}),[mt,ut]=At.useState({}),[at,_t]=At.useState(-1),dt=e!=="playing",Et=g.trim(),O=Et.toLowerCase(),C=Math.min(n.length+1,a),I=d.includes(Et),V=zm.some(U=>U.toLowerCase()===O)&&I,M=At.useRef(null),P=At.useRef(!1);function x(){if(!P.current){const U=M.current;U.scrollTop+U.clientHeight>=U.scrollHeight-2||(P.current=!0)}}const tt=zm.filter(U=>U.toLowerCase().includes(O)&&O).sort((U,z)=>{const w=U.toLowerCase(),A=z.toLowerCase(),F=w.startsWith(O),q=A.startsWith(O);if(F&&!q)return-1;if(!F&&q)return 1;const rt=gE(w,O),ft=gE(A,O);return rt!==ft?rt-ft:U.localeCompare(z)}).reverse();At.useEffect(()=>{if(T&&M.current){const U=M.current;U.scrollTop=U.scrollHeight}},[T,O]),At.useEffect(()=>{T||(P.current=!1)},[T]);function H(U,z){if(z==null||z<=0){ut(ft=>({...ft,[U]:z??0}));return}const w=50,A=8,F=180;let q=0;function rt(){if(ut(vt=>({...vt,[U]:q})),q>=z)return;const ft=z-q,pt=ft>w?Math.max(1,Math.round(ft/60)):1;q=Math.min(q+pt,z);let gt=A;if(ft<=w){const vt=1-(ft-pt)/w;gt+=F*Math.pow(vt,3)}setTimeout(rt,gt)}rt()}const N=U=>{if(U.preventDefault(),!Et){j("Please enter a country.");return}if(!V){j("Invalid country. Please select from the list.");return}if(!I){j("This country has no data available.");return}if(n.some(rt=>rt.toLowerCase()===O)){j("You already guessed that country.");return}j(""),t(Et);const z=Et,w=u[z],A=o==null?void 0:o[w],F=(A==null?void 0:A.direction)||"🎯",q=(A==null?void 0:A.distance_km)??0;if(h?H(z,q):ut(rt=>({...rt,[z]:q})),h){let rt=function(){const vt=50+Math.pow(gt,1.4),Lt=gt%ch.length,Ht=ch[Lt];Q(Ot=>({...Ot,[z]:Ht})),gt++,gt<=pt&&setTimeout(rt,vt)};const ft=ch.indexOf(F),pt=ch.length*4+ft;let gt=0;rt()}_(""),S(!1)},L=U=>{_(U),S(!1),j("")};return nt.jsxs("div",{className:"flex flex-col items-center gap-3 py-10",children:[nt.jsx("div",{className:"h-6 flex items-end",children:n.length===0&&nt.jsxs("p",{className:"text-[18px] font-medium text-gray-800 dark:text-white pt-0.5",children:["Guess the country in"," ",nt.jsx("span",{className:"font-semibold text-[var(--target-red)]",children:"red"})]})}),nt.jsx("form",{onSubmit:N,className:"w-full px-[50px]",children:nt.jsxs("div",{className:"relative",children:[nt.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:nt.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 20 20",children:nt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 19l-4-4m0-7a7 7 0 11-14 0 7 7 0 0114 0z"})})}),nt.jsx("input",{id:"guess-input",type:"text",placeholder:"Enter country",value:g,disabled:dt,onChange:U=>{_(U.target.value),S(!0),_t(-1),j("")},onKeyDown:U=>{U.key==="ArrowDown"?(U.preventDefault(),S(!0),_t(z=>z<tt.length-1?z+1:0)):U.key==="ArrowUp"?(U.preventDefault(),S(!0),_t(z=>z>0?z-1:tt.length-1)):U.key==="Enter"&&(at>=0&&tt[at]?(U.preventDefault(),L(tt[at]),_t(-1)):!V&&tt.length&&(U.preventDefault(),L(tt[tt.length-1])))},onBlur:()=>setTimeout(()=>S(!1),100),className:`block w-full p-4 pl-10 text-sm rounded-lg
                            bg-gray-50 dark:bg-gray-700
                            focus:ring-emerald-500 focus:border-emerald-500
                            disabled:bg-gray-100 dark:disabled:bg-gray-600
                            outline-none
                            text-gray-900 dark:text-gray-100
                            ${Et&&!V?"border border-red-500 dark:border-red-400":"border border-gray-300 dark:border-gray-600"}`,autoComplete:"on"}),nt.jsx("button",{type:"submit",disabled:!V||dt||n.length>=a,className:`text-white absolute right-2 bottom-2 font-medium rounded-lg text-sm px-4 py-2 disabled:bg-gray-400 ${V&&!dt&&n.length<a?"bg-emerald-500 hover:bg-emerald-600 focus:ring-4 focus:ring-emerald-300":"bg-gray-300 text-gray-700 cursor-not-allowed"}`,children:`Guess ${C}/${a}`}),T&&tt.length>0&&nt.jsx("ul",{ref:M,onScroll:x,className:`absolute left-0 right-0 bottom-full mb-2 z-50 w-full max-h-60
                                    bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 
                                    rounded-lg shadow-lg overflow-y-auto`,children:tt.map((U,z)=>{const A=!d.includes(U);return nt.jsxs("li",{className:`cursor-pointer py-4 px-4 text-sm flex justify-between items-center
                                        ${z===at?"bg-emerald-50 dark:bg-emerald-700 font-semibold text-gray-900 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}
                                        ${A?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-100"}`,onMouseDown:()=>{A||(L(U),_t(-1))},onMouseEnter:()=>_t(z),children:[nt.jsx("span",{children:U}),A&&nt.jsx("span",{className:"text-xs ml-2",children:"(no data)"})]},U)})})]})}),D&&nt.jsx("p",{className:"text-sm text-red-600 mt-2 text-center",children:D}),n.length>0&&nt.jsx("div",{className:"w-full px-[50px] flex flex-col space-y-2",children:[...n].reverse().map((U,z)=>{const w=n.length-1-z,A=u[U],F=o==null?void 0:o[A],q=F==null?void 0:F.direction,rt=h&&(Z[U]||q)||"",ft=mt[U]??(F==null?void 0:F.distance_km)??0;return nt.jsxs("div",{className:"flex justify-between items-center w-full p-3 rounded-lg border border-gray-300 [background-color:var(--guessed-box)] dark:border-gray-600",children:[nt.jsx("span",{className:"font-semibold",style:{color:U.trim().toLowerCase()===m.trim().toLowerCase()?"#c43333":Ti[w]??"#2A74B3"},children:`${w+1}. ${U}`}),F&&h&&nt.jsxs("span",{className:"flex items-center gap-1 text-gray-700 text-sm font-medium",children:[nt.jsx("span",{children:rt}),nt.jsxs("span",{children:[ft," km"]})]})]},U)})})]})}function Lo({title:n,subtitle:t,open:e,onClose:a,children:o,footer:u=null}){return At.useEffect(()=>{const h=d=>d.key==="Escape"&&a();return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[a]),e?nt.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-[var(--modal-overlay)] p-4",role:"dialog","aria-modal":"true",tabIndex:-1,onClick:a,children:nt.jsx("div",{className:"relative w-full max-w-sm md:max-w-lg lg:max-w-xl",onClick:h=>h.stopPropagation(),children:nt.jsxs("div",{className:"relative rounded-lg bg-[var(--modal-bg-color)] shadow-sm ",children:[(n||t)&&nt.jsxs("div",{className:"flex flex-col gap-1 rounded-t border-b border-gray-200 p-4 md:p-5 dark:border-gray-600",children:[n&&nt.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n}),t&&nt.jsx("div",{className:"text-base text-gray-600 dark:text-gray-300",children:t}),nt.jsx("button",{"aria-label":"Close modal",onClick:a,className:"absolute top-4 right-4 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white",children:nt.jsx(CE,{className:"h-3.5 w-3.5",strokeWidth:2})})]}),nt.jsx("div",{className:"text-left leading-relaxed text-gray-500 dark:text-gray-300 p-4 md:p-5",children:o}),u&&nt.jsx("div",{className:"flex items-center rounded-b border-t border-gray-200 p-4 md:p-5 dark:border-gray-600",children:u})]})})}):null}const VS="chartle-history";function Kg(){try{return JSON.parse(localStorage.getItem(VS))||{}}catch{return{}}}function PS(n){localStorage.setItem(VS,JSON.stringify(n))}function vk(n={},t={}){var a,o;const e={...n};for(const[u,h]of Object.entries(t)){if(!e[u]){e[u]=h;continue}const d=((a=e[u].guesses)==null?void 0:a.length)||0,m=((o=h.guesses)==null?void 0:o.length)||0;e[u]=m>d?h:e[u]}return e}function LS(){return Kg()}async function Yg(){const n=Kg(),t=ns.currentUser;if(!t)return n;const e=Mg(kg,"histories",t.uid),a=await NN(e);if(!a.exists())return Object.keys(n).length&&await $h(e,n),n;const o=a.data()||{},u=vk(o,n);return PS(u),await $h(e,u,{merge:!0}),u}async function Ek(n){PS(n);const t=ns.currentUser;t&&await $h(Mg(kg,"histories",t.uid),n,{merge:!0})}ns.onAuthStateChanged(async n=>{if(!n)return;const t=Kg();Object.keys(t).length!==0&&await $h(Mg(kg,"histories",n.uid),t,{merge:!0})});function Tk({open:n,onClose:t,guesses:e,target:a,infoDescription:o,source:u,csvUrl:h,title:d,maxGuesses:m,subtitle:g,yearStart:_,yearEnd:T,gameDate:S,unitSuffix:D}){const[j,Z]=At.useState(!1),[Q]=At.useState(""),mt=At.useRef(null),ut=[`📈 Chartle — ${d}`,`${e.length}/${m} ✅`,Q,"chartle.cc"].join(`
`),at=async()=>{try{await navigator.clipboard.writeText(ut),Z(!0),setTimeout(()=>Z(!1),2e3)}catch(O){console.error("Copy failed:",O)}};async function _t(){const P={top:240,right:60,bottom:130,left:110},x=1080-P.left-P.right,tt=1280-P.top-P.bottom,H=await RS(h,AS),N=Object.keys(H[0]),L=N.filter(ct=>/^\d{4}$/.test(ct)),U=L.length>3;let z;if(U){const[ct,wt]=N;z=H.flatMap(Vt=>L.map(Wt=>({Country:Vt[ct],ISO:Vt[wt],Year:+Wt,Production:Vt[Wt]})))}else{const[ct,wt,Vt]=N,Wt=N.find((Kt,ve)=>ve>2&&typeof H[0][Kt]=="number");z=H.map(Kt=>({Country:Kt[ct],ISO:Kt[wt],Year:Kt[Vt],Production:Kt[Wt]}))}const w=typeof _=="number"?_:Qh(z,ct=>ct.Year),A=typeof T=="number"?T:yi(z,ct=>ct.Year),F=A-w+1,q=z.filter(ct=>ct.Year>=w&&ct.Year<=A),rt=Kh(q,ct=>ct.ISO),ft=Array.from(rt.entries()).filter(([ct,wt])=>wt.filter(Wt=>Wt.Production!=null&&Wt.Production!=="").length/F>=.6).map(([ct])=>ct),pt=q.filter(ct=>ft.includes(ct.ISO)),gt=Kh(pt,ct=>ct.Country),vt=getComputedStyle(document.documentElement),Lt=vt.getPropertyValue("--axis-text-color").trim()||"#222",Ht=vt.getPropertyValue("--grid-line").trim()||"#eee",Ot=vt.getPropertyValue("--target-red").trim()||"#e33434",$t=vt.getPropertyValue("--other-lines").trim()||"#888",re=_o().domain([Qh(z,ct=>ct.Year),yi(z,ct=>ct.Year)]).range([0,x]),Ut=yi(z,ct=>ct.Production),ie=_o().domain([0,Ut]).range([tt,0]),ge=OS().defined(ct=>typeof ct.Production=="number"&&!isNaN(ct.Production)).curve(kS).x(ct=>re(ct.Year)).y(ct=>ie(ct.Production)),Zt=jD("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("width",1080).attr("height",1280).attr("viewBox",[0,0,1080,1280]).style("background","#f9f9f9");Zt.append("rect").attr("x",0).attr("y",0).attr("width",1080).attr("height",80).attr("fill",Ot),Zt.append("text").attr("x",1080/2).attr("y",55).attr("text-anchor","middle").attr("font-size",48).attr("font-family","Open Sans, sans-serif").attr("font-weight","bold").attr("fill","#fff").text(`Guessed in ${e.length} ${e.length===1?"try":"tries"}`),Zt.append("text").attr("x",P.left).attr("y",160).attr("text-anchor","start").attr("font-size",54).attr("font-weight","bold").attr("font-family","Open Sans, sans-serif").attr("fill","#222").text(d||"Chart Title"),Zt.append("text").attr("x",P.left).attr("y",220).attr("text-anchor","start").attr("font-size",36).attr("font-family","Open Sans, sans-serif").attr("fill","#444").text(g||"");const ye=Zt.append("g").attr("transform",`translate(${P.left},${P.top})`);ye.append("g").attr("class","grid").selectAll("line").data(ie.ticks(4)).join("line").attr("x1",0).attr("x2",x).attr("y1",ct=>ie(ct)).attr("y2",ct=>ie(ct)).attr("stroke",Ht).attr("stroke-width",1).attr("opacity",.5),ye.append("g").attr("class","x-axis").attr("transform",`translate(0,${tt})`).call(Zw(re).ticks(4).tickFormat(ct=>String(ct))).selectAll("text").attr("font-size",32).attr("font-weight",400).attr("fill",Lt).attr("dy","0.95em").style("font-family","Open Sans, sans-serif"),ye.append("g").attr("class","y-axis").call(xm(ie).ticks(4).tickFormat(ct=>D?`${ct}${D}`:ct).tickSize(0)).selectAll("text").attr("font-size",32).attr("font-weight",400).attr("fill",Lt).style("font-family","Open Sans, sans-serif"),ye.selectAll(".domain").attr("stroke","none"),ye.selectAll(".tick line").attr("stroke","none");const nn=Array.from(gt.keys()),oe=new Set(e.concat([a]));nn.forEach(ct=>{if(!oe.has(ct)){const wt=gt.get(ct)??[];ye.append("path").attr("fill","none").attr("stroke",$t).attr("stroke-width",2).attr("opacity",.4).attr("d",ge(wt))}}),e.forEach((ct,wt)=>{const Vt=gt.get(ct)??[];ye.append("path").attr("fill","none").attr("stroke","#f9f9f9").attr("stroke-width",12).attr("opacity",1).attr("d",ge(Vt)),ye.append("path").attr("fill","none").attr("stroke",Ti[wt%Ti.length]).attr("stroke-width",6).attr("opacity",1).attr("d",ge(Vt))});const xe=gt.get(a)??[];ye.append("path").attr("fill","none").attr("stroke","#f9f9f9").attr("stroke-width",14).attr("opacity",1).attr("d",ge(xe)),ye.append("path").attr("fill","none").attr("stroke",Ot).attr("stroke-width",8).attr("opacity",1).attr("d",ge(xe));const zn=xe[xe.length-1];zn&&ye.append("text").attr("x",re(zn.Year)+10).attr("y",ie(zn.Production)).attr("font-size",40).attr("font-family","Open Sans, sans-serif").attr("font-weight","bold").attr("fill",Ot).attr("alignment-baseline","middle").text("?"),Zt.append("text").attr("x",P.left).attr("y",1250).attr("text-anchor","start").attr("font-size",30).attr("font-family","Open Sans, sans-serif").attr("font-weight","bold").attr("fill","#222").text("📈 chartle.cc"),Zt.append("text").attr("x",1080-P.right).attr("y",1250).attr("text-anchor","end").attr("font-size",30).attr("font-family","Open Sans, sans-serif").attr("font-weight","bold").attr("fill","#222").text(S||"");const bn=new XMLSerializer().serializeToString(Zt.node()),vn=new window.Image;vn.width=1080,vn.height=1280;const $=new Blob([bn],{type:"image/svg+xml;charset=utf-8"}),bt=URL.createObjectURL($);vn.onload=function(){const ct=document.createElement("canvas");ct.width=1080,ct.height=1280;const wt=ct.getContext("2d");wt.fillStyle="#f9f9f9",wt.fillRect(0,0,1080,1280),wt.drawImage(vn,0,0,1080,1280),ct.toBlob(Vt=>{const Wt=URL.createObjectURL(Vt),Kt=document.createElement("a");Kt.href=Wt,Kt.download="chartle_export.png",document.body.appendChild(Kt),Kt.click(),document.body.removeChild(Kt),URL.revokeObjectURL(Wt)},"image/png"),URL.revokeObjectURL(bt)},vn.src=bt}function dt(O){const C={1:0,2:0,3:0,4:0,5:0,Lost:0};return Object.values(O).forEach(I=>{var P;if(!Array.isArray(I.guesses))return;const V=(P=I.target)==null?void 0:P.toLowerCase(),M=I.guesses.findIndex(x=>(x==null?void 0:x.toLowerCase())===V);M>=0&&M<5?C[M+1]++:C.Lost++}),Object.entries(C).map(([I,V])=>({tries:I,count:V}))}function Et(O){const C=lr(mt.current);C.selectAll("*").remove();const I={top:10,right:20,bottom:20,left:20},V=30,M=300-I.left-I.right,P=O.length*30,x=getComputedStyle(document.documentElement),tt=x.getPropertyValue("--text-color").trim(),H=x.getPropertyValue("--first-guess").trim(),N=C.attr("width",M+I.left+I.right).attr("height",P+I.top+I.bottom).append("g").attr("transform",`translate(${I.left},${I.top})`).style("font-family","Open Sans"),L=_o().domain([0,yi(O,z=>z.count)||1]).range([0,M-V]),U=NS().domain(O.map(z=>z.tries)).range([0,P]).padding(.2);N.selectAll(".bar").data(O).enter().append("rect").attr("x",V).attr("y",z=>U(z.tries)).attr("width",z=>L(z.count)).attr("height",U.bandwidth()).attr("fill",H),N.selectAll(".label").data(O.filter(z=>z.count>0)).enter().append("text").attr("x",z=>V+L(z.count)-5).attr("y",z=>U(z.tries)+U.bandwidth()/2+4).attr("text-anchor","end").attr("fill","#ffffff").style("font-family","'Open Sans', sans-serif").style("font-size","14px").text(z=>z.count),N.append("g").call(xm(U).tickSize(0)).selectAll("text").style("font-family","'Open Sans', sans-serif").style("font-size","14px").attr("fill",tt).attr("text-anchor","start").attr("x",-5),N.selectAll(".domain").remove()}return At.useEffect(()=>{n&&(Et(dt(LS())),Yg().then(O=>{Et(dt(O))}))},[n]),nt.jsx(Lo,{open:n,onClose:t,children:nt.jsxs("div",{className:"px-5 text-center",children:[nt.jsx("h2",{className:"text-2xl font-bold mb-4 [color:var(--text-color)]",children:"You guessed it!"}),nt.jsx("div",{className:"mb-4 space-y-3 [color:var(--text-color)] text-left",children:o.split(`
`).map((O,C)=>nt.jsx("p",{children:O},C))}),nt.jsxs("p",{className:"text-sm [color:var(--text-color)] mb-8 text-left",children:["Data source: ",u]}),nt.jsx("p",{className:"text-lg font-semibold [color:var(--text-color)] mb-2 mt-6 text-left",children:"Your track record"}),nt.jsx("svg",{ref:mt,className:"w-full h-auto mb-4"}),nt.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4",children:[nt.jsx("button",{onClick:()=>{at(),_t()},className:"rounded-lg [background-color:var(--second-guess)] px-4 py-2 text-sm text-white hover:[background-color:var(--second-guess-dark)] focus:outline-none focus:ring-4 focus:ring-blue-300",children:j?"Copied!":"Share result"}),nt.jsx("button",{onClick:t,className:`
                            rounded-lg 
                            bg-black 
                            px-4 py-2 
                            text-sm 
                            text-white 
                            focus:outline-none 
                            focus:ring-4 
                            focus:ring-emerald-300
                            `,children:"Close"})]})]})})}function wk({open:n,onClose:t,target:e,infoDescription:a,source:o,csvUrl:u,guesses:h,title:d,maxGuesses:m}){const[g,_]=At.useState(!1),[T,S]=At.useState("");At.useEffect(()=>{},[u,e,h]);const D=[`📈 Chartle — ${d}`,`X/${m} ❌`,T,"chartle.cc"].join(`
`),j=async()=>{try{await navigator.clipboard.writeText(D),_(!0),setTimeout(()=>_(!1),2e3)}catch(Z){console.error("Copy failed:",Z)}};return nt.jsx(Lo,{title:"Out of guesses",open:n,onClose:t,footer:nt.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-emerald-600 px-5 py-2.5 text-sm font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-emerald-300",children:"Close"}),children:nt.jsxs("div",{className:"px-5",children:[nt.jsxs("p",{className:"text-center mb-4",children:["The correct answer was ",nt.jsx("strong",{children:e}),"."]}),a.split(`
`).map((Z,Q)=>nt.jsx("p",{children:Z},Q)),nt.jsxs("p",{className:"mt-4 text-sm text-gray-700 dark:text-gray-300",children:["Data source: ",o]}),nt.jsx("button",{onClick:j,className:"mt-6 w-full rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300",children:g?"Copied!":"Share result"})]})})}function Sk({open:n,onClose:t}){return nt.jsx(Lo,{open:n,onClose:t,children:nt.jsxs("div",{className:"space-y-4",children:[nt.jsx("h2",{className:"text-xl font-semibold [color:var(--text-color)]",children:"How to play Chartle:"}),nt.jsxs("p",{className:"[color:var(--text-color)]",children:["Guess the country highlighted in"," ",nt.jsx("span",{style:{color:"var(--target-red)"},className:"font-bold",children:"red"})," in today’s chart."]}),nt.jsx("p",{className:"[color:var(--text-color)]",children:"Type any country in the world into the box below the chart to see how it compares to the red target country."}),nt.jsx("p",{className:"[color:var(--text-color)]",children:"That’s it, no other clues. Good luck!"}),nt.jsx("div",{className:"flex justify-end",children:nt.jsx("button",{onClick:t,className:"rounded-lg [background-color:var(--first-guess)] px-5 py-2.5 text-sm font-bold text-white hover:[background-color:var(--first-guess-dark)] focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-500",children:"Got it!"})})]})})}const bk="#c43333",Ak="#d1d5db",Rk="#4b5563";function Ck(n){const t=n.getFullYear(),e=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return`${t}-${e}-${a}`}function Ik(n){const t=new URL(window.location.href);t.searchParams.set("d",n),t.hash="",window.location.href=t.toString()}function xk({open:n,onClose:t}){const[e,a]=At.useState([]),[o,u]=At.useState(!1);At.useEffect(()=>{n&&(u(!0),(async()=>{const d=await Yg(),m=[],g=new Date("2025-07-01"),_=new Date;for(;_>=g;){const T=Ck(_),S=d[T]||{};m.push({key:T,date:new Date(_),guesses:Array.isArray(S.guesses)?S.guesses.slice(0,5):[],target:S.target||null}),_.setDate(_.getDate()-1)}a(m),u(!1)})())},[n]);const h=Array.from({length:10},(d,m)=>nt.jsx("li",{className:"animate-pulse",children:nt.jsxs("div",{className:"flex w-full items-center justify-between sm:px-1 px-3 sm:py-3 py-4",children:[nt.jsx("span",{className:"h-4 w-24 sm:w-36 rounded bg-gray-200 dark:bg-gray-700"}),nt.jsx("div",{className:"flex gap-2",children:Array.from({length:5},(g,_)=>nt.jsx("span",{className:"block sm:h-4 sm:w-4 h-5 w-5 rounded-full bg-gray-300 dark:bg-gray-600"},_))})]})},`sk-${m}`));return nt.jsx(Lo,{title:"History",open:n,onClose:t,footer:nt.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-500",children:"Close"}),children:nt.jsx("ul",{className:"max-h-[60vh] overflow-y-auto px-4 divide-y divide-gray-200 dark:divide-gray-700",children:o?h:e.map(({key:d,date:m,guesses:g,target:_})=>{const T=g.length>0,S=m.toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}),D=m.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"});return nt.jsx("li",{className:"opacity-0 animate-fade-in",children:nt.jsxs("button",{type:"button",onClick:()=>Ik(d),className:"flex w-full items-center justify-between sm:px-1 px-3 sm:py-3 py-4 transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 focus:bg-gray-50 dark:focus:bg-gray-700",children:[nt.jsxs("span",{className:`text-sm ${T?"font-bold text-gray-900 dark:text-white":"font-medium text-gray-800 dark:text-gray-300"}`,children:[nt.jsx("span",{className:"inline sm:hidden",children:D}),nt.jsx("span",{className:"hidden sm:inline",children:S})]}),nt.jsx("div",{className:"flex gap-2",children:Array.from({length:5},(j,Z)=>{let Q="white",mt=Ak;if(Z<g.length){const ut=g[Z]||"";Q=_&&ut.toLowerCase()===_.toLowerCase()?bk:Ti[Z],mt=Q}return nt.jsx("span",{className:"block sm:h-4 sm:w-4 h-5 w-5 rounded-full border dark:border-gray-600",style:{backgroundColor:Q,borderColor:mt||Rk}},Z)})})]})},d)})})})}function Mk({open:n,onClose:t}){return nt.jsx(Lo,{title:"Settings",open:n,onClose:t,footer:nt.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300",children:"Close"}),children:nt.jsx("p",{children:"Settings will go here."})})}const Nk=At.forwardRef(function({children:t="Sign in with Google",className:e="",...a},o){return nt.jsxs("button",{ref:o,"aria-label":"Sign in with Google",className:`group inline-flex items-center overflow-hidden rounded-md border
        border-gray-300 bg-white px-0.5 pr-4 text-gray-700 shadow
        hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-300
        dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200
        dark:hover:bg-gray-700 dark:focus:ring-gray-600
        ${e}`,...a,children:[nt.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center",children:nt.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:[nt.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),nt.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),nt.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),nt.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),nt.jsx("span",{className:"ml-3 whitespace-nowrap text-sm tracking-wider",children:t})]})});function yE(n){return n?new Date(n).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):""}function Dk({open:n,onClose:t}){const[e,a]=At.useState(null);At.useEffect(()=>oT(ns,a),[]);const o=async()=>{try{await EC(ns,PN),t()}catch(h){console.error(h),window.alert("Google sign‑in failed. Please try again.")}},u=()=>tC(ns);return nt.jsx(Lo,{title:e?"Account":"Log in / Sign‑up",open:n,onClose:t,footer:nt.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300",children:"Close"}),children:e?nt.jsxs("div",{className:"flex w-full flex-col gap-4 rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-600 dark:bg-gray-900 sm:flex-row sm:items-center",children:[e.photoURL&&nt.jsx("img",{src:e.photoURL,alt:"",className:"h-10 w-10 rounded-full",referrerPolicy:"no-referrer"}),nt.jsxs("div",{className:"grow overflow-hidden",children:[nt.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.displayName}),nt.jsx("p",{className:"truncate text-sm text-gray-600 dark:text-gray-400",children:e.email}),nt.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[nt.jsx("span",{className:"font-medium",children:"Member since:"})," ",nt.jsx("span",{className:"font-bold",children:yE(e.metadata.creationTime)})]}),nt.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[nt.jsx("span",{className:"font-medium",children:"Last sign‑in:"})," ",nt.jsx("span",{className:"font-bold",children:yE(e.metadata.lastSignInTime)})]})]}),nt.jsx("button",{onClick:u,className:"shrink-0 whitespace-nowrap rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-300 sm:ms-auto",children:"Sign out"})]}):nt.jsx("div",{className:"flex justify-center py-4",children:nt.jsx(Nk,{onClick:o})})})}const Ok="NU",kk="PN",Vk="WS",Pk="TK",Lk="TO",Uk="GT",Bk="MX",zk="CA",jk="AR",Gk="CL",Hk="EC",qk="PE",Fk="BO",$k="BR",Kk="PY",Yk="UY",Qk="AQ",Xk="FJ",Zk="AI",Wk="AW",Jk="BS",t6="BB",e6="BZ",n6="BM",r6="BQ",i6="CO",a6="CU",s6="CW",o6="DM",l6="GD",u6="GP",c6="GY",h6="HT",f6="HN",d6="JM",p6="MQ",m6="MS",g6="NI",y6="PA",_6="BQ",v6="SR",E6="VE",T6="GM",w6="GH",S6="GI",b6="GN",A6="LR",R6="ML",C6="MR",I6="MA",x6="PT",M6="SN",N6="GL",D6="GG",O6="IE",k6="JE",V6="IS",P6="SJ",L6="AO",U6="BW",B6="BI",z6="KM",j6="CG",G6="GA",H6="KE",q6="LS",F6="MW",$6="MZ",K6="NA",Y6="RW",Q6="SZ",X6="TZ",Z6="ZM",W6="ZW",J6="MG",tV="MU",eV="YT",nV="SC",rV="DZ",iV="BJ",aV="CM",sV="TD",oV="KI",lV="LY",uV="MT",cV="NE",hV="NG",fV="TG",dV="TN",pV="CY",mV="DJ",gV="EG",yV="ER",_V="ET",vV="GR",EV="IQ",TV="IL",wV="JO",SV="LB",bV="SD",AV="SY",RV="TR",CV="UG",IV="AD",xV="FR",MV="LI",NV="MC",DV="CH",OV="BE",kV="DE",VV="LU",PV="NL",LV="AL",UV="AT",BV="HR",zV="DK",jV="HU",GV="IT",HV="ME",qV="PL",FV="RS",$V="SK",KV="SI",YV="NO",QV="SE",XV="BY",ZV="BG",WV="EE",JV="FI",t9="GE",e9="LV",n9="LT",r9="MD",i9="RO",a9="UA",s9="AF",o9="BH",l9="IN",u9="IR",c9="KW",h9="MV",f9="NP",d9="OM",p9="PK",m9="QA",g9="SO",y9="TJ",_9="TM",v9="YE",E9="AM",T9="AZ",w9="KZ",S9="KG",b9="UZ",A9="ID",R9="AU",C9="NR",I9="TV",x9="VU",M9="KH",N9="LA",D9="MY",O9="MM",k9="SG",V9="TH",P9="VN",L9="BD",U9="BT",B9="CN",z9="PH",j9="MN",G9="GU",H9="JP",q9="FM",F9="PW",$9="ES",K9="ES",Y9="MO",_E={"American Samoa":"AS","United States Minor Outlying Islands":"UM","Cook Islands":"CK","French Polynesia":"PF",Niue:Ok,Pitcairn:kk,Samoa:Vk,Tokelau:Pk,Tonga:Lk,"Wallis and Futuna":"WF","El Salvador":"SV",Guatemala:Uk,Mexico:Bk,Canada:zk,Argentina:jk,"Falkland Islands":"FK",Chile:Gk,Ecuador:Hk,Peru:qk,Bolivia:Fk,Brazil:$k,Paraguay:Kk,Uruguay:Yk,"South Georgia and South Sandwich Islands":"GS",Antarctica:Qk,Fiji:Xk,"Saint Helena":"SH",Anguilla:Zk,"Antigua and Barbuda":"AG",Aruba:Wk,Bahamas:Jk,Barbados:t6,Belize:e6,Bermuda:n6,Bonaire:r6,"British Virgin Islands":"VG","Cayman Islands":"KY",Colombia:i6,"Costa Rica":"CR",Cuba:a6,Curacao:s6,Dominica:o6,"Dominican Republic":"DO","French Guiana":"GF",Grenada:l6,Guadeloupe:u6,Guyana:c6,Haiti:h6,Honduras:f6,Jamaica:d6,Martinique:p6,Montserrat:m6,Nicaragua:g6,Panama:y6,"Puerto Rico":"PR",Saba:_6,"Saint Barthelemy":"BL","Saint Eustatius":"BQ","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"MF","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC","Sint Maarten":"SX",Suriname:v6,"Trinidad and Tobago":"TT","Turks and Caicos Islands":"TC","US Virgin Islands":"VI",Venezuela:E6,"Burkina Faso":"BF","Cabo Verde":"CV","Côte d'Ivoire":"CI",Gambia:T6,Ghana:w6,Gibraltar:S6,Guinea:b6,"Guinea-Bissau":"GW",Liberia:A6,Mali:R6,Mauritania:C6,Morocco:I6,Portugal:x6,Senegal:M6,"Sierra Leone":"SL",Greenland:N6,Guernsey:D6,Ireland:O6,"Isle of Man":"IM",Jersey:k6,"United Kingdom":"GB",Iceland:V6,"Faroe Islands":"FO",Svalbard:P6,"Bouvet Island":"BV","New Zealand":"NZ",Angola:L6,Botswana:U6,Burundi:B6,Comoros:z6,Congo:j6,"Congo DRC":"CD",Gabon:G6,Kenya:H6,Lesotho:q6,Malawi:F6,"Juan De Nova Island":"TF",Mozambique:$6,Namibia:K6,Rwanda:Y6,"Sao Tome and Principe":"ST","South Africa":"ZA",Eswatini:Q6,Tanzania:X6,Zambia:Z6,Zimbabwe:W6,"British Indian Ocean Territory":"IO","French Southern Territories":"TF","Heard Island and McDonald Islands":"HM",Madagascar:J6,Mauritius:tV,Mayotte:eV,"Glorioso Islands":"TF",Réunion:"RE",Seychelles:nV,Algeria:rV,Benin:iV,Cameroon:aV,"Central African Republic":"CF",Chad:sV,"Equatorial Guinea":"GQ",Kiribati:oV,Libya:lV,Malta:uV,Niger:cV,Nigeria:hV,Togo:fV,Tunisia:dV,Cyprus:pV,Djibouti:mV,Egypt:gV,Eritrea:yV,Ethiopia:_V,Greece:vV,Iraq:EV,Israel:TV,Jordan:wV,Lebanon:SV,"Palestinian Territory":"PS","South Sudan":"SS",Sudan:bV,Syria:AV,Turkey:RV,Uganda:CV,Andorra:IV,"United States":"US",France:xV,Liechtenstein:MV,Monaco:NV,Switzerland:DV,Belgium:OV,Germany:kV,Luxembourg:VV,Netherlands:PV,Albania:LV,Austria:UV,"Bosnia and Herzegovina":"BA",Croatia:BV,"Czech Republic":"CZ",Denmark:zV,Hungary:jV,Italy:GV,Montenegro:HV,Poland:qV,"San Marino":"SM",Serbia:FV,Slovakia:$V,Slovenia:KV,"North Macedonia":"MK","Vatican City":"VA",Norway:YV,Sweden:QV,Belarus:XV,Bulgaria:ZV,Estonia:WV,Finland:JV,Georgia:t9,Latvia:e9,Lithuania:n9,Moldova:r9,Romania:i9,Ukraine:a9,Afghanistan:s9,Bahrain:o9,India:l9,Iran:u9,Kuwait:c9,Maldives:h9,Nepal:f9,Oman:d9,Pakistan:p9,Qatar:m9,"Saudi Arabia":"SA",Somalia:g9,"Sri Lanka":"LK",Tajikistan:y9,Turkmenistan:_9,"United Arab Emirates":"AE",Yemen:v9,Armenia:E9,Azerbaijan:T9,Kazakhstan:w9,Kyrgyzstan:S9,Uzbekistan:b9,"Christmas Island":"CX","Cocos Islands":"CC",Indonesia:A9,"Timor-Leste":"TL",Australia:R9,Nauru:C9,"New Caledonia":"NC","Norfolk Island":"NF","Papua New Guinea":"PG","Solomon Islands":"SB",Tuvalu:I9,Vanuatu:x9,Cambodia:M9,Laos:N9,Malaysia:D9,Myanmar:O9,Singapore:k9,Thailand:V9,Vietnam:P9,Bangladesh:L9,Bhutan:U9,China:B9,"Brunei Darussalam":"BN",Philippines:z9,"South Korea":"KR",Mongolia:j9,"North Korea":"KP",Guam:G9,Japan:H9,"Marshall Islands":"MH",Micronesia:q9,"Northern Mariana Islands":"MP",Palau:F9,"Russian Federation":"RU",Spain:$9,Canarias:K9,Macau:Y9,"Hong Kong":"HK"},Q9="NZ",X9="GB",Z9="WS",W9="NZ",J9="TO",tP="GT",eP="MX",nP="CA",rP="AR",iP="CL",aP="EC",sP="PE",oP="BO",lP="BR",uP="PY",cP="UY",hP="AQ",fP="FJ",dP="GB",pP="AW",mP="BS",gP="BB",yP="BZ",_P="GB",vP="NL",EP="CO",TP="CU",wP="NL",SP="DM",bP="GD",AP="FR",RP="GY",CP="HT",IP="HN",xP="JM",MP="FR",NP="GB",DP="NI",OP="PA",kP="NL",VP="SR",PP="VE",LP="GM",UP="GH",BP="GB",zP="GN",jP="LR",GP="ML",HP="MR",qP="MA",FP="PT",$P="SN",KP="DK",YP="GB",QP="IE",XP="GB",ZP="IS",WP="NO",JP="AO",t5="BW",e5="BI",n5="KM",r5="CG",i5="GA",a5="KE",s5="LS",o5="MW",l5="MZ",u5="NA",c5="RW",h5="SZ",f5="TZ",d5="ZM",p5="ZW",m5="MG",g5="MU",y5="FR",_5="SC",v5="DZ",E5="BJ",T5="CM",w5="TD",S5="KI",b5="LY",A5="MT",R5="NE",C5="NG",I5="TG",x5="TN",M5="CY",N5="DJ",D5="EG",O5="ER",k5="ET",V5="GR",P5="IQ",L5="IL",U5="JO",B5="LB",z5="SD",j5="SY",G5="TR",H5="UG",q5="AD",F5="FR",$5="LI",K5="MC",Y5="CH",Q5="BE",X5="DE",Z5="LU",W5="NL",J5="AL",tL="AT",eL="HR",nL="DK",rL="HU",iL="IT",aL="ME",sL="PL",oL="RS",lL="SK",uL="SI",cL="NO",hL="SE",fL="BY",dL="BG",pL="EE",mL="FI",gL="GE",yL="LV",_L="LT",vL="MD",EL="RO",TL="UA",wL="AF",SL="BH",bL="IN",AL="IR",RL="KW",CL="MV",IL="NP",xL="OM",ML="PK",NL="QA",DL="SO",OL="TJ",kL="TM",VL="YE",PL="AM",LL="AZ",UL="KZ",BL="KG",zL="UZ",jL="ID",GL="AU",HL="NR",qL="TV",FL="VU",$L="KH",KL="LA",YL="MY",QL="MM",XL="SG",ZL="TH",WL="VN",JL="BD",tU="BT",eU="CN",nU="PH",rU="MN",iU="US",aU="JP",sU="FM",oU="PW",lU="ES",uU="ES",cU="MO",hU={"American Samoa":"US","United States Minor Outlying Islands":"US","Cook Islands":"NZ","French Polynesia":"FR",Niue:Q9,Pitcairn:X9,Samoa:Z9,Tokelau:W9,Tonga:J9,"Wallis and Futuna":"FR","El Salvador":"SV",Guatemala:tP,Mexico:eP,Canada:nP,Argentina:rP,"Falkland Islands":"GB",Chile:iP,Ecuador:aP,Peru:sP,Bolivia:oP,Brazil:lP,Paraguay:uP,Uruguay:cP,"South Georgia and South Sandwich Islands":"GB",Antarctica:hP,Fiji:fP,"Saint Helena":"GB",Anguilla:dP,"Antigua and Barbuda":"AG",Aruba:pP,Bahamas:mP,Barbados:gP,Belize:yP,Bermuda:_P,Bonaire:vP,"British Virgin Islands":"GB","Cayman Islands":"GB",Colombia:EP,"Costa Rica":"CR",Cuba:TP,Curacao:wP,Dominica:SP,"Dominican Republic":"DO","French Guiana":"FR",Grenada:bP,Guadeloupe:AP,Guyana:RP,Haiti:CP,Honduras:IP,Jamaica:xP,Martinique:MP,Montserrat:NP,Nicaragua:DP,Panama:OP,"Puerto Rico":"US",Saba:kP,"Saint Barthelemy":"FR","Saint Eustatius":"NL","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"FR","Saint Pierre and Miquelon":"FR","Saint Vincent and the Grenadines":"VC","Sint Maarten":"NL",Suriname:VP,"Trinidad and Tobago":"TT","Turks and Caicos Islands":"GB","US Virgin Islands":"US",Venezuela:PP,"Burkina Faso":"BF","Cabo Verde":"CV","Côte d'Ivoire":"CI",Gambia:LP,Ghana:UP,Gibraltar:BP,Guinea:zP,"Guinea-Bissau":"GW",Liberia:jP,Mali:GP,Mauritania:HP,Morocco:qP,Portugal:FP,Senegal:$P,"Sierra Leone":"SL",Greenland:KP,Guernsey:YP,Ireland:QP,"Isle of Man":"GB",Jersey:XP,"United Kingdom":"GB",Iceland:ZP,"Faroe Islands":"DK",Svalbard:WP,"Bouvet Island":"NO","New Zealand":"NZ",Angola:JP,Botswana:t5,Burundi:e5,Comoros:n5,Congo:r5,"Congo DRC":"CD",Gabon:i5,Kenya:a5,Lesotho:s5,Malawi:o5,"Juan De Nova Island":"FR",Mozambique:l5,Namibia:u5,Rwanda:c5,"Sao Tome and Principe":"ST","South Africa":"ZA",Eswatini:h5,Tanzania:f5,Zambia:d5,Zimbabwe:p5,"British Indian Ocean Territory":"GB","French Southern Territories":"FR","Heard Island and McDonald Islands":"AU",Madagascar:m5,Mauritius:g5,Mayotte:y5,"Glorioso Islands":"FR",Réunion:"FR",Seychelles:_5,Algeria:v5,Benin:E5,Cameroon:T5,"Central African Republic":"CF",Chad:w5,"Equatorial Guinea":"GQ",Kiribati:S5,Libya:b5,Malta:A5,Niger:R5,Nigeria:C5,Togo:I5,Tunisia:x5,Cyprus:M5,Djibouti:N5,Egypt:D5,Eritrea:O5,Ethiopia:k5,Greece:V5,Iraq:P5,Israel:L5,Jordan:U5,Lebanon:B5,"Palestinian Territory":"PS","South Sudan":"SS",Sudan:z5,Syria:j5,Turkey:G5,Uganda:H5,Andorra:q5,"United States":"US",France:F5,Liechtenstein:$5,Monaco:K5,Switzerland:Y5,Belgium:Q5,Germany:X5,Luxembourg:Z5,Netherlands:W5,Albania:J5,Austria:tL,"Bosnia and Herzegovina":"BA",Croatia:eL,"Czech Republic":"CZ",Denmark:nL,Hungary:rL,Italy:iL,Montenegro:aL,Poland:sL,"San Marino":"SM",Serbia:oL,Slovakia:lL,Slovenia:uL,"North Macedonia":"MK","Vatican City":"VA",Norway:cL,Sweden:hL,Belarus:fL,Bulgaria:dL,Estonia:pL,Finland:mL,Georgia:gL,Latvia:yL,Lithuania:_L,Moldova:vL,Romania:EL,Ukraine:TL,Afghanistan:wL,Bahrain:SL,India:bL,Iran:AL,Kuwait:RL,Maldives:CL,Nepal:IL,Oman:xL,Pakistan:ML,Qatar:NL,"Saudi Arabia":"SA",Somalia:DL,"Sri Lanka":"LK",Tajikistan:OL,Turkmenistan:kL,"United Arab Emirates":"AE",Yemen:VL,Armenia:PL,Azerbaijan:LL,Kazakhstan:UL,Kyrgyzstan:BL,Uzbekistan:zL,"Christmas Island":"AU","Cocos Islands":"AU",Indonesia:jL,"Timor-Leste":"TL",Australia:GL,Nauru:HL,"New Caledonia":"FR","Norfolk Island":"AU","Papua New Guinea":"PG","Solomon Islands":"SB",Tuvalu:qL,Vanuatu:FL,Cambodia:$L,Laos:KL,Malaysia:YL,Myanmar:QL,Singapore:XL,Thailand:ZL,Vietnam:WL,Bangladesh:JL,Bhutan:tU,China:eU,"Brunei Darussalam":"BN",Philippines:nU,"South Korea":"KR",Mongolia:rU,"North Korea":"KP",Guam:iU,Japan:aU,"Marshall Islands":"MH",Micronesia:sU,"Northern Mariana Islands":"US",Palau:oU,"Russian Federation":"RU",Spain:lU,Canarias:uU,Macau:cU,"Hong Kong":"HK"},Ah=()=>new Date().toISOString().slice(0,10),fU=/^\d{4}-\d{2}-\d{2}$/;function Xp(n){const t=new Date;return t.setUTCDate(t.getUTCDate()+Number(n)),t.toISOString().slice(0,10)}function dU(){const n=new URLSearchParams(window.location.search),t=n.get("d")||n.get("date");let e=null;if(!t&&window.location.hash){const o=window.location.hash.match(/(?:^|[&#])d=([^&#]+)/);o&&(e=decodeURIComponent(o[1]))}const a=t||e;return a?fU.test(a)?a:a==="yesterday"?Xp(-1):a==="tomorrow"?Xp(1):a==="today"?Ah():/^[+-]\d+$/.test(a)?Xp(a):Ah():Ah()}function Qg(){const n=new URLSearchParams(window.location.search);return!!(n.get("d")||n.get("date")||window.location.hash&&/(?:^|[&#])d=/.test(window.location.hash))}function pU(){if(!Qg())return;const n=new URL(window.location.href);if(n.searchParams.delete("d"),n.searchParams.delete("date"),n.hash){const t=n.hash.replace(/^[#]/,"").split(/[&#]/).filter(e=>!e.startsWith("d=")).join("&");n.hash=t?`#${t}`:""}window.history.replaceState(null,"",`${n.pathname}${n.search}${n.hash}`)}const mU="1g0IsY1ReO2nyVJhZS90rkbOFueMqHO4iOpW8mtM79LI",gU="sheet2";async function yU(n){const t=n||new Date().toISOString().slice(0,10),e=`https://opensheet.elk.sh/${mU}/${gU}`,o=(await fetch(e).then(u=>u.json())).find(u=>u.date===t);if(!o)throw new Error(`No row found for ${t}`);return{title:o.title,subtitle:o.subtitle,source:o.source,scale:Number(o.scale||1),target:o.target,unitSuffix:o.unitSuffix||"",yearStart:o.yearStart||void 0,yearEnd:o.yearEnd||void 0,csvUrl:o.OWID_datalink,others:[],infoDescription:o.infoDescription||"",date:t}}var Zp={},Wp={},Jp={},vE;function _U(){return vE||(vE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=function(){for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];if(typeof window<"u"){var d;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(d=window).gtag.apply(d,u)}},e=t;n.default=e}(Jp)),Jp}var tm={},EE;function vU(){return EE||(EE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function e(d){return d.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(m,g,_){return g>0&&g+m.length!==_.length&&m.search(t)>-1&&_.charAt(g-2)!==":"&&(_.charAt(g+m.length)!=="-"||_.charAt(g-1)==="-")&&_.charAt(g-1).search(/[^\s-]/)<0?m.toLowerCase():m.substr(1).search(/[A-Z]|\../)>-1?m:m.charAt(0).toUpperCase()+m.substr(1)})}function a(d){return typeof d=="string"&&d.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function u(d){return a(d)?(console.warn("This arg looks like an email address, redacting."),o):d}function h(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,_=d||"";return m&&(_=e(d)),g&&(_=u(_)),_}}(tm)),tm}var TE;function EU(){return TE||(TE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.GA4=void 0;var t=h(_U()),e=h(vU()),a=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],u=["page","hitType"];function h(tt){return tt&&tt.__esModule?tt:{default:tt}}function d(tt,H){if(tt==null)return{};var N=m(tt,H),L,U;if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(tt);for(U=0;U<z.length;U++)L=z[U],!(H.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(tt,L)&&(N[L]=tt[L])}return N}function m(tt,H){if(tt==null)return{};var N={},L=Object.keys(tt),U,z;for(z=0;z<L.length;z++)U=L[z],!(H.indexOf(U)>=0)&&(N[U]=tt[U]);return N}function g(tt){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g(tt)}function _(tt){return D(tt)||S(tt)||ut(tt)||T()}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(tt){if(typeof Symbol<"u"&&tt[Symbol.iterator]!=null||tt["@@iterator"]!=null)return Array.from(tt)}function D(tt){if(Array.isArray(tt))return at(tt)}function j(tt,H){var N=Object.keys(tt);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(tt);H&&(L=L.filter(function(U){return Object.getOwnPropertyDescriptor(tt,U).enumerable})),N.push.apply(N,L)}return N}function Z(tt){for(var H=1;H<arguments.length;H++){var N=arguments[H]!=null?arguments[H]:{};H%2?j(Object(N),!0).forEach(function(L){I(tt,L,N[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(N)):j(Object(N)).forEach(function(L){Object.defineProperty(tt,L,Object.getOwnPropertyDescriptor(N,L))})}return tt}function Q(tt,H){return dt(tt)||_t(tt,H)||ut(tt,H)||mt()}function mt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ut(tt,H){if(tt){if(typeof tt=="string")return at(tt,H);var N=Object.prototype.toString.call(tt).slice(8,-1);if(N==="Object"&&tt.constructor&&(N=tt.constructor.name),N==="Map"||N==="Set")return Array.from(tt);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return at(tt,H)}}function at(tt,H){(H==null||H>tt.length)&&(H=tt.length);for(var N=0,L=new Array(H);N<H;N++)L[N]=tt[N];return L}function _t(tt,H){var N=tt==null?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(N!=null){var L,U,z,w,A=[],F=!0,q=!1;try{if(z=(N=N.call(tt)).next,H!==0)for(;!(F=(L=z.call(N)).done)&&(A.push(L.value),A.length!==H);F=!0);}catch(rt){q=!0,U=rt}finally{try{if(!F&&N.return!=null&&(w=N.return(),Object(w)!==w))return}finally{if(q)throw U}}return A}}function dt(tt){if(Array.isArray(tt))return tt}function Et(tt,H){if(!(tt instanceof H))throw new TypeError("Cannot call a class as a function")}function O(tt,H){for(var N=0;N<H.length;N++){var L=H[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(tt,V(L.key),L)}}function C(tt,H,N){return H&&O(tt.prototype,H),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function I(tt,H,N){return H=V(H),H in tt?Object.defineProperty(tt,H,{value:N,enumerable:!0,configurable:!0,writable:!0}):tt[H]=N,tt}function V(tt){var H=M(tt,"string");return g(H)==="symbol"?H:String(H)}function M(tt,H){if(g(tt)!=="object"||tt===null)return tt;var N=tt[Symbol.toPrimitive];if(N!==void 0){var L=N.call(tt,H);if(g(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(tt)}var P=function(){function tt(){var H=this;Et(this,tt),I(this,"reset",function(){H.isInitialized=!1,H._testMode=!1,H._currentMeasurementId,H._hasLoadedGA=!1,H._isQueuing=!1,H._queueGtag=[]}),I(this,"_gtag",function(){for(var N=arguments.length,L=new Array(N),U=0;U<N;U++)L[U]=arguments[U];H._testMode||H._isQueuing?H._queueGtag.push(L):t.default.apply(void 0,L)}),I(this,"_loadGA",function(N,L){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!H._hasLoadedGA){var z=document.createElement("script");z.async=!0,z.src="".concat(U,"?id=").concat(N),L&&z.setAttribute("nonce",L),document.body.appendChild(z),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},H._hasLoadedGA=!0}}),I(this,"_toGtagOptions",function(N){if(N){var L={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},U=Object.entries(N).reduce(function(z,w){var A=Q(w,2),F=A[0],q=A[1];return L[F]?z[L[F]]=q:z[F]=q,z},{});return U}}),I(this,"initialize",function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!N)throw new Error("Require GA_MEASUREMENT_ID");var U=typeof N=="string"?[{trackingId:N}]:N;H._currentMeasurementId=U[0].trackingId;var z=L.gaOptions,w=L.gtagOptions,A=L.nonce,F=L.testMode,q=F===void 0?!1:F,rt=L.gtagUrl;if(H._testMode=q,q||H._loadGA(H._currentMeasurementId,A,rt),H.isInitialized||(H._gtag("js",new Date),U.forEach(function(gt){var vt=Z(Z(Z({},H._toGtagOptions(Z(Z({},z),gt.gaOptions))),w),gt.gtagOptions);Object.keys(vt).length?H._gtag("config",gt.trackingId,vt):H._gtag("config",gt.trackingId)})),H.isInitialized=!0,!q){var ft=_(H._queueGtag);for(H._queueGtag=[],H._isQueuing=!1;ft.length;){var pt=ft.shift();H._gtag.apply(H,_(pt)),pt[0]==="get"&&(H._isQueuing=!0)}}}),I(this,"set",function(N){if(!N){console.warn("`fieldsObject` is required in .set()");return}if(g(N)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(N).length===0&&console.warn("empty `fieldsObject` given to .set()"),H._gaCommand("set",N)}),I(this,"_gaCommandSendEvent",function(N,L,U,z,w){H._gtag("event",L,Z(Z({event_category:N,event_label:U,value:z},w&&{non_interaction:w.nonInteraction}),H._toGtagOptions(w)))}),I(this,"_gaCommandSendEventParameters",function(){for(var N=arguments.length,L=new Array(N),U=0;U<N;U++)L[U]=arguments[U];if(typeof L[0]=="string")H._gaCommandSendEvent.apply(H,_(L.slice(1)));else{var z=L[0],w=z.eventCategory,A=z.eventAction,F=z.eventLabel,q=z.eventValue;z.hitType;var rt=d(z,a);H._gaCommandSendEvent(w,A,F,q,rt)}}),I(this,"_gaCommandSendTiming",function(N,L,U,z){H._gtag("event","timing_complete",{name:L,value:U,event_category:N,event_label:z})}),I(this,"_gaCommandSendPageview",function(N,L){if(L&&Object.keys(L).length){var U=H._toGtagOptions(L),z=U.title,w=U.location,A=d(U,o);H._gtag("event","page_view",Z(Z(Z(Z({},N&&{page_path:N}),z&&{page_title:z}),w&&{page_location:w}),A))}else N?H._gtag("event","page_view",{page_path:N}):H._gtag("event","page_view")}),I(this,"_gaCommandSendPageviewParameters",function(){for(var N=arguments.length,L=new Array(N),U=0;U<N;U++)L[U]=arguments[U];if(typeof L[0]=="string")H._gaCommandSendPageview.apply(H,_(L.slice(1)));else{var z=L[0],w=z.page;z.hitType;var A=d(z,u);H._gaCommandSendPageview(w,A)}}),I(this,"_gaCommandSend",function(){for(var N=arguments.length,L=new Array(N),U=0;U<N;U++)L[U]=arguments[U];var z=typeof L[0]=="string"?L[0]:L[0].hitType;switch(z){case"event":H._gaCommandSendEventParameters.apply(H,L);break;case"pageview":H._gaCommandSendPageviewParameters.apply(H,L);break;case"timing":H._gaCommandSendTiming.apply(H,_(L.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(z));break;default:console.warn("Send command doesn't exist: ".concat(z))}}),I(this,"_gaCommandSet",function(){for(var N=arguments.length,L=new Array(N),U=0;U<N;U++)L[U]=arguments[U];typeof L[0]=="string"&&(L[0]=I({},L[0],L[1])),H._gtag("set",H._toGtagOptions(L[0]))}),I(this,"_gaCommand",function(N){for(var L=arguments.length,U=new Array(L>1?L-1:0),z=1;z<L;z++)U[z-1]=arguments[z];switch(N){case"send":H._gaCommandSend.apply(H,U);break;case"set":H._gaCommandSet.apply(H,U);break;default:console.warn("Command doesn't exist: ".concat(N))}}),I(this,"ga",function(){for(var N=arguments.length,L=new Array(N),U=0;U<N;U++)L[U]=arguments[U];if(typeof L[0]=="string")H._gaCommand.apply(H,L);else{var z=L[0];H._gtag("get",H._currentMeasurementId,"client_id",function(w){H._isQueuing=!1;var A=H._queueGtag;for(z({get:function(rt){return rt==="clientId"?w:rt==="trackingId"?H._currentMeasurementId:rt==="apiVersion"?"1":void 0}});A.length;){var F=A.shift();H._gtag.apply(H,_(F))}}),H._isQueuing=!0}return H.ga}),I(this,"event",function(N,L){if(typeof N=="string")H._gtag("event",N,H._toGtagOptions(L));else{var U=N.action,z=N.category,w=N.label,A=N.value,F=N.nonInteraction,q=N.transport;if(!z||!U){console.warn("args.category AND args.action are required in event()");return}var rt={hitType:"event",eventCategory:(0,e.default)(z),eventAction:(0,e.default)(U)};w&&(rt.eventLabel=(0,e.default)(w)),typeof A<"u"&&(typeof A!="number"?console.warn("Expected `args.value` arg to be a Number."):rt.eventValue=A),typeof F<"u"&&(typeof F!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):rt.nonInteraction=F),typeof q<"u"&&(typeof q!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(q)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),rt.transport=q)),H._gaCommand("send",rt)}}),I(this,"send",function(N){H._gaCommand("send",N)}),this.reset()}return C(tt,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),tt}();n.GA4=P;var x=new P;n.default=x}(Wp)),Wp}var wE;function TU(){return wE||(wE=1,function(n){function t(d){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(d)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ReactGAImplementation=void 0;var e=o(EU());function a(d){if(typeof WeakMap!="function")return null;var m=new WeakMap,g=new WeakMap;return(a=function(T){return T?g:m})(d)}function o(d,m){if(d&&d.__esModule)return d;if(d===null||t(d)!=="object"&&typeof d!="function")return{default:d};var g=a(m);if(g&&g.has(d))return g.get(d);var _={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in d)if(S!=="default"&&Object.prototype.hasOwnProperty.call(d,S)){var D=T?Object.getOwnPropertyDescriptor(d,S):null;D&&(D.get||D.set)?Object.defineProperty(_,S,D):_[S]=d[S]}return _.default=d,g&&g.set(d,_),_}var u=e.GA4;n.ReactGAImplementation=u;var h=e.default;n.default=h}(Zp)),Zp}var wU=TU();const Rf=jm(wU),SU=()=>{Rf.initialize("G-Y5KH49S1XK")},bU=()=>{Rf.send({hitType:"pageview",page:window.location.pathname})},AU=(n,t)=>{Rf.event({category:"Game",action:"Guess",label:n,value:t})},SE=(n,t,e)=>{Rf.event({category:"Game",action:n==="won"?"Win":"Lose",label:e,value:t})},RU={usa:"United States",us:"United States","united states":"United States",uk:"United Kingdom","u.k.":"United Kingdom","Côte d’Ivoire":"Ivory Coast","Cote d’Ivoire":"Ivory Coast","dr congo":"Democratic Republic of the Congo","democratic republic congo":"Democratic Republic of the Congo","congo-kinshasa":"Democratic Republic of the Congo","congo-brazzaville":"Congo",swaziland:"Eswatini","czech republic":"Czechia",burma:"Myanmar","east timor":"Timor-Leste",taiwan:"Taiwan",venezuela:"Venezuela",lao:"Laos","south korea":"South Korea","north korea":"North Korea",macedonia:"North Macedonia",macao:"Macau","palestinian territories":"Palestine",...Object.fromEntries(["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Caribbean Netherlands","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Northern Cyprus","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"].map(n=>[n.toLowerCase(),n]))},Fl=5,co=dU(),bE=Qg(),CU=LS(),Ya=CU[co]??null;function IU(){const[n,t]=At.useState(null),[e,a]=At.useState((Ya==null?void 0:Ya.guesses)??[]),[o,u]=At.useState((Ya==null?void 0:Ya.result)??"playing"),[h,d]=At.useState(!1),[m,g]=At.useState(!1),[_,T]=At.useState(null),[S,D]=At.useState([]),[j,Z]=At.useState(null),Q=C=>Z(C);new Date(co).toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"});const mt=new Date(co).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});At.useEffect(()=>{SU(),bU()},[]),At.useEffect(()=>{yU(co).then(t).catch(C=>console.error(C.message))},[]),At.useEffect(()=>{Qg()&&pU()},[]);const ut=(n==null?void 0:n.target)??null,at=ut?hU[ut]:null,_t=ut?ut.toLowerCase():null,dt=(n==null?void 0:n.infoDescription)??null,Et=(n==null?void 0:n.source)??null;At.useEffect(()=>{if(!at)return;const C=`https://raw.githubusercontent.com/a-jiwa/chartle-data/main/countries/${at}.json`;fetch(C).then(I=>I.json()).then(T).catch(I=>console.error("Failed to fetch target country data:",I))},[at]),At.useEffect(()=>{if(o!=="won"){d(!1);return}const C=300,I=C+1e3,V=setTimeout(()=>{TA({particleCount:120,spread:70,origin:{y:.6},disableForReducedMotion:!0,colors:["#c43333",...Ti]})},C),M=setTimeout(()=>d(!0),I);return()=>{clearTimeout(V),clearTimeout(M)}},[o]),At.useEffect(()=>{if(o!=="lost"){g(!1);return}const C=setTimeout(()=>g(!0),3e3);return()=>clearTimeout(C)},[o]),At.useEffect(()=>{ut&&Ek({...Yg(),[co]:{target:ut,guesses:e,result:o,title:n.title}})},[e,o,ut]),At.useEffect(()=>{if(bE)return;const C=setInterval(()=>{Ah()!==co&&window.location.reload()},6e4);return()=>clearInterval(C)},[]),At.useEffect(()=>{if(!n)return;const C=Ya;if(!C)return;C.title===n.title||(a([]),u("playing"))},[n]);const O=C=>{if(o!=="playing")return;const I=C.trim();if(!I)return;const V=I.toLowerCase().trim(),M=RU[V]||I.replace(/\b\w/g,x=>x.toUpperCase());zm.some(x=>x.toLowerCase()===V)&&a(x=>{if(x.some(N=>N.toLowerCase()===V)||x.length>=Fl)return x;const tt=[...x,M];AU(M,tt.length),V===_t?(u("won"),SE("won",tt.length,ut)):tt.length>=Fl&&(u("lost"),SE("lost",tt.length,ut));const H=_E[M];if(H&&_&&_[H]){const{direction:N,distance_km:L}=_[H];console.log(`Your guess is ${L} km to the ${N}`)}return tt})};return!n||!at?null:nt.jsxs("div",{className:"h-full antialiased flex flex-col items-center overflow-y-scroll",children:[nt.jsx(BN,{onOpen:Q,dateLabel:mt,overridden:bE}),nt.jsxs("div",{className:"pt-12 flex flex-col w-full max-w-[700px] h-full",children:[nt.jsxs("div",{className:"flex-none h-2/3",children:[nt.jsx("div",{className:"px-4 pb-2 grid grid-cols-[1fr_auto] items-start gap-y-1",children:nt.jsxs("div",{children:[nt.jsx("h2",{className:"mt-5 text-left font-bold text-gray-900 dark:text-white text-[20px] md:text-[22px] leading-tight",children:n.title}),nt.jsx("p",{className:"text-left text-gray-600 dark:text-gray-300 text-[16px] mt-1",children:n.subtitle})]})}),nt.jsx(yk,{csvUrl:n.csvUrl,meta:n,target:ut,others:n.others??[],guesses:e,guessColours:Ti,setAvailableCountries:D})]}),nt.jsx("div",{className:"flex-none mt-8",children:nt.jsx(_k,{guesses:e,onAddGuess:O,status:o,max:Fl,guessColours:Ti,targetData:_,countryToIso:_E,validCountries:S,target:ut})})]}),nt.jsx(Tk,{open:h,onClose:()=>u("done"),guesses:e,target:ut,infoDescription:dt,source:Et,csvUrl:n.csvUrl,title:n.title,subtitle:n.subtitle,maxGuesses:Fl,yearStart:n.yearStart,yearEnd:n.yearEnd,gameDate:mt,unitSuffix:n.unitSuffix}),nt.jsx(wk,{open:m,onClose:()=>u("done"),target:ut,infoDescription:dt,source:Et,csvUrl:n.csvUrl,guesses:e,title:n.title,subtitle:n.subtitle,maxGuesses:Fl}),nt.jsx(Sk,{open:j==="help",onClose:()=>Z(null)}),nt.jsx(xk,{open:j==="history",onClose:()=>Z(null)}),nt.jsx(Mk,{open:j==="settings",onClose:()=>Z(null)}),nt.jsx(Dk,{open:j==="auth",onClose:()=>Z(null)})]})}EA.createRoot(document.getElementById("root")).render(nt.jsx(fA.StrictMode,{children:nt.jsx(LN,{children:nt.jsx(IU,{})})}))});export default xU();
