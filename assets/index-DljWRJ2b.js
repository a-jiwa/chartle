var iA=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var IU=iA((NU,vu)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function Um(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wp={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function rA(){if(nv)return zl;nv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=t,zl.jsx=e,zl.jsxs=e,zl}var iv;function aA(){return iv||(iv=1,wp.exports=rA()),wp.exports}var et=aA(),Sp={exports:{}},Bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function sA(){if(rv)return Bt;rv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Z={};function Q(w,A,H){this.props=w,this.context=A,this.refs=Z,this.updater=H||M}Q.prototype.isReactComponent={},Q.prototype.setState=function(w,A){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,A,"setState")},Q.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function ht(){}ht.prototype=Q.prototype;function ot(w,A,H){this.props=w,this.context=A,this.refs=Z,this.updater=H||M}var it=ot.prototype=new ht;it.constructor=ot,z(it,Q.prototype),it.isPureReactComponent=!0;var mt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function k(w,A,H,G,rt,dt){return H=dt.ref,{$$typeof:n,type:w,key:A,ref:H!==void 0?H:null,props:dt}}function C(w,A){return k(w.type,A,void 0,void 0,void 0,w.props)}function x(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function V(w){var A={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(H){return A[H]})}var N=/\/+/g;function U(w,A){return typeof w=="object"&&w!==null&&w.key!=null?V(""+w.key):A.toString(36)}function I(){}function nt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(I,I):(w.status="pending",w.then(function(A){w.status==="pending"&&(w.status="fulfilled",w.value=A)},function(A){w.status==="pending"&&(w.status="rejected",w.reason=A)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function q(w,A,H,G,rt){var dt=typeof w;(dt==="undefined"||dt==="boolean")&&(w=null);var pt=!1;if(w===null)pt=!0;else switch(dt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(w.$$typeof){case n:case t:pt=!0;break;case _:return pt=w._init,q(pt(w._payload),A,H,G,rt)}}if(pt)return rt=rt(w),pt=G===""?"."+U(w,0):G,mt(rt)?(H="",pt!=null&&(H=pt.replace(N,"$&/")+"/"),q(rt,A,H,"",function(Ut){return Ut})):rt!=null&&(x(rt)&&(rt=C(rt,H+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(N,"$&/")+"/")+pt)),A.push(rt)),1;pt=0;var yt=G===""?".":G+":";if(mt(w))for(var vt=0;vt<w.length;vt++)G=w[vt],dt=yt+U(G,vt),pt+=q(G,A,H,dt,rt);else if(vt=S(w),typeof vt=="function")for(w=vt.call(w),vt=0;!(G=w.next()).done;)G=G.value,dt=yt+U(G,vt++),pt+=q(G,A,H,dt,rt);else if(dt==="object"){if(typeof w.then=="function")return q(nt(w),A,H,G,rt);throw A=String(w),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return pt}function D(w,A,H){if(w==null)return w;var G=[],rt=0;return q(w,G,"","",function(dt){return A.call(H,dt,rt++)}),G}function P(w){if(w._status===-1){var A=w._result;A=A(),A.then(function(H){(w._status===0||w._status===-1)&&(w._status=1,w._result=H)},function(H){(w._status===0||w._status===-1)&&(w._status=2,w._result=H)}),w._status===-1&&(w._status=0,w._result=A)}if(w._status===1)return w._result.default;throw w._result}var L=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function K(){}return Bt.Children={map:D,forEach:function(w,A,H){D(w,function(){A.apply(this,arguments)},H)},count:function(w){var A=0;return D(w,function(){A++}),A},toArray:function(w){return D(w,function(A){return A})||[]},only:function(w){if(!x(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Bt.Component=Q,Bt.Fragment=e,Bt.Profiler=o,Bt.PureComponent=ot,Bt.StrictMode=a,Bt.Suspense=m,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Bt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return ct.H.useMemoCache(w)}},Bt.cache=function(w){return function(){return w.apply(null,arguments)}},Bt.cloneElement=function(w,A,H){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var G=z({},w.props),rt=w.key,dt=void 0;if(A!=null)for(pt in A.ref!==void 0&&(dt=void 0),A.key!==void 0&&(rt=""+A.key),A)!_t.call(A,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&A.ref===void 0||(G[pt]=A[pt]);var pt=arguments.length-2;if(pt===1)G.children=H;else if(1<pt){for(var yt=Array(pt),vt=0;vt<pt;vt++)yt[vt]=arguments[vt+2];G.children=yt}return k(w.type,rt,void 0,void 0,dt,G)},Bt.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Bt.createElement=function(w,A,H){var G,rt={},dt=null;if(A!=null)for(G in A.key!==void 0&&(dt=""+A.key),A)_t.call(A,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(rt[G]=A[G]);var pt=arguments.length-2;if(pt===1)rt.children=H;else if(1<pt){for(var yt=Array(pt),vt=0;vt<pt;vt++)yt[vt]=arguments[vt+2];rt.children=yt}if(w&&w.defaultProps)for(G in pt=w.defaultProps,pt)rt[G]===void 0&&(rt[G]=pt[G]);return k(w,dt,void 0,void 0,null,rt)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(w){return{$$typeof:d,render:w}},Bt.isValidElement=x,Bt.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:P}},Bt.memo=function(w,A){return{$$typeof:g,type:w,compare:A===void 0?null:A}},Bt.startTransition=function(w){var A=ct.T,H={};ct.T=H;try{var G=w(),rt=ct.S;rt!==null&&rt(H,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(K,L)}catch(dt){L(dt)}finally{ct.T=A}},Bt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Bt.use=function(w){return ct.H.use(w)},Bt.useActionState=function(w,A,H){return ct.H.useActionState(w,A,H)},Bt.useCallback=function(w,A){return ct.H.useCallback(w,A)},Bt.useContext=function(w){return ct.H.useContext(w)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(w,A){return ct.H.useDeferredValue(w,A)},Bt.useEffect=function(w,A,H){var G=ct.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(w,A)},Bt.useId=function(){return ct.H.useId()},Bt.useImperativeHandle=function(w,A,H){return ct.H.useImperativeHandle(w,A,H)},Bt.useInsertionEffect=function(w,A){return ct.H.useInsertionEffect(w,A)},Bt.useLayoutEffect=function(w,A){return ct.H.useLayoutEffect(w,A)},Bt.useMemo=function(w,A){return ct.H.useMemo(w,A)},Bt.useOptimistic=function(w,A){return ct.H.useOptimistic(w,A)},Bt.useReducer=function(w,A,H){return ct.H.useReducer(w,A,H)},Bt.useRef=function(w){return ct.H.useRef(w)},Bt.useState=function(w){return ct.H.useState(w)},Bt.useSyncExternalStore=function(w,A,H){return ct.H.useSyncExternalStore(w,A,H)},Bt.useTransition=function(){return ct.H.useTransition()},Bt.version="19.1.0",Bt}var av;function Bm(){return av||(av=1,Sp.exports=sA()),Sp.exports}var wt=Bm();const oA=Um(wt);var bp={exports:{}},jl={},Ap={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function lA(){return sv||(sv=1,function(n){function t(D,P){var L=D.length;D.push(P);t:for(;0<L;){var K=L-1>>>1,w=D[K];if(0<o(w,P))D[K]=P,D[L]=w,L=K;else break t}}function e(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var P=D[0],L=D.pop();if(L!==P){D[0]=L;t:for(var K=0,w=D.length,A=w>>>1;K<A;){var H=2*(K+1)-1,G=D[H],rt=H+1,dt=D[rt];if(0>o(G,L))rt<w&&0>o(dt,G)?(D[K]=dt,D[rt]=L,K=rt):(D[K]=G,D[H]=L,K=H);else if(rt<w&&0>o(dt,L))D[K]=dt,D[rt]=L,K=rt;else break t}}return P}function o(D,P){var L=D.sortIndex-P.sortIndex;return L!==0?L:D.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],g=[],_=1,T=null,S=3,M=!1,z=!1,Z=!1,Q=!1,ht=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function mt(D){for(var P=e(g);P!==null;){if(P.callback===null)a(g);else if(P.startTime<=D)a(g),P.sortIndex=P.expirationTime,t(m,P);else break;P=e(g)}}function ct(D){if(Z=!1,mt(D),!z)if(e(m)!==null)z=!0,_t||(_t=!0,U());else{var P=e(g);P!==null&&q(ct,P.startTime-D)}}var _t=!1,k=-1,C=5,x=-1;function V(){return Q?!0:!(n.unstable_now()-x<C)}function N(){if(Q=!1,_t){var D=n.unstable_now();x=D;var P=!0;try{t:{z=!1,Z&&(Z=!1,ot(k),k=-1),M=!0;var L=S;try{e:{for(mt(D),T=e(m);T!==null&&!(T.expirationTime>D&&V());){var K=T.callback;if(typeof K=="function"){T.callback=null,S=T.priorityLevel;var w=K(T.expirationTime<=D);if(D=n.unstable_now(),typeof w=="function"){T.callback=w,mt(D),P=!0;break e}T===e(m)&&a(m),mt(D)}else a(m);T=e(m)}if(T!==null)P=!0;else{var A=e(g);A!==null&&q(ct,A.startTime-D),P=!1}}break t}finally{T=null,S=L,M=!1}P=void 0}}finally{P?U():_t=!1}}}var U;if(typeof it=="function")U=function(){it(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,nt=I.port2;I.port1.onmessage=N,U=function(){nt.postMessage(null)}}else U=function(){ht(N,0)};function q(D,P){k=ht(function(){D(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(D){switch(S){case 1:case 2:case 3:var P=3;break;default:P=S}var L=S;S=P;try{return D()}finally{S=L}},n.unstable_requestPaint=function(){Q=!0},n.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=S;S=D;try{return P()}finally{S=L}},n.unstable_scheduleCallback=function(D,P,L){var K=n.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?K+L:K):L=K,D){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=L+w,D={id:_++,callback:P,priorityLevel:D,startTime:L,expirationTime:w,sortIndex:-1},L>K?(D.sortIndex=L,t(g,D),e(m)===null&&D===e(g)&&(Z?(ot(k),k=-1):Z=!0,q(ct,L-K))):(D.sortIndex=w,t(m,D),z||M||(z=!0,_t||(_t=!0,U()))),D},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(D){var P=S;return function(){var L=S;S=P;try{return D.apply(this,arguments)}finally{S=L}}}}(Rp)),Rp}var ov;function uA(){return ov||(ov=1,Ap.exports=lA()),Ap.exports}var Cp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function cA(){if(lv)return fn;lv=1;var n=Bm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,_)},fn.flushSync=function(m){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=_,a.d.f()}},fn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},fn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},fn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:M}):_==="script"&&a.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},fn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);a.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},fn.requestFormReset=function(m){a.d.r(m)},fn.unstable_batchedUpdates=function(m,g){return m(g)},fn.useFormState=function(m,g,_){return h.H.useFormState(m,g,_)},fn.useFormStatus=function(){return h.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var uv;function hA(){if(uv)return Cp.exports;uv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cp.exports=cA(),Cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function fA(){if(cv)return jl;cv=1;var n=uA(),t=Bm(),e=hA();function a(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,s=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(s=r.return),i=r.return;while(i)}return r.tag===3?s:null}function h(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(a(188))}function m(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(a(188));return r!==i?null:i}for(var s=i,l=r;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),i;if(p===l)return d(f),r;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var E=!1,b=f.child;b;){if(b===s){E=!0,s=f,l=p;break}if(b===l){E=!0,l=f,s=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===s){E=!0,s=p,l=f;break}if(b===l){E=!0,l=p,s=f;break}b=b.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ht=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),it=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function nt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case Q:return"Profiler";case Z:return"StrictMode";case ct:return"Suspense";case _t:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case it:return(i.displayName||"Context")+".Provider";case ot:return(i._context.displayName||"Context")+".Consumer";case mt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:nt(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return nt(i(r))}catch{}}return null}var q=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},K=[],w=-1;function A(i){return{current:i}}function H(i){0>w||(i.current=K[w],K[w]=null,w--)}function G(i,r){w++,K[w]=i.current,i.current=r}var rt=A(null),dt=A(null),pt=A(null),yt=A(null);function vt(i,r){switch(G(pt,r),G(dt,i),G(rt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?M0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=M0(r),i=N0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(rt),G(rt,i)}function Ut(){H(rt),H(dt),H(pt)}function Kt(i){i.memoizedState!==null&&G(yt,i);var r=rt.current,s=N0(r,i.type);r!==s&&(G(dt,i),G(rt,s))}function Pt(i){dt.current===i&&(H(rt),H(dt)),yt.current===i&&(H(yt),Vl._currentValue=L)}var Yt=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,Lt=n.unstable_cancelCallback,me=n.unstable_shouldYield,Ce=n.unstable_requestPaint,de=n.unstable_now,yn=n.unstable_getCurrentPriorityLevel,_n=n.unstable_ImmediatePriority,oe=n.unstable_UserBlockingPriority,un=n.unstable_NormalPriority,Ar=n.unstable_LowPriority,ti=n.unstable_IdlePriority,Un=n.log,Gi=n.unstable_setDisableYieldValue,$=null,St=null;function It(i){if(typeof Un=="function"&&Gi(i),St&&typeof St.setStrictMode=="function")try{St.setStrictMode($,i)}catch{}}var Rt=Math.clz32?Math.clz32:Te,Wt=Math.log,ye=Math.LN2;function Te(i){return i>>>=0,i===0?32:31-(Wt(i)/ye|0)|0}var _e=256,De=4194304;function Oe(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function cn(i,r,s){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=Oe(l):(E&=b,E!==0?f=Oe(E):s||(s=b&~i,s!==0&&(f=Oe(s))))):(b=l&~p,b!==0?f=Oe(b):E!==0?f=Oe(E):s||(s=l&~i,s!==0&&(f=Oe(s)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,s=r&-r,p>=s||p===32&&(s&4194048)!==0)?r:f}function Rr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ps(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(){var i=_e;return _e<<=1,(_e&4194048)===0&&(_e=256),i}function Lo(){var i=De;return De<<=1,(De&62914560)===0&&(De=4194304),i}function Hi(i){for(var r=[],s=0;31>s;s++)r.push(i);return r}function qi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Uo(i,r,s,l,f,p){var E=i.pendingLanes;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=s,i.entangledLanes&=s,i.errorRecoveryDisabledLanes&=s,i.shellSuspendCounter=0;var b=i.entanglements,O=i.expirationTimes,X=i.hiddenUpdates;for(s=E&~s;0<s;){var at=31-Rt(s),lt=1<<at;b[at]=0,O[at]=-1;var J=X[at];if(J!==null)for(X[at]=null,at=0;at<J.length;at++){var W=J[at];W!==null&&(W.lane&=-536870913)}s&=~lt}l!==0&&pi(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(E&~r))}function pi(i,r,s){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Rt(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|s&4194090}function Bo(i,r){var s=i.entangledLanes|=r;for(i=i.entanglements;s;){var l=31-Rt(s),f=1<<l;f&r|i[l]&r&&(i[l]|=r),s&=~f}}function Cr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ms(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ir(){var i=P.p;return i!==0?i:(i=window.event,i===void 0?32:X0(i.type))}function Du(i,r){var s=P.p;try{return P.p=i,r()}finally{P.p=s}}var ve=Math.random().toString(36).slice(2),ze="__reactFiber$"+ve,ke="__reactProps$"+ve,Bn="__reactContainer$"+ve,zo="__reactEvents$"+ve,Af="__reactListeners$"+ve,xr="__reactHandles$"+ve,Ou="__reactResources$"+ve,ya="__reactMarker$"+ve;function Mr(i){delete i[ze],delete i[ke],delete i[zo],delete i[Af],delete i[xr]}function Fi(i){var r=i[ze];if(r)return r;for(var s=i.parentNode;s;){if(r=s[Bn]||s[ze]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(i=V0(i);i!==null;){if(s=i[ze])return s;i=V0(i)}return r}i=s,s=i.parentNode}return null}function mi(i){if(i=i[ze]||i[Bn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function gi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(a(33))}function vn(i){var r=i[Ou];return r||(r=i[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ie(i){i[ya]=!0}var jo=new Set,gs={};function ei(i,r){$i(i,r),$i(i+"Capture",r)}function $i(i,r){for(gs[i]=r,i=0;i<r.length;i++)jo.add(r[i])}var ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},_a={};function Pu(i){return Yt.call(_a,i)?!0:Yt.call(Vu,i)?!1:ku.test(i)?_a[i]=!0:(Vu[i]=!0,!1)}function Nr(i,r,s){if(Pu(r))if(s===null)i.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+s)}}function yi(i,r,s){if(s===null)i.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+s)}}function tn(i,r,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttributeNS(r,s,""+l)}}var va,Lu;function Ki(i){if(va===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);va=r&&r[1]||"",Lu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+i+Lu}var ys=!1;function _s(i,r){if(!i||ys)return"";ys=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(W){var J=W}Reflect.construct(i,[],lt)}else{try{lt.call()}catch(W){J=W}i.call(lt.prototype)}}else{try{throw Error()}catch(W){J=W}(lt=i())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(W){if(W&&J&&typeof W.stack=="string")return[W.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var O=E.split(`
`),X=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===X.length)for(l=O.length-1,f=X.length-1;1<=l&&0<=f&&O[l]!==X[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==X[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==X[f]){var at=`
`+O[l].replace(" at new "," at ");return i.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",i.displayName)),at}while(1<=l&&0<=f);break}}}finally{ys=!1,Error.prepareStackTrace=s}return(s=i?i.displayName||i.name:"")?Ki(s):""}function Go(i){switch(i.tag){case 26:case 27:case 5:return Ki(i.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return _s(i.type,!1);case 11:return _s(i.type.render,!1);case 1:return _s(i.type,!0);case 31:return Ki("Activity");default:return""}}function vs(i){try{var r="";do r+=Go(i),i=i.return;while(i);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function En(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ho(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rf(i){var r=Ho(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(i,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Es(i){i._valueTracker||(i._valueTracker=Rf(i))}function qo(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return i&&(l=Ho(i)?i.checked?"true":"false":i.value),i=l,i!==s?(r.setValue(i),!0):!1}function Ea(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Cf=/[\n"\\]/g;function Ve(i){return i.replace(Cf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xn(i,r,s,l,f,p,E,b){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+En(r)):i.value!==""+En(r)&&(i.value=""+En(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Dr(i,E,En(r)):s!=null?Dr(i,E,En(s)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+En(b):i.removeAttribute("name")}function Ta(i,r,s,l,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;s=s!=null?""+En(s):"",r=r!=null?""+En(r):s,b||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=b?i.checked:!!l,i.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Dr(i,r,s){r==="number"&&Ea(i.ownerDocument)===i||i.defaultValue===""+s||(i.defaultValue=""+s)}function Yi(i,r,s,l){if(i=i.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<i.length;s++)f=r.hasOwnProperty("$"+i[s].value),i[s].selected!==f&&(i[s].selected=f),f&&l&&(i[s].defaultSelected=!0)}else{for(s=""+En(s),r=null,f=0;f<i.length;f++){if(i[f].value===s){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function le(i,r,s){if(r!=null&&(r=""+En(r),r!==i.value&&(i.value=r),s==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=s!=null?""+En(s):""}function wa(i,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(q(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=En(r),i.defaultValue=s,l=i.textContent,l===s&&l!==""&&l!==null&&(i.value=l)}function zn(i,r){if(r){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=r;return}}i.textContent=r}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(i,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,s):typeof s!="number"||s===0||Sa.has(r)?r==="float"?i.cssFloat=s:i[r]=(""+s).trim():i[r]=s+"px"}function Fo(i,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(i=i.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&Uu(i,f,l)}else for(var p in r)r.hasOwnProperty(p)&&Uu(i,p,r[p])}function $o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(i){return xf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Qi=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xi=null,Zi=null;function Ko(i){var r=mi(i);if(r&&(i=r.stateNode)){var s=i[ke]||null;t:switch(i=r.stateNode,r.type){case"input":if(xn(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ve(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==i&&l.form===i.form){var f=l[ke]||null;if(!f)throw Error(a(90));xn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===i.form&&qo(l)}break t;case"textarea":le(i,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&Yi(i,!!s.multiple,r,!1)}}}var _i=!1;function Bu(i,r,s){if(_i)return i(r,s);_i=!0;try{var l=i(r);return l}finally{if(_i=!1,(Xi!==null||Zi!==null)&&(Dc(),Xi&&(r=Xi,i=Zi,Zi=Xi=null,Ko(r),i)))for(r=0;r<i.length;r++)Ko(i[r])}}function ba(i,r){var s=i.stateNode;if(s===null)return null;var l=s[ke]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(ni)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{Gn=!1}var vi=null,Or=null,Ji=null;function Yo(){if(Ji)return Ji;var i,r=Or,s=r.length,l,f="value"in vi?vi.value:vi.textContent,p=f.length;for(i=0;i<s&&r[i]===f[i];i++);var E=s-i;for(l=1;l<=E&&r[s-l]===f[p-l];l++);return Ji=f.slice(i,1<l?1-l:void 0)}function Ei(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ti(){return!0}function Qo(){return!1}function Ke(i){function r(s,l,f,p,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(s=i[b],this[b]=s?s(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ti:Qo,this.isPropagationStopped=Qo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),r}var ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=Ke(ne),Ra=_({},ne,{view:0,detail:0}),zu=Ke(Ra),Ss,bs,wi,Ca=_({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(Ss=i.screenX-wi.screenX,bs=i.screenY-wi.screenY):bs=Ss=0,wi=i),Ss)},movementY:function(i){return"movementY"in i?i.movementY:bs}}),Hn=Ke(Ca),ju=_({},Ca,{dataTransfer:0}),Mf=Ke(ju),Ia=_({},Ra,{relatedTarget:0}),As=Ke(Ia),Xo=_({},ne,{animationName:0,elapsedTime:0,pseudoElement:0}),Rs=Ke(Xo),Gu=_({},ne,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cs=Ke(Gu),Nf=_({},ne,{data:0}),Zo=Ke(Nf),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=qu[i])?!!r[i]:!1}function Ma(){return Jo}var Fu=_({},Ra,{key:function(i){if(i.key){var r=xa[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ei(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(i){return i.type==="keypress"?Ei(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ei(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Is=Ke(Fu),$u=_({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Ke($u),Wi=_({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),Ku=Ke(Wi),Yu=_({},ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Ke(Yu),Xu=_({},Ca,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xs=Ke(Xu),Tn=_({},ne,{newState:0,oldState:0}),Zu=Ke(Tn),Ju=[9,13,27,32],Si=ni&&"CompositionEvent"in window,c=null;ni&&"documentMode"in document&&(c=document.documentMode);var y=ni&&"TextEvent"in window&&!c,v=ni&&(!Si||c&&8<c&&11>=c),R=" ",F=!1;function tt(i,r){switch(i){case"keyup":return Ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qt=!1;function je(i,r){switch(i){case"compositionend":return gt(r);case"keypress":return r.which!==32?null:(F=!0,R);case"textInput":return i=r.data,i===R&&F?null:i;default:return null}}function Xt(i,r){if(Qt)return i==="compositionend"||!Si&&tt(i,r)?(i=Yo(),Ji=Or=vi=null,Qt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ye[i.type]:r==="textarea"}function tr(i,r,s,l){Xi?Zi?Zi.push(l):Zi=[l]:Xi=l,r=Uc(r,"onChange"),0<r.length&&(s=new ws("onChange","change",null,s,l),i.push({event:s,listeners:r}))}var en=null,bi=null;function tl(i){A0(i,0)}function Wu(i){var r=gi(i);if(qo(r))return i}function $g(i,r){if(i==="change")return r}var Kg=!1;if(ni){var Df;if(ni){var Of="oninput"in document;if(!Of){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Of=typeof Yg.oninput=="function"}Df=Of}else Df=!1;Kg=Df&&(!document.documentMode||9<document.documentMode)}function Qg(){en&&(en.detachEvent("onpropertychange",Xg),bi=en=null)}function Xg(i){if(i.propertyName==="value"&&Wu(bi)){var r=[];tr(r,bi,i,jn(i)),Bu(tl,r)}}function OS(i,r,s){i==="focusin"?(Qg(),en=r,bi=s,en.attachEvent("onpropertychange",Xg)):i==="focusout"&&Qg()}function kS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wu(bi)}function VS(i,r){if(i==="click")return Wu(r)}function PS(i,r){if(i==="input"||i==="change")return Wu(r)}function LS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Mn=typeof Object.is=="function"?Object.is:LS;function el(i,r){if(Mn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var s=Object.keys(i),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Yt.call(r,f)||!Mn(i[f],r[f]))return!1}return!0}function Zg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jg(i,r){var s=Zg(i);i=0;for(var l;s;){if(s.nodeType===3){if(l=i+s.textContent.length,i<=r&&l>=r)return{node:s,offset:r-i};i=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Zg(s)}}function Wg(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Wg(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ty(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ea(i.document);r instanceof i.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)i=r.contentWindow;else break;r=Ea(i.document)}return r}function kf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var US=ni&&"documentMode"in document&&11>=document.documentMode,Ms=null,Vf=null,nl=null,Pf=!1;function ey(i,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pf||Ms==null||Ms!==Ea(l)||(l=Ms,"selectionStart"in l&&kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=Uc(Vf,"onSelect"),0<l.length&&(r=new ws("onSelect","select",null,r,s),i.push({event:r,listeners:l}),r.target=Ms)))}function Na(i,r){var s={};return s[i.toLowerCase()]=r.toLowerCase(),s["Webkit"+i]="webkit"+r,s["Moz"+i]="moz"+r,s}var Ns={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Lf={},ny={};ni&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Da(i){if(Lf[i])return Lf[i];if(!Ns[i])return i;var r=Ns[i],s;for(s in r)if(r.hasOwnProperty(s)&&s in ny)return Lf[i]=r[s];return i}var iy=Da("animationend"),ry=Da("animationiteration"),ay=Da("animationstart"),BS=Da("transitionrun"),zS=Da("transitionstart"),jS=Da("transitioncancel"),sy=Da("transitionend"),oy=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function ii(i,r){oy.set(i,r),ei(r,[i])}var ly=new WeakMap;function qn(i,r){if(typeof i=="object"&&i!==null){var s=ly.get(i);return s!==void 0?s:(r={value:i,source:r,stack:vs(r)},ly.set(i,r),r)}return{value:i,source:r,stack:vs(r)}}var Fn=[],Ds=0,Bf=0;function tc(){for(var i=Ds,r=Bf=Ds=0;r<i;){var s=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var p=Fn[r];if(Fn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&uy(s,f,p)}}function ec(i,r,s,l){Fn[Ds++]=i,Fn[Ds++]=r,Fn[Ds++]=s,Fn[Ds++]=l,Bf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function zf(i,r,s,l){return ec(i,r,s,l),nc(i)}function Os(i,r){return ec(i,null,null,r),nc(i)}function uy(i,r,s){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=i.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Rt(s),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=s|536870912),p):null}function nc(i){if(50<Cl)throw Cl=0,$d=null,Error(a(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ks={};function GS(i,r,s,l){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,r,s,l){return new GS(i,r,s,l)}function jf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function er(i,r){var s=i.alternate;return s===null?(s=Nn(i.tag,r,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=r,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&65011712,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,r=i.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.refCleanup=i.refCleanup,s}function cy(i,r){i.flags&=65011714;var s=i.alternate;return s===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,r=s.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ic(i,r,s,l,f,p){var E=0;if(l=i,typeof i=="function")jf(i)&&(E=1);else if(typeof i=="string")E=qb(i,s,rt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=Nn(31,s,r,f),i.elementType=x,i.lanes=p,i;case z:return Oa(s.children,f,p,r);case Z:E=8,f|=24;break;case Q:return i=Nn(12,s,r,f|2),i.elementType=Q,i.lanes=p,i;case ct:return i=Nn(13,s,r,f),i.elementType=ct,i.lanes=p,i;case _t:return i=Nn(19,s,r,f),i.elementType=_t,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ht:case it:E=10;break t;case ot:E=9;break t;case mt:E=11;break t;case k:E=14;break t;case C:E=16,l=null;break t}E=29,s=Error(a(130,i===null?"null":typeof i,"")),l=null}return r=Nn(E,s,r,f),r.elementType=i,r.type=l,r.lanes=p,r}function Oa(i,r,s,l){return i=Nn(7,i,l,r),i.lanes=s,i}function Gf(i,r,s){return i=Nn(6,i,null,r),i.lanes=s,i}function Hf(i,r,s){return r=Nn(4,i.children!==null?i.children:[],i.key,r),r.lanes=s,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Vs=[],Ps=0,rc=null,ac=0,$n=[],Kn=0,ka=null,nr=1,ir="";function Va(i,r){Vs[Ps++]=ac,Vs[Ps++]=rc,rc=i,ac=r}function hy(i,r,s){$n[Kn++]=nr,$n[Kn++]=ir,$n[Kn++]=ka,ka=i;var l=nr;i=ir;var f=32-Rt(l)-1;l&=~(1<<f),s+=1;var p=32-Rt(r)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,nr=1<<32-Rt(r)+f|s<<f|l,ir=p+i}else nr=1<<p|s<<f|l,ir=i}function qf(i){i.return!==null&&(Va(i,1),hy(i,1,0))}function Ff(i){for(;i===rc;)rc=Vs[--Ps],Vs[Ps]=null,ac=Vs[--Ps],Vs[Ps]=null;for(;i===ka;)ka=$n[--Kn],$n[Kn]=null,ir=$n[--Kn],$n[Kn]=null,nr=$n[--Kn],$n[Kn]=null}var wn=null,Ae=null,ee=!1,Pa=null,Ai=!1,$f=Error(a(519));function La(i){var r=Error(a(418,""));throw al(qn(r,i)),$f}function fy(i){var r=i.stateNode,s=i.type,l=i.memoizedProps;switch(r[ze]=i,r[ke]=l,s){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(s=0;s<xl.length;s++)Ht(xl[s],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":Ht("invalid",r),Ta(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Es(r);break;case"select":Ht("invalid",r);break;case"textarea":Ht("invalid",r),wa(r,l.value,l.defaultValue,l.children),Es(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||x0(r.textContent,s)?(l.popover!=null&&(Ht("beforetoggle",r),Ht("toggle",r)),l.onScroll!=null&&Ht("scroll",r),l.onScrollEnd!=null&&Ht("scrollend",r),l.onClick!=null&&(r.onclick=Bc),r=!0):r=!1,r||La(i)}function dy(i){for(wn=i.return;wn;)switch(wn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:wn=wn.return}}function il(i){if(i!==wn)return!1;if(!ee)return dy(i),ee=!0,!1;var r=i.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=i.type,s=!(s!=="form"&&s!=="button")||lp(i.type,i.memoizedProps)),s=!s),s&&Ae&&La(i),dy(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){Ae=ai(i.nextSibling);break t}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;i=i.nextSibling}Ae=null}}else r===27?(r=Ae,Qr(i.type)?(i=fp,fp=null,Ae=i):Ae=r):Ae=wn?ai(i.stateNode.nextSibling):null;return!0}function rl(){Ae=wn=null,ee=!1}function py(){var i=Pa;return i!==null&&(An===null?An=i:An.push.apply(An,i),Pa=null),i}function al(i){Pa===null?Pa=[i]:Pa.push(i)}var Kf=A(null),Ua=null,rr=null;function kr(i,r,s){G(Kf,r._currentValue),r._currentValue=s}function ar(i){i._currentValue=Kf.current,H(Kf)}function Yf(i,r,s){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===s)break;i=i.return}}function Qf(i,r,s,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var b=p;p=f;for(var O=0;O<r.length;O++)if(b.context===r[O]){p.lanes|=s,b=p.alternate,b!==null&&(b.lanes|=s),Yf(p.return,s,i),l||(E=null);break t}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),Yf(E,s,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function sl(i,r,s,l){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var b=f.type;Mn(f.pendingProps.value,E.value)||(i!==null?i.push(b):i=[b])}}else if(f===yt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Vl):i=[Vl])}f=f.return}i!==null&&Qf(r,i,s,l),r.flags|=262144}function sc(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ba(i){Ua=i,rr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return my(Ua,i)}function oc(i,r){return Ua===null&&Ba(i),my(i,r)}function my(i,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},rr===null){if(i===null)throw Error(a(308));rr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else rr=rr.next=r;return s}var HS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(s,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(s){return s()})}},qS=n.unstable_scheduleCallback,FS=n.unstable_NormalPriority,He={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new HS,data:new Map,refCount:0}}function ol(i){i.refCount--,i.refCount===0&&qS(FS,function(){i.controller.abort()})}var ll=null,Zf=0,Ls=0,Us=null;function $S(i,r){if(ll===null){var s=ll=[];Zf=0,Ls=Wd(),Us={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Zf++,r.then(gy,gy),r}function gy(){if(--Zf===0&&ll!==null){Us!==null&&(Us.status="fulfilled");var i=ll;ll=null,Ls=0,Us=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function KS(i,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var yy=D.S;D.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&$S(i,r),yy!==null&&yy(i,r)};var za=A(null);function Jf(){var i=za.current;return i!==null?i:pe.pooledCache}function lc(i,r){r===null?G(za,za.current):G(za,r.pool)}function _y(){var i=Jf();return i===null?null:{parent:He._currentValue,pool:i}}var ul=Error(a(460)),vy=Error(a(474)),uc=Error(a(542)),Wf={then:function(){}};function Ey(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cc(){}function Ty(i,r,s){switch(s=i[s],s===void 0?i.push(r):s!==r&&(r.then(cc,cc),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Sy(i),i;default:if(typeof r.status=="string")r.then(cc,cc);else{if(i=pe,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Sy(i),i}throw cl=r,ul}}var cl=null;function wy(){if(cl===null)throw Error(a(459));var i=cl;return cl=null,i}function Sy(i){if(i===ul||i===uc)throw Error(a(483))}var Vr=!1;function td(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Pr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Lr(i,r,s){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(ae&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=nc(i),uy(i,null,s),r}return ec(i,l,r,s),nc(i)}function hl(i,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,s|=l,r.lanes=s,Bo(i,s)}}function nd(i,r){var s=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?f=p=r:p=p.next=r}else f=p=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=r:i.next=r,s.lastBaseUpdate=r}var id=!1;function fl(){if(id){var i=Us;if(i!==null)throw i}}function dl(i,r,s,l){id=!1;var f=i.updateQueue;Vr=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,X=O.next;O.next=null,E===null?p=X:E.next=X,E=O;var at=i.alternate;at!==null&&(at=at.updateQueue,b=at.lastBaseUpdate,b!==E&&(b===null?at.firstBaseUpdate=X:b.next=X,at.lastBaseUpdate=O))}if(p!==null){var lt=f.baseState;E=0,at=X=O=null,b=p;do{var J=b.lane&-536870913,W=J!==b.lane;if(W?(Zt&J)===J:(l&J)===J){J!==0&&J===Ls&&(id=!0),at!==null&&(at=at.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Dt=i,xt=b;J=r;var he=s;switch(xt.tag){case 1:if(Dt=xt.payload,typeof Dt=="function"){lt=Dt.call(he,lt,J);break t}lt=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=xt.payload,J=typeof Dt=="function"?Dt.call(he,lt,J):Dt,J==null)break t;lt=_({},lt,J);break t;case 2:Vr=!0}}J=b.callback,J!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[J]:W.push(J))}else W={lane:J,tag:b.tag,payload:b.payload,callback:b.callback,next:null},at===null?(X=at=W,O=lt):at=at.next=W,E|=J;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;W=b,b=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);at===null&&(O=lt),f.baseState=O,f.firstBaseUpdate=X,f.lastBaseUpdate=at,p===null&&(f.shared.lanes=0),Fr|=E,i.lanes=E,i.memoizedState=lt}}function by(i,r){if(typeof i!="function")throw Error(a(191,i));i.call(r)}function Ay(i,r){var s=i.callbacks;if(s!==null)for(i.callbacks=null,i=0;i<s.length;i++)by(s[i],r)}var Bs=A(null),hc=A(0);function Ry(i,r){i=fr,G(hc,i),G(Bs,r),fr=i|r.baseLanes}function rd(){G(hc,fr),G(Bs,Bs.current)}function ad(){fr=hc.current,H(Bs),H(hc)}var Ur=0,zt=null,ue=null,Pe=null,fc=!1,zs=!1,ja=!1,dc=0,pl=0,js=null,YS=0;function xe(){throw Error(a(321))}function sd(i,r){if(r===null)return!1;for(var s=0;s<r.length&&s<i.length;s++)if(!Mn(i[s],r[s]))return!1;return!0}function od(i,r,s,l,f,p){return Ur=p,zt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,D.H=i===null||i.memoizedState===null?u_:c_,ja=!1,p=s(l,f),ja=!1,zs&&(p=Iy(r,s,l,f)),Cy(i),p}function Cy(i){D.H=vc;var r=ue!==null&&ue.next!==null;if(Ur=0,Pe=ue=zt=null,fc=!1,pl=0,js=null,r)throw Error(a(300));i===null||Qe||(i=i.dependencies,i!==null&&sc(i)&&(Qe=!0))}function Iy(i,r,s,l){zt=i;var f=0;do{if(zs&&(js=null),pl=0,zs=!1,25<=f)throw Error(a(301));if(f+=1,Pe=ue=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=eb,p=r(s,l)}while(zs);return p}function QS(){var i=D.H,r=i.useState()[0];return r=typeof r.then=="function"?ml(r):r,i=i.useState()[0],(ue!==null?ue.memoizedState:null)!==i&&(zt.flags|=1024),r}function ld(){var i=dc!==0;return dc=0,i}function ud(i,r,s){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~s}function cd(i){if(fc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}fc=!1}Ur=0,Pe=ue=zt=null,zs=!1,pl=dc=0,js=null}function Sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?zt.memoizedState=Pe=i:Pe=Pe.next=i,Pe}function Le(){if(ue===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=ue.next;var r=Pe===null?zt.memoizedState:Pe.next;if(r!==null)Pe=r,ue=i;else{if(i===null)throw zt.alternate===null?Error(a(467)):Error(a(310));ue=i,i={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Pe===null?zt.memoizedState=Pe=i:Pe=Pe.next=i}return Pe}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(i){var r=pl;return pl+=1,js===null&&(js=[]),i=Ty(js,i,r),r=zt,(Pe===null?r.memoizedState:Pe.next)===null&&(r=r.alternate,D.H=r===null||r.memoizedState===null?u_:c_),i}function pc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ml(i);if(i.$$typeof===it)return hn(i)}throw Error(a(438,String(i)))}function fd(i){var r=null,s=zt.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=zt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=hd(),zt.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(i),l=0;l<i;l++)s[l]=V;return r.index++,s}function sr(i,r){return typeof r=="function"?r(i):r}function mc(i){var r=Le();return dd(r,ue,i)}function dd(i,r,s){var l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var b=E=null,O=null,X=r,at=!1;do{var lt=X.lane&-536870913;if(lt!==X.lane?(Zt&lt)===lt:(Ur&lt)===lt){var J=X.revertLane;if(J===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),lt===Ls&&(at=!0);else if((Ur&J)===J){X=X.next,J===Ls&&(at=!0);continue}else lt={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(b=O=lt,E=p):O=O.next=lt,zt.lanes|=J,Fr|=J;lt=X.action,ja&&s(p,lt),p=X.hasEagerState?X.eagerState:s(p,lt)}else J={lane:lt,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(b=O=J,E=p):O=O.next=J,zt.lanes|=lt,Fr|=lt;X=X.next}while(X!==null&&X!==r);if(O===null?E=p:O.next=b,!Mn(p,i.memoizedState)&&(Qe=!0,at&&(s=Us,s!==null)))throw s;i.memoizedState=p,i.baseState=E,i.baseQueue=O,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function pd(i){var r=Le(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var l=s.dispatch,f=s.pending,p=r.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do p=i(p,E.action),E=E.next;while(E!==f);Mn(p,r.memoizedState)||(Qe=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),s.lastRenderedState=p}return[p,l]}function xy(i,r,s){var l=zt,f=Le(),p=ee;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=r();var E=!Mn((ue||f).memoizedState,s);E&&(f.memoizedState=s,Qe=!0),f=f.queue;var b=Dy.bind(null,l,f,i);if(gl(2048,8,b,[i]),f.getSnapshot!==r||E||Pe!==null&&Pe.memoizedState.tag&1){if(l.flags|=2048,Gs(9,gc(),Ny.bind(null,l,f,s,r),null),pe===null)throw Error(a(349));p||(Ur&124)!==0||My(l,r,s)}return s}function My(i,r,s){i.flags|=16384,i={getSnapshot:r,value:s},r=zt.updateQueue,r===null?(r=hd(),zt.updateQueue=r,r.stores=[i]):(s=r.stores,s===null?r.stores=[i]:s.push(i))}function Ny(i,r,s,l){r.value=s,r.getSnapshot=l,Oy(r)&&ky(i)}function Dy(i,r,s){return s(function(){Oy(r)&&ky(i)})}function Oy(i){var r=i.getSnapshot;i=i.value;try{var s=r();return!Mn(i,s)}catch{return!0}}function ky(i){var r=Os(i,2);r!==null&&Pn(r,i,2)}function md(i){var r=Sn();if(typeof i=="function"){var s=i;if(i=s(),ja){It(!0);try{s()}finally{It(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:i},r}function Vy(i,r,s,l){return i.baseState=s,dd(i,ue,typeof l=="function"?l:sr)}function XS(i,r,s,l,f){if(_c(i))throw Error(a(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};D.T!==null?s(!0):p.isTransition=!1,l(p),s=r.pending,s===null?(p.next=r.pending=p,Py(r,p)):(p.next=s.next,r.pending=s.next=p)}}function Py(i,r){var s=r.action,l=r.payload,f=i.state;if(r.isTransition){var p=D.T,E={};D.T=E;try{var b=s(f,l),O=D.S;O!==null&&O(E,b),Ly(i,r,b)}catch(X){gd(i,r,X)}finally{D.T=p}}else try{p=s(f,l),Ly(i,r,p)}catch(X){gd(i,r,X)}}function Ly(i,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Uy(i,r,l)},function(l){return gd(i,r,l)}):Uy(i,r,s)}function Uy(i,r,s){r.status="fulfilled",r.value=s,By(r),i.state=s,r=i.pending,r!==null&&(s=r.next,s===r?i.pending=null:(s=s.next,r.next=s,Py(i,s)))}function gd(i,r,s){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,By(r),r=r.next;while(r!==l)}i.action=null}function By(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function zy(i,r){return r}function jy(i,r){if(ee){var s=pe.formState;if(s!==null){t:{var l=zt;if(ee){if(Ae){e:{for(var f=Ae,p=Ai;f.nodeType!==8;){if(!p){f=null;break e}if(f=ai(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ae=ai(f.nextSibling),l=f.data==="F!";break t}}La(l)}l=!1}l&&(r=s[0])}}return s=Sn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:r},s.queue=l,s=s_.bind(null,zt,l),l.dispatch=s,l=md(!1),p=Td.bind(null,zt,!1,l.queue),l=Sn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,s=XS.bind(null,zt,f,p,s),f.dispatch=s,l.memoizedState=i,[r,s,!1]}function Gy(i){var r=Le();return Hy(r,ue,i)}function Hy(i,r,s){if(r=dd(i,r,zy)[0],i=mc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ml(r)}catch(E){throw E===ul?uc:E}else l=r;r=Le();var f=r.queue,p=f.dispatch;return s!==r.memoizedState&&(zt.flags|=2048,Gs(9,gc(),ZS.bind(null,f,s),null)),[l,p,i]}function ZS(i,r){i.action=r}function qy(i){var r=Le(),s=ue;if(s!==null)return Hy(r,s,i);Le(),r=r.memoizedState,s=Le();var l=s.queue.dispatch;return s.memoizedState=i,[r,l,!1]}function Gs(i,r,s,l){return i={tag:i,create:s,deps:l,inst:r,next:null},r=zt.updateQueue,r===null&&(r=hd(),zt.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=i.next=i:(l=s.next,s.next=i,i.next=l,r.lastEffect=i),i}function gc(){return{destroy:void 0,resource:void 0}}function Fy(){return Le().memoizedState}function yc(i,r,s,l){var f=Sn();l=l===void 0?null:l,zt.flags|=i,f.memoizedState=Gs(1|r,gc(),s,l)}function gl(i,r,s,l){var f=Le();l=l===void 0?null:l;var p=f.memoizedState.inst;ue!==null&&l!==null&&sd(l,ue.memoizedState.deps)?f.memoizedState=Gs(r,p,s,l):(zt.flags|=i,f.memoizedState=Gs(1|r,p,s,l))}function $y(i,r){yc(8390656,8,i,r)}function Ky(i,r){gl(2048,8,i,r)}function Yy(i,r){return gl(4,2,i,r)}function Qy(i,r){return gl(4,4,i,r)}function Xy(i,r){if(typeof r=="function"){i=i();var s=r(i);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Zy(i,r,s){s=s!=null?s.concat([i]):null,gl(4,4,Xy.bind(null,r,i),s)}function yd(){}function Jy(i,r){var s=Le();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&sd(r,l[1])?l[0]:(s.memoizedState=[i,r],i)}function Wy(i,r){var s=Le();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&sd(r,l[1]))return l[0];if(l=i(),ja){It(!0);try{i()}finally{It(!1)}}return s.memoizedState=[l,r],l}function _d(i,r,s){return s===void 0||(Ur&1073741824)!==0?i.memoizedState=r:(i.memoizedState=s,i=n0(),zt.lanes|=i,Fr|=i,s)}function t_(i,r,s,l){return Mn(s,r)?s:Bs.current!==null?(i=_d(i,s,l),Mn(i,r)||(Qe=!0),i):(Ur&42)===0?(Qe=!0,i.memoizedState=s):(i=n0(),zt.lanes|=i,Fr|=i,r)}function e_(i,r,s,l,f){var p=P.p;P.p=p!==0&&8>p?p:8;var E=D.T,b={};D.T=b,Td(i,!1,r,s);try{var O=f(),X=D.S;if(X!==null&&X(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var at=KS(O,l);yl(i,r,at,Vn(i))}else yl(i,r,l,Vn(i))}catch(lt){yl(i,r,{then:function(){},status:"rejected",reason:lt},Vn())}finally{P.p=p,D.T=E}}function JS(){}function vd(i,r,s,l){if(i.tag!==5)throw Error(a(476));var f=n_(i).queue;e_(i,f,r,L,s===null?JS:function(){return i_(i),s(l)})}function n_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:L},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:s},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function i_(i){var r=n_(i).next.queue;yl(i,r,{},Vn())}function Ed(){return hn(Vl)}function r_(){return Le().memoizedState}function a_(){return Le().memoizedState}function WS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var s=Vn();i=Pr(s);var l=Lr(r,i,s);l!==null&&(Pn(l,r,s),hl(l,r,s)),r={cache:Xf()},i.payload=r;return}r=r.return}}function tb(i,r,s){var l=Vn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},_c(i)?o_(r,s):(s=zf(i,r,s,l),s!==null&&(Pn(s,i,l),l_(s,r,l)))}function s_(i,r,s){var l=Vn();yl(i,r,s,l)}function yl(i,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(_c(i))o_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,b=p(E,s);if(f.hasEagerState=!0,f.eagerState=b,Mn(b,E))return ec(i,r,f,0),pe===null&&tc(),!1}catch{}finally{}if(s=zf(i,r,f,l),s!==null)return Pn(s,i,l),l_(s,r,l),!0}return!1}function Td(i,r,s,l){if(l={lane:2,revertLane:Wd(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(i)){if(r)throw Error(a(479))}else r=zf(i,s,l,2),r!==null&&Pn(r,i,2)}function _c(i){var r=i.alternate;return i===zt||r!==null&&r===zt}function o_(i,r){zs=fc=!0;var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}function l_(i,r,s){if((s&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,s|=l,r.lanes=s,Bo(i,s)}}var vc={readContext:hn,use:pc,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe},u_={readContext:hn,use:pc,useCallback:function(i,r){return Sn().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:$y,useImperativeHandle:function(i,r,s){s=s!=null?s.concat([i]):null,yc(4194308,4,Xy.bind(null,r,i),s)},useLayoutEffect:function(i,r){return yc(4194308,4,i,r)},useInsertionEffect:function(i,r){yc(4,2,i,r)},useMemo:function(i,r){var s=Sn();r=r===void 0?null:r;var l=i();if(ja){It(!0);try{i()}finally{It(!1)}}return s.memoizedState=[l,r],l},useReducer:function(i,r,s){var l=Sn();if(s!==void 0){var f=s(r);if(ja){It(!0);try{s(r)}finally{It(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=tb.bind(null,zt,i),[l.memoizedState,i]},useRef:function(i){var r=Sn();return i={current:i},r.memoizedState=i},useState:function(i){i=md(i);var r=i.queue,s=s_.bind(null,zt,r);return r.dispatch=s,[i.memoizedState,s]},useDebugValue:yd,useDeferredValue:function(i,r){var s=Sn();return _d(s,i,r)},useTransition:function(){var i=md(!1);return i=e_.bind(null,zt,i.queue,!0,!1),Sn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,s){var l=zt,f=Sn();if(ee){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),pe===null)throw Error(a(349));(Zt&124)!==0||My(l,r,s)}f.memoizedState=s;var p={value:s,getSnapshot:r};return f.queue=p,$y(Dy.bind(null,l,p,i),[i]),l.flags|=2048,Gs(9,gc(),Ny.bind(null,l,p,s,r),null),s},useId:function(){var i=Sn(),r=pe.identifierPrefix;if(ee){var s=ir,l=nr;s=(l&~(1<<32-Rt(l)-1)).toString(32)+s,r="«"+r+"R"+s,s=dc++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=YS++,r="«"+r+"r"+s.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Ed,useFormState:jy,useActionState:jy,useOptimistic:function(i){var r=Sn();r.memoizedState=r.baseState=i;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Td.bind(null,zt,!0,s),s.dispatch=r,[i,r]},useMemoCache:fd,useCacheRefresh:function(){return Sn().memoizedState=WS.bind(null,zt)}},c_={readContext:hn,use:pc,useCallback:Jy,useContext:hn,useEffect:Ky,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Wy,useReducer:mc,useRef:Fy,useState:function(){return mc(sr)},useDebugValue:yd,useDeferredValue:function(i,r){var s=Le();return t_(s,ue.memoizedState,i,r)},useTransition:function(){var i=mc(sr)[0],r=Le().memoizedState;return[typeof i=="boolean"?i:ml(i),r]},useSyncExternalStore:xy,useId:r_,useHostTransitionStatus:Ed,useFormState:Gy,useActionState:Gy,useOptimistic:function(i,r){var s=Le();return Vy(s,ue,i,r)},useMemoCache:fd,useCacheRefresh:a_},eb={readContext:hn,use:pc,useCallback:Jy,useContext:hn,useEffect:Ky,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Wy,useReducer:pd,useRef:Fy,useState:function(){return pd(sr)},useDebugValue:yd,useDeferredValue:function(i,r){var s=Le();return ue===null?_d(s,i,r):t_(s,ue.memoizedState,i,r)},useTransition:function(){var i=pd(sr)[0],r=Le().memoizedState;return[typeof i=="boolean"?i:ml(i),r]},useSyncExternalStore:xy,useId:r_,useHostTransitionStatus:Ed,useFormState:qy,useActionState:qy,useOptimistic:function(i,r){var s=Le();return ue!==null?Vy(s,ue,i,r):(s.baseState=i,[i,s.queue.dispatch])},useMemoCache:fd,useCacheRefresh:a_},Hs=null,_l=0;function Ec(i){var r=_l;return _l+=1,Hs===null&&(Hs=[]),Ty(Hs,i,r)}function vl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Tc(i,r){throw r.$$typeof===T?Error(a(525)):(i=Object.prototype.toString.call(r),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function h_(i){var r=i._init;return r(i._payload)}function f_(i){function r(j,B){if(i){var Y=j.deletions;Y===null?(j.deletions=[B],j.flags|=16):Y.push(B)}}function s(j,B){if(!i)return null;for(;B!==null;)r(j,B),B=B.sibling;return null}function l(j){for(var B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function f(j,B){return j=er(j,B),j.index=0,j.sibling=null,j}function p(j,B,Y){return j.index=Y,i?(Y=j.alternate,Y!==null?(Y=Y.index,Y<B?(j.flags|=67108866,B):Y):(j.flags|=67108866,B)):(j.flags|=1048576,B)}function E(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function b(j,B,Y,st){return B===null||B.tag!==6?(B=Gf(Y,j.mode,st),B.return=j,B):(B=f(B,Y),B.return=j,B)}function O(j,B,Y,st){var Tt=Y.type;return Tt===z?at(j,B,Y.props.children,st,Y.key):B!==null&&(B.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&h_(Tt)===B.type)?(B=f(B,Y.props),vl(B,Y),B.return=j,B):(B=ic(Y.type,Y.key,Y.props,null,j.mode,st),vl(B,Y),B.return=j,B)}function X(j,B,Y,st){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Hf(Y,j.mode,st),B.return=j,B):(B=f(B,Y.children||[]),B.return=j,B)}function at(j,B,Y,st,Tt){return B===null||B.tag!==7?(B=Oa(Y,j.mode,st,Tt),B.return=j,B):(B=f(B,Y),B.return=j,B)}function lt(j,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Gf(""+B,j.mode,Y),B.return=j,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Y=ic(B.type,B.key,B.props,null,j.mode,Y),vl(Y,B),Y.return=j,Y;case M:return B=Hf(B,j.mode,Y),B.return=j,B;case C:var st=B._init;return B=st(B._payload),lt(j,B,Y)}if(q(B)||U(B))return B=Oa(B,j.mode,Y,null),B.return=j,B;if(typeof B.then=="function")return lt(j,Ec(B),Y);if(B.$$typeof===it)return lt(j,oc(j,B),Y);Tc(j,B)}return null}function J(j,B,Y,st){var Tt=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Tt!==null?null:b(j,B,""+Y,st);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===Tt?O(j,B,Y,st):null;case M:return Y.key===Tt?X(j,B,Y,st):null;case C:return Tt=Y._init,Y=Tt(Y._payload),J(j,B,Y,st)}if(q(Y)||U(Y))return Tt!==null?null:at(j,B,Y,st,null);if(typeof Y.then=="function")return J(j,B,Ec(Y),st);if(Y.$$typeof===it)return J(j,B,oc(j,Y),st);Tc(j,Y)}return null}function W(j,B,Y,st,Tt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return j=j.get(Y)||null,b(B,j,""+st,Tt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case S:return j=j.get(st.key===null?Y:st.key)||null,O(B,j,st,Tt);case M:return j=j.get(st.key===null?Y:st.key)||null,X(B,j,st,Tt);case C:var jt=st._init;return st=jt(st._payload),W(j,B,Y,st,Tt)}if(q(st)||U(st))return j=j.get(Y)||null,at(B,j,st,Tt,null);if(typeof st.then=="function")return W(j,B,Y,Ec(st),Tt);if(st.$$typeof===it)return W(j,B,Y,oc(B,st),Tt);Tc(B,st)}return null}function Dt(j,B,Y,st){for(var Tt=null,jt=null,bt=B,Mt=B=0,Ze=null;bt!==null&&Mt<Y.length;Mt++){bt.index>Mt?(Ze=bt,bt=null):Ze=bt.sibling;var te=J(j,bt,Y[Mt],st);if(te===null){bt===null&&(bt=Ze);break}i&&bt&&te.alternate===null&&r(j,bt),B=p(te,B,Mt),jt===null?Tt=te:jt.sibling=te,jt=te,bt=Ze}if(Mt===Y.length)return s(j,bt),ee&&Va(j,Mt),Tt;if(bt===null){for(;Mt<Y.length;Mt++)bt=lt(j,Y[Mt],st),bt!==null&&(B=p(bt,B,Mt),jt===null?Tt=bt:jt.sibling=bt,jt=bt);return ee&&Va(j,Mt),Tt}for(bt=l(bt);Mt<Y.length;Mt++)Ze=W(bt,j,Mt,Y[Mt],st),Ze!==null&&(i&&Ze.alternate!==null&&bt.delete(Ze.key===null?Mt:Ze.key),B=p(Ze,B,Mt),jt===null?Tt=Ze:jt.sibling=Ze,jt=Ze);return i&&bt.forEach(function(ta){return r(j,ta)}),ee&&Va(j,Mt),Tt}function xt(j,B,Y,st){if(Y==null)throw Error(a(151));for(var Tt=null,jt=null,bt=B,Mt=B=0,Ze=null,te=Y.next();bt!==null&&!te.done;Mt++,te=Y.next()){bt.index>Mt?(Ze=bt,bt=null):Ze=bt.sibling;var ta=J(j,bt,te.value,st);if(ta===null){bt===null&&(bt=Ze);break}i&&bt&&ta.alternate===null&&r(j,bt),B=p(ta,B,Mt),jt===null?Tt=ta:jt.sibling=ta,jt=ta,bt=Ze}if(te.done)return s(j,bt),ee&&Va(j,Mt),Tt;if(bt===null){for(;!te.done;Mt++,te=Y.next())te=lt(j,te.value,st),te!==null&&(B=p(te,B,Mt),jt===null?Tt=te:jt.sibling=te,jt=te);return ee&&Va(j,Mt),Tt}for(bt=l(bt);!te.done;Mt++,te=Y.next())te=W(bt,j,Mt,te.value,st),te!==null&&(i&&te.alternate!==null&&bt.delete(te.key===null?Mt:te.key),B=p(te,B,Mt),jt===null?Tt=te:jt.sibling=te,jt=te);return i&&bt.forEach(function(nA){return r(j,nA)}),ee&&Va(j,Mt),Tt}function he(j,B,Y,st){if(typeof Y=="object"&&Y!==null&&Y.type===z&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:t:{for(var Tt=Y.key;B!==null;){if(B.key===Tt){if(Tt=Y.type,Tt===z){if(B.tag===7){s(j,B.sibling),st=f(B,Y.props.children),st.return=j,j=st;break t}}else if(B.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&h_(Tt)===B.type){s(j,B.sibling),st=f(B,Y.props),vl(st,Y),st.return=j,j=st;break t}s(j,B);break}else r(j,B);B=B.sibling}Y.type===z?(st=Oa(Y.props.children,j.mode,st,Y.key),st.return=j,j=st):(st=ic(Y.type,Y.key,Y.props,null,j.mode,st),vl(st,Y),st.return=j,j=st)}return E(j);case M:t:{for(Tt=Y.key;B!==null;){if(B.key===Tt)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){s(j,B.sibling),st=f(B,Y.children||[]),st.return=j,j=st;break t}else{s(j,B);break}else r(j,B);B=B.sibling}st=Hf(Y,j.mode,st),st.return=j,j=st}return E(j);case C:return Tt=Y._init,Y=Tt(Y._payload),he(j,B,Y,st)}if(q(Y))return Dt(j,B,Y,st);if(U(Y)){if(Tt=U(Y),typeof Tt!="function")throw Error(a(150));return Y=Tt.call(Y),xt(j,B,Y,st)}if(typeof Y.then=="function")return he(j,B,Ec(Y),st);if(Y.$$typeof===it)return he(j,B,oc(j,Y),st);Tc(j,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(s(j,B.sibling),st=f(B,Y),st.return=j,j=st):(s(j,B),st=Gf(Y,j.mode,st),st.return=j,j=st),E(j)):s(j,B)}return function(j,B,Y,st){try{_l=0;var Tt=he(j,B,Y,st);return Hs=null,Tt}catch(bt){if(bt===ul||bt===uc)throw bt;var jt=Nn(29,bt,null,j.mode);return jt.lanes=st,jt.return=j,jt}finally{}}}var qs=f_(!0),d_=f_(!1),Yn=A(null),Ri=null;function Br(i){var r=i.alternate;G(qe,qe.current&1),G(Yn,i),Ri===null&&(r===null||Bs.current!==null||r.memoizedState!==null)&&(Ri=i)}function p_(i){if(i.tag===22){if(G(qe,qe.current),G(Yn,i),Ri===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ri=i)}}else zr()}function zr(){G(qe,qe.current),G(Yn,Yn.current)}function or(i){H(Yn),Ri===i&&(Ri=null),H(qe)}var qe=A(0);function wc(i){for(var r=i;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||hp(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function wd(i,r,s,l){r=i.memoizedState,s=s(l,r),s=s==null?r:_({},r,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Sd={enqueueSetState:function(i,r,s){i=i._reactInternals;var l=Vn(),f=Pr(l);f.payload=r,s!=null&&(f.callback=s),r=Lr(i,f,l),r!==null&&(Pn(r,i,l),hl(r,i,l))},enqueueReplaceState:function(i,r,s){i=i._reactInternals;var l=Vn(),f=Pr(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=Lr(i,f,l),r!==null&&(Pn(r,i,l),hl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var s=Vn(),l=Pr(s);l.tag=2,r!=null&&(l.callback=r),r=Lr(i,l,s),r!==null&&(Pn(r,i,s),hl(r,i,s))}};function m_(i,r,s,l,f,p,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,E):r.prototype&&r.prototype.isPureReactComponent?!el(s,l)||!el(f,p):!0}function g_(i,r,s,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==i&&Sd.enqueueReplaceState(r,r.state,null)}function Ga(i,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(i=i.defaultProps){s===r&&(s=_({},s));for(var f in i)s[f]===void 0&&(s[f]=i[f])}return s}var Sc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function y_(i){Sc(i)}function __(i){console.error(i)}function v_(i){Sc(i)}function bc(i,r){try{var s=i.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function E_(i,r,s){try{var l=i.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bd(i,r,s){return s=Pr(s),s.tag=3,s.payload={element:null},s.callback=function(){bc(i,r)},s}function T_(i){return i=Pr(i),i.tag=3,i}function w_(i,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){E_(r,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){E_(r,s,l),typeof f!="function"&&($r===null?$r=new Set([this]):$r.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function nb(i,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&sl(r,s,f,!0),s=Yn.current,s!==null){switch(s.tag){case 13:return Ri===null?Yd():s.alternate===null&&Re===0&&(Re=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Wf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Xd(i,l,f)),!1;case 22:return s.flags|=65536,l===Wf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Xd(i,l,f)),!1}throw Error(a(435,s.tag))}return Xd(i,l,f),Yd(),!1}if(ee)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==$f&&(i=Error(a(422),{cause:l}),al(qn(i,s)))):(l!==$f&&(r=Error(a(423),{cause:l}),al(qn(r,s))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=qn(l,s),f=bd(i.stateNode,l,f),nd(i,f),Re!==4&&(Re=2)),!1;var p=Error(a(520),{cause:l});if(p=qn(p,s),Rl===null?Rl=[p]:Rl.push(p),Re!==4&&(Re=2),r===null)return!0;l=qn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,i=f&-f,s.lanes|=i,i=bd(s.stateNode,l,i),nd(s,i),!1;case 1:if(r=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($r===null||!$r.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=T_(f),w_(f,i,s,l),nd(s,f),!1}s=s.return}while(s!==null);return!1}var S_=Error(a(461)),Qe=!1;function nn(i,r,s,l){r.child=i===null?d_(r,null,s,l):qs(r,i.child,s,l)}function b_(i,r,s,l,f){s=s.render;var p=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Ba(r),l=od(i,r,s,E,p,f),b=ld(),i!==null&&!Qe?(ud(i,r,f),lr(i,r,f)):(ee&&b&&qf(r),r.flags|=1,nn(i,r,l,f),r.child)}function A_(i,r,s,l,f){if(i===null){var p=s.type;return typeof p=="function"&&!jf(p)&&p.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=p,R_(i,r,p,l,f)):(i=ic(s.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Dd(i,f)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:el,s(E,l)&&i.ref===r.ref)return lr(i,r,f)}return r.flags|=1,i=er(p,l),i.ref=r.ref,i.return=r,r.child=i}function R_(i,r,s,l,f){if(i!==null){var p=i.memoizedProps;if(el(p,l)&&i.ref===r.ref)if(Qe=!1,r.pendingProps=l=p,Dd(i,f))(i.flags&131072)!==0&&(Qe=!0);else return r.lanes=i.lanes,lr(i,r,f)}return Ad(i,r,s,l,f)}function C_(i,r,s){var l=r.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return I_(i,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&lc(r,p!==null?p.cachePool:null),p!==null?Ry(r,p):rd(),p_(r);else return r.lanes=r.childLanes=536870912,I_(i,r,p!==null?p.baseLanes|s:s,s)}else p!==null?(lc(r,p.cachePool),Ry(r,p),zr(),r.memoizedState=null):(i!==null&&lc(r,null),rd(),zr());return nn(i,r,f,s),r.child}function I_(i,r,s,l){var f=Jf();return f=f===null?null:{parent:He._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},i!==null&&lc(r,null),rd(),p_(r),i!==null&&sl(i,r,l,!0),null}function Ac(i,r){var s=r.ref;if(s===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(i===null||i.ref!==s)&&(r.flags|=4194816)}}function Ad(i,r,s,l,f){return Ba(r),s=od(i,r,s,l,void 0,f),l=ld(),i!==null&&!Qe?(ud(i,r,f),lr(i,r,f)):(ee&&l&&qf(r),r.flags|=1,nn(i,r,s,f),r.child)}function x_(i,r,s,l,f,p){return Ba(r),r.updateQueue=null,s=Iy(r,l,s,f),Cy(i),l=ld(),i!==null&&!Qe?(ud(i,r,p),lr(i,r,p)):(ee&&l&&qf(r),r.flags|=1,nn(i,r,s,p),r.child)}function M_(i,r,s,l,f){if(Ba(r),r.stateNode===null){var p=ks,E=s.contextType;typeof E=="object"&&E!==null&&(p=hn(E)),p=new s(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Sd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},td(r),E=s.contextType,p.context=typeof E=="object"&&E!==null?hn(E):ks,p.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(wd(r,s,E,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Sd.enqueueReplaceState(p,p.state,null),dl(r,l,p,f),fl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){p=r.stateNode;var b=r.memoizedProps,O=Ga(s,b);p.props=O;var X=p.context,at=s.contextType;E=ks,typeof at=="object"&&at!==null&&(E=hn(at));var lt=s.getDerivedStateFromProps;at=typeof lt=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,at||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||X!==E)&&g_(r,p,l,E),Vr=!1;var J=r.memoizedState;p.state=J,dl(r,l,p,f),fl(),X=r.memoizedState,b||J!==X||Vr?(typeof lt=="function"&&(wd(r,s,lt,l),X=r.memoizedState),(O=Vr||m_(r,s,O,l,J,X,E))?(at||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=X),p.props=l,p.state=X,p.context=E,l=O):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,ed(i,r),E=r.memoizedProps,at=Ga(s,E),p.props=at,lt=r.pendingProps,J=p.context,X=s.contextType,O=ks,typeof X=="object"&&X!==null&&(O=hn(X)),b=s.getDerivedStateFromProps,(X=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==lt||J!==O)&&g_(r,p,l,O),Vr=!1,J=r.memoizedState,p.state=J,dl(r,l,p,f),fl();var W=r.memoizedState;E!==lt||J!==W||Vr||i!==null&&i.dependencies!==null&&sc(i.dependencies)?(typeof b=="function"&&(wd(r,s,b,l),W=r.memoizedState),(at=Vr||m_(r,s,at,l,J,W,O)||i!==null&&i.dependencies!==null&&sc(i.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,W,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,W,O)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=W),p.props=l,p.state=W,p.context=O,l=at):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(r.flags|=1024),l=!1)}return p=l,Ac(i,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&l?(r.child=qs(r,i.child,null,f),r.child=qs(r,null,s,f)):nn(i,r,s,f),r.memoizedState=p.state,i=r.child):i=lr(i,r,f),i}function N_(i,r,s,l){return rl(),r.flags|=256,nn(i,r,s,l),r.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(i){return{baseLanes:i,cachePool:_y()}}function Id(i,r,s){return i=i!==null?i.childLanes&~s:0,r&&(i|=Qn),i}function D_(i,r,s){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=i!==null&&i.memoizedState===null?!1:(qe.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(ee){if(f?Br(r):zr(),ee){var b=Ae,O;if(O=b){t:{for(O=b,b=Ai;O.nodeType!==8;){if(!b){b=null;break t}if(O=ai(O.nextSibling),O===null){b=null;break t}}b=O}b!==null?(r.memoizedState={dehydrated:b,treeContext:ka!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},O=Nn(18,null,null,0),O.stateNode=b,O.return=r,r.child=O,wn=r,Ae=null,O=!0):O=!1}O||La(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return hp(b)?r.lanes=32:r.lanes=536870912,null;or(r)}return b=l.children,l=l.fallback,f?(zr(),f=r.mode,b=Rc({mode:"hidden",children:b},f),l=Oa(l,f,s,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Cd(s),f.childLanes=Id(i,E,s),r.memoizedState=Rd,l):(Br(r),xd(r,b))}if(O=i.memoizedState,O!==null&&(b=O.dehydrated,b!==null)){if(p)r.flags&256?(Br(r),r.flags&=-257,r=Md(i,r,s)):r.memoizedState!==null?(zr(),r.child=i.child,r.flags|=128,r=null):(zr(),f=l.fallback,b=r.mode,l=Rc({mode:"visible",children:l.children},b),f=Oa(f,b,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,qs(r,i.child,null,s),l=r.child,l.memoizedState=Cd(s),l.childLanes=Id(i,E,s),r.memoizedState=Rd,r=f);else if(Br(r),hp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var X=E.dgst;E=X,l=Error(a(419)),l.stack="",l.digest=E,al({value:l,source:null,stack:null}),r=Md(i,r,s)}else if(Qe||sl(i,r,s,!1),E=(s&i.childLanes)!==0,Qe||E){if(E=pe,E!==null&&(l=s&-s,l=(l&42)!==0?1:Cr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,Os(i,l),Pn(E,i,l),S_;b.data==="$?"||Yd(),r=Md(i,r,s)}else b.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,Ae=ai(b.nextSibling),wn=r,ee=!0,Pa=null,Ai=!1,i!==null&&($n[Kn++]=nr,$n[Kn++]=ir,$n[Kn++]=ka,nr=i.id,ir=i.overflow,ka=r),r=xd(r,l.children),r.flags|=4096);return r}return f?(zr(),f=l.fallback,b=r.mode,O=i.child,X=O.sibling,l=er(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,X!==null?f=er(X,f):(f=Oa(f,b,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=i.child.memoizedState,b===null?b=Cd(s):(O=b.cachePool,O!==null?(X=He._currentValue,O=O.parent!==X?{parent:X,pool:X}:O):O=_y(),b={baseLanes:b.baseLanes|s,cachePool:O}),f.memoizedState=b,f.childLanes=Id(i,E,s),r.memoizedState=Rd,l):(Br(r),s=i.child,i=s.sibling,s=er(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=s,r.memoizedState=null,s)}function xd(i,r){return r=Rc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Rc(i,r){return i=Nn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Md(i,r,s){return qs(r,i.child,null,s),i=xd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function O_(i,r,s){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),Yf(i.return,r,s)}function Nd(i,r,s,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=f)}function k_(i,r,s){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(nn(i,r,l.children,s),l=qe.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&O_(i,s,r);else if(i.tag===19)O_(i,s,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(G(qe,l),f){case"forwards":for(s=r.child,f=null;s!==null;)i=s.alternate,i!==null&&wc(i)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Nd(r,!1,f,s,p);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&wc(i)===null){r.child=f;break}i=f.sibling,f.sibling=s,s=f,f=i}Nd(r,!0,s,null,p);break;case"together":Nd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function lr(i,r,s){if(i!==null&&(r.dependencies=i.dependencies),Fr|=r.lanes,(s&r.childLanes)===0)if(i!==null){if(sl(i,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(a(153));if(r.child!==null){for(i=r.child,s=er(i,i.pendingProps),r.child=s,s.return=r;i.sibling!==null;)i=i.sibling,s=s.sibling=er(i,i.pendingProps),s.return=r;s.sibling=null}return r.child}function Dd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&sc(i)))}function ib(i,r,s){switch(r.tag){case 3:vt(r,r.stateNode.containerInfo),kr(r,He,i.memoizedState.cache),rl();break;case 27:case 5:Kt(r);break;case 4:vt(r,r.stateNode.containerInfo);break;case 10:kr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(r),r.flags|=128,null):(s&r.child.childLanes)!==0?D_(i,r,s):(Br(r),i=lr(i,r,s),i!==null?i.sibling:null);Br(r);break;case 19:var f=(i.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(sl(i,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return k_(i,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),G(qe,qe.current),l)break;return null;case 22:case 23:return r.lanes=0,C_(i,r,s);case 24:kr(r,He,i.memoizedState.cache)}return lr(i,r,s)}function V_(i,r,s){if(i!==null)if(i.memoizedProps!==r.pendingProps)Qe=!0;else{if(!Dd(i,s)&&(r.flags&128)===0)return Qe=!1,ib(i,r,s);Qe=(i.flags&131072)!==0}else Qe=!1,ee&&(r.flags&1048576)!==0&&hy(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")jf(l)?(i=Ga(l,i),r.tag=1,r=M_(null,r,l,i,s)):(r.tag=0,r=Ad(null,r,l,i,s));else{if(l!=null){if(f=l.$$typeof,f===mt){r.tag=11,r=b_(null,r,l,i,s);break t}else if(f===k){r.tag=14,r=A_(null,r,l,i,s);break t}}throw r=nt(l)||l,Error(a(306,r,""))}}return r;case 0:return Ad(i,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Ga(l,r.pendingProps),M_(i,r,l,f,s);case 3:t:{if(vt(r,r.stateNode.containerInfo),i===null)throw Error(a(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,ed(i,r),dl(r,l,null,s);var E=r.memoizedState;if(l=E.cache,kr(r,He,l),l!==p.cache&&Qf(r,[He],s,!0),fl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=N_(i,r,l,s);break t}else if(l!==f){f=qn(Error(a(424)),r),al(f),r=N_(i,r,l,s);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ae=ai(i.firstChild),wn=r,ee=!0,Pa=null,Ai=!0,s=d_(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(rl(),l===f){r=lr(i,r,s);break t}nn(i,r,l,s)}r=r.child}return r;case 26:return Ac(i,r),i===null?(s=B0(r.type,null,r.pendingProps,null))?r.memoizedState=s:ee||(s=r.type,i=r.pendingProps,l=zc(pt.current).createElement(s),l[ze]=r,l[ke]=i,an(l,s,i),Ie(l),r.stateNode=l):r.memoizedState=B0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Kt(r),i===null&&ee&&(l=r.stateNode=P0(r.type,r.pendingProps,pt.current),wn=r,Ai=!0,f=Ae,Qr(r.type)?(fp=f,Ae=ai(l.firstChild)):Ae=f),nn(i,r,r.pendingProps.children,s),Ac(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ee&&((f=l=Ae)&&(l=Nb(l,r.type,r.pendingProps,Ai),l!==null?(r.stateNode=l,wn=r,Ae=ai(l.firstChild),Ai=!1,f=!0):f=!1),f||La(r)),Kt(r),f=r.type,p=r.pendingProps,E=i!==null?i.memoizedProps:null,l=p.children,lp(f,p)?l=null:E!==null&&lp(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=od(i,r,QS,null,null,s),Vl._currentValue=f),Ac(i,r),nn(i,r,l,s),r.child;case 6:return i===null&&ee&&((i=s=Ae)&&(s=Db(s,r.pendingProps,Ai),s!==null?(r.stateNode=s,wn=r,Ae=null,i=!0):i=!1),i||La(r)),null;case 13:return D_(i,r,s);case 4:return vt(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=qs(r,null,l,s):nn(i,r,l,s),r.child;case 11:return b_(i,r,r.type,r.pendingProps,s);case 7:return nn(i,r,r.pendingProps,s),r.child;case 8:return nn(i,r,r.pendingProps.children,s),r.child;case 12:return nn(i,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,kr(r,r.type,l.value),nn(i,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ba(r),f=hn(f),l=l(f),r.flags|=1,nn(i,r,l,s),r.child;case 14:return A_(i,r,r.type,r.pendingProps,s);case 15:return R_(i,r,r.type,r.pendingProps,s);case 19:return k_(i,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},i===null?(s=Rc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=er(i.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return C_(i,r,s);case 24:return Ba(r),l=hn(He),i===null?(f=Jf(),f===null&&(f=pe,p=Xf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),r.memoizedState={parent:l,cache:f},td(r),kr(r,He,f)):((i.lanes&s)!==0&&(ed(i,r),dl(r,null,null,s),fl()),f=i.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),kr(r,He,l)):(l=p.cache,kr(r,He,l),l!==f.cache&&Qf(r,[He],s,!0))),nn(i,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ur(i){i.flags|=4}function P_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!q0(r)){if(r=Yn.current,r!==null&&((Zt&4194048)===Zt?Ri!==null:(Zt&62914560)!==Zt&&(Zt&536870912)===0||r!==Ri))throw cl=Wf,vy;i.flags|=8192}}function Cc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Lo():536870912,i.lanes|=r,Ys|=r)}function El(i,r){if(!ee)switch(i.tailMode){case"hidden":r=i.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function we(i){var r=i.alternate!==null&&i.alternate.child===i.child,s=0,l=0;if(r)for(var f=i.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=s,r}function rb(i,r,s){var l=r.pendingProps;switch(Ff(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(r),null;case 1:return we(r),null;case 3:return s=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(He),Ut(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(il(r)?ur(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,py())),we(r),null;case 26:return s=r.memoizedState,i===null?(ur(r),s!==null?(we(r),P_(r,s)):(we(r),r.flags&=-16777217)):s?s!==i.memoizedState?(ur(r),we(r),P_(r,s)):(we(r),r.flags&=-16777217):(i.memoizedProps!==l&&ur(r),we(r),r.flags&=-16777217),null;case 27:Pt(r),s=pt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return we(r),null}i=rt.current,il(r)?fy(r):(i=P0(f,l,s),r.stateNode=i,ur(r))}return we(r),null;case 5:if(Pt(r),s=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return we(r),null}if(i=rt.current,il(r))fy(r);else{switch(f=zc(pt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}i[ze]=r,i[ke]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(an(i,s,l),s){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ur(r)}}return we(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&ur(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(i=pt.current,il(r)){if(i=r.stateNode,s=r.memoizedProps,l=null,f=wn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[ze]=r,i=!!(i.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||x0(i.nodeValue,s)),i||La(r)}else i=zc(i).createTextNode(l),i[ze]=r,r.stateNode=i}return we(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=il(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ze]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;we(r),f=!1}else f=py(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(or(r),r):(or(r),null)}if(or(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,i=i!==null&&i.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return s!==i&&s&&(r.child.flags|=8192),Cc(r,r.updateQueue),we(r),null;case 4:return Ut(),i===null&&ip(r.stateNode.containerInfo),we(r),null;case 10:return ar(r.type),we(r),null;case 19:if(H(qe),f=r.memoizedState,f===null)return we(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)El(f,!1);else{if(Re!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=wc(i),p!==null){for(r.flags|=128,El(f,!1),i=p.updateQueue,r.updateQueue=i,Cc(r,i),r.subtreeFlags=0,i=s,s=r.child;s!==null;)cy(s,i),s=s.sibling;return G(qe,qe.current&1|2),r.child}i=i.sibling}f.tail!==null&&de()>Mc&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304)}else{if(!l)if(i=wc(p),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Cc(r,i),El(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!ee)return we(r),null}else 2*de()-f.renderingStartTime>Mc&&s!==536870912&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=de(),r.sibling=null,i=qe.current,G(qe,l?i&1|2:i&1),r):(we(r),null);case 22:case 23:return or(r),ad(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(we(r),r.subtreeFlags&6&&(r.flags|=8192)):we(r),s=r.updateQueue,s!==null&&Cc(r,s.retryQueue),s=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),i!==null&&H(za),null;case 24:return s=null,i!==null&&(s=i.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),ar(He),we(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function ab(i,r){switch(Ff(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ar(He),Ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pt(r),null;case 13:if(or(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(a(340));rl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return H(qe),null;case 4:return Ut(),null;case 10:return ar(r.type),null;case 22:case 23:return or(r),ad(),i!==null&&H(za),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ar(He),null;case 25:return null;default:return null}}function L_(i,r){switch(Ff(r),r.tag){case 3:ar(He),Ut();break;case 26:case 27:case 5:Pt(r);break;case 4:Ut();break;case 13:or(r);break;case 19:H(qe);break;case 10:ar(r.type);break;case 22:case 23:or(r),ad(),i!==null&&H(za);break;case 24:ar(He)}}function Tl(i,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&i)===i){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==f)}}catch(b){fe(r,r.return,b)}}function jr(i,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var O=s,X=b;try{X()}catch(at){fe(f,O,at)}}}l=l.next}while(l!==p)}}catch(at){fe(r,r.return,at)}}function U_(i){var r=i.updateQueue;if(r!==null){var s=i.stateNode;try{Ay(r,s)}catch(l){fe(i,i.return,l)}}}function B_(i,r,s){s.props=Ga(i.type,i.memoizedProps),s.state=i.memoizedState;try{s.componentWillUnmount()}catch(l){fe(i,r,l)}}function wl(i,r){try{var s=i.ref;if(s!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof s=="function"?i.refCleanup=s(l):s.current=l}}catch(f){fe(i,r,f)}}function Ci(i,r){var s=i.ref,l=i.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){fe(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){fe(i,r,f)}else s.current=null}function z_(i){var r=i.type,s=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){fe(i,i.return,f)}}function Od(i,r,s){try{var l=i.stateNode;Rb(l,i.type,s,r),l[ke]=r}catch(f){fe(i,i.return,f)}}function j_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Qr(i.type)||i.tag===4}function kd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||j_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Qr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vd(i,r,s){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(i,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(i),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Bc));else if(l!==4&&(l===27&&Qr(i.type)&&(s=i.stateNode,r=null),i=i.child,i!==null))for(Vd(i,r,s),i=i.sibling;i!==null;)Vd(i,r,s),i=i.sibling}function Ic(i,r,s){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?s.insertBefore(i,r):s.appendChild(i);else if(l!==4&&(l===27&&Qr(i.type)&&(s=i.stateNode),i=i.child,i!==null))for(Ic(i,r,s),i=i.sibling;i!==null;)Ic(i,r,s),i=i.sibling}function G_(i){var r=i.stateNode,s=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,s),r[ze]=i,r[ke]=s}catch(p){fe(i,i.return,p)}}var cr=!1,Me=!1,Pd=!1,H_=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function sb(i,r){if(i=i.containerInfo,sp=$c,i=ty(i),kf(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else t:{s=(s=i.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var E=0,b=-1,O=-1,X=0,at=0,lt=i,J=null;e:for(;;){for(var W;lt!==s||f!==0&&lt.nodeType!==3||(b=E+f),lt!==p||l!==0&&lt.nodeType!==3||(O=E+l),lt.nodeType===3&&(E+=lt.nodeValue.length),(W=lt.firstChild)!==null;)J=lt,lt=W;for(;;){if(lt===i)break e;if(J===s&&++X===f&&(b=E),J===p&&++at===l&&(O=E),(W=lt.nextSibling)!==null)break;lt=J,J=lt.parentNode}lt=W}s=b===-1||O===-1?null:{start:b,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(op={focusedElem:i,selectionRange:s},$c=!1,Xe=r;Xe!==null;)if(r=Xe,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Xe=i;else for(;Xe!==null;){switch(r=Xe,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,s=r,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var Dt=Ga(s.type,f,s.elementType===s.type);i=l.getSnapshotBeforeUpdate(Dt,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(xt){fe(s,s.return,xt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,s=i.nodeType,s===9)cp(i);else if(s===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":cp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=r.sibling,i!==null){i.return=r.return,Xe=i;break}Xe=r.return}}function q_(i,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Gr(i,s),l&4&&Tl(5,s);break;case 1:if(Gr(i,s),l&4)if(i=s.stateNode,r===null)try{i.componentDidMount()}catch(E){fe(s,s.return,E)}else{var f=Ga(s.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){fe(s,s.return,E)}}l&64&&U_(s),l&512&&wl(s,s.return);break;case 3:if(Gr(i,s),l&64&&(i=s.updateQueue,i!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Ay(i,r)}catch(E){fe(s,s.return,E)}}break;case 27:r===null&&l&4&&G_(s);case 26:case 5:Gr(i,s),r===null&&l&4&&z_(s),l&512&&wl(s,s.return);break;case 12:Gr(i,s);break;case 13:Gr(i,s),l&4&&K_(i,s),l&64&&(i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(s=mb.bind(null,s),Ob(i,s))));break;case 22:if(l=s.memoizedState!==null||cr,!l){r=r!==null&&r.memoizedState!==null||Me,f=cr;var p=Me;cr=l,(Me=r)&&!p?Hr(i,s,(s.subtreeFlags&8772)!==0):Gr(i,s),cr=f,Me=p}break;case 30:break;default:Gr(i,s)}}function F_(i){var r=i.alternate;r!==null&&(i.alternate=null,F_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Mr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ee=null,bn=!1;function hr(i,r,s){for(s=s.child;s!==null;)$_(i,r,s),s=s.sibling}function $_(i,r,s){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount($,s)}catch{}switch(s.tag){case 26:Me||Ci(s,r),hr(i,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||Ci(s,r);var l=Ee,f=bn;Qr(s.type)&&(Ee=s.stateNode,bn=!1),hr(i,r,s),Nl(s.stateNode),Ee=l,bn=f;break;case 5:Me||Ci(s,r);case 6:if(l=Ee,f=bn,Ee=null,hr(i,r,s),Ee=l,bn=f,Ee!==null)if(bn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(s.stateNode)}catch(p){fe(s,r,p)}else try{Ee.removeChild(s.stateNode)}catch(p){fe(s,r,p)}break;case 18:Ee!==null&&(bn?(i=Ee,k0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.stateNode),Bl(i)):k0(Ee,s.stateNode));break;case 4:l=Ee,f=bn,Ee=s.stateNode.containerInfo,bn=!0,hr(i,r,s),Ee=l,bn=f;break;case 0:case 11:case 14:case 15:Me||jr(2,s,r),Me||jr(4,s,r),hr(i,r,s);break;case 1:Me||(Ci(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&B_(s,r,l)),hr(i,r,s);break;case 21:hr(i,r,s);break;case 22:Me=(l=Me)||s.memoizedState!==null,hr(i,r,s),Me=l;break;default:hr(i,r,s)}}function K_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bl(i)}catch(s){fe(r,r.return,s)}}function ob(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new H_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new H_),r;default:throw Error(a(435,i.tag))}}function Ld(i,r){var s=ob(i);r.forEach(function(l){var f=gb.bind(null,i,l);s.has(l)||(s.add(l),l.then(f,f))})}function Dn(i,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=i,E=r,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(Qr(b.type)){Ee=b.stateNode,bn=!1;break t}break;case 5:Ee=b.stateNode,bn=!1;break t;case 3:case 4:Ee=b.stateNode.containerInfo,bn=!0;break t}b=b.return}if(Ee===null)throw Error(a(160));$_(p,E,f),Ee=null,bn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Y_(r,i),r=r.sibling}var ri=null;function Y_(i,r){var s=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(r,i),On(i),l&4&&(jr(3,i,i.return),Tl(3,i),jr(5,i,i.return));break;case 1:Dn(r,i),On(i),l&512&&(Me||s===null||Ci(s,s.return)),l&64&&cr&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(s=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ri;if(Dn(r,i),On(i),l&512&&(Me||s===null||Ci(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=i.memoizedState,s===null)if(l===null)if(i.stateNode===null){t:{l=i.type,s=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ya]||p[ze]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),an(p,l,s),p[ze]=i,Ie(p),l=p;break t;case"link":var E=G0("link","href",f).get(l+(s.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(b,1);break e}}p=f.createElement(l),an(p,l,s),f.head.appendChild(p);break;case"meta":if(E=G0("meta","content",f).get(l+(s.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(b,1);break e}}p=f.createElement(l),an(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[ze]=i,Ie(p),l=p}i.stateNode=l}else H0(f,i.type,i.stateNode);else i.stateNode=j0(f,l,i.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?H0(f,i.type,i.stateNode):j0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Od(i,i.memoizedProps,s.memoizedProps)}break;case 27:Dn(r,i),On(i),l&512&&(Me||s===null||Ci(s,s.return)),s!==null&&l&4&&Od(i,i.memoizedProps,s.memoizedProps);break;case 5:if(Dn(r,i),On(i),l&512&&(Me||s===null||Ci(s,s.return)),i.flags&32){f=i.stateNode;try{zn(f,"")}catch(W){fe(i,i.return,W)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Od(i,f,s!==null?s.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if(Dn(r,i),On(i),l&4){if(i.stateNode===null)throw Error(a(162));l=i.memoizedProps,s=i.stateNode;try{s.nodeValue=l}catch(W){fe(i,i.return,W)}}break;case 3:if(Hc=null,f=ri,ri=jc(r.containerInfo),Dn(r,i),ri=f,On(i),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Bl(r.containerInfo)}catch(W){fe(i,i.return,W)}Pd&&(Pd=!1,Q_(i));break;case 4:l=ri,ri=jc(i.stateNode.containerInfo),Dn(r,i),On(i),ri=l;break;case 12:Dn(r,i),On(i);break;case 13:Dn(r,i),On(i),i.child.flags&8192&&i.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hd=de()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Ld(i,l)));break;case 22:f=i.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,X=cr,at=Me;if(cr=X||f,Me=at||O,Dn(r,i),Me=at,cr=X,On(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||O||cr||Me||Ha(i)),s=null,r=i;;){if(r.tag===5||r.tag===26){if(s===null){O=s=r;try{if(p=O.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=O.stateNode;var lt=O.memoizedProps.style,J=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;b.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(W){fe(O,O.return,W)}}}else if(r.tag===6){if(s===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(W){fe(O,O.return,W)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ld(i,s))));break;case 19:Dn(r,i),On(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Ld(i,l)));break;case 30:break;case 21:break;default:Dn(r,i),On(i)}}function On(i){var r=i.flags;if(r&2){try{for(var s,l=i.return;l!==null;){if(j_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=kd(i);Ic(i,p,f);break;case 5:var E=s.stateNode;s.flags&32&&(zn(E,""),s.flags&=-33);var b=kd(i);Ic(i,b,E);break;case 3:case 4:var O=s.stateNode.containerInfo,X=kd(i);Vd(i,X,O);break;default:throw Error(a(161))}}catch(at){fe(i,i.return,at)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Q_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Q_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Gr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)q_(i,r.alternate,r),r=r.sibling}function Ha(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),Ha(r);break;case 1:Ci(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&B_(r,r.return,s),Ha(r);break;case 27:Nl(r.stateNode);case 26:case 5:Ci(r,r.return),Ha(r);break;case 22:r.memoizedState===null&&Ha(r);break;case 30:Ha(r);break;default:Ha(r)}i=i.sibling}}function Hr(i,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Hr(f,p,s),Tl(4,p);break;case 1:if(Hr(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){fe(l,l.return,X)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)by(O[f],b)}catch(X){fe(l,l.return,X)}}s&&E&64&&U_(p),wl(p,p.return);break;case 27:G_(p);case 26:case 5:Hr(f,p,s),s&&l===null&&E&4&&z_(p),wl(p,p.return);break;case 12:Hr(f,p,s);break;case 13:Hr(f,p,s),s&&E&4&&K_(f,p);break;case 22:p.memoizedState===null&&Hr(f,p,s),wl(p,p.return);break;case 30:break;default:Hr(f,p,s)}r=r.sibling}}function Ud(i,r){var s=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==s&&(i!=null&&i.refCount++,s!=null&&ol(s))}function Bd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ol(i))}function Ii(i,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)X_(i,r,s,l),r=r.sibling}function X_(i,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(i,r,s,l),f&2048&&Tl(9,r);break;case 1:Ii(i,r,s,l);break;case 3:Ii(i,r,s,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ol(i)));break;case 12:if(f&2048){Ii(i,r,s,l),i=r.stateNode;try{var p=r.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){fe(r,r.return,O)}}else Ii(i,r,s,l);break;case 13:Ii(i,r,s,l);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?Ii(i,r,s,l):Sl(i,r):p._visibility&2?Ii(i,r,s,l):(p._visibility|=2,Fs(i,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&Ud(E,r);break;case 24:Ii(i,r,s,l),f&2048&&Bd(r.alternate,r);break;default:Ii(i,r,s,l)}}function Fs(i,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,E=r,b=s,O=l,X=E.flags;switch(E.tag){case 0:case 11:case 15:Fs(p,E,b,O,f),Tl(8,E);break;case 23:break;case 22:var at=E.stateNode;E.memoizedState!==null?at._visibility&2?Fs(p,E,b,O,f):Sl(p,E):(at._visibility|=2,Fs(p,E,b,O,f)),f&&X&2048&&Ud(E.alternate,E);break;case 24:Fs(p,E,b,O,f),f&&X&2048&&Bd(E.alternate,E);break;default:Fs(p,E,b,O,f)}r=r.sibling}}function Sl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=i,l=r,f=l.flags;switch(l.tag){case 22:Sl(s,l),f&2048&&Ud(l.alternate,l);break;case 24:Sl(s,l),f&2048&&Bd(l.alternate,l);break;default:Sl(s,l)}r=r.sibling}}var bl=8192;function $s(i){if(i.subtreeFlags&bl)for(i=i.child;i!==null;)Z_(i),i=i.sibling}function Z_(i){switch(i.tag){case 26:$s(i),i.flags&bl&&i.memoizedState!==null&&$b(ri,i.memoizedState,i.memoizedProps);break;case 5:$s(i);break;case 3:case 4:var r=ri;ri=jc(i.stateNode.containerInfo),$s(i),ri=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=bl,bl=16777216,$s(i),bl=r):$s(i));break;default:$s(i)}}function J_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Al(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Xe=l,t0(l,i)}J_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W_(i),i=i.sibling}function W_(i){switch(i.tag){case 0:case 11:case 15:Al(i),i.flags&2048&&jr(9,i,i.return);break;case 3:Al(i);break;case 12:Al(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,xc(i)):Al(i);break;default:Al(i)}}function xc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Xe=l,t0(l,i)}J_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:jr(8,r,r.return),xc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,xc(r));break;default:xc(r)}i=i.sibling}}function t0(i,r){for(;Xe!==null;){var s=Xe;switch(s.tag){case 0:case 11:case 15:jr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Xe=l;else t:for(s=i;Xe!==null;){l=Xe;var f=l.sibling,p=l.return;if(F_(l),l===s){Xe=null;break t}if(f!==null){f.return=p,Xe=f;break t}Xe=p}}}var lb={getCacheForType:function(i){var r=hn(He),s=r.data.get(i);return s===void 0&&(s=i(),r.data.set(i,s)),s}},ub=typeof WeakMap=="function"?WeakMap:Map,ae=0,pe=null,Gt=null,Zt=0,se=0,kn=null,qr=!1,Ks=!1,zd=!1,fr=0,Re=0,Fr=0,qa=0,jd=0,Qn=0,Ys=0,Rl=null,An=null,Gd=!1,Hd=0,Mc=1/0,Nc=null,$r=null,rn=0,Kr=null,Qs=null,Xs=0,qd=0,Fd=null,e0=null,Cl=0,$d=null;function Vn(){if((ae&2)!==0&&Zt!==0)return Zt&-Zt;if(D.T!==null){var i=Ls;return i!==0?i:Wd()}return Ir()}function n0(){Qn===0&&(Qn=(Zt&536870912)===0||ee?di():536870912);var i=Yn.current;return i!==null&&(i.flags|=32),Qn}function Pn(i,r,s){(i===pe&&(se===2||se===9)||i.cancelPendingCommit!==null)&&(Zs(i,0),Yr(i,Zt,Qn,!1)),qi(i,s),((ae&2)===0||i!==pe)&&(i===pe&&((ae&2)===0&&(qa|=s),Re===4&&Yr(i,Zt,Qn,!1)),xi(i))}function i0(i,r,s){if((ae&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&i.expiredLanes)===0||Rr(i,r),f=l?fb(i,r):Qd(i,r,!0),p=l;do{if(f===0){Ks&&!l&&Yr(i,r,0,!1);break}else{if(s=i.current.alternate,p&&!cb(s)){f=Qd(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var b=i;f=Rl;var O=b.current.memoizedState.isDehydrated;if(O&&(Zs(b,E).flags|=256),E=Qd(b,E,!1),E!==2){if(zd&&!O){b.errorRecoveryDisabledLanes|=p,qa|=p,f=4;break t}p=An,An=f,p!==null&&(An===null?An=p:An.push.apply(An,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Zs(i,0),Yr(i,r,0,!0);break}t:{switch(l=i,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Yr(l,r,Qn,!qr);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=Hd+300-de(),10<f)){if(Yr(l,r,Qn,!qr),cn(l,0,!0)!==0)break t;l.timeoutHandle=D0(r0.bind(null,l,s,An,Nc,Gd,r,Qn,qa,Ys,qr,p,2,-0,0),f);break t}r0(l,s,An,Nc,Gd,r,Qn,qa,Ys,qr,p,0,-0,0)}}break}while(!0);xi(i)}function r0(i,r,s,l,f,p,E,b,O,X,at,lt,J,W){if(i.timeoutHandle=-1,lt=r.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:Fb},Z_(r),lt=Kb(),lt!==null)){i.cancelPendingCommit=lt(h0.bind(null,i,r,p,s,l,f,E,b,O,at,1,J,W)),Yr(i,p,E,!X);return}h0(i,r,p,s,l,f,E,b,O)}function cb(i){for(var r=i;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!Mn(p(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(i,r,s,l){r&=~jd,r&=~qa,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var p=31-Rt(f),E=1<<p;l[p]=-1,f&=~E}s!==0&&pi(i,s,r)}function Dc(){return(ae&6)===0?(Il(0),!1):!0}function Kd(){if(Gt!==null){if(se===0)var i=Gt.return;else i=Gt,rr=Ua=null,cd(i),Hs=null,_l=0,i=Gt;for(;i!==null;)L_(i.alternate,i),i=i.return;Gt=null}}function Zs(i,r){var s=i.timeoutHandle;s!==-1&&(i.timeoutHandle=-1,Ib(s)),s=i.cancelPendingCommit,s!==null&&(i.cancelPendingCommit=null,s()),Kd(),pe=i,Gt=s=er(i.current,null),Zt=r,se=0,kn=null,qr=!1,Ks=Rr(i,r),zd=!1,Ys=Qn=jd=qa=Fr=Re=0,An=Rl=null,Gd=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Rt(l),p=1<<f;r|=i[f],l&=~p}return fr=r,tc(),s}function a0(i,r){zt=null,D.H=vc,r===ul||r===uc?(r=wy(),se=3):r===vy?(r=wy(),se=4):se=r===S_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Gt===null&&(Re=1,bc(i,qn(r,i.current)))}function s0(){var i=D.H;return D.H=vc,i===null?vc:i}function o0(){var i=D.A;return D.A=lb,i}function Yd(){Re=4,qr||(Zt&4194048)!==Zt&&Yn.current!==null||(Ks=!0),(Fr&134217727)===0&&(qa&134217727)===0||pe===null||Yr(pe,Zt,Qn,!1)}function Qd(i,r,s){var l=ae;ae|=2;var f=s0(),p=o0();(pe!==i||Zt!==r)&&(Nc=null,Zs(i,r)),r=!1;var E=Re;t:do try{if(se!==0&&Gt!==null){var b=Gt,O=kn;switch(se){case 8:Kd(),E=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var X=se;if(se=0,kn=null,Js(i,b,O,X),s&&Ks){E=0;break t}break;default:X=se,se=0,kn=null,Js(i,b,O,X)}}hb(),E=Re;break}catch(at){a0(i,at)}while(!0);return r&&i.shellSuspendCounter++,rr=Ua=null,ae=l,D.H=f,D.A=p,Gt===null&&(pe=null,Zt=0,tc()),E}function hb(){for(;Gt!==null;)l0(Gt)}function fb(i,r){var s=ae;ae|=2;var l=s0(),f=o0();pe!==i||Zt!==r?(Nc=null,Mc=de()+500,Zs(i,r)):Ks=Rr(i,r);t:do try{if(se!==0&&Gt!==null){r=Gt;var p=kn;e:switch(se){case 1:se=0,kn=null,Js(i,r,p,1);break;case 2:case 9:if(Ey(p)){se=0,kn=null,u0(r);break}r=function(){se!==2&&se!==9||pe!==i||(se=7),xi(i)},p.then(r,r);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:Ey(p)?(se=0,kn=null,u0(r)):(se=0,kn=null,Js(i,r,p,7));break;case 5:var E=null;switch(Gt.tag){case 26:E=Gt.memoizedState;case 5:case 27:var b=Gt;if(!E||q0(E)){se=0,kn=null;var O=b.sibling;if(O!==null)Gt=O;else{var X=b.return;X!==null?(Gt=X,Oc(X)):Gt=null}break e}}se=0,kn=null,Js(i,r,p,5);break;case 6:se=0,kn=null,Js(i,r,p,6);break;case 8:Kd(),Re=6;break t;default:throw Error(a(462))}}db();break}catch(at){a0(i,at)}while(!0);return rr=Ua=null,D.H=l,D.A=f,ae=s,Gt!==null?0:(pe=null,Zt=0,tc(),Re)}function db(){for(;Gt!==null&&!me();)l0(Gt)}function l0(i){var r=V_(i.alternate,i,fr);i.memoizedProps=i.pendingProps,r===null?Oc(i):Gt=r}function u0(i){var r=i,s=r.alternate;switch(r.tag){case 15:case 0:r=x_(s,r,r.pendingProps,r.type,void 0,Zt);break;case 11:r=x_(s,r,r.pendingProps,r.type.render,r.ref,Zt);break;case 5:cd(r);default:L_(s,r),r=Gt=cy(r,fr),r=V_(s,r,fr)}i.memoizedProps=i.pendingProps,r===null?Oc(i):Gt=r}function Js(i,r,s,l){rr=Ua=null,cd(r),Hs=null,_l=0;var f=r.return;try{if(nb(i,f,r,s,Zt)){Re=1,bc(i,qn(s,i.current)),Gt=null;return}}catch(p){if(f!==null)throw Gt=f,p;Re=1,bc(i,qn(s,i.current)),Gt=null;return}r.flags&32768?(ee||l===1?i=!0:Ks||(Zt&536870912)!==0?i=!1:(qr=i=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c0(r,i)):Oc(r)}function Oc(i){var r=i;do{if((r.flags&32768)!==0){c0(r,qr);return}i=r.return;var s=rb(r.alternate,r,fr);if(s!==null){Gt=s;return}if(r=r.sibling,r!==null){Gt=r;return}Gt=r=i}while(r!==null);Re===0&&(Re=5)}function c0(i,r){do{var s=ab(i.alternate,i);if(s!==null){s.flags&=32767,Gt=s;return}if(s=i.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(i=i.sibling,i!==null)){Gt=i;return}Gt=i=s}while(i!==null);Re=6,Gt=null}function h0(i,r,s,l,f,p,E,b,O){i.cancelPendingCommit=null;do kc();while(rn!==0);if((ae&6)!==0)throw Error(a(327));if(r!==null){if(r===i.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=Bf,Uo(i,s,p,E,b,O),i===pe&&(Gt=pe=null,Zt=0),Qs=r,Kr=i,Xs=s,qd=p,Fd=f,e0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yb(un,function(){return g0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,f=P.p,P.p=2,E=ae,ae|=4;try{sb(i,r,s)}finally{ae=E,P.p=f,D.T=l}}rn=1,f0(),d0(),p0()}}function f0(){if(rn===1){rn=0;var i=Kr,r=Qs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=D.T,D.T=null;var l=P.p;P.p=2;var f=ae;ae|=4;try{Y_(r,i);var p=op,E=ty(i.containerInfo),b=p.focusedElem,O=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&Wg(b.ownerDocument.documentElement,b)){if(O!==null&&kf(b)){var X=O.start,at=O.end;if(at===void 0&&(at=X),"selectionStart"in b)b.selectionStart=X,b.selectionEnd=Math.min(at,b.value.length);else{var lt=b.ownerDocument||document,J=lt&&lt.defaultView||window;if(J.getSelection){var W=J.getSelection(),Dt=b.textContent.length,xt=Math.min(O.start,Dt),he=O.end===void 0?xt:Math.min(O.end,Dt);!W.extend&&xt>he&&(E=he,he=xt,xt=E);var j=Jg(b,xt),B=Jg(b,he);if(j&&B&&(W.rangeCount!==1||W.anchorNode!==j.node||W.anchorOffset!==j.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var Y=lt.createRange();Y.setStart(j.node,j.offset),W.removeAllRanges(),xt>he?(W.addRange(Y),W.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),W.addRange(Y))}}}}for(lt=[],W=b;W=W.parentNode;)W.nodeType===1&&lt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<lt.length;b++){var st=lt[b];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}$c=!!sp,op=sp=null}finally{ae=f,P.p=l,D.T=s}}i.current=r,rn=2}}function d0(){if(rn===2){rn=0;var i=Kr,r=Qs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=D.T,D.T=null;var l=P.p;P.p=2;var f=ae;ae|=4;try{q_(i,r.alternate,r)}finally{ae=f,P.p=l,D.T=s}}rn=3}}function p0(){if(rn===4||rn===3){rn=0,Ce();var i=Kr,r=Qs,s=Xs,l=e0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rn=5:(rn=0,Qs=Kr=null,m0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&($r=null),ms(s),r=r.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot($,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=D.T,f=P.p,P.p=2,D.T=null;try{for(var p=i.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{D.T=r,P.p=f}}(Xs&3)!==0&&kc(),xi(i),f=i.pendingLanes,(s&4194090)!==0&&(f&42)!==0?i===$d?Cl++:(Cl=0,$d=i):Cl=0,Il(0)}}function m0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ol(r)))}function kc(i){return f0(),d0(),p0(),g0()}function g0(){if(rn!==5)return!1;var i=Kr,r=qd;qd=0;var s=ms(Xs),l=D.T,f=P.p;try{P.p=32>s?32:s,D.T=null,s=Fd,Fd=null;var p=Kr,E=Xs;if(rn=0,Qs=Kr=null,Xs=0,(ae&6)!==0)throw Error(a(331));var b=ae;if(ae|=4,W_(p.current),X_(p,p.current,E,s),ae=b,Il(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot($,p)}catch{}return!0}finally{P.p=f,D.T=l,m0(i,r)}}function y0(i,r,s){r=qn(s,r),r=bd(i.stateNode,r,2),i=Lr(i,r,2),i!==null&&(qi(i,2),xi(i))}function fe(i,r,s){if(i.tag===3)y0(i,i,s);else for(;r!==null;){if(r.tag===3){y0(r,i,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($r===null||!$r.has(l))){i=qn(s,i),s=T_(2),l=Lr(r,s,2),l!==null&&(w_(s,l,r,i),qi(l,2),xi(l));break}}r=r.return}}function Xd(i,r,s){var l=i.pingCache;if(l===null){l=i.pingCache=new ub;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(zd=!0,f.add(s),i=pb.bind(null,i,r,s),r.then(i,i))}function pb(i,r,s){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&s,i.warmLanes&=~s,pe===i&&(Zt&s)===s&&(Re===4||Re===3&&(Zt&62914560)===Zt&&300>de()-Hd?(ae&2)===0&&Zs(i,0):jd|=s,Ys===Zt&&(Ys=0)),xi(i)}function _0(i,r){r===0&&(r=Lo()),i=Os(i,r),i!==null&&(qi(i,r),xi(i))}function mb(i){var r=i.memoizedState,s=0;r!==null&&(s=r.retryLane),_0(i,s)}function gb(i,r){var s=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),_0(i,s)}function yb(i,r){return re(i,r)}var Vc=null,Ws=null,Zd=!1,Pc=!1,Jd=!1,Fa=0;function xi(i){i!==Ws&&i.next===null&&(Ws===null?Vc=Ws=i:Ws=Ws.next=i),Pc=!0,Zd||(Zd=!0,vb())}function Il(i,r){if(!Jd&&Pc){Jd=!0;do for(var s=!1,l=Vc;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-Rt(42|i)+1)-1,p&=f&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,w0(l,p))}else p=Zt,p=cn(l,l===pe?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Rr(l,p)||(s=!0,w0(l,p));l=l.next}while(s);Jd=!1}}function _b(){v0()}function v0(){Pc=Zd=!1;var i=0;Fa!==0&&(Cb()&&(i=Fa),Fa=0);for(var r=de(),s=null,l=Vc;l!==null;){var f=l.next,p=E0(l,r);p===0?(l.next=null,s===null?Vc=f:s.next=f,f===null&&(Ws=s)):(s=l,(i!==0||(p&3)!==0)&&(Pc=!0)),l=f}Il(i)}function E0(i,r){for(var s=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var E=31-Rt(p),b=1<<E,O=f[E];O===-1?((b&s)===0||(b&l)!==0)&&(f[E]=ps(b,r)):O<=r&&(i.expiredLanes|=b),p&=~b}if(r=pe,s=Zt,s=cn(i,i===r?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,s===0||i===r&&(se===2||se===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Lt(l),i.callbackNode=null,i.callbackPriority=0;if((s&3)===0||Rr(i,s)){if(r=s&-s,r===i.callbackPriority)return r;switch(l!==null&&Lt(l),ms(s)){case 2:case 8:s=oe;break;case 32:s=un;break;case 268435456:s=ti;break;default:s=un}return l=T0.bind(null,i),s=re(s,l),i.callbackPriority=r,i.callbackNode=s,r}return l!==null&&l!==null&&Lt(l),i.callbackPriority=2,i.callbackNode=null,2}function T0(i,r){if(rn!==0&&rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var s=i.callbackNode;if(kc()&&i.callbackNode!==s)return null;var l=Zt;return l=cn(i,i===pe?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(i0(i,l,r),E0(i,de()),i.callbackNode!=null&&i.callbackNode===s?T0.bind(null,i):null)}function w0(i,r){if(kc())return null;i0(i,r,!0)}function vb(){xb(function(){(ae&6)!==0?re(_n,_b):v0()})}function Wd(){return Fa===0&&(Fa=di()),Fa}function S0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ts(""+i)}function b0(i,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,i.id&&s.setAttribute("form",i.id),r.parentNode.insertBefore(s,r),i=new FormData(i),s.parentNode.removeChild(s),i}function Eb(i,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var p=S0((f[ke]||null).action),E=l.submitter;E&&(r=(r=E[ke]||null)?S0(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var b=new ws("action","action",null,l,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fa!==0){var O=E?b0(f,E):new FormData(f);vd(s,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(b.preventDefault(),O=E?b0(f,E):new FormData(f),vd(s,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var tp=0;tp<Uf.length;tp++){var ep=Uf[tp],Tb=ep.toLowerCase(),wb=ep[0].toUpperCase()+ep.slice(1);ii(Tb,"on"+wb)}ii(iy,"onAnimationEnd"),ii(ry,"onAnimationIteration"),ii(ay,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(BS,"onTransitionRun"),ii(zS,"onTransitionStart"),ii(jS,"onTransitionCancel"),ii(sy,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function A0(i,r){r=(r&4)!==0;for(var s=0;s<i.length;s++){var l=i[s],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],O=b.instance,X=b.currentTarget;if(b=b.listener,O!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=X;try{p(f)}catch(at){Sc(at)}f.currentTarget=null,p=O}else for(E=0;E<l.length;E++){if(b=l[E],O=b.instance,X=b.currentTarget,b=b.listener,O!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=X;try{p(f)}catch(at){Sc(at)}f.currentTarget=null,p=O}}}}function Ht(i,r){var s=r[zo];s===void 0&&(s=r[zo]=new Set);var l=i+"__bubble";s.has(l)||(R0(r,i,2,!1),s.add(l))}function np(i,r,s){var l=0;r&&(l|=4),R0(s,i,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function ip(i){if(!i[Lc]){i[Lc]=!0,jo.forEach(function(s){s!=="selectionchange"&&(Sb.has(s)||np(s,!1,i),np(s,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,np("selectionchange",!1,r))}}function R0(i,r,s,l){switch(X0(r)){case 2:var f=Xb;break;case 8:f=Zb;break;default:f=yp}s=f.bind(null,r,s,i),f=void 0,!Gn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,s,{capture:!0,passive:f}):i.addEventListener(r,s,!0):f!==void 0?i.addEventListener(r,s,{passive:f}):i.addEventListener(r,s,!1)}function rp(i,r,s,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Fi(b),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=p=E;continue t}b=b.parentNode}}l=l.return}Bu(function(){var X=p,at=jn(s),lt=[];t:{var J=oy.get(i);if(J!==void 0){var W=ws,Dt=i;switch(i){case"keypress":if(Ei(s)===0)break t;case"keydown":case"keyup":W=Is;break;case"focusin":Dt="focus",W=As;break;case"focusout":Dt="blur",W=As;break;case"beforeblur":case"afterblur":W=As;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Ku;break;case iy:case ry:case ay:W=Rs;break;case sy:W=Qu;break;case"scroll":case"scrollend":W=zu;break;case"wheel":W=xs;break;case"copy":case"cut":case"paste":W=Cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Wo;break;case"toggle":case"beforetoggle":W=Zu}var xt=(r&4)!==0,he=!xt&&(i==="scroll"||i==="scrollend"),j=xt?J!==null?J+"Capture":null:J;xt=[];for(var B=X,Y;B!==null;){var st=B;if(Y=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||Y===null||j===null||(st=ba(B,j),st!=null&&xt.push(Ml(B,st,Y))),he)break;B=B.return}0<xt.length&&(J=new W(J,Dt,null,s,at),lt.push({event:J,listeners:xt}))}}if((r&7)===0){t:{if(J=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",J&&s!==Qi&&(Dt=s.relatedTarget||s.fromElement)&&(Fi(Dt)||Dt[Bn]))break t;if((W||J)&&(J=at.window===at?at:(J=at.ownerDocument)?J.defaultView||J.parentWindow:window,W?(Dt=s.relatedTarget||s.toElement,W=X,Dt=Dt?Fi(Dt):null,Dt!==null&&(he=u(Dt),xt=Dt.tag,Dt!==he||xt!==5&&xt!==27&&xt!==6)&&(Dt=null)):(W=null,Dt=X),W!==Dt)){if(xt=Hn,st="onMouseLeave",j="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(xt=Wo,st="onPointerLeave",j="onPointerEnter",B="pointer"),he=W==null?J:gi(W),Y=Dt==null?J:gi(Dt),J=new xt(st,B+"leave",W,s,at),J.target=he,J.relatedTarget=Y,st=null,Fi(at)===X&&(xt=new xt(j,B+"enter",Dt,s,at),xt.target=Y,xt.relatedTarget=he,st=xt),he=st,W&&Dt)e:{for(xt=W,j=Dt,B=0,Y=xt;Y;Y=to(Y))B++;for(Y=0,st=j;st;st=to(st))Y++;for(;0<B-Y;)xt=to(xt),B--;for(;0<Y-B;)j=to(j),Y--;for(;B--;){if(xt===j||j!==null&&xt===j.alternate)break e;xt=to(xt),j=to(j)}xt=null}else xt=null;W!==null&&C0(lt,J,W,xt,!1),Dt!==null&&he!==null&&C0(lt,he,Dt,xt,!0)}}t:{if(J=X?gi(X):window,W=J.nodeName&&J.nodeName.toLowerCase(),W==="select"||W==="input"&&J.type==="file")var Tt=$g;else if(Ge(J))if(Kg)Tt=PS;else{Tt=kS;var jt=OS}else W=J.nodeName,!W||W.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&$o(X.elementType)&&(Tt=$g):Tt=VS;if(Tt&&(Tt=Tt(i,X))){tr(lt,Tt,s,at);break t}jt&&jt(i,J,X),i==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Dr(J,"number",J.value)}switch(jt=X?gi(X):window,i){case"focusin":(Ge(jt)||jt.contentEditable==="true")&&(Ms=jt,Vf=X,nl=null);break;case"focusout":nl=Vf=Ms=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,ey(lt,s,at);break;case"selectionchange":if(US)break;case"keydown":case"keyup":ey(lt,s,at)}var bt;if(Si)t:{switch(i){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Qt?tt(i,s)&&(Mt="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(v&&s.locale!=="ko"&&(Qt||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Qt&&(bt=Yo()):(vi=at,Or="value"in vi?vi.value:vi.textContent,Qt=!0)),jt=Uc(X,Mt),0<jt.length&&(Mt=new Zo(Mt,i,null,s,at),lt.push({event:Mt,listeners:jt}),bt?Mt.data=bt:(bt=gt(s),bt!==null&&(Mt.data=bt)))),(bt=y?je(i,s):Xt(i,s))&&(Mt=Uc(X,"onBeforeInput"),0<Mt.length&&(jt=new Zo("onBeforeInput","beforeinput",null,s,at),lt.push({event:jt,listeners:Mt}),jt.data=bt)),Eb(lt,i,X,s,at)}A0(lt,r)})}function Ml(i,r,s){return{instance:i,listener:r,currentTarget:s}}function Uc(i,r){for(var s=r+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ba(i,s),f!=null&&l.unshift(Ml(i,f,p)),f=ba(i,r),f!=null&&l.push(Ml(i,f,p))),i.tag===3)return l;i=i.return}return[]}function to(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function C0(i,r,s,l,f){for(var p=r._reactName,E=[];s!==null&&s!==l;){var b=s,O=b.alternate,X=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||X===null||(O=X,f?(X=ba(s,p),X!=null&&E.unshift(Ml(s,X,O))):f||(X=ba(s,p),X!=null&&E.push(Ml(s,X,O)))),s=s.return}E.length!==0&&i.push({event:r,listeners:E})}var bb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function I0(i){return(typeof i=="string"?i:""+i).replace(bb,`
`).replace(Ab,"")}function x0(i,r){return r=I0(r),I0(i)===r}function Bc(){}function ce(i,r,s,l,f,p){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(i,""+l);break;case"className":yi(i,"class",l);break;case"tabIndex":yi(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(i,s,l);break;case"style":Fo(i,l,p);break;case"data":if(r!=="object"){yi(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){i.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(s);break}l=Ts(""+l),i.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(r!=="input"&&ce(i,r,"name",f.name,f,null),ce(i,r,"formEncType",f.formEncType,f,null),ce(i,r,"formMethod",f.formMethod,f,null),ce(i,r,"formTarget",f.formTarget,f,null)):(ce(i,r,"encType",f.encType,f,null),ce(i,r,"method",f.method,f,null),ce(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(s);break}l=Ts(""+l),i.setAttribute(s,l);break;case"onClick":l!=null&&(i.onclick=Bc);break;case"onScroll":l!=null&&Ht("scroll",i);break;case"onScrollEnd":l!=null&&Ht("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));i.innerHTML=s}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}s=Ts(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(s,""+l):i.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(s,""):i.removeAttribute(s);break;case"capture":case"download":l===!0?i.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(s,l):i.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(s,l):i.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(s):i.setAttribute(s,l);break;case"popover":Ht("beforetoggle",i),Ht("toggle",i),Nr(i,"popover",l);break;case"xlinkActuate":tn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=If.get(s)||s,Nr(i,s,l))}}function ap(i,r,s,l,f,p){switch(s){case"style":Fo(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));i.innerHTML=s}}break;case"children":typeof l=="string"?zn(i,l):(typeof l=="number"||typeof l=="bigint")&&zn(i,""+l);break;case"onScroll":l!=null&&Ht("scroll",i);break;case"onScrollEnd":l!=null&&Ht("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),p=i[ke]||null,p=p!=null?p[s]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in i?i[s]=null:i.hasAttribute(s)&&i.removeAttribute(s)),i.addEventListener(r,l,f);break t}s in i?i[s]=l:l===!0?i.setAttribute(s,""):Nr(i,s,l)}}}function an(i,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",i),Ht("load",i);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:ce(i,r,p,E,s,null)}}f&&ce(i,r,"srcSet",s.srcSet,s,null),l&&ce(i,r,"src",s.src,s,null);return;case"input":Ht("invalid",i);var b=p=E=f=null,O=null,X=null;for(l in s)if(s.hasOwnProperty(l)){var at=s[l];if(at!=null)switch(l){case"name":f=at;break;case"type":E=at;break;case"checked":O=at;break;case"defaultChecked":X=at;break;case"value":p=at;break;case"defaultValue":b=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(a(137,r));break;default:ce(i,r,l,at,s,null)}}Ta(i,p,b,O,X,E,f,!1),Es(i);return;case"select":Ht("invalid",i),l=E=p=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:ce(i,r,f,b,s,null)}r=p,s=E,i.multiple=!!l,r!=null?Yi(i,!!l,r,!1):s!=null&&Yi(i,!!l,s,!0);return;case"textarea":Ht("invalid",i),p=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(b=s[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ce(i,r,E,b,s,null)}wa(i,l,f,p),Es(i);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ce(i,r,O,l,s,null)}return;case"dialog":Ht("beforetoggle",i),Ht("toggle",i),Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":Ht("load",i);break;case"video":case"audio":for(l=0;l<xl.length;l++)Ht(xl[l],i);break;case"image":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"embed":case"source":case"link":Ht("error",i),Ht("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(l=s[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:ce(i,r,X,l,s,null)}return;default:if($o(r)){for(at in s)s.hasOwnProperty(at)&&(l=s[at],l!==void 0&&ap(i,r,at,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&ce(i,r,b,l,s,null))}function Rb(i,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,O=null,X=null,at=null;for(W in s){var lt=s[W];if(s.hasOwnProperty(W)&&lt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=lt;default:l.hasOwnProperty(W)||ce(i,r,W,null,l,lt)}}for(var J in l){var W=l[J];if(lt=s[J],l.hasOwnProperty(J)&&(W!=null||lt!=null))switch(J){case"type":p=W;break;case"name":f=W;break;case"checked":X=W;break;case"defaultChecked":at=W;break;case"value":E=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:W!==lt&&ce(i,r,J,W,l,lt)}}xn(i,E,b,O,X,at,p,f);return;case"select":W=E=b=J=null;for(p in s)if(O=s[p],s.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":W=O;default:l.hasOwnProperty(p)||ce(i,r,p,null,l,O)}for(f in l)if(p=l[f],O=s[f],l.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":J=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==O&&ce(i,r,f,p,l,O)}r=b,s=E,l=W,J!=null?Yi(i,!!s,J,!1):!!l!=!!s&&(r!=null?Yi(i,!!s,r,!0):Yi(i,!!s,s?[]:"",!1));return;case"textarea":W=J=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ce(i,r,b,null,l,f)}for(E in l)if(f=l[E],p=s[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":J=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&ce(i,r,E,f,l,p)}le(i,J,W);return;case"option":for(var Dt in s)if(J=s[Dt],s.hasOwnProperty(Dt)&&J!=null&&!l.hasOwnProperty(Dt))switch(Dt){case"selected":i.selected=!1;break;default:ce(i,r,Dt,null,l,J)}for(O in l)if(J=l[O],W=s[O],l.hasOwnProperty(O)&&J!==W&&(J!=null||W!=null))switch(O){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ce(i,r,O,J,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in s)J=s[xt],s.hasOwnProperty(xt)&&J!=null&&!l.hasOwnProperty(xt)&&ce(i,r,xt,null,l,J);for(X in l)if(J=l[X],W=s[X],l.hasOwnProperty(X)&&J!==W&&(J!=null||W!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:ce(i,r,X,J,l,W)}return;default:if($o(r)){for(var he in s)J=s[he],s.hasOwnProperty(he)&&J!==void 0&&!l.hasOwnProperty(he)&&ap(i,r,he,void 0,l,J);for(at in l)J=l[at],W=s[at],!l.hasOwnProperty(at)||J===W||J===void 0&&W===void 0||ap(i,r,at,J,l,W);return}}for(var j in s)J=s[j],s.hasOwnProperty(j)&&J!=null&&!l.hasOwnProperty(j)&&ce(i,r,j,null,l,J);for(lt in l)J=l[lt],W=s[lt],!l.hasOwnProperty(lt)||J===W||J==null&&W==null||ce(i,r,lt,J,l,W)}var sp=null,op=null;function zc(i){return i.nodeType===9?i:i.ownerDocument}function M0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function lp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var up=null;function Cb(){var i=window.event;return i&&i.type==="popstate"?i===up?!1:(up=i,!0):(up=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,xb=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(i){return O0.resolve(null).then(i).catch(Mb)}:D0;function Mb(i){setTimeout(function(){throw i})}function Qr(i){return i==="head"}function k0(i,r){var s=r,l=0,f=0;do{var p=s.nextSibling;if(i.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=i.ownerDocument;if(s&1&&Nl(E.documentElement),s&2&&Nl(E.body),s&4)for(s=E.head,Nl(s),E=s.firstChild;E;){var b=E.nextSibling,O=E.nodeName;E[ya]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=b}}if(f===0){i.removeChild(p),Bl(r);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);Bl(r)}function cp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cp(s),Mr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}i.removeChild(s)}}function Nb(i,r,s,l){for(;i.nodeType===1;){var f=s;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[ya])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function Db(i,r,s){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ai(i.nextSibling),i===null))return null;return i}function hp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Ob(i,r){var s=i.ownerDocument;if(i.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function ai(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var fp=null;function V0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return i;r--}else s==="/$"&&r++}i=i.previousSibling}return null}function P0(i,r,s){switch(r=zc(s),i){case"html":if(i=r.documentElement,!i)throw Error(a(452));return i;case"head":if(i=r.head,!i)throw Error(a(453));return i;case"body":if(i=r.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Nl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Mr(i)}var Xn=new Map,L0=new Set;function jc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var dr=P.d;P.d={f:kb,r:Vb,D:Pb,C:Lb,L:Ub,m:Bb,X:jb,S:zb,M:Gb};function kb(){var i=dr.f(),r=Dc();return i||r}function Vb(i){var r=mi(i);r!==null&&r.tag===5&&r.type==="form"?i_(r):dr.r(i)}var eo=typeof document>"u"?null:document;function U0(i,r,s){var l=eo;if(l&&typeof r=="string"&&r){var f=Ve(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),L0.has(f)||(L0.add(f),i={rel:i,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",i),Ie(r),l.head.appendChild(r)))}}function Pb(i){dr.D(i),U0("dns-prefetch",i,null)}function Lb(i,r){dr.C(i,r),U0("preconnect",i,r)}function Ub(i,r,s){dr.L(i,r,s);var l=eo;if(l&&i&&r){var f='link[rel="preload"][as="'+Ve(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ve(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ve(s.imageSizes)+'"]')):f+='[href="'+Ve(i)+'"]';var p=f;switch(r){case"style":p=no(i);break;case"script":p=io(i)}Xn.has(p)||(i=_({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:i,as:r},s),Xn.set(p,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Dl(p))||r==="script"&&l.querySelector(Ol(p))||(r=l.createElement("link"),an(r,"link",i),Ie(r),l.head.appendChild(r)))}}function Bb(i,r){dr.m(i,r);var s=eo;if(s&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ve(l)+'"][href="'+Ve(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=io(i)}if(!Xn.has(p)&&(i=_({rel:"modulepreload",href:i},r),Xn.set(p,i),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ol(p)))return}l=s.createElement("link"),an(l,"link",i),Ie(l),s.head.appendChild(l)}}}function zb(i,r,s){dr.S(i,r,s);var l=eo;if(l&&i){var f=vn(l).hoistableStyles,p=no(i);r=r||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Dl(p)))b.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},s),(s=Xn.get(p))&&dp(i,s);var O=E=l.createElement("link");Ie(O),an(O,"link",i),O._p=new Promise(function(X,at){O.onload=X,O.onerror=at}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Gc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function jb(i,r){dr.X(i,r);var s=eo;if(s&&i){var l=vn(s).hoistableScripts,f=io(i),p=l.get(f);p||(p=s.querySelector(Ol(f)),p||(i=_({src:i,async:!0},r),(r=Xn.get(f))&&pp(i,r),p=s.createElement("script"),Ie(p),an(p,"link",i),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Gb(i,r){dr.M(i,r);var s=eo;if(s&&i){var l=vn(s).hoistableScripts,f=io(i),p=l.get(f);p||(p=s.querySelector(Ol(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=Xn.get(f))&&pp(i,r),p=s.createElement("script"),Ie(p),an(p,"link",i),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function B0(i,r,s,l){var f=(f=pt.current)?jc(f):null;if(!f)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=no(s.href),s=vn(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){i=no(s.href);var p=vn(f).hoistableStyles,E=p.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,E),(p=f.querySelector(Dl(i)))&&!p._p&&(E.instance=p,E.state.loading=5),Xn.has(i)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(i,s),p||Hb(f,i,s,E.state))),r&&l===null)throw Error(a(528,""));return E}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(s),s=vn(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function no(i){return'href="'+Ve(i)+'"'}function Dl(i){return'link[rel="stylesheet"]['+i+"]"}function z0(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function Hb(i,r,s,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",s),Ie(r),i.head.appendChild(r))}function io(i){return'[src="'+Ve(i)+'"]'}function Ol(i){return"script[async]"+i}function j0(i,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Ve(s.href)+'"]');if(l)return r.instance=l,Ie(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ie(l),an(l,"style",f),Gc(l,s.precedence,i),r.instance=l;case"stylesheet":f=no(s.href);var p=i.querySelector(Dl(f));if(p)return r.state.loading|=4,r.instance=p,Ie(p),p;l=z0(s),(f=Xn.get(f))&&dp(l,f),p=(i.ownerDocument||i).createElement("link"),Ie(p);var E=p;return E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),an(p,"link",l),r.state.loading|=4,Gc(p,s.precedence,i),r.instance=p;case"script":return p=io(s.src),(f=i.querySelector(Ol(p)))?(r.instance=f,Ie(f),f):(l=s,(f=Xn.get(p))&&(l=_({},s),pp(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ie(f),an(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Gc(l,s.precedence,i));return r.instance}function Gc(i,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(i,r.firstChild))}function dp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function pp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Hc=null;function G0(i,r,s){if(Hc===null){var l=new Map,f=Hc=new Map;f.set(s,l)}else f=Hc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(i))return l;for(l.set(i,null),s=s.getElementsByTagName(i),f=0;f<s.length;f++){var p=s[f];if(!(p[ya]||p[ze]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=i+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function H0(i,r,s){i=i.ownerDocument||i,i.head.insertBefore(s,r==="title"?i.querySelector("head > title"):null)}function qb(i,r,s){if(s===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function q0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var kl=null;function Fb(){}function $b(i,r,s){if(kl===null)throw Error(a(475));var l=kl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=no(s.href),p=i.querySelector(Dl(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=qc.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=p,Ie(p);return}p=i.ownerDocument||i,s=z0(s),(f=Xn.get(f))&&dp(s,f),p=p.createElement("link"),Ie(p);var E=p;E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),an(p,"link",s),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=qc.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function Kb(){if(kl===null)throw Error(a(475));var i=kl;return i.stylesheets&&i.count===0&&mp(i,i.stylesheets),0<i.count?function(r){var s=setTimeout(function(){if(i.stylesheets&&mp(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(s)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fc=null;function mp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fc=new Map,r.forEach(Yb,i),Fc=null,qc.call(i))}function Yb(i,r){if(!(r.state.loading&4)){var s=Fc.get(i);if(s)var l=s.get(null);else{s=new Map,Fc.set(i,s);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,f),s.set(E,f),this.count++,l=qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Vl={$$typeof:it,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qb(i,r,s,l,f,p,E,b){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function F0(i,r,s,l,f,p,E,b,O,X,at,lt){return i=new Qb(i,r,s,E,b,O,X,lt),r=1,p===!0&&(r|=24),p=Nn(3,null,null,r),i.current=p,p.stateNode=i,r=Xf(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:r},td(p),i}function $0(i){return i?(i=ks,i):ks}function K0(i,r,s,l,f,p){f=$0(f),l.context===null?l.context=f:l.pendingContext=f,l=Pr(r),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=Lr(i,l,r),s!==null&&(Pn(s,i,r),hl(s,i,r))}function Y0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<r?s:r}}function gp(i,r){Y0(i,r),(i=i.alternate)&&Y0(i,r)}function Q0(i){if(i.tag===13){var r=Os(i,67108864);r!==null&&Pn(r,i,67108864),gp(i,67108864)}}var $c=!0;function Xb(i,r,s,l){var f=D.T;D.T=null;var p=P.p;try{P.p=2,yp(i,r,s,l)}finally{P.p=p,D.T=f}}function Zb(i,r,s,l){var f=D.T;D.T=null;var p=P.p;try{P.p=8,yp(i,r,s,l)}finally{P.p=p,D.T=f}}function yp(i,r,s,l){if($c){var f=_p(l);if(f===null)rp(i,r,l,Kc,s),Z0(i,l);else if(Wb(f,i,r,s,l))l.stopPropagation();else if(Z0(i,l),r&4&&-1<Jb.indexOf(i)){for(;f!==null;){var p=mi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Oe(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var O=1<<31-Rt(E);b.entanglements[1]|=O,E&=~O}xi(p),(ae&6)===0&&(Mc=de()+500,Il(0))}}break;case 13:b=Os(p,2),b!==null&&Pn(b,p,2),Dc(),gp(p,2)}if(p=_p(l),p===null&&rp(i,r,l,Kc,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else rp(i,r,l,null,s)}}function _p(i){return i=jn(i),vp(i)}var Kc=null;function vp(i){if(Kc=null,i=Fi(i),i!==null){var r=u(i);if(r===null)i=null;else{var s=r.tag;if(s===13){if(i=h(r),i!==null)return i;i=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Kc=i,null}function X0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case _n:return 2;case oe:return 8;case un:case Ar:return 32;case ti:return 268435456;default:return 32}default:return 32}}var Ep=!1,Xr=null,Zr=null,Jr=null,Pl=new Map,Ll=new Map,Wr=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z0(i,r){switch(i){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function Ul(i,r,s,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=mi(r),r!==null&&Q0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Wb(i,r,s,l,f){switch(r){case"focusin":return Xr=Ul(Xr,i,r,s,l,f),!0;case"dragenter":return Zr=Ul(Zr,i,r,s,l,f),!0;case"mouseover":return Jr=Ul(Jr,i,r,s,l,f),!0;case"pointerover":var p=f.pointerId;return Pl.set(p,Ul(Pl.get(p)||null,i,r,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Ll.set(p,Ul(Ll.get(p)||null,i,r,s,l,f)),!0}return!1}function J0(i){var r=Fi(i.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){i.blockedOn=r,Du(i.priority,function(){if(s.tag===13){var l=Vn();l=Cr(l);var f=Os(s,l);f!==null&&Pn(f,s,l),gp(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var s=_p(i.nativeEvent);if(s===null){s=i.nativeEvent;var l=new s.constructor(s.type,s);Qi=l,s.target.dispatchEvent(l),Qi=null}else return r=mi(s),r!==null&&Q0(r),i.blockedOn=s,!1;r.shift()}return!0}function W0(i,r,s){Yc(i)&&s.delete(r)}function tA(){Ep=!1,Xr!==null&&Yc(Xr)&&(Xr=null),Zr!==null&&Yc(Zr)&&(Zr=null),Jr!==null&&Yc(Jr)&&(Jr=null),Pl.forEach(W0),Ll.forEach(W0)}function Qc(i,r){i.blockedOn===r&&(i.blockedOn=null,Ep||(Ep=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tA)))}var Xc=null;function tv(i){Xc!==i&&(Xc=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xc===i&&(Xc=null);for(var r=0;r<i.length;r+=3){var s=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(vp(l||s)===null)continue;break}var p=mi(s);p!==null&&(i.splice(r,3),r-=3,vd(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Bl(i){function r(O){return Qc(O,i)}Xr!==null&&Qc(Xr,i),Zr!==null&&Qc(Zr,i),Jr!==null&&Qc(Jr,i),Pl.forEach(r),Ll.forEach(r);for(var s=0;s<Wr.length;s++){var l=Wr[s];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Wr.length&&(s=Wr[0],s.blockedOn===null);)J0(s),s.blockedOn===null&&Wr.shift();if(s=(i.ownerDocument||i).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],E=f[ke]||null;if(typeof p=="function")E||tv(s);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[ke]||null)b=E.formAction;else if(vp(f)!==null)continue}else b=E.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),tv(s)}}}function Tp(i){this._internalRoot=i}Zc.prototype.render=Tp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Vn();K0(s,l,i,r,null,null)},Zc.prototype.unmount=Tp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;K0(i.current,2,null,i,null,null),Dc(),r[Bn]=null}};function Zc(i){this._internalRoot=i}Zc.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ir();i={blockedOn:null,target:i,priority:r};for(var s=0;s<Wr.length&&r!==0&&r<Wr[s].priority;s++);Wr.splice(s,0,i),s===0&&J0(i)}};var ev=t.version;if(ev!=="19.1.0")throw Error(a(527,ev,"19.1.0"));P.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var eA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{$=Jc.inject(eA),St=Jc}catch{}}return jl.createRoot=function(i,r){if(!o(i))throw Error(a(299));var s=!1,l="",f=y_,p=__,E=v_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=F0(i,1,!1,null,null,s,l,f,p,E,b,null),i[Bn]=r.current,ip(i),new Tp(r)},jl.hydrateRoot=function(i,r,s){if(!o(i))throw Error(a(299));var l=!1,f="",p=y_,E=__,b=v_,O=null,X=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(X=s.formState)),r=F0(i,1,!0,r,s??null,l,f,p,E,b,O,X),r.context=$0(null),s=r.current,l=Vn(),l=Cr(l),f=Pr(l),f.callback=null,Lr(s,f,l),s=l,r.current.lanes=s,qi(r,s),xi(r),i[Bn]=r.current,ip(i),new Zc(r)},jl.version="19.1.0",jl}var hv;function dA(){if(hv)return bp.exports;hv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bp.exports=fA(),bp.exports}var pA=dA();const mA=Um(pA);var vu={};(function n(t,e,a,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!t.OffscreenCanvas)return!1;var w=new OffscreenCanvas(1,1),A=w.getContext("2d");A.fillRect(0,0,1,1);var H=w.transferToImageBitmap();try{A.createPattern(H,"no-repeat")}catch{return!1}return!0}();function m(){}function g(w){var A=e.exports.Promise,H=A!==void 0?A:t.Promise;return typeof H=="function"?new H(w):(w(m,m),null)}var _=function(w,A){return{transform:function(H){if(w)return H;if(A.has(H))return A.get(H);var G=new OffscreenCanvas(H.width,H.height),rt=G.getContext("2d");return rt.drawImage(H,0,0),A.set(H,G),G},clear:function(){A.clear()}}}(d,new Map),T=function(){var w=Math.floor(16.666666666666668),A,H,G={},rt=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(A=function(dt){var pt=Math.random();return G[pt]=requestAnimationFrame(function yt(vt){rt===vt||rt+w-1<vt?(rt=vt,delete G[pt],dt()):G[pt]=requestAnimationFrame(yt)}),pt},H=function(dt){G[dt]&&cancelAnimationFrame(G[dt])}):(A=function(dt){return setTimeout(dt,w)},H=function(dt){return clearTimeout(dt)}),{frame:A,cancel:H}}(),S=function(){var w,A,H={};function G(rt){function dt(pt,yt){rt.postMessage({options:pt||{},callback:yt})}rt.init=function(yt){var vt=yt.transferControlToOffscreen();rt.postMessage({canvas:vt},[vt])},rt.fire=function(yt,vt,Ut){if(A)return dt(yt,null),A;var Kt=Math.random().toString(36).slice(2);return A=g(function(Pt){function Yt(re){re.data.callback===Kt&&(delete H[Kt],rt.removeEventListener("message",Yt),A=null,_.clear(),Ut(),Pt())}rt.addEventListener("message",Yt),dt(yt,Kt),H[Kt]=Yt.bind(null,{data:{callback:Kt}})}),A},rt.reset=function(){rt.postMessage({reset:!0});for(var yt in H)H[yt](),delete H[yt]}}return function(){if(w)return w;if(!a&&u){var rt=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{w=new Worker(URL.createObjectURL(new Blob([rt])))}catch(dt){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",dt),null}G(w)}return w}}(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function z(w,A){return A?A(w):w}function Z(w){return w!=null}function Q(w,A,H){return z(w&&Z(w[A])?w[A]:M[A],H)}function ht(w){return w<0?0:Math.floor(w)}function ot(w,A){return Math.floor(Math.random()*(A-w))+w}function it(w){return parseInt(w,16)}function mt(w){return w.map(ct)}function ct(w){var A=String(w).replace(/[^0-9a-f]/gi,"");return A.length<6&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]),{r:it(A.substring(0,2)),g:it(A.substring(2,4)),b:it(A.substring(4,6))}}function _t(w){var A=Q(w,"origin",Object);return A.x=Q(A,"x",Number),A.y=Q(A,"y",Number),A}function k(w){w.width=document.documentElement.clientWidth,w.height=document.documentElement.clientHeight}function C(w){var A=w.getBoundingClientRect();w.width=A.width,w.height=A.height}function x(w){var A=document.createElement("canvas");return A.style.position="fixed",A.style.top="0px",A.style.left="0px",A.style.pointerEvents="none",A.style.zIndex=w,A}function V(w,A,H,G,rt,dt,pt,yt,vt){w.save(),w.translate(A,H),w.rotate(dt),w.scale(G,rt),w.arc(0,0,1,pt,yt,vt),w.restore()}function N(w){var A=w.angle*(Math.PI/180),H=w.spread*(Math.PI/180);return{x:w.x,y:w.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:w.startVelocity*.5+Math.random()*w.startVelocity,angle2D:-A+(.5*H-Math.random()*H),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:w.color,shape:w.shape,tick:0,totalTicks:w.ticks,decay:w.decay,drift:w.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:w.gravity*3,ovalScalar:.6,scalar:w.scalar,flat:w.flat}}function U(w,A){A.x+=Math.cos(A.angle2D)*A.velocity+A.drift,A.y+=Math.sin(A.angle2D)*A.velocity+A.gravity,A.velocity*=A.decay,A.flat?(A.wobble=0,A.wobbleX=A.x+10*A.scalar,A.wobbleY=A.y+10*A.scalar,A.tiltSin=0,A.tiltCos=0,A.random=1):(A.wobble+=A.wobbleSpeed,A.wobbleX=A.x+10*A.scalar*Math.cos(A.wobble),A.wobbleY=A.y+10*A.scalar*Math.sin(A.wobble),A.tiltAngle+=.1,A.tiltSin=Math.sin(A.tiltAngle),A.tiltCos=Math.cos(A.tiltAngle),A.random=Math.random()+2);var H=A.tick++/A.totalTicks,G=A.x+A.random*A.tiltCos,rt=A.y+A.random*A.tiltSin,dt=A.wobbleX+A.random*A.tiltCos,pt=A.wobbleY+A.random*A.tiltSin;if(w.fillStyle="rgba("+A.color.r+", "+A.color.g+", "+A.color.b+", "+(1-H)+")",w.beginPath(),h&&A.shape.type==="path"&&typeof A.shape.path=="string"&&Array.isArray(A.shape.matrix))w.fill(P(A.shape.path,A.shape.matrix,A.x,A.y,Math.abs(dt-G)*.1,Math.abs(pt-rt)*.1,Math.PI/10*A.wobble));else if(A.shape.type==="bitmap"){var yt=Math.PI/10*A.wobble,vt=Math.abs(dt-G)*.1,Ut=Math.abs(pt-rt)*.1,Kt=A.shape.bitmap.width*A.scalar,Pt=A.shape.bitmap.height*A.scalar,Yt=new DOMMatrix([Math.cos(yt)*vt,Math.sin(yt)*vt,-Math.sin(yt)*Ut,Math.cos(yt)*Ut,A.x,A.y]);Yt.multiplySelf(new DOMMatrix(A.shape.matrix));var re=w.createPattern(_.transform(A.shape.bitmap),"no-repeat");re.setTransform(Yt),w.globalAlpha=1-H,w.fillStyle=re,w.fillRect(A.x-Kt/2,A.y-Pt/2,Kt,Pt),w.globalAlpha=1}else if(A.shape==="circle")w.ellipse?w.ellipse(A.x,A.y,Math.abs(dt-G)*A.ovalScalar,Math.abs(pt-rt)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI):V(w,A.x,A.y,Math.abs(dt-G)*A.ovalScalar,Math.abs(pt-rt)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI);else if(A.shape==="star")for(var Lt=Math.PI/2*3,me=4*A.scalar,Ce=8*A.scalar,de=A.x,yn=A.y,_n=5,oe=Math.PI/_n;_n--;)de=A.x+Math.cos(Lt)*Ce,yn=A.y+Math.sin(Lt)*Ce,w.lineTo(de,yn),Lt+=oe,de=A.x+Math.cos(Lt)*me,yn=A.y+Math.sin(Lt)*me,w.lineTo(de,yn),Lt+=oe;else w.moveTo(Math.floor(A.x),Math.floor(A.y)),w.lineTo(Math.floor(A.wobbleX),Math.floor(rt)),w.lineTo(Math.floor(dt),Math.floor(pt)),w.lineTo(Math.floor(G),Math.floor(A.wobbleY));return w.closePath(),w.fill(),A.tick<A.totalTicks}function I(w,A,H,G,rt){var dt=A.slice(),pt=w.getContext("2d"),yt,vt,Ut=g(function(Kt){function Pt(){yt=vt=null,pt.clearRect(0,0,G.width,G.height),_.clear(),rt(),Kt()}function Yt(){a&&!(G.width===o.width&&G.height===o.height)&&(G.width=w.width=o.width,G.height=w.height=o.height),!G.width&&!G.height&&(H(w),G.width=w.width,G.height=w.height),pt.clearRect(0,0,G.width,G.height),dt=dt.filter(function(re){return U(pt,re)}),dt.length?yt=T.frame(Yt):Pt()}yt=T.frame(Yt),vt=Pt});return{addFettis:function(Kt){return dt=dt.concat(Kt),Ut},canvas:w,promise:Ut,reset:function(){yt&&T.cancel(yt),vt&&vt()}}}function nt(w,A){var H=!w,G=!!Q(A||{},"resize"),rt=!1,dt=Q(A,"disableForReducedMotion",Boolean),pt=u&&!!Q(A||{},"useWorker"),yt=pt?S():null,vt=H?k:C,Ut=w&&yt?!!w.__confetti_initialized:!1,Kt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Pt;function Yt(Lt,me,Ce){for(var de=Q(Lt,"particleCount",ht),yn=Q(Lt,"angle",Number),_n=Q(Lt,"spread",Number),oe=Q(Lt,"startVelocity",Number),un=Q(Lt,"decay",Number),Ar=Q(Lt,"gravity",Number),ti=Q(Lt,"drift",Number),Un=Q(Lt,"colors",mt),Gi=Q(Lt,"ticks",Number),$=Q(Lt,"shapes"),St=Q(Lt,"scalar"),It=!!Q(Lt,"flat"),Rt=_t(Lt),Wt=de,ye=[],Te=w.width*Rt.x,_e=w.height*Rt.y;Wt--;)ye.push(N({x:Te,y:_e,angle:yn,spread:_n,startVelocity:oe,color:Un[Wt%Un.length],shape:$[ot(0,$.length)],ticks:Gi,decay:un,gravity:Ar,drift:ti,scalar:St,flat:It}));return Pt?Pt.addFettis(ye):(Pt=I(w,ye,vt,me,Ce),Pt.promise)}function re(Lt){var me=dt||Q(Lt,"disableForReducedMotion",Boolean),Ce=Q(Lt,"zIndex",Number);if(me&&Kt)return g(function(oe){oe()});H&&Pt?w=Pt.canvas:H&&!w&&(w=x(Ce),document.body.appendChild(w)),G&&!Ut&&vt(w);var de={width:w.width,height:w.height};yt&&!Ut&&yt.init(w),Ut=!0,yt&&(w.__confetti_initialized=!0);function yn(){if(yt){var oe={getBoundingClientRect:function(){if(!H)return w.getBoundingClientRect()}};vt(oe),yt.postMessage({resize:{width:oe.width,height:oe.height}});return}de.width=de.height=null}function _n(){Pt=null,G&&(rt=!1,t.removeEventListener("resize",yn)),H&&w&&(document.body.contains(w)&&document.body.removeChild(w),w=null,Ut=!1)}return G&&!rt&&(rt=!0,t.addEventListener("resize",yn,!1)),yt?yt.fire(Lt,de,_n):Yt(Lt,de,_n)}return re.reset=function(){yt&&yt.reset(),Pt&&Pt.reset()},re}var q;function D(){return q||(q=nt(null,{useWorker:!0,resize:!0})),q}function P(w,A,H,G,rt,dt,pt){var yt=new Path2D(w),vt=new Path2D;vt.addPath(yt,new DOMMatrix(A));var Ut=new Path2D;return Ut.addPath(vt,new DOMMatrix([Math.cos(pt)*rt,Math.sin(pt)*rt,-Math.sin(pt)*dt,Math.cos(pt)*dt,H,G])),Ut}function L(w){if(!h)throw new Error("path confetti are not supported in this browser");var A,H;typeof w=="string"?A=w:(A=w.path,H=w.matrix);var G=new Path2D(A),rt=document.createElement("canvas"),dt=rt.getContext("2d");if(!H){for(var pt=1e3,yt=pt,vt=pt,Ut=0,Kt=0,Pt,Yt,re=0;re<pt;re+=2)for(var Lt=0;Lt<pt;Lt+=2)dt.isPointInPath(G,re,Lt,"nonzero")&&(yt=Math.min(yt,re),vt=Math.min(vt,Lt),Ut=Math.max(Ut,re),Kt=Math.max(Kt,Lt));Pt=Ut-yt,Yt=Kt-vt;var me=10,Ce=Math.min(me/Pt,me/Yt);H=[Ce,0,0,Ce,-Math.round(Pt/2+yt)*Ce,-Math.round(Yt/2+vt)*Ce]}return{type:"path",path:A,matrix:H}}function K(w){var A,H=1,G="#000000",rt='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof w=="string"?A=w:(A=w.text,H="scalar"in w?w.scalar:H,rt="fontFamily"in w?w.fontFamily:rt,G="color"in w?w.color:G);var dt=10*H,pt=""+dt+"px "+rt,yt=new OffscreenCanvas(dt,dt),vt=yt.getContext("2d");vt.font=pt;var Ut=vt.measureText(A),Kt=Math.ceil(Ut.actualBoundingBoxRight+Ut.actualBoundingBoxLeft),Pt=Math.ceil(Ut.actualBoundingBoxAscent+Ut.actualBoundingBoxDescent),Yt=2,re=Ut.actualBoundingBoxLeft+Yt,Lt=Ut.actualBoundingBoxAscent+Yt;Kt+=Yt+Yt,Pt+=Yt+Yt,yt=new OffscreenCanvas(Kt,Pt),vt=yt.getContext("2d"),vt.font=pt,vt.fillStyle=G,vt.fillText(A,re,Lt);var me=1/H;return{type:"bitmap",bitmap:yt.transferToImageBitmap(),matrix:[me,0,0,me,-Kt*me/2,-Pt*me/2]}}e.exports=function(){return D().apply(this,arguments)},e.exports.reset=function(){D().reset()},e.exports.create=nt,e.exports.shapeFromPath=L,e.exports.shapeFromText=K})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),vu,!1);const gA=vu.exports;vu.exports.create;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_A=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,a)=>a?a.toUpperCase():e.toLowerCase()),fv=n=>{const t=_A(n);return t.charAt(0).toUpperCase()+t.slice(1)},SE=(...n)=>n.filter((t,e,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===e).join(" ").trim(),vA=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=wt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:h,...d},m)=>wt.createElement("svg",{ref:m,...EA,width:t,height:t,stroke:n,strokeWidth:a?Number(e)*24/Number(t):e,className:SE("lucide",o),...!u&&!vA(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,_])=>wt.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=(n,t)=>{const e=wt.forwardRef(({className:a,...o},u)=>wt.createElement(TA,{ref:u,iconNode:t,className:SE(`lucide-${yA(fv(n))}`,`lucide-${n}`,a),...o}));return e.displayName=fv(n),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],SA=bE("menu",wA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],AE=bE("x",bA),AA=()=>{};var dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(n){const t=[];let e=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},RA=function(n){const t=[];let e=0,a=0;for(;e<n.length;){const o=n[e++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],h=n[e++],d=n[e++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=n[e++],h=n[e++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,M=g&63;m||(M=64,h||(S=64)),a.push(e[_],e[T],e[S],e[M])}return a.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(RE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):RA(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new CA;const S=u<<2|d>>4;if(a.push(S),g!==64){const M=d<<4&240|g>>2;if(a.push(M),T!==64){const z=g<<6&192|T;a.push(z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(n){const t=RE(n);return CE.encodeByteArray(t,!0)},Ah=function(n){return IA(n).replace(/\./g,"")},IE=function(n){try{return CE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=()=>xA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof dv>"u")return;const n=dv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&IE(n[1]);return t&&JSON.parse(t)},af=()=>{try{return AA()||MA()||NA()||DA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xE=n=>{var t,e;return(e=(t=af())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},OA=n=>{const t=xE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},ME=()=>{var n;return(n=af())==null?void 0:n.config},NE=n=>{var t;return(t=af())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ah(JSON.stringify(e)),Ah(JSON.stringify(h)),""].join(".")}const Wl={};function PA(){const n={prod:[],emulator:[]};for(const t of Object.keys(Wl))Wl[t]?n.emulator.push(t):n.prod.push(t);return n}function LA(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let pv=!1;function OE(n,t){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Wl[n]===t||Wl[n]||pv)return;Wl[n]=t;function e(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=PA().prod.length>0;function h(){const S=document.getElementById(a);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{pv=!0,h()},S}function _(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=LA(a),M=e("text"),z=document.getElementById(M)||document.createElement("span"),Z=e("learnmore"),Q=document.getElementById(Z)||document.createElement("a"),ht=e("preprendIcon"),ot=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const it=S.element;d(it),_(Q,Z);const mt=g();m(ot,ht),it.append(ot,z,Q,mt),document.body.appendChild(it)}u?(z.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function BA(){var t;const n=(t=af())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qA(){return!BA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function $A(){return new Promise((n,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="FirebaseError";class br extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=KA,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?YA(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new br(o,d,a)}}function YA(n,t){return n.replace(QA,(e,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const QA=/\{\$([^}]+)}/g;function XA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function is(n,t){if(n===t)return!0;const e=Object.keys(n),a=Object.keys(t);for(const o of e){if(!a.includes(o))return!1;const u=n[o],h=t[o];if(mv(u)&&mv(h)){if(!is(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!e.includes(o))return!1;return!0}function mv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){const t=[];for(const[e,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ZA(n,t){const e=new JA(n,t);return e.subscribe.bind(e)}class JA{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let o;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");WA(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:a},o.next===void 0&&(o.next=Ip),o.error===void 0&&(o.error=Ip),o.complete===void 0&&(o.complete=Ip);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WA(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(n){return n&&n._delegate?n._delegate:n}class rs{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new kA;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(n2(t))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ka){return this.instances.has(t)}getOptions(t=Ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(t,e){const a=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const o of a)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:e2(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ka){return this.component?this.component.multipleInstances?t:Ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e2(n){return n===Ka?void 0:n}function n2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new t2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const r2={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},a2=qt.INFO,s2={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},o2=(n,t,...e)=>{if(t<n.logLevel)return;const a=new Date().toISOString(),o=s2[t];if(o)console[o](`[${a}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zm{constructor(t){this.name=t,this._logLevel=a2,this._logHandler=o2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?r2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const l2=(n,t)=>t.some(e=>n instanceof e);let gv,yv;function u2(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c2(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kE=new WeakMap,Wp=new WeakMap,VE=new WeakMap,xp=new WeakMap,jm=new WeakMap;function h2(n){const t=new Promise((e,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{e(sa(n.result)),o()},h=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&kE.set(e,n)}).catch(()=>{}),jm.set(t,n),t}function f2(n){if(Wp.has(n))return;const t=new Promise((e,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Wp.set(n,t)}let tm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Wp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||VE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return sa(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function d2(n){tm=n(tm)}function p2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=n.call(Mp(this),t,...e);return VE.set(a,t.sort?t.sort():[t]),sa(a)}:c2().includes(n)?function(...t){return n.apply(Mp(this),t),sa(kE.get(this))}:function(...t){return sa(n.apply(Mp(this),t))}}function m2(n){return typeof n=="function"?p2(n):(n instanceof IDBTransaction&&f2(n),l2(n,u2())?new Proxy(n,tm):n)}function sa(n){if(n instanceof IDBRequest)return h2(n);if(xp.has(n))return xp.get(n);const t=m2(n);return t!==n&&(xp.set(n,t),jm.set(t,n)),t}const Mp=n=>jm.get(n);function g2(n,t,{blocked:e,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=sa(h);return a&&h.addEventListener("upgradeneeded",m=>{a(sa(h.result),m.oldVersion,m.newVersion,sa(h.transaction),m)}),e&&h.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const y2=["get","getKey","getAll","getAllKeys","count"],_2=["put","add","delete","clear"],Np=new Map;function _v(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Np.get(t))return Np.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,o=_2.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(o||y2.includes(e)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return Np.set(t,u),u}d2(n=>({...n,get:(t,e,a)=>_v(t,e)||n.get(t,e,a),has:(t,e)=>!!_v(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(E2(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function E2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const em="@firebase/app",vv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new zm("@firebase/app"),T2="@firebase/app-compat",w2="@firebase/analytics-compat",S2="@firebase/analytics",b2="@firebase/app-check-compat",A2="@firebase/app-check",R2="@firebase/auth",C2="@firebase/auth-compat",I2="@firebase/database",x2="@firebase/data-connect",M2="@firebase/database-compat",N2="@firebase/functions",D2="@firebase/functions-compat",O2="@firebase/installations",k2="@firebase/installations-compat",V2="@firebase/messaging",P2="@firebase/messaging-compat",L2="@firebase/performance",U2="@firebase/performance-compat",B2="@firebase/remote-config",z2="@firebase/remote-config-compat",j2="@firebase/storage",G2="@firebase/storage-compat",H2="@firebase/firestore",q2="@firebase/ai",F2="@firebase/firestore-compat",$2="firebase",K2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",Y2={[em]:"fire-core",[T2]:"fire-core-compat",[S2]:"fire-analytics",[w2]:"fire-analytics-compat",[A2]:"fire-app-check",[b2]:"fire-app-check-compat",[R2]:"fire-auth",[C2]:"fire-auth-compat",[I2]:"fire-rtdb",[x2]:"fire-data-connect",[M2]:"fire-rtdb-compat",[N2]:"fire-fn",[D2]:"fire-fn-compat",[O2]:"fire-iid",[k2]:"fire-iid-compat",[V2]:"fire-fcm",[P2]:"fire-fcm-compat",[L2]:"fire-perf",[U2]:"fire-perf-compat",[B2]:"fire-rc",[z2]:"fire-rc-compat",[j2]:"fire-gcs",[G2]:"fire-gcs-compat",[H2]:"fire-fst",[F2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,Q2=new Map,im=new Map;function Ev(n,t){try{n.container.addComponent(t)}catch(e){vr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function _o(n){const t=n.name;if(im.has(t))return vr.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,n);for(const e of Rh.values())Ev(e,n);for(const e of Q2.values())Ev(e,n);return!0}function Gm(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function oi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new Eu("app","Firebase",X2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,e,a){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=K2;function PE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const a={name:nm,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw oa.create("bad-app-name",{appName:String(o)});if(e||(e=ME()),!e)throw oa.create("no-options");const u=Rh.get(o);if(u){if(is(e,u.options)&&is(a,u.config))return u;throw oa.create("duplicate-app",{appName:o})}const h=new i2(o);for(const m of im.values())h.addComponent(m);const d=new Z2(e,a,h);return Rh.set(o,d),d}function LE(n=nm){const t=Rh.get(n);if(!t&&n===nm&&ME())return PE();if(!t)throw oa.create("no-app",{appName:n});return t}function la(n,t,e){let a=Y2[n]??n;e&&(a+=`-${e}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vr.warn(h.join(" "));return}_o(new rs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="firebase-heartbeat-database",W2=1,su="firebase-heartbeat-store";let Dp=null;function UE(){return Dp||(Dp=g2(J2,W2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(su)}catch(e){console.warn(e)}}}}).catch(n=>{throw oa.create("idb-open",{originalErrorMessage:n.message})})),Dp}async function tR(n){try{const e=(await UE()).transaction(su),a=await e.objectStore(su).get(BE(n));return await e.done,a}catch(t){if(t instanceof br)vr.warn(t.message);else{const e=oa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vr.warn(e.message)}}}async function Tv(n,t){try{const a=(await UE()).transaction(su,"readwrite");await a.objectStore(su).put(t,BE(n)),await a.done}catch(e){if(e instanceof br)vr.warn(e.message);else{const a=oa.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});vr.warn(a.message)}}}function BE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1024,nR=30;class iR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new aR(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=wv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>nR){const h=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){vr.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wv(),{heartbeatsToSend:a,unsentEntries:o}=rR(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return vr.warn(e),""}}}function wv(){return new Date().toISOString().substring(0,10)}function rR(n,t=eR){const e=[];let a=n.slice();for(const o of n){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Sv(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class aR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?$A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await tR(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Sv(n){return Ah(JSON.stringify({version:2,heartbeats:n})).length}function sR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let a=1;a<n.length;a++)n[a].date<e&&(e=n[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n){_o(new rs("platform-logger",t=>new v2(t),"PRIVATE")),_o(new rs("heartbeat",t=>new iR(t),"PRIVATE")),la(em,vv,n),la(em,vv,"esm2020"),la("fire-js","")}oR("");function zE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lR=zE,jE=new Eu("auth","Firebase",zE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new zm("@firebase/auth");function uR(n,...t){Ch.logLevel<=qt.WARN&&Ch.warn(`Auth (${Mo}): ${n}`,...t)}function ch(n,...t){Ch.logLevel<=qt.ERROR&&Ch.error(`Auth (${Mo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(n,...t){throw qm(n,...t)}function hi(n,...t){return qm(n,...t)}function Hm(n,t,e){const a={...lR(),[t]:e};return new Eu("auth","Firebase",a).create(t,{appName:n.name})}function Ja(n){return Hm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cR(n,t,e){const a=e;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ui(n,"argument-error"),Hm(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(n,...t){if(typeof n!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(e,...a)}return jE.create(n,...t)}function Ot(n,t,...e){if(!n)throw qm(t,...e)}function gr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ch(t),new Error(t)}function Er(n,t){n||gr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function hR(){return bv()==="http:"||bv()==="https:"}function bv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hR()||jA()||"connection"in navigator)?navigator.onLine:!0}function dR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Er(e>t,"Short delay should be less than long delay!"),this.isMobile=UA()||GA()}get(){return fR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n,t){Er(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gR=new wu(3e4,6e4);function $m(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function No(n,t,e,a,o={}){return HE(n,o,async()=>{let u={},h={};a&&(t==="GET"?h=a:u={body:JSON.stringify(a)});const d=Tu({key:n.config.apiKey,...h}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:m,...u};return zA()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&xo(n.emulatorConfig.host)&&(g.credentials="include"),GE.fetch()(await qE(n,n.config.apiHost,e,d),g)})}async function HE(n,t,e){n._canInitEmulator=!1;const a={...pR,...t};try{const o=new _R(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Wc(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Wc(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw Wc(n,"user-disabled",h);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hm(n,_,g);Ui(n,_)}}catch(o){if(o instanceof br)throw o;Ui(n,"network-request-failed",{message:String(o)})}}async function yR(n,t,e,a,o={}){const u=await No(n,t,e,a,o);return"mfaPendingCredential"in u&&Ui(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function qE(n,t,e,a){const o=`${t}${e}?${a}`,u=n,h=u.config.emulator?Fm(n.config,o):`${n.config.apiScheme}://${o}`;return mR.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class _R{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(hi(this.auth,"network-request-failed")),gR.get())})}}function Wc(n,t,e){const a={appName:n.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const o=hi(n,t,a);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n,t){return No(n,"POST","/v1/accounts:delete",t)}async function Ih(n,t){return No(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ER(n,t=!1){const e=Wn(n),a=await e.getIdToken(t),o=Km(a);Ot(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:tu(Op(o.auth_time)),issuedAtTime:tu(Op(o.iat)),expirationTime:tu(Op(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Op(n){return Number(n)*1e3}function Km(n){const[t,e,a]=n.split(".");if(t===void 0||e===void 0||a===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=IE(e);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Av(n){const t=Km(n);return Ot(t,"internal-error"),Ot(typeof t.exp<"u","internal-error"),Ot(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof br&&TR(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function TR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(n){var T;const t=n.auth,e=await n.getIdToken(),a=await ou(n,Ih(t,{idToken:e}));Ot(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?FE(o.providerUserInfo):[],h=bR(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function SR(n){const t=Wn(n);await xh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bR(n,t){return[...n.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function FE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,t){const e=await HE(n,{},async()=>{const a=Tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,h=await qE(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return n.emulatorConfig&&xo(n.emulatorConfig.host)&&(m.credentials="include"),GE.fetch()(h,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function RR(n,t){return No(n,"POST","/v2/accounts:revokeToken",$m(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ot(t.idToken,"internal-error"),Ot(typeof t.idToken<"u","internal-error"),Ot(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ot(t.length!==0,"internal-error");const e=Av(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:o,expiresIn:u}=await AR(t,e);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:o,expirationTime:u}=e,h=new fo;return a&&(Ot(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(Ot(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Ot(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(n,t){Ot(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:e,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new wR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await ou(this,this.stsTokenManager.getToken(this.auth,t));return Ot(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ER(this,t)}reload(){return SR(this)}_assign(t){this!==t&&(Ot(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await xh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Ja(this.auth));const t=await this.getIdToken();return await ou(this,vR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const a=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,h=e.photoURL??void 0,d=e.tenantId??void 0,m=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:M,providerData:z,stsTokenManager:Z}=e;Ot(T&&Z,t,"internal-error");const Q=fo.fromJSON(this.name,Z);Ot(typeof T=="string",t,"internal-error"),ea(a,t.name),ea(o,t.name),Ot(typeof S=="boolean",t,"internal-error"),Ot(typeof M=="boolean",t,"internal-error"),ea(u,t.name),ea(h,t.name),ea(d,t.name),ea(m,t.name),ea(g,t.name),ea(_,t.name);const ht=new ui({uid:T,auth:t,email:o,emailVerified:S,displayName:a,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:Q,createdAt:g,lastLoginAt:_});return z&&Array.isArray(z)&&(ht.providerData=z.map(ot=>({...ot}))),m&&(ht._redirectEventId=m),ht}static async _fromIdTokenResponse(t,e,a=!1){const o=new fo;o.updateFromServerResponse(e);const u=new ui({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await xh(u),u}static async _fromGetAccountInfoResponse(t,e,a){const o=e.users[0];Ot(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?FE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new fo;d.updateFromIdToken(a);const m=new ui({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;function yr(n){Er(n instanceof Function,"Expected a class definition");let t=Rv.get(n);return t?(Er(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Rv.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}$E.type="NONE";const Cv=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n,t,e){return`firebase:${n}:${t}:${e}`}class po{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Ih(this.auth,{idToken:t}).catch(()=>{});return e?ui._fromGetAccountInfoResponse(this.auth,e,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new po(yr(Cv),t,a);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||yr(Cv);const h=hh(a,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const S=await Ih(t,{idToken:_}).catch(()=>{});if(!S)break;T=await ui._fromGetAccountInfoResponse(t,S,_)}else T=ui._fromJSON(t,_);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new po(u,t,a):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new po(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(KE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(JE(t))return"Blackberry";if(WE(t))return"Webos";if(YE(t))return"Safari";if((t.includes("chrome/")||QE(t))&&!t.includes("edge/"))return"Chrome";if(ZE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function KE(n=gn()){return/firefox\//i.test(n)}function YE(n=gn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function QE(n=gn()){return/crios\//i.test(n)}function XE(n=gn()){return/iemobile/i.test(n)}function ZE(n=gn()){return/android/i.test(n)}function JE(n=gn()){return/blackberry/i.test(n)}function WE(n=gn()){return/webos/i.test(n)}function Ym(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CR(n=gn()){var t;return Ym(n)&&!!((t=window.navigator)!=null&&t.standalone)}function IR(){return HA()&&document.documentMode===10}function tT(n=gn()){return Ym(n)||ZE(n)||WE(n)||JE(n)||/windows phone/i.test(n)||XE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n,t=[]){let e;switch(n){case"Browser":e=Iv(gn());break;case"Worker":e=`${Iv(gn())}-${n}`;break;default:e=n}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Mo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=u=>new Promise((h,d)=>{try{const m=t(u);h(m)}catch(m){d(m)}});a.onAbort=e,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(n,t={}){return No(n,"GET","/v2/passwordPolicy",$m(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=6;class DR{constructor(t){var a;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??NR,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=t.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,e,a,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xv(this),this.idTokenSubscription=new xv(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=yr(e)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await po.create(this,t),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ih(this,{idToken:t}),a=await ui._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(oi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let a=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===d)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await xh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(oi(this.app))return Promise.reject(Ja(this));const e=t?Wn(t):null;return e&&Ot(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return oi(this.app)?Promise.reject(Ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await MR(this),e=new DR(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Eu("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await RR(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&yr(t)||this._popupRedirectResolver;Ot(e,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[yr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,a,o);return()=>{h=!0,m()}}else{const m=t.addObserver(e);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&uR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function sf(n){return Wn(n)}class xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZA(e=>this.observer=e)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kR(n){Qm=n}function VR(n){return Qm.loadJS(n)}function PR(){return Qm.gapiScript}function LR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n,t){const e=Gm(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(is(u,t??{}))return o;Ui(o,"already-initialized")}return e.initialize({options:t})}function BR(n,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(yr);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function zR(n,t,e){const a=sf(n);Ot(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=nT(t),{host:h,port:d}=jR(t),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ot(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ot(is(g,a.config.emulator)&&is(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,xo(h)?(DE(`${u}//${h}${m}`),OE("Auth",!0)):GR()}function nT(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function jR(n){const t=nT(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Mv(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:Mv(h)}}}function Mv(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function GR(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return gr("not implemented")}_getIdTokenResponse(t){return gr("not implemented")}_linkToIdToken(t,e){return gr("not implemented")}_getReauthenticationResolver(t){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(n,t){return yR(n,"POST","/v1/accounts:signInWithIdp",$m(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="http://localhost";class as extends iT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new as(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ui("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...u}=e;if(!a||!o)return null;const h=new as(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return mo(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,mo(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,mo(t,e)}buildRequest(){const t={requestUri:HR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Tu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Xm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Su{constructor(){super("facebook.com")}static credential(t){return as._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return na.credential(t.oauthAccessToken)}catch{return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return as._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return mr.credential(e,a)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Su{constructor(){super("github.com")}static credential(t){return as._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ia.credential(t.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Su{constructor(){super("twitter.com")}static credential(t,e){return as._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ra.credentialFromTaggedObject(t)}static credentialFromError(t){return ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return ra.credential(e,a)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,o=!1){const u=await ui._fromIdTokenResponse(t,a,o),h=Nv(a);return new vo({user:u,providerId:h,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const o=Nv(a);return new vo({user:t,providerId:o,_tokenResponse:a,operationType:e})}}function Nv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends br{constructor(t,e,a,o){super(e.code,e.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,o){return new Mh(t,e,a,o)}}function rT(n,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(n,u,t,a):u})}async function qR(n,t,e=!1){const a=await ou(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return vo._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,t,e=!1){const{auth:a}=n;if(oi(a.app))return Promise.reject(Ja(a));const o="reauthenticate";try{const u=await ou(n,rT(a,o,t,n),e);Ot(u.idToken,a,"internal-error");const h=Km(u.idToken);Ot(h,a,"internal-error");const{sub:d}=h;return Ot(n.uid===d,a,"user-mismatch"),vo._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ui(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(n,t,e=!1){if(oi(n.app))return Promise.reject(Ja(n));const a="signIn",o=await rT(n,a,t),u=await vo._fromIdTokenResponse(n,a,o);return e||await n._updateCurrentUser(u.user),u}function KR(n,t,e,a){return Wn(n).onIdTokenChanged(t,e,a)}function YR(n,t,e){return Wn(n).beforeAuthStateChanged(t,e)}function aT(n,t,e,a){return Wn(n).onAuthStateChanged(t,e,a)}function QR(n){return Wn(n).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1e3,ZR=10;class oT extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),o=this.localCache[e];a!==o&&t(e,o,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!e&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);IR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ZR):o()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}oT.type="LOCAL";const JR=oT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}lT.type="SESSION";const uT=lT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const a=new of(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,u)),m=await WR(d);e.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=Zm("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function eC(n){Di().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function nC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function rC(){return cT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="firebaseLocalStorageDb",aC=1,Dh="firebaseLocalStorage",fT="fbase_key";class bu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function lf(n,t){return n.transaction([Dh],t?"readwrite":"readonly").objectStore(Dh)}function sC(){const n=indexedDB.deleteDatabase(hT);return new bu(n).toPromise()}function sm(){const n=indexedDB.open(hT,aC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Dh,{keyPath:fT})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Dh)?t(a):(a.close(),await sC(),t(await sm()))})})}async function Dv(n,t,e){const a=lf(n,!0).put({[fT]:t,value:e});return new bu(a).toPromise()}async function oC(n,t){const e=lf(n,!1).get(t),a=await new bu(e).toPromise();return a===void 0?null:a.value}function Ov(n,t){const e=lf(n,!0).delete(t);return new bu(e).toPromise()}const lC=800,uC=3;class dT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>uC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(rC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,a;if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new tC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(a=t[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await Dv(t,Nh,"1"),await Ov(t,Nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>Dv(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>oC(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ov(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=lf(o,!1).getAll();return new bu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dT.type="LOCAL";const cC=dT;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,t){return t?yr(t):(Ot(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends iT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return mo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return mo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return mo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function hC(n){return $R(n.auth,new Jm(n),n.bypassAuthState)}function fC(n){const{auth:t,user:e}=n;return Ot(e,t,"internal-error"),FR(e,new Jm(n),n.bypassAuthState)}async function dC(n){const{auth:t,user:e}=n;return Ot(e,t,"internal-error"),qR(e,new Jm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,e,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:e,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hC;case"linkViaPopup":case"linkViaRedirect":return dC;case"reauthViaPopup":case"reauthViaRedirect":return fC;default:Ui(this.auth,"internal-error")}}resolve(t){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new wu(2e3,1e4);async function mC(n,t,e){if(oi(n.app))return Promise.reject(hi(n,"operation-not-supported-in-this-environment"));const a=sf(n);cR(n,t,Xm);const o=pT(a,e);return new Qa(a,"signInViaPopup",t,o).executeNotNull()}class Qa extends mT{constructor(t,e,a,o,u){super(t,e,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ot(t,this.auth,"internal-error"),t}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const t=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if((a=(e=this.authWindow)==null?void 0:e.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pC.get())};t()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="pendingRedirect",fh=new Map;class yC extends mT{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=fh.get(this.auth._key());if(!t){try{const a=await _C(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}fh.set(this.auth._key(),t)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _C(n,t){const e=TC(t),a=EC(n);if(!await a._isAvailable())return!1;const o=await a._get(e)==="true";return await a._remove(e),o}function vC(n,t){fh.set(n._key(),t)}function EC(n){return yr(n._redirectPersistence)}function TC(n){return hh(gC,n.config.apiKey,n.name)}async function wC(n,t,e=!1){if(oi(n.app))return Promise.reject(Ja(n));const a=sf(n),o=pT(a,t),h=await new yC(a,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=10*60*1e3;class bC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!gT(t)){const o=((a=t.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";e.onError(hi(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SC&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function gT({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function AC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(n,t={}){return No(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function xC(n){if(n.config.emulator)return;const{authorizedDomains:t}=await RC(n);for(const e of t)try{if(MC(e))return}catch{}Ui(n,"unauthorized-domain")}function MC(n){const t=rm(),{protocol:e,hostname:a}=new URL(t);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&a===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===a}if(!IC.test(e))return!1;if(CC.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new wu(3e4,6e4);function Vv(){const n=Di().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function DC(n){return new Promise((t,e)=>{var o,u,h;function a(){Vv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vv(),e(hi(n,"network-request-failed"))},timeout:NC.get()})}if((u=(o=Di().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((h=Di().gapi)!=null&&h.load)a();else{const d=LR("iframefcb");return Di()[d]=()=>{gapi.load?a():e(hi(n,"network-request-failed"))},VR(`${PR()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw dh=null,t})}let dh=null;function OC(n){return dh=dh||DC(n),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new wu(5e3,15e3),VC="__/auth/iframe",PC="emulator/auth/iframe",LC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BC(n){const t=n.config;Ot(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Fm(t,PC):`https://${n.config.authDomain}/${VC}`,a={apiKey:t.apiKey,appName:n.name,v:Mo},o=UC.get(n.config.apiHost);o&&(a.eid=o);const u=n._getFrameworks();return u.length&&(a.fw=u.join(",")),`${e}?${Tu(a).slice(1)}`}async function zC(n){const t=await OC(n),e=Di().gapi;return Ot(e,n,"internal-error"),t.open({where:document.body,url:BC(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=hi(n,"network-request-failed"),d=Di().setTimeout(()=>{u(h)},kC.get());function m(){Di().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GC=500,HC=600,qC="_blank",FC="http://localhost";class Pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $C(n,t,e,a=GC,o=HC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...jC,width:a.toString(),height:o.toString(),top:u,left:h},g=gn().toLowerCase();e&&(d=QE(g)?qC:e),KE(g)&&(t=t||FC,m.scrollbars="yes");const _=Object.entries(m).reduce((S,[M,z])=>`${S}${M}=${z},`,"");if(CR(g)&&d!=="_self")return KC(t||"",d),new Pv(null);const T=window.open(t||"",d,_);Ot(T,n,"popup-blocked");try{T.focus()}catch{}return new Pv(T)}function KC(n,t){const e=document.createElement("a");e.href=n,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="__/auth/handler",QC="emulator/auth/handler",XC=encodeURIComponent("fac");async function Lv(n,t,e,a,o,u){Ot(n.config.authDomain,n,"auth-domain-config-required"),Ot(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:a,v:Mo,eventId:o};if(t instanceof Xm){t.setDefaultLanguage(n.languageCode),h.providerId=t.providerId||"",XA(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(t instanceof Su){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${XC}=${encodeURIComponent(m)}`:"";return`${ZC(n)}?${Tu(d).slice(1)}${g}`}function ZC({config:n}){return n.emulator?Fm(n,QC):`https://${n.authDomain}/${YC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class JC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uT,this._completeRedirectFn=wC,this._overrideRedirectResult=vC}async _openPopup(t,e,a,o){var h;Er((h=this.eventManagers[t._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await Lv(t,e,a,rm(),o);return $C(t,u,Zm())}async _openRedirect(t,e,a,o){await this._originValidation(t);const u=await Lv(t,e,a,rm(),o);return eC(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await zC(t),a=new bC(t);return e.register("authEvent",o=>(Ot(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(kp,{type:kp},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[kp];u!==void 0&&e(!!u),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=xC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return tT()||YE()||Ym()}}const WC=JC;var Uv="@firebase/auth",Bv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nI(n){_o(new rs("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;Ot(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eT(n)},g=new OR(a,o,u,m);return BR(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),_o(new rs("auth-internal",t=>{const e=sf(t.getProvider("auth").getImmediate());return(a=>new tI(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(Uv,Bv,eI(n)),la(Uv,Bv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=5*60,rI=NE("authIdTokenMaxAge")||iI;let zv=null;const aI=n=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>rI)return;const o=e==null?void 0:e.token;zv!==o&&(zv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sI(n=LE()){const t=Gm(n,"auth");if(t.isInitialized())return t.getImmediate();const e=UR(n,{popupRedirectResolver:WC,persistence:[cC,JR,uT]}),a=NE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=aI(u.toString());YR(e,h,()=>h(e.currentUser)),KR(e,d=>h(d))}}const o=xE("auth");return o&&zR(e,`http://${o}`),e}function oI(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}kR({loadJS(n){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=t,a.onerror=o=>{const u=hi("internal-error");u.customData=o,e(u)},a.type="text/javascript",a.charset="UTF-8",oI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nI("Browser");var lI="firebase",uI="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la(lI,uI,"app");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,yT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,C){function x(){}x.prototype=C.prototype,k.D=C.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(V,N,U){for(var I=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)I[nt-2]=arguments[nt];return C.prototype[N].apply(V,I)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,C,x){x||(x=0);var V=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)V[N]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(N=0;16>N;++N)V[N]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=k.g[0],x=k.g[1],N=k.g[2];var U=k.g[3],I=C+(U^x&(N^U))+V[0]+3614090360&4294967295;C=x+(I<<7&4294967295|I>>>25),I=U+(N^C&(x^N))+V[1]+3905402710&4294967295,U=C+(I<<12&4294967295|I>>>20),I=N+(x^U&(C^x))+V[2]+606105819&4294967295,N=U+(I<<17&4294967295|I>>>15),I=x+(C^N&(U^C))+V[3]+3250441966&4294967295,x=N+(I<<22&4294967295|I>>>10),I=C+(U^x&(N^U))+V[4]+4118548399&4294967295,C=x+(I<<7&4294967295|I>>>25),I=U+(N^C&(x^N))+V[5]+1200080426&4294967295,U=C+(I<<12&4294967295|I>>>20),I=N+(x^U&(C^x))+V[6]+2821735955&4294967295,N=U+(I<<17&4294967295|I>>>15),I=x+(C^N&(U^C))+V[7]+4249261313&4294967295,x=N+(I<<22&4294967295|I>>>10),I=C+(U^x&(N^U))+V[8]+1770035416&4294967295,C=x+(I<<7&4294967295|I>>>25),I=U+(N^C&(x^N))+V[9]+2336552879&4294967295,U=C+(I<<12&4294967295|I>>>20),I=N+(x^U&(C^x))+V[10]+4294925233&4294967295,N=U+(I<<17&4294967295|I>>>15),I=x+(C^N&(U^C))+V[11]+2304563134&4294967295,x=N+(I<<22&4294967295|I>>>10),I=C+(U^x&(N^U))+V[12]+1804603682&4294967295,C=x+(I<<7&4294967295|I>>>25),I=U+(N^C&(x^N))+V[13]+4254626195&4294967295,U=C+(I<<12&4294967295|I>>>20),I=N+(x^U&(C^x))+V[14]+2792965006&4294967295,N=U+(I<<17&4294967295|I>>>15),I=x+(C^N&(U^C))+V[15]+1236535329&4294967295,x=N+(I<<22&4294967295|I>>>10),I=C+(N^U&(x^N))+V[1]+4129170786&4294967295,C=x+(I<<5&4294967295|I>>>27),I=U+(x^N&(C^x))+V[6]+3225465664&4294967295,U=C+(I<<9&4294967295|I>>>23),I=N+(C^x&(U^C))+V[11]+643717713&4294967295,N=U+(I<<14&4294967295|I>>>18),I=x+(U^C&(N^U))+V[0]+3921069994&4294967295,x=N+(I<<20&4294967295|I>>>12),I=C+(N^U&(x^N))+V[5]+3593408605&4294967295,C=x+(I<<5&4294967295|I>>>27),I=U+(x^N&(C^x))+V[10]+38016083&4294967295,U=C+(I<<9&4294967295|I>>>23),I=N+(C^x&(U^C))+V[15]+3634488961&4294967295,N=U+(I<<14&4294967295|I>>>18),I=x+(U^C&(N^U))+V[4]+3889429448&4294967295,x=N+(I<<20&4294967295|I>>>12),I=C+(N^U&(x^N))+V[9]+568446438&4294967295,C=x+(I<<5&4294967295|I>>>27),I=U+(x^N&(C^x))+V[14]+3275163606&4294967295,U=C+(I<<9&4294967295|I>>>23),I=N+(C^x&(U^C))+V[3]+4107603335&4294967295,N=U+(I<<14&4294967295|I>>>18),I=x+(U^C&(N^U))+V[8]+1163531501&4294967295,x=N+(I<<20&4294967295|I>>>12),I=C+(N^U&(x^N))+V[13]+2850285829&4294967295,C=x+(I<<5&4294967295|I>>>27),I=U+(x^N&(C^x))+V[2]+4243563512&4294967295,U=C+(I<<9&4294967295|I>>>23),I=N+(C^x&(U^C))+V[7]+1735328473&4294967295,N=U+(I<<14&4294967295|I>>>18),I=x+(U^C&(N^U))+V[12]+2368359562&4294967295,x=N+(I<<20&4294967295|I>>>12),I=C+(x^N^U)+V[5]+4294588738&4294967295,C=x+(I<<4&4294967295|I>>>28),I=U+(C^x^N)+V[8]+2272392833&4294967295,U=C+(I<<11&4294967295|I>>>21),I=N+(U^C^x)+V[11]+1839030562&4294967295,N=U+(I<<16&4294967295|I>>>16),I=x+(N^U^C)+V[14]+4259657740&4294967295,x=N+(I<<23&4294967295|I>>>9),I=C+(x^N^U)+V[1]+2763975236&4294967295,C=x+(I<<4&4294967295|I>>>28),I=U+(C^x^N)+V[4]+1272893353&4294967295,U=C+(I<<11&4294967295|I>>>21),I=N+(U^C^x)+V[7]+4139469664&4294967295,N=U+(I<<16&4294967295|I>>>16),I=x+(N^U^C)+V[10]+3200236656&4294967295,x=N+(I<<23&4294967295|I>>>9),I=C+(x^N^U)+V[13]+681279174&4294967295,C=x+(I<<4&4294967295|I>>>28),I=U+(C^x^N)+V[0]+3936430074&4294967295,U=C+(I<<11&4294967295|I>>>21),I=N+(U^C^x)+V[3]+3572445317&4294967295,N=U+(I<<16&4294967295|I>>>16),I=x+(N^U^C)+V[6]+76029189&4294967295,x=N+(I<<23&4294967295|I>>>9),I=C+(x^N^U)+V[9]+3654602809&4294967295,C=x+(I<<4&4294967295|I>>>28),I=U+(C^x^N)+V[12]+3873151461&4294967295,U=C+(I<<11&4294967295|I>>>21),I=N+(U^C^x)+V[15]+530742520&4294967295,N=U+(I<<16&4294967295|I>>>16),I=x+(N^U^C)+V[2]+3299628645&4294967295,x=N+(I<<23&4294967295|I>>>9),I=C+(N^(x|~U))+V[0]+4096336452&4294967295,C=x+(I<<6&4294967295|I>>>26),I=U+(x^(C|~N))+V[7]+1126891415&4294967295,U=C+(I<<10&4294967295|I>>>22),I=N+(C^(U|~x))+V[14]+2878612391&4294967295,N=U+(I<<15&4294967295|I>>>17),I=x+(U^(N|~C))+V[5]+4237533241&4294967295,x=N+(I<<21&4294967295|I>>>11),I=C+(N^(x|~U))+V[12]+1700485571&4294967295,C=x+(I<<6&4294967295|I>>>26),I=U+(x^(C|~N))+V[3]+2399980690&4294967295,U=C+(I<<10&4294967295|I>>>22),I=N+(C^(U|~x))+V[10]+4293915773&4294967295,N=U+(I<<15&4294967295|I>>>17),I=x+(U^(N|~C))+V[1]+2240044497&4294967295,x=N+(I<<21&4294967295|I>>>11),I=C+(N^(x|~U))+V[8]+1873313359&4294967295,C=x+(I<<6&4294967295|I>>>26),I=U+(x^(C|~N))+V[15]+4264355552&4294967295,U=C+(I<<10&4294967295|I>>>22),I=N+(C^(U|~x))+V[6]+2734768916&4294967295,N=U+(I<<15&4294967295|I>>>17),I=x+(U^(N|~C))+V[13]+1309151649&4294967295,x=N+(I<<21&4294967295|I>>>11),I=C+(N^(x|~U))+V[4]+4149444226&4294967295,C=x+(I<<6&4294967295|I>>>26),I=U+(x^(C|~N))+V[11]+3174756917&4294967295,U=C+(I<<10&4294967295|I>>>22),I=N+(C^(U|~x))+V[2]+718787259&4294967295,N=U+(I<<15&4294967295|I>>>17),I=x+(U^(N|~C))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+U&4294967295}a.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var x=C-this.blockSize,V=this.B,N=this.h,U=0;U<C;){if(N==0)for(;U<=x;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<C;)if(V[N++]=k.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<C;)if(V[N++]=k[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=C},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var x=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=x&255,x/=256;for(this.u(k),k=Array(16),C=x=0;4>C;++C)for(var V=0;32>V;V+=8)k[x++]=this.g[C]>>>V&255;return k};function u(k,C){var x=d;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=C(k)}function h(k,C){this.h=C;for(var x=[],V=!0,N=k.length-1;0<=N;N--){var U=k[N]|0;V&&U==C||(x[N]=U,V=!1)}this.g=x}var d={};function m(k){return-128<=k&&128>k?u(k,function(C){return new h([C|0],0>C?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return Q(g(-k));for(var C=[],x=1,V=0;k>=x;V++)C[V]=k/x|0,x*=4294967296;return new h(C,0)}function _(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return Q(_(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(C,8)),V=T,N=0;N<k.length;N+=8){var U=Math.min(8,k.length-N),I=parseInt(k.substring(N,N+U),C);8>U?(U=g(Math.pow(C,U)),V=V.j(U).add(g(I))):(V=V.j(x),V=V.add(g(I)))}return V}var T=m(0),S=m(1),M=m(16777216);n=h.prototype,n.m=function(){if(Z(this))return-Q(this).m();for(var k=0,C=1,x=0;x<this.g.length;x++){var V=this.i(x);k+=(0<=V?V:4294967296+V)*C,C*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(z(this))return"0";if(Z(this))return"-"+Q(this).toString(k);for(var C=g(Math.pow(k,6)),x=this,V="";;){var N=mt(x,C).g;x=ht(x,N.j(C));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=N,z(x))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function z(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function Z(k){return k.h==-1}n.l=function(k){return k=ht(this,k),Z(k)?-1:z(k)?0:1};function Q(k){for(var C=k.g.length,x=[],V=0;V<C;V++)x[V]=~k.g[V];return new h(x,~k.h).add(S)}n.abs=function(){return Z(this)?Q(this):this},n.add=function(k){for(var C=Math.max(this.g.length,k.g.length),x=[],V=0,N=0;N<=C;N++){var U=V+(this.i(N)&65535)+(k.i(N)&65535),I=(U>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);V=I>>>16,U&=65535,I&=65535,x[N]=I<<16|U}return new h(x,x[x.length-1]&-2147483648?-1:0)};function ht(k,C){return k.add(Q(C))}n.j=function(k){if(z(this)||z(k))return T;if(Z(this))return Z(k)?Q(this).j(Q(k)):Q(Q(this).j(k));if(Z(k))return Q(this.j(Q(k)));if(0>this.l(M)&&0>k.l(M))return g(this.m()*k.m());for(var C=this.g.length+k.g.length,x=[],V=0;V<2*C;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<k.g.length;N++){var U=this.i(V)>>>16,I=this.i(V)&65535,nt=k.i(N)>>>16,q=k.i(N)&65535;x[2*V+2*N]+=I*q,ot(x,2*V+2*N),x[2*V+2*N+1]+=U*q,ot(x,2*V+2*N+1),x[2*V+2*N+1]+=I*nt,ot(x,2*V+2*N+1),x[2*V+2*N+2]+=U*nt,ot(x,2*V+2*N+2)}for(V=0;V<C;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=C;V<2*C;V++)x[V]=0;return new h(x,0)};function ot(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function it(k,C){this.g=k,this.h=C}function mt(k,C){if(z(C))throw Error("division by zero");if(z(k))return new it(T,T);if(Z(k))return C=mt(Q(k),C),new it(Q(C.g),Q(C.h));if(Z(C))return C=mt(k,Q(C)),new it(Q(C.g),C.h);if(30<k.g.length){if(Z(k)||Z(C))throw Error("slowDivide_ only works with positive integers.");for(var x=S,V=C;0>=V.l(k);)x=ct(x),V=ct(V);var N=_t(x,1),U=_t(V,1);for(V=_t(V,2),x=_t(x,2);!z(V);){var I=U.add(V);0>=I.l(k)&&(N=N.add(x),U=I),V=_t(V,1),x=_t(x,1)}return C=ht(k,N.j(C)),new it(N,C)}for(N=T;0<=k.l(C);){for(x=Math.max(1,Math.floor(k.m()/C.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=g(x),I=U.j(C);Z(I)||0<I.l(k);)x-=V,U=g(x),I=U.j(C);z(U)&&(U=S),N=N.add(U),k=ht(k,I)}return new it(N,k)}n.A=function(k){return mt(this,k).h},n.and=function(k){for(var C=Math.max(this.g.length,k.g.length),x=[],V=0;V<C;V++)x[V]=this.i(V)&k.i(V);return new h(x,this.h&k.h)},n.or=function(k){for(var C=Math.max(this.g.length,k.g.length),x=[],V=0;V<C;V++)x[V]=this.i(V)|k.i(V);return new h(x,this.h|k.h)},n.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),x=[],V=0;V<C;V++)x[V]=this.i(V)^k.i(V);return new h(x,this.h^k.h)};function ct(k){for(var C=k.g.length+1,x=[],V=0;V<C;V++)x[V]=k.i(V)<<1|k.i(V-1)>>>31;return new h(x,k.h)}function _t(k,C){var x=C>>5;C%=32;for(var V=k.g.length-x,N=[],U=0;U<V;U++)N[U]=0<C?k.i(U+x)>>>C|k.i(U+x+1)<<32-C:k.i(U+x);return new h(N,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,yT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ua=h}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,Fl,vT,ph,om,ET,TT,wT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=e(this);function o(c,y){if(y)t:{var v=a;c=c.split(".");for(var R=0;R<c.length-1;R++){var F=c[R];if(!(F in v))break t;v=v[F]}c=c[c.length-1],R=v[c],y=y(R),y!=R&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,R=!1,F={next:function(){if(!R&&v<c.length){var tt=v++;return{value:y(tt,c[tt]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function M(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function z(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,F,tt){for(var gt=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)gt[Qt-2]=arguments[Qt];return y.prototype[F].apply(R,gt)}}function Z(c){const y=c.length;if(0<y){const v=Array(y);for(let R=0;R<y;R++)v[R]=c[R];return v}return[]}function Q(c,y){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(m(R)){const F=c.length||0,tt=R.length||0;c.length=F+tt;for(let gt=0;gt<tt;gt++)c[F+gt]=R[gt]}else c.push(R)}}class ht{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ot(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function mt(c){return mt[" "](c),c}mt[" "]=function(){};var ct=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function _t(c,y,v){for(const R in c)y.call(v,c[R],R,c)}function k(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(v in R)c[v]=R[v];for(let tt=0;tt<x.length;tt++)v=x[tt],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){d.setTimeout(()=>{throw c},0)}function I(){var c=K;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,v){const R=q.get();R.set(y,v),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new ht(()=>new D,c=>c.reset());class D{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let P,L=!1,K=new nt,w=()=>{const c=d.Promise.resolve(void 0);P=()=>{c.then(A)}};var A=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){U(v)}var y=q;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}L=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function dt(c,y){if(G.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ct){t:{try{mt(y.nodeName);var F=!0;break t}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&dt.aa.h.call(this)}}z(dt,G);var pt={2:"touch",3:"pen",4:"mouse"};dt.prototype.h=function(){dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Ut(c,y,v,R,F){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!R,this.ha=F,this.key=++vt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pt(c){this.src=c,this.g={},this.h=0}Pt.prototype.add=function(c,y,v,R,F){var tt=c.toString();c=this.g[tt],c||(c=this.g[tt]=[],this.h++);var gt=re(c,y,R,F);return-1<gt?(y=c[gt],v||(y.fa=!1)):(y=new Ut(y,this.src,tt,!!R,F),y.fa=v,c.push(y)),y};function Yt(c,y){var v=y.type;if(v in c.g){var R=c.g[v],F=Array.prototype.indexOf.call(R,y,void 0),tt;(tt=0<=F)&&Array.prototype.splice.call(R,F,1),tt&&(Kt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function re(c,y,v,R){for(var F=0;F<c.length;++F){var tt=c[F];if(!tt.da&&tt.listener==y&&tt.capture==!!v&&tt.ha==R)return F}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),me={};function Ce(c,y,v,R,F){if(Array.isArray(y)){for(var tt=0;tt<y.length;tt++)Ce(c,y[tt],v,R,F);return null}return v=Gi(v),c&&c[yt]?c.K(y,v,g(R)?!!R.capture:!1,F):de(c,y,v,!1,R,F)}function de(c,y,v,R,F,tt){if(!y)throw Error("Invalid event type");var gt=g(F)?!!F.capture:!!F,Qt=ti(c);if(Qt||(c[Lt]=Qt=new Pt(c)),v=Qt.add(y,v,R,gt,tt),v.proxy)return v;if(R=yn(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)rt||(F=gt),F===void 0&&(F=!1),c.addEventListener(y.toString(),R,F);else if(c.attachEvent)c.attachEvent(un(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function yn(){function c(v){return y.call(c.src,c.listener,v)}const y=Ar;return c}function _n(c,y,v,R,F){if(Array.isArray(y))for(var tt=0;tt<y.length;tt++)_n(c,y[tt],v,R,F);else R=g(R)?!!R.capture:!!R,v=Gi(v),c&&c[yt]?(c=c.i,y=String(y).toString(),y in c.g&&(tt=c.g[y],v=re(tt,v,R,F),-1<v&&(Kt(tt[v]),Array.prototype.splice.call(tt,v,1),tt.length==0&&(delete c.g[y],c.h--)))):c&&(c=ti(c))&&(y=c.g[y.toString()],c=-1,y&&(c=re(y,v,R,F)),(v=-1<c?y[c]:null)&&oe(v))}function oe(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[yt])Yt(y.i,c);else{var v=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(v,R,c.capture):y.detachEvent?y.detachEvent(un(v),R):y.addListener&&y.removeListener&&y.removeListener(R),(v=ti(y))?(Yt(v,c),v.h==0&&(v.src=null,y[Lt]=null)):Kt(c)}}}function un(c){return c in me?me[c]:me[c]="on"+c}function Ar(c,y){if(c.da)c=!0;else{y=new dt(y,this);var v=c.listener,R=c.ha||c.src;c.fa&&oe(c),c=v.call(R,y)}return c}function ti(c){return c=c[Lt],c instanceof Pt?c:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(c){return typeof c=="function"?c:(c[Un]||(c[Un]=function(y){return c.handleEvent(y)}),c[Un])}function $(){H.call(this),this.i=new Pt(this),this.M=this,this.F=null}z($,H),$.prototype[yt]=!0,$.prototype.removeEventListener=function(c,y,v,R){_n(this,c,y,v,R)};function St(c,y){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new G(y,c);else if(y instanceof G)y.target=y.target||c;else{var F=y;y=new G(R,c),V(y,F)}if(F=!0,v)for(var tt=v.length-1;0<=tt;tt--){var gt=y.g=v[tt];F=It(gt,R,!0,y)&&F}if(gt=y.g=c,F=It(gt,R,!0,y)&&F,F=It(gt,R,!1,y)&&F,v)for(tt=0;tt<v.length;tt++)gt=y.g=v[tt],F=It(gt,R,!1,y)&&F}$.prototype.N=function(){if($.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],R=0;R<v.length;R++)Kt(v[R]);delete c.g[y],c.h--}}this.F=null},$.prototype.K=function(c,y,v,R){return this.i.add(String(c),y,!1,v,R)},$.prototype.L=function(c,y,v,R){return this.i.add(String(c),y,!0,v,R)};function It(c,y,v,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,tt=0;tt<y.length;++tt){var gt=y[tt];if(gt&&!gt.da&&gt.capture==v){var Qt=gt.listener,je=gt.ha||gt.src;gt.fa&&Yt(c.i,gt),F=Qt.call(je,R)!==!1&&F}}return F&&!R.defaultPrevented}function Rt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Wt(c){c.g=Rt(()=>{c.g=null,c.i&&(c.i=!1,Wt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ye extends H{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Te(c){H.call(this),this.h=c,this.g={}}z(Te,H);var _e=[];function De(c){_t(c.g,function(y,v){this.g.hasOwnProperty(v)&&oe(y)},c),c.g={}}Te.prototype.N=function(){Te.aa.N.call(this),De(this)},Te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=d.JSON.stringify,cn=d.JSON.parse,Rr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ps(){}ps.prototype.h=null;function di(c){return c.h||(c.h=c.i())}function Lo(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){G.call(this,"d")}z(qi,G);function Uo(){G.call(this,"c")}z(Uo,G);var pi={},Bo=null;function Cr(){return Bo=Bo||new $}pi.La="serverreachability";function ms(c){G.call(this,pi.La,c)}z(ms,G);function Ir(c){const y=Cr();St(y,new ms(y))}pi.STAT_EVENT="statevent";function Du(c,y){G.call(this,pi.STAT_EVENT,c),this.stat=y}z(Du,G);function ve(c){const y=Cr();St(y,new Du(y,c))}pi.Ma="timingevent";function ze(c,y){G.call(this,pi.Ma,c),this.size=y}z(ze,G);function ke(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function zo(c,y,v,R,F,tt){c.info(function(){if(c.g)if(tt)for(var gt="",Qt=tt.split("&"),je=0;je<Qt.length;je++){var Xt=Qt[je].split("=");if(1<Xt.length){var Ye=Xt[0];Xt=Xt[1];var Ge=Ye.split("_");gt=2<=Ge.length&&Ge[1]=="type"?gt+(Ye+"="+Xt+"&"):gt+(Ye+"=redacted&")}}else gt=null;else gt=tt;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+v+`
`+gt})}function Af(c,y,v,R,F,tt,gt){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+v+`
`+tt+" "+gt})}function xr(c,y,v,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ya(c,v)+(R?" "+R:"")})}function Ou(c,y){c.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function ya(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var tt=F[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var gt=1;gt<F.length;gt++)F[gt]=""}}}}return Oe(v)}catch{return y}}var Mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function gi(){}z(gi,ps),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},mi=new gi;function vn(c,y,v,R){this.j=c,this.i=y,this.l=v,this.R=R||1,this.U=new Te(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var jo={},gs={};function ei(c,y,v){c.L=1,c.v=wa(xn(y)),c.m=v,c.P=!0,$i(c,null)}function $i(c,y){c.F=Date.now(),_a(c),c.A=xn(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Ko(v.i,"t",R),c.C=0,v=c.j.J,c.h=new Ie,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new ye(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,R=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(_e[0]=F.toString()),F=_e);for(var tt=0;tt<F.length;tt++){var gt=Ce(v,F[tt],R||y.handleEvent,!1,y.h||y);if(!gt)break;y.g[gt.key]=gt}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ir(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}vn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},vn.prototype.Y=function(c){try{if(c==this.g)t:{const Ge=Hn(this.g);var y=this.g.Ba();const tr=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Ge!=4||y==7||(y==8||0>=tr?Ir(3):Ir(2)),Nr(this);var v=this.g.Z();this.X=v;e:if(ku(this)){var R=ju(this.g);c="";var F=R.length,tt=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),yi(this);var gt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(tt&&y==F-1)});R.length=0,this.h.g+=c,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=v==200,Af(this.i,this.u,this.A,this.l,this.R,Ge,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Qt,je=this.g;if((Qt=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Qt)){var Xt=Qt;break e}}Xt=null}if(v=Xt)xr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,v);else{this.o=!1,this.s=3,ve(12),tn(this),yi(this);break t}}if(this.P){v=!0;let en;for(;!this.J&&this.C<gt.length;)if(en=Vu(this,gt),en==gs){Ge==4&&(this.s=4,ve(14),v=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==jo){this.s=4,ve(15),xr(this.i,this.l,gt,"[Invalid Chunk]"),v=!1;break}else xr(this.i,this.l,en,null),va(this,en);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||gt.length!=0||this.h.h||(this.s=1,ve(16),v=!1),this.o=this.o&&v,!v)xr(this.i,this.l,gt,"[Invalid Chunked Response]"),tn(this),yi(this);else if(0<gt.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),Ma(Ye),Ye.M=!0,ve(11))}}else xr(this.i,this.l,gt,null),va(this,gt);Ge==4&&tn(this),this.o&&!this.J&&(Ge==4?$u(this.j,this):(this.o=!1,_a(this)))}else Mf(this.g),v==400&&0<gt.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),tn(this),yi(this)}}}catch{}finally{}};function ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var v=c.C,R=y.indexOf(`
`,v);return R==-1?gs:(v=Number(y.substring(v,R)),isNaN(v)?jo:(R+=1,R+v>y.length?gs:(y=y.slice(R,R+v),c.C=R+v,y)))}vn.prototype.cancel=function(){this.J=!0,tn(this)};function _a(c){c.S=Date.now()+c.I,Pu(c,c.I)}function Pu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ke(S(c.ba,c),y)}function Nr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ou(this.i,this.A),this.L!=2&&(Ir(),ve(17)),tn(this),this.s=2,yi(this)):Pu(this,this.S-c)};function yi(c){c.j.G==0||c.J||$u(c.j,c)}function tn(c){Nr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,De(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function va(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Go(v.h,c))){if(!c.K&&Go(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Is(v),Rs(v);else break t;Jo(v),ve(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=ke(S(v.Za,v),6e3));if(1>=_s(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Wi(v,11)}else if((c.K||v.g==c)&&Is(v),!ot(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let Xt=F[y];if(v.T=Xt[0],Xt=Xt[1],v.G==2)if(Xt[0]=="c"){v.K=Xt[1],v.ia=Xt[2];const Ye=Xt[3];Ye!=null&&(v.la=Ye,v.j.info("VER="+v.la));const Ge=Xt[4];Ge!=null&&(v.Aa=Ge,v.j.info("SVER="+v.Aa));const tr=Xt[5];tr!=null&&typeof tr=="number"&&0<tr&&(R=1.5*tr,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const en=c.g;if(en){const bi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var tt=R.h;tt.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(vs(tt,tt.h),tt.h=null))}if(R.D){const tl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(R.ya=tl,le(R.I,R.D,tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var gt=c;if(R.qa=Yu(R,R.J?R.ia:null,R.W),gt.K){En(R.h,gt);var Qt=gt,je=R.L;je&&(Qt.I=je),Qt.B&&(Nr(Qt),_a(Qt)),R.g=gt}else qu(R);0<v.i.length&&Cs(v)}else Xt[0]!="stop"&&Xt[0]!="close"||Wi(v,7);else v.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Wi(v,7):Xo(v):Xt[0]!="noop"&&v.l&&v.l.ta(Xt),v.v=0)}}Ir(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function Ki(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ys(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _s(c){return c.h?1:c.g?c.g.size:0}function Go(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function vs(c,y){c.g?c.g.add(y):c.h=y}function En(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ki.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Z(c.i)}function Rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,R=0;R<v;R++)y.push(c[R]);return y}y=[],v=0;for(R in c)y[v++]=c[R];return y}function Es(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const R in c)y[v++]=R;return y}}}function qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Es(c),R=Rf(c),F=R.length,tt=0;tt<F;tt++)y.call(void 0,R[tt],v&&v[tt],c)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),F=null;if(0<=R){var tt=c[v].substring(0,R);F=c[v].substring(R+1)}else tt=c[v];y(tt,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ve(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ve){this.h=c.h,Ta(this,c.j),this.o=c.o,this.g=c.g,Dr(this,c.s),this.l=c.l;var y=c.i,v=new Qi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Yi(this,v),this.m=c.m}else c&&(y=String(c).match(Ea))?(this.h=!1,Ta(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Dr(this,y[4]),this.l=zn(y[5]||"",!0),Yi(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Ve.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Sa(y,Fo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Sa(y,Fo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Sa(v,v.charAt(0)=="/"?If:$o,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Sa(v,Ts)),c.join("")};function xn(c){return new Ve(c)}function Ta(c,y,v){c.j=v?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Dr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Yi(c,y,v){y instanceof Qi?(c.i=y,Bu(c.i,c.h)):(v||(y=Sa(y,xf)),c.i=new Qi(y,c.h))}function le(c,y,v){c.i.set(y,v)}function wa(c){return le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,$o=/[#\?:]/g,If=/[#\?]/g,xf=/[#\?@]/g,Ts=/#/g;function Qi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function jn(c){c.g||(c.g=new Map,c.h=0,c.i&&Cf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Qi.prototype,n.add=function(c,y){jn(this),this.i=null,c=_i(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Xi(c,y){jn(c),y=_i(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zi(c,y){return jn(c),y=_i(c,y),c.g.has(y)}n.forEach=function(c,y){jn(this),this.g.forEach(function(v,R){v.forEach(function(F){c.call(y,F,R,this)},this)},this)},n.na=function(){jn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let R=0;R<y.length;R++){const F=c[R];for(let tt=0;tt<F.length;tt++)v.push(y[R])}return v},n.V=function(c){jn(this);let y=[];if(typeof c=="string")Zi(this,c)&&(y=y.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},n.set=function(c,y){return jn(this),this.i=null,c=_i(this,c),Zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ko(c,y,v){Xi(c,y),0<v.length&&(c.i=null,c.g.set(_i(c,y),Z(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var R=y[v];const tt=encodeURIComponent(String(R)),gt=this.V(R);for(R=0;R<gt.length;R++){var F=tt;gt[R]!==""&&(F+="="+encodeURIComponent(String(gt[R]))),c.push(F)}}return this.i=c.join("&")};function _i(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bu(c,y){y&&!c.j&&(jn(c),c.i=null,c.g.forEach(function(v,R){var F=R.toLowerCase();R!=F&&(Xi(this,R),Ko(this,F,v))},c)),c.j=y}function ba(c,y){const v=new Bn;if(d.Image){const R=new Image;R.onload=M(Gn,v,"TestLoadImage: loaded",!0,y,R),R.onerror=M(Gn,v,"TestLoadImage: error",!1,y,R),R.onabort=M(Gn,v,"TestLoadImage: abort",!1,y,R),R.ontimeout=M(Gn,v,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function ni(c,y){const v=new Bn,R=new AbortController,F=setTimeout(()=>{R.abort(),Gn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(tt=>{clearTimeout(F),tt.ok?Gn(v,"TestPingServer: ok",!0,y):Gn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Gn(v,"TestPingServer: error",!1,y)})}function Gn(c,y,v,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(v)}catch{}}function Aa(){this.g=new Rr}function vi(c,y,v){const R=v||"";try{qo(c,function(F,tt){let gt=F;g(F)&&(gt=Oe(F)),y.push(R+tt+"="+encodeURIComponent(gt))})}catch(F){throw y.push(R+"type="+encodeURIComponent("_badmap")),F}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}z(Or,ps),Or.prototype.g=function(){return new Ji(this.l,this.j)},Or.prototype.i=function(c){return function(){return c}}({});function Ji(c,y){$.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Ji,$),n=Ji.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ti(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ei(this):Ti(this),this.readyState==3&&Yo(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ei(this))},n.Qa=function(c){this.g&&(this.response=c,Ei(this))},n.ga=function(){this.g&&Ei(this)};function Ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ti(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return _t(c,function(v,R){y+=R,y+=":",y+=v,y+=`\r
`}),y}function Ke(c,y,v){t:{for(R in v){var R=!1;break t}R=!0}R||(v=Qo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):le(c,y,v))}function ne(c){$.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(ne,$);var ws=/^https?$/i,Ra=["POST","PUT"];n=ne.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?di(this.o):di(mi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(tt){zu(this,tt);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)v.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const tt of R.keys())v.set(tt,R.get(tt));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(tt=>tt.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ra,y,void 0))||R||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,gt]of v)this.g.setRequestHeader(tt,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(c),this.u=!1}catch(tt){zu(this,tt)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ss(c),wi(c)}function Ss(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bs(this):this.bb())},n.bb=function(){bs(this)};function bs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Rt(c.Ea,0,c);else if(St(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const gt=c.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var R;if(R=gt===0){var F=String(c.D).match(Ea)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),R=!ws.test(F?F.toLowerCase():"")}v=R}if(v)St(c,"complete"),St(c,"success");else{c.m=6;try{var tt=2<Hn(c)?c.g.statusText:""}catch{tt=""}c.l=tt+" ["+c.Z()+"]",Ss(c)}}finally{wi(c)}}}}function wi(c,y){if(c.g){Ca(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||St(c,"ready");try{v.onreadystatechange=R}catch{}}}function Ca(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),cn(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(ot(c[R]))continue;var v=N(c[R]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const tt=y[F]||[];y[F]=tt,tt.push(v)}k(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function As(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(c&&c.concurrentRequestLimit),this.Da=new Aa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=As.prototype,n.la=8,n.G=1,n.connect=function(c,y,v,R){ve(0),this.W=c,this.H=y||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=Yu(this,null,this.W),Cs(this)};function Xo(c){if(Gu(c),c.G==3){var y=c.U++,v=xn(c.I);if(le(v,"SID",c.K),le(v,"RID",y),le(v,"TYPE","terminate"),xa(c,v),y=new vn(c,c.j,y),y.L=2,y.v=wa(xn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_a(y)}Ku(c)}function Rs(c){c.g&&(Ma(c),c.g.cancel(),c.g=null)}function Gu(c){Rs(c),c.u&&(d.clearTimeout(c.u),c.u=null),Is(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Cs(c){if(!ys(c.h)&&!c.s){c.s=!0;var y=c.Ga;P||w(),L||(P(),L=!0),K.add(y,c),c.B=0}}function Nf(c,y){return _s(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ke(S(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new vn(this,this.j,c);let tt=this.o;if(this.S&&(tt?(tt=C(tt),V(tt,this.S)):tt=this.S),this.m!==null||this.O||(F.H=tt,tt=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Hu(this,F,y),v=xn(this.I),le(v,"RID",c),le(v,"CVER",22),this.D&&le(v,"X-HTTP-Session-Id",this.D),xa(this,v),tt&&(this.O?y="headers="+encodeURIComponent(String(Qo(tt)))+"&"+y:this.m&&Ke(v,this.m,tt)),vs(this.h,F),this.Ua&&le(v,"TYPE","init"),this.P?(le(v,"$req",y),le(v,"SID","null"),F.T=!0,ei(F,v,null)):ei(F,v,y),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||ys(this.h)||Zo(this))};function Zo(c,y){var v;y?v=y.l:v=c.U++;const R=xn(c.I);le(R,"SID",c.K),le(R,"RID",v),le(R,"AID",c.T),xa(c,R),c.m&&c.o&&Ke(R,c.m,c.o),v=new vn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vs(c.h,v),ei(v,R,y)}function xa(c,y){c.H&&_t(c.H,function(v,R){le(y,R,v)}),c.l&&qo({},function(v,R){le(y,R,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);var R=c.l?S(c.l.Na,c.l,c):null;t:{var F=c.i;let tt=-1;for(;;){const gt=["count="+v];tt==-1?0<v?(tt=F[0].g,gt.push("ofs="+tt)):tt=0:gt.push("ofs="+tt);let Qt=!0;for(let je=0;je<v;je++){let Xt=F[je].g;const Ye=F[je].map;if(Xt-=tt,0>Xt)tt=Math.max(0,F[je].g-100),Qt=!1;else try{vi(Ye,gt,"req"+Xt+"_")}catch{R&&R(Ye)}}if(Qt){R=gt.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,R}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;P||w(),L||(P(),L=!0),K.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ke(S(c.Fa,c),Wo(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ke(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),Rs(this),Fu(this))};function Ma(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=xn(c.qa);le(y,"RID","rpc"),le(y,"SID",c.K),le(y,"AID",c.T),le(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&le(y,"TO",c.ja),le(y,"TYPE","xmlhttp"),xa(c,y),c.m&&c.o&&Ke(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=wa(xn(y)),v.m=null,v.P=!0,$i(v,c)}n.Za=function(){this.C!=null&&(this.C=null,Rs(this),Jo(this),ve(19))};function Is(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function $u(c,y){var v=null;if(c.g==y){Is(c),Ma(c),c.g=null;var R=2}else if(Go(c.h,y))v=y.D,En(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;R=Cr(),St(R,new ze(R,v)),Cs(c)}else qu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(R==1&&Nf(c,y)||R==2&&Jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),F){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function Wo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Wi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),R=c.Xa;const F=!R;R=new Ve(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ta(R,"https"),wa(R),F?ba(R.toString(),v):ni(R.toString(),v)}else ve(2);c.G=0,c.l&&c.l.sa(y),Ku(c),Gu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const y=Ho(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ka,y),Q(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,v){var R=v instanceof Ve?xn(v):new Ve(v);if(R.g!="")y&&(R.g=y+"."+R.g),Dr(R,R.s);else{var F=d.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var tt=new Ve(null);R&&Ta(tt,R),y&&(tt.g=y),F&&Dr(tt,F),v&&(tt.l=v),R=tt}return v=c.D,y=c.ya,v&&y&&le(R,v,y),le(R,"VER",c.la),xa(c,R),R}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ne(new Or({eb:v})):new ne(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}n=Xu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xs(){}xs.prototype.g=function(c,y){return new Tn(c,y)};function Tn(c,y){$.call(this),this.g=new As(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ot(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ot(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Si(this)}z(Tn,$),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Xo(this.g)},Tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Oe(c),c=v);y.i.push(new Lu(y.Ya++,c)),y.G==3&&Cs(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,Tn.aa.N.call(this)};function Zu(c){qi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}z(Zu,qi);function Ju(){Uo.call(this),this.status=1}z(Ju,Uo);function Si(c){this.g=c}z(Si,Xu),Si.prototype.ua=function(){St(this.g,"a")},Si.prototype.ta=function(c){St(this.g,new Zu(c))},Si.prototype.sa=function(c){St(this.g,new Ju)},Si.prototype.ra=function(){St(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,wT=function(){return new xs},TT=function(){return Cr()},ET=pi,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,ph=Mr,Fi.COMPLETE="complete",vT=Fi,Lo.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",$.prototype.listen=$.prototype.K,Fl=Lo,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,_T=ne}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore",Hv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new zm("@firebase/firestore");function ao(){return ss.logLevel}function Et(n,...t){if(ss.logLevel<=qt.DEBUG){const e=t.map(Wm);ss.debug(`Firestore (${Do}): ${n}`,...e)}}function Tr(n,...t){if(ss.logLevel<=qt.ERROR){const e=t.map(Wm);ss.error(`Firestore (${Do}): ${n}`,...e)}}function Eo(n,...t){if(ss.logLevel<=qt.WARN){const e=t.map(Wm);ss.warn(`Firestore (${Do}): ${n}`,...e)}}function Wm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n,t,e){let a="Unexpected state";typeof t=="string"?a=t:e=t,ST(n,a,e)}function ST(n,t,e){let a=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{a+=" CONTEXT: "+JSON.stringify(e)}catch{a+=" CONTEXT: "+e}throw Tr(a),new Error(a)}function ie(n,t,e,a){let o="Unexpected state";typeof e=="string"?o=e:a=e,n||ST(t,o,a)}function Vt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends br{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(pn.UNAUTHENTICATED))}shutdown(){}}class hI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class fI{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ie(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,e(m)):Promise.resolve();let u=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ca,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ca)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ie(typeof a.accessToken=="string",31837,{l:a}),new bT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class dI{constructor(t,e,a){this.P=t,this.T=e,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pI{constructor(t,e,a){this.P=t,this.T=e,this.I=a}getToken(){return Promise.resolve(new dI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ie(this.o===void 0,3512);const a=u=>{u.error!=null&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Et("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ie(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new qv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<n;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=gI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<e&&(a+=t.charAt(o[u]%62))}return a}}function Ft(n,t){return n<t?-1:n>t?1:0}function lm(n,t){const e=Math.min(n.length,t.length);for(let a=0;a<e;a++){const o=n.charAt(a),u=t.charAt(a);if(o!==u)return Vp(o)===Vp(u)?Ft(o,u):Vp(o)?1:-1}return Ft(n.length,t.length)}const yI=55296,_I=57343;function Vp(n){const t=n.charCodeAt(0);return t>=yI&&t<=_I}function To(n,t,e){return n.length===t.length&&n.every((a,o)=>e(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="__name__";class Ni{constructor(t,e,a){e===void 0?e=0:e>t.length&&Nt(637,{offset:e,range:t.length}),a===void 0?a=t.length-e:a>t.length-e&&Nt(1746,{length:a,range:t.length-e}),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let o=0;o<a;o++){const u=Ni.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Ft(t.length,e.length)}static compareSegments(t,e){const a=Ni.isNumericId(t),o=Ni.isNumericId(e);return a&&!o?-1:!a&&o?1:a&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(e)):lm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ua.fromString(t.substring(4,t.length-2))}}class Se extends Ni{construct(t,e,a){return new Se(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new At(ft.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(o=>o.length>0))}return new Se(e)}static emptyPath(){return new Se([])}}const vI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Ni{construct(t,e,a){return new on(t,e,a)}static isValidIdentifier(t){return vI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fv}static keyField(){return new on([Fv])}static fromServerFormat(t){const e=[];let a="",o=0;const u=()=>{if(a.length===0)throw new At(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new At(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new At(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new At(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(e)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(Se.fromString(t))}static fromName(t){return new Ct(Se.fromString(t).popFirst(5))}static empty(){return new Ct(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Se.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new Se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(n,t,e){if(!e)throw new At(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function TI(n,t,e,a){if(t===!0&&a===!0)throw new At(ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function $v(n){if(!Ct.isDocumentKey(n))throw new At(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function eg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Nt(12329,{type:typeof n})}function lu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new At(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=eg(n);throw new At(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,t){const e={typeString:n};return t&&(e.value=t),e}function Au(n,t){if(!AT(n))throw new At(ft.INVALID_ARGUMENT,"JSON must be an object");let e;for(const a in t)if(t[a]){const o=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in n)){e=`JSON missing required field: '${a}'`;break}const h=n[a];if(o&&typeof h!==o){e=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){e=`Expected '${a}' field to equal '${u.value}'`;break}}if(e)throw new At(ft.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-62135596800,Yv=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*Yv);return new ge(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new At(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new At(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Kv)throw new At(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yv}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Au(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Be("string",ge._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new ge(0,0))}static max(){return new kt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function wI(n,t){const e=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(a===1e9?new ge(e+1,0):new ge(e,a));return new ha(o,Ct.empty(),t)}function SI(n){return new ha(n.readTime,n.key,uu)}class ha{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new ha(kt.min(),Ct.empty(),uu)}static max(){return new ha(kt.max(),Ct.empty(),uu)}}function bI(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ct.comparator(n.documentKey,t.documentKey),e!==0?e:Ft(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==AI)throw n;Et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(a,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.reject(e)}static resolve(t){return new ut((e,a)=>{e(t)})}static reject(t){return new ut((e,a)=>{a(t)})}static waitFor(t){return new ut((e,a)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&e()},m=>a(m))}),h=!0,u===o&&e()})}static or(t){let e=ut.resolve(!1);for(const a of t)e=e.next(o=>o?ut.resolve(o):a());return e}static forEach(t,e){const a=[];return t.forEach((o,u)=>{a.push(e.call(this,o,u))}),this.waitFor(a)}static mapArray(t,e){return new ut((a,o)=>{const u=t.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next(_=>{h[g]=_,++d,d===u&&a(h)},_=>o(_))}})}static doWhile(t,e){return new ut((a,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):a()};u()})}}function CI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ko(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>e.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function cf(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function II(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function xI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Qv(t)),t=MI(n.get(e),t);return Qv(t)}function MI(n,t){let e=t;const a=n.length;for(let o=0;o<a;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case RT:e+="";break;default:e+=u}}return e}function Qv(n){return n+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function cs(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function CT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,e){this.comparator=t,this.root=e||sn.EMPTY}insert(t,e){return new be(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return e+a.left.size;o<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eh(this.root,t,this.comparator,!0)}}class eh{constructor(t,e,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?a(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,e,a,o,u){this.key=t,this.value=e,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,o,u){return new sn(t??this.key,e??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,a),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,e,a,o,u){return this}insert(t,e,a){return new sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(t){return new Zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $e(this.comparator);return e.data=t,e}}class Zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new ci([])}unionWith(t){let e=new $e(on.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new ci(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IT("Invalid base64 string: "+u):u}}(t);return new ln(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new ln(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let o=0;o<e.length;o++)a[o]=e.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const NI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(n){if(ie(!!n,39018),typeof n=="string"){let t=0;const e=NI.exec(n);if(ie(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function da(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",MT="__type__",NT="__previous_value__",DT="__local_write_time__";function ig(n){var e,a;return((a=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[MT])==null?void 0:a.stringValue)===xT}function hf(n){const t=n.mapValue.fields[NT];return ig(t)?hf(t):t}function cu(n){const t=fa(n.mapValue.fields[DT].timestampValue);return new ge(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t,e,a,o,u,h,d,m,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const kh="(default)";class hu{constructor(t,e){this.projectId=t,this.database=e||kh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(t){return t instanceof hu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__type__",OI="__max__",nh={mapValue:{}},kT="__vector__",Vh="value";function pa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ig(n)?4:VI(n)?9007199254740991:kI(n)?10:11:Nt(28295,{value:n})}function Bi(n,t){if(n===t)return!0;const e=pa(n);if(e!==pa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return cu(n).isEqual(cu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fa(o.timestampValue),d=fa(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return da(o.bytesValue).isEqual(da(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return Ne(o.geoPointValue.latitude)===Ne(u.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ne(o.integerValue)===Ne(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ne(o.doubleValue),d=Ne(u.doubleValue);return h===d?Oh(h)===Oh(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return To(n.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(Xv(h)!==Xv(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Bi(h[m],d[m])))return!1;return!0}(n,t);default:return Nt(52216,{left:n})}}function fu(n,t){return(n.values||[]).find(e=>Bi(e,t))!==void 0}function wo(n,t){if(n===t)return 0;const e=pa(n),a=pa(t);if(e!==a)return Ft(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=Ne(u.integerValue||u.doubleValue),m=Ne(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return Jv(n.timestampValue,t.timestampValue);case 4:return Jv(cu(n),cu(t));case 5:return lm(n.stringValue,t.stringValue);case 6:return function(u,h){const d=da(u),m=da(h);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Ft(d[g],m[g]);if(_!==0)return _}return Ft(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Ft(Ne(u.latitude),Ne(h.latitude));return d!==0?d:Ft(Ne(u.longitude),Ne(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Wv(n.arrayValue,t.arrayValue);case 10:return function(u,h){var S,M,z,Z;const d=u.fields||{},m=h.fields||{},g=(S=d[Vh])==null?void 0:S.arrayValue,_=(M=m[Vh])==null?void 0:M.arrayValue,T=Ft(((z=g==null?void 0:g.values)==null?void 0:z.length)||0,((Z=_==null?void 0:_.values)==null?void 0:Z.length)||0);return T!==0?T:Wv(g,_)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===nh.mapValue&&h===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(h===nh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const S=lm(m[T],_[T]);if(S!==0)return S;const M=wo(d[m[T]],g[_[T]]);if(M!==0)return M}return Ft(m.length,_.length)}(n.mapValue,t.mapValue);default:throw Nt(23264,{he:e})}}function Jv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ft(n,t);const e=fa(n),a=fa(t),o=Ft(e.seconds,a.seconds);return o!==0?o:Ft(e.nanos,a.nanos)}function Wv(n,t){const e=n.values||[],a=t.values||[];for(let o=0;o<e.length&&o<a.length;++o){const u=wo(e[o],a[o]);if(u)return u}return Ft(e.length,a.length)}function So(n){return um(n)}function um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const a=fa(e);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return da(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Ct.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let a="[",o=!0;for(const u of e.values||[])o?o=!1:a+=",",a+=um(u);return a+"]"}(n.arrayValue):"mapValue"in n?function(e){const a=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${um(e.fields[h])}`;return o+"}"}(n.mapValue):Nt(61005,{value:n})}function mh(n){switch(pa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hf(n);return t?16+mh(t):16;case 5:return 2*n.stringValue.length;case 6:return da(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+mh(u),0)}(n.arrayValue);case 10:case 11:return function(a){let o=0;return cs(a.fields,(u,h)=>{o+=u.length+mh(h)}),o}(n.mapValue);default:throw Nt(13486,{value:n})}}function cm(n){return!!n&&"integerValue"in n}function rg(n){return!!n&&"arrayValue"in n}function t1(n){return!!n&&"nullValue"in n}function e1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gh(n){return!!n&&"mapValue"in n}function kI(n){var e,a;return((a=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[OT])==null?void 0:a.stringValue)===kT}function eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return cs(n.mapValue.fields,(e,a)=>t.mapValue.fields[e]=eu(a)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=eu(n.arrayValue.values[e]);return t}return{...n}}function VI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===OI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.value=t}static empty(){return new Zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!gh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=eu(e)}setAll(t){let e=on.emptyPath(),a={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,a,o),a={},o=[],e=d.popLast()}h?a[d.lastSegment()]=eu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,a,o)}delete(t){const e=this.field(t.popLast());gh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=e.mapValue.fields[t.get(a)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,a){cs(e,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new Zn(eu(this.value))}}function VT(n){const t=[];return cs(n.fields,(e,a)=>{const o=new on([e]);if(gh(a)){const u=VT(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new ci(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,e,a,o,u,h,d){this.key=t,this.documentType=e,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new mn(t,0,kt.min(),kt.min(),kt.min(),Zn.empty(),0)}static newFoundDocument(t,e,a,o){return new mn(t,1,e,kt.min(),a,o,0)}static newNoDocument(t,e){return new mn(t,2,e,kt.min(),kt.min(),Zn.empty(),0)}static newUnknownDocument(t,e){return new mn(t,3,e,kt.min(),kt.min(),Zn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,e){this.position=t,this.inclusive=e}}function n1(n,t,e){let a=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?a=Ct.comparator(Ct.fromName(h.referenceValue),e.key):a=wo(h,e.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function i1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Bi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e="asc"){this.field=t,this.dir=e}}function PI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{}class Fe extends PT{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new UI(t,e,a):e==="array-contains"?new jI(t,a):e==="in"?new GI(t,a):e==="not-in"?new HI(t,a):e==="array-contains-any"?new qI(t,a):new Fe(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new BI(t,a):new zI(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(wo(e,this.value)):e!==null&&pa(this.value)===pa(e)&&this.matchesComparison(wo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends PT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new zi(t,e)}matches(t){return LT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LT(n){return n.op==="and"}function UT(n){return LI(n)&&LT(n)}function LI(n){for(const t of n.filters)if(t instanceof zi)return!1;return!0}function hm(n){if(n instanceof Fe)return n.field.canonicalString()+n.op.toString()+So(n.value);if(UT(n))return n.filters.map(t=>hm(t)).join(",");{const t=n.filters.map(e=>hm(e)).join(",");return`${n.op}(${t})`}}function BT(n,t){return n instanceof Fe?function(a,o){return o instanceof Fe&&a.op===o.op&&a.field.isEqual(o.field)&&Bi(a.value,o.value)}(n,t):n instanceof zi?function(a,o){return o instanceof zi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&BT(h,o.filters[d]),!0):!1}(n,t):void Nt(19439)}function zT(n){return n instanceof Fe?function(e){return`${e.field.canonicalString()} ${e.op} ${So(e.value)}`}(n):n instanceof zi?function(e){return e.op.toString()+" {"+e.getFilters().map(zT).join(" ,")+"}"}(n):"Filter"}class UI extends Fe{constructor(t,e,a){super(t,e,a),this.key=Ct.fromName(a.referenceValue)}matches(t){const e=Ct.comparator(t.key,this.key);return this.matchesComparison(e)}}class BI extends Fe{constructor(t,e){super(t,"in",e),this.keys=jT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zI extends Fe{constructor(t,e){super(t,"not-in",e),this.keys=jT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function jT(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map(a=>Ct.fromName(a.referenceValue))}class jI extends Fe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return rg(e)&&fu(e.arrayValue,this.value)}}class GI extends Fe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&fu(this.value.arrayValue,e)}}class HI extends Fe{constructor(t,e){super(t,"not-in",e)}matches(t){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!fu(this.value.arrayValue,e)}}class qI extends Fe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!rg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>fu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,e=null,a=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function r1(n,t=null,e=[],a=[],o=null,u=null,h=null){return new FI(n,t,e,a,o,u,h)}function ag(n){const t=Vt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>hm(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),cf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>So(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>So(a)).join(",")),t.Te=e}return t.Te}function sg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!PI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!BT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!i1(n.startAt,t.startAt)&&i1(n.endAt,t.endAt)}function fm(n){return Ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,e=null,a=[],o=[],u=null,h="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $I(n,t,e,a,o,u,h,d){return new ff(n,t,e,a,o,u,h,d)}function og(n){return new ff(n)}function a1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KI(n){return n.collectionGroup!==null}function nu(n){const t=Vt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new $e(on.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Lh(u,a))}),e.has(on.keyField().canonicalString())||t.Ie.push(new Lh(on.keyField(),a))}return t.Ie}function Oi(n){const t=Vt(n);return t.Ee||(t.Ee=YI(t,nu(n))),t.Ee}function YI(n,t){if(n.limitType==="F")return r1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Lh(o.field,u)});const e=n.endAt?new Ph(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new Ph(n.startAt.position,n.startAt.inclusive):null;return r1(n.path,n.collectionGroup,t,n.filters,n.limit,e,a)}}function dm(n,t,e){return new ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function df(n,t){return sg(Oi(n),Oi(t))&&n.limitType===t.limitType}function GT(n){return`${ag(Oi(n))}|lt:${n.limitType}`}function so(n){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(o=>zT(o)).join(", ")}]`),cf(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(o=>So(o)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(o=>So(o)).join(",")),`Target(${a})`}(Oi(n))}; limitType=${n.limitType})`}function pf(n,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ct.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(n,t)&&function(a,o){for(const u of nu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(a,o){return!(a.startAt&&!function(h,d,m){const g=n1(h,d,m);return h.inclusive?g<=0:g<0}(a.startAt,nu(a),o)||a.endAt&&!function(h,d,m){const g=n1(h,d,m);return h.inclusive?g>=0:g>0}(a.endAt,nu(a),o))}(n,t)}function QI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HT(n){return(t,e)=>{let a=!1;for(const o of nu(n)){const u=XI(o,t,e);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function XI(n,t,e){const a=n.field.isKeyField()?Ct.comparator(t.key,e.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?wo(m,g):Nt(42886)}(n.field,t,e);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Nt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[e]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){cs(this.inner,(e,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new be(Ct.comparator);function wr(){return ZI}const qT=new be(Ct.comparator);function $l(...n){let t=qT;for(const e of n)t=t.insert(e.key,e);return t}function FT(n){let t=qT;return n.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function Xa(){return iu()}function $T(){return iu()}function iu(){return new hs(n=>n.toString(),(n,t)=>n.isEqual(t))}const JI=new be(Ct.comparator),WI=new $e(Ct.comparator);function $t(...n){let t=WI;for(const e of n)t=t.add(e);return t}const tx=new $e(Ft);function ex(){return tx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(t)?"-0":t}}function KT(n){return{integerValue:""+n}}function nx(n,t){return II(t)?KT(t):lg(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function ix(n,t,e){return n instanceof Uh?function(o,u){const h={fields:{[MT]:{stringValue:xT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=hf(u)),u&&(h.fields[NT]=u),{mapValue:h}}(e,t):n instanceof du?QT(n,t):n instanceof pu?XT(n,t):function(o,u){const h=YT(o,u),d=s1(h)+s1(o.Ae);return cm(h)&&cm(o.Ae)?KT(d):lg(o.serializer,d)}(n,t)}function rx(n,t,e){return n instanceof du?QT(n,t):n instanceof pu?XT(n,t):e}function YT(n,t){return n instanceof Bh?function(a){return cm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Uh extends mf{}class du extends mf{constructor(t){super(),this.elements=t}}function QT(n,t){const e=ZT(t);for(const a of n.elements)e.some(o=>Bi(o,a))||e.push(a);return{arrayValue:{values:e}}}class pu extends mf{constructor(t){super(),this.elements=t}}function XT(n,t){let e=ZT(t);for(const a of n.elements)e=e.filter(o=>!Bi(o,a));return{arrayValue:{values:e}}}class Bh extends mf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function s1(n){return Ne(n.integerValue||n.doubleValue)}function ZT(n){return rg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ax(n,t){return n.field.isEqual(t.field)&&function(a,o){return a instanceof du&&o instanceof du||a instanceof pu&&o instanceof pu?To(a.elements,o.elements,Bi):a instanceof Bh&&o instanceof Bh?Bi(a.Ae,o.Ae):a instanceof Uh&&o instanceof Uh}(n.transform,t.transform)}class sx{constructor(t,e){this.version=t,this.transformResults=e}}class _r{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new _r}static exists(t){return new _r(void 0,t)}static updateTime(t){return new _r(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class gf{}function JT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new tw(n.key,_r.none()):new Ru(n.key,n.data,_r.none());{const e=n.data,a=Zn.empty();let o=new $e(on.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new fs(n.key,a,new ci(o.toArray()),_r.none())}}function ox(n,t,e){n instanceof Ru?function(o,u,h){const d=o.value.clone(),m=l1(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,e):n instanceof fs?function(o,u,h){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=l1(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(WT(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function ru(n,t,e,a){return n instanceof Ru?function(u,h,d,m){if(!yh(u.precondition,h))return d;const g=u.value.clone(),_=u1(u.fieldTransforms,m,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,e,a):n instanceof fs?function(u,h,d,m){if(!yh(u.precondition,h))return d;const g=u1(u.fieldTransforms,m,h),_=h.data;return _.setAll(WT(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(n,t,e,a):function(u,h,d){return yh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,e)}function lx(n,t){let e=null;for(const a of n.fieldTransforms){const o=t.data.field(a.field),u=YT(a.transform,o||null);u!=null&&(e===null&&(e=Zn.empty()),e.set(a.field,u))}return e||null}function o1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&To(a,o,(u,h)=>ax(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ru extends gf{constructor(t,e,a,o=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends gf{constructor(t,e,a,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=n.data.field(e);t.set(e,a)}}),t}function l1(n,t,e){const a=new Map;ie(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);a.set(u.field,rx(h,d,e[o]))}return a}function u1(n,t,e){const a=new Map;for(const o of n){const u=o.transform,h=e.data.field(o.field);a.set(o.field,ix(u,h,t))}return a}class tw extends gf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ux extends gf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,e,a,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&ox(u,t,a[o])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=ru(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=ru(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=$T();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=e.has(o.key)?null:d;const m=JT(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(kt.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),$t())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,(e,a)=>o1(e,a))&&To(this.baseMutations,t.baseMutations,(e,a)=>o1(e,a))}}class ug{constructor(t,e,a,o){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=o}static from(t,e,a){ie(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=function(){return JI}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new ug(t,e,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,Jt;function dx(n){switch(n){case ft.OK:return Nt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Nt(15467,{code:n})}}function ew(n){if(n===void 0)return Tr("GRPC error has no .code"),ft.UNKNOWN;switch(n){case Ue.OK:return ft.OK;case Ue.CANCELLED:return ft.CANCELLED;case Ue.UNKNOWN:return ft.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return ft.INTERNAL;case Ue.UNAVAILABLE:return ft.UNAVAILABLE;case Ue.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Ue.NOT_FOUND:return ft.NOT_FOUND;case Ue.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Ue.ABORTED:return ft.ABORTED;case Ue.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Ue.DATA_LOSS:return ft.DATA_LOSS;default:return Nt(39323,{code:n})}}(Jt=Ue||(Ue={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new ua([4294967295,4294967295],0);function c1(n){const t=px().encode(n),e=new yT;return e.update(t),new Uint8Array(e.digest())}function h1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ua([e,a],0),new ua([o,u],0)]}class cg{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new Kl(`Invalid padding: ${e}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ua.fromNumber(this.ge)}ye(t,e,a){let o=t.add(e.multiply(ua.fromNumber(a)));return o.compare(mx)===1&&(o=new ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=c1(t),[a,o]=h1(e);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(t,e,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new cg(u,o,e);return a.forEach(d=>h.insert(d)),h}insert(t){if(this.ge===0)return;const e=c1(t),[a,o]=h1(e);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.Se(h)}}Se(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,e,a,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const o=new Map;return o.set(t,Cu.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new yf(kt.min(),o,new be(Ft),wr(),$t())}}class Cu{constructor(t,e,a,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new Cu(a,e,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,e,a,o){this.be=t,this.removedTargetIds=e,this.key=a,this.De=o}}class nw{constructor(t,e){this.targetId=t,this.Ce=e}}class iw{constructor(t,e,a=ln.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=o}}class f1{constructor(){this.ve=0,this.Fe=d1(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=$t(),e=$t(),a=$t();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:a=a.add(o);break;default:Nt(38017,{changeType:u})}}),new Cu(this.Me,this.xe,t,e,a)}qe(){this.Oe=!1,this.Fe=d1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gx{constructor(t){this.Ge=t,this.ze=new Map,this.je=wr(),this.Je=ih(),this.He=ih(),this.Ye=new be(Ft)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const a=this.nt(e);switch(t.state){case 0:this.rt(e)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),a.Le(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((a,o)=>{this.rt(o)&&e(o)})}st(t){const e=t.targetId,a=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(fm(u))if(a===0){const h=new Ct(u.path);this.et(e,h,mn.newNoDocument(h,kt.min()))}else ie(a===1,20013,{expectedCount:a});else{const h=this._t(e);if(h!==a){const d=this.ut(t),m=d?this.ct(d,t,h):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=e;let h,d;try{h=da(a).toUint8Array()}catch(m){if(m instanceof IT)return Eo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new cg(h,o,u)}catch(m){return Eo(m instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,a){return e.Ce.count===a-this.Pt(t,e.targetId)?0:2}Pt(t,e){const a=this.Ge.getRemoteKeysForTarget(e);let o=0;return a.forEach(u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)}),o}Tt(t){const e=new Map;this.ze.forEach((u,h)=>{const d=this.ot(h);if(d){if(u.current&&fm(d.target)){const m=new Ct(d.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,mn.newNoDocument(m,t))}u.Be&&(e.set(h,u.ke()),u.qe())}});let a=$t();this.He.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.je.forEach((u,h)=>h.setReadTime(t));const o=new yf(t,e,this.Ye,this.je,a);return this.je=wr(),this.Je=ih(),this.He=ih(),this.Ye=new be(Ft),o}Xe(t,e){if(!this.rt(t))return;const a=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,a),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),a&&(this.je=this.je.insert(e,a))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new f1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new $e(Ft),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new $e(Ft),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Et("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new f1),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ih(){return new be(Ct.comparator)}function d1(){return new be(Ct.comparator)}const yx={asc:"ASCENDING",desc:"DESCENDING"},_x={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vx={and:"AND",or:"OR"};class Ex{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function pm(n,t){return n.useProto3Json||cf(t)?t:{value:t}}function zh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Tx(n,t){return zh(n,t.toTimestamp())}function ki(n){return ie(!!n,49232),kt.fromTimestamp(function(e){const a=fa(e);return new ge(a.seconds,a.nanos)}(n))}function hg(n,t){return mm(n,t).canonicalString()}function mm(n,t){const e=function(o){return new Se(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?e:e.child(t)}function aw(n){const t=Se.fromString(n);return ie(cw(t),10190,{key:t.toString()}),t}function gm(n,t){return hg(n.databaseId,t.path)}function Pp(n,t){const e=aw(t);if(e.get(1)!==n.databaseId.projectId)throw new At(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new At(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ct(ow(e))}function sw(n,t){return hg(n.databaseId,t)}function wx(n){const t=aw(n);return t.length===4?Se.emptyPath():ow(t)}function ym(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ow(n){return ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function p1(n,t,e){return{name:gm(n,t),fields:e.value.mapValue.fields}}function Sx(n,t){let e;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Nt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(ie(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(ie(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ft.UNKNOWN:ew(g.code);return new At(_,g.message||"")}(h);e=new iw(a,o,u,d||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pp(n,a.document.name),u=ki(a.document.updateTime),h=a.document.createTime?ki(a.document.createTime):kt.min(),d=new Zn({mapValue:{fields:a.document.fields}}),m=mn.newFoundDocument(o,u,h,d),g=a.targetIds||[],_=a.removedTargetIds||[];e=new _h(g,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Pp(n,a.document),u=a.readTime?ki(a.readTime):kt.min(),h=mn.newNoDocument(o,u),d=a.removedTargetIds||[];e=new _h([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Pp(n,a.document),u=a.removedTargetIds||[];e=new _h([],u,o,null)}else{if(!("filter"in t))return Nt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new fx(o,u),d=a.targetId;e=new nw(d,h)}}return e}function bx(n,t){let e;if(t instanceof Ru)e={update:p1(n,t.key,t.value)};else if(t instanceof tw)e={delete:gm(n,t.key)};else if(t instanceof fs)e={update:p1(n,t.key,t.data),updateMask:Ox(t.fieldMask)};else{if(!(t instanceof ux))return Nt(16599,{Vt:t.type});e={verify:gm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bh)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Nt(20930,{transform:h.transform})}(0,a))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Tx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Nt(27497)}(n,t.precondition)),e}function Ax(n,t){return n&&n.length>0?(ie(t!==void 0,14353),n.map(e=>function(o,u){let h=o.updateTime?ki(o.updateTime):ki(u);return h.isEqual(kt.min())&&(h=ki(u)),new sx(h,o.transformResults||[])}(e,t))):[]}function Rx(n,t){return{documents:[sw(n,t.path)]}}function Cx(n,t){const e={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=sw(n,o);const u=function(g){if(g.length!==0)return uw(zi.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:oo(S.field),direction:Mx(S.dir)}}(_))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=pm(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:e,parent:o}}function Ix(n){let t=wx(n.parent);const e=n.structuredQuery,a=e.from?e.from.length:0;let o=null;if(a>0){ie(a===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=function(T){const S=lw(T);return S instanceof zi&&UT(S)?S.getFilters():[S]}(e.where));let h=[];e.orderBy&&(h=function(T){return T.map(S=>function(z){return new Lh(lo(z.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(S))}(e.orderBy));let d=null;e.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,cf(S)?null:S}(e.limit));let m=null;e.startAt&&(m=function(T){const S=!!T.before,M=T.values||[];return new Ph(M,S)}(e.startAt));let g=null;return e.endAt&&(g=function(T){const S=!T.before,M=T.values||[];return new Ph(M,S)}(e.endAt)),$I(t,o,h,u,d,"F",m,g)}function xx(n,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function lw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=lo(e.unaryFilter.field);return Fe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(e.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(e.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(e.unaryFilter.field);return Fe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Fe.create(lo(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return zi.create(e.compositeFilter.filters.map(a=>lw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(e.compositeFilter.op))}(n):Nt(30097,{filter:n})}function Mx(n){return yx[n]}function Nx(n){return _x[n]}function Dx(n){return vx[n]}function oo(n){return{fieldPath:n.canonicalString()}}function lo(n){return on.fromServerFormat(n.fieldPath)}function uw(n){return n instanceof Fe?function(e){if(e.op==="=="){if(e1(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NAN"}};if(t1(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(e1(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NOT_NAN"}};if(t1(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(e.field),op:Nx(e.op),value:e.value}}}(n):n instanceof zi?function(e){const a=e.getFilters().map(o=>uw(o));return a.length===1?a[0]:{compositeFilter:{op:Dx(e.op),filters:a}}}(n):Nt(54877,{filter:n})}function Ox(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function cw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,e,a,o,u=kt.min(),h=kt.min(),d=ln.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new aa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this.yt=t}}function Vx(n){const t=Ix({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Cn=new Lx}addToCollectionParentIndex(t,e){return this.Cn.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(ha.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(ha.min())}updateCollectionGroup(t,e,a){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class Lx{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e]||new $e(Se.comparator),u=!o.has(a);return this.index[e]=o.add(a),u}has(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e];return o&&o.has(a)}getEntries(t){return(this.index[t]||new $e(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hw=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(hw,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="LruGarbageCollector",Ux=1048576;function y1([n,t],[e,a]){const o=Ft(n,e);return o===0?Ft(t,a):o}class Bx{constructor(t){this.Ir=t,this.buffer=new $e(y1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();y1(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zx{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Et(g1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ko(e)?Et(g1,"Ignoring IndexedDB error during garbage collection: ",e):await Oo(e)}await this.Vr(3e5)})}}class jx{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return ut.resolve(uf.ce);const a=new Bx(e);return this.mr.forEachTarget(t,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.mr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(m1)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m1):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let a,o,u,h,d,m,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o))).next(T=>(a=T,d=Date.now(),this.removeTargets(t,a,e))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,a))).next(T=>(g=Date.now(),ao()<=qt.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function Gx(n,t){return new jx(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.changes=new hs(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?ut.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,e,a,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(a!==null&&ru(a.mutation,o,ci.empty(),ge.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,$t()).next(()=>a))}getLocalViewOfDocuments(t,e,a=$t()){const o=Xa();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,a).next(u=>{let h=$l();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const a=Xa();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,$t()))}populateOverlays(t,e,a){const o=[];return a.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,a,o){let u=wr();const h=iu(),d=function(){return iu()}();return e.forEach((m,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof fs)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),ru(_.mutation,g,_.mutation.getFieldMask(),ge.now())):h.set(g.key,ci.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,_)=>h.set(g,_)),e.forEach((g,_)=>d.set(g,new qx(_,h.get(g)??null))),d))}recalculateAndSaveOverlays(t,e){const a=iu();let o=new be((h,d)=>h-d),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let _=a.get(m)||ci.empty();_=d.applyToLocalView(g,_),a.set(m,_);const T=(o.get(d.batchId)||$t()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=$T();_.forEach(S=>{if(!u.has(S)){const M=JT(e.get(S),a.get(S));M!==null&&T.set(S,M),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return ut.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,o){return function(h){return Ct.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):KI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,o):this.getDocumentsMatchingCollectionQuery(t,e,a,o)}getNextDocuments(t,e,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,o-u.size):ut.resolve(Xa());let d=uu,m=u;return h.next(g=>ut.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?ut.resolve():this.remoteDocumentCache.getEntry(t,_).next(S=>{m=m.insert(_,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,$t())).next(_=>({batchId:d,changes:FT(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ct(e)).next(a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,a,o){const u=e.collectionGroup;let h=$l();return this.indexManager.getCollectionParents(t,u).next(d=>ut.forEach(d,m=>{const g=function(T,S){return new ff(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(_=>{_.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,u,o))).next(h=>{u.forEach((m,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,mn.newInvalidDocument(_)))});let d=$l();return h.forEach((m,g)=>{const _=u.get(m);_!==void 0&&ru(_.mutation,g,ci.empty(),ge.now()),pf(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ut.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}}(e)),ut.resolve()}getNamedQuery(t,e){return ut.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(o){return{name:o.name,query:Vx(o.bundledQuery),readTime:ki(o.readTime)}}(e)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.overlays=new be(Ct.comparator),this.qr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const a=Xa();return ut.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((o,u)=>{this.St(t,e,u)}),ut.resolve()}removeOverlaysForBatchId(t,e,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(a)),ut.resolve()}getOverlaysForCollection(t,e,a){const o=Xa(),u=e.length+1,h=new Ct(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return ut.resolve(o)}getOverlaysForCollectionGroup(t,e,a,o){let u=new be((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=Xa(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Xa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ut.resolve(d)}St(t,e,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new hx(e,a));let u=this.qr.get(e);u===void 0&&(u=$t(),this.qr.set(e,u)),this.qr.set(e,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Qr=new $e(Je.$r),this.Ur=new $e(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const a=new Je(t,e);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.Gr(new Je(t,e))}zr(t,e){t.forEach(a=>this.removeReference(a,e))}jr(t){const e=new Ct(new Se([])),a=new Je(e,t),o=new Je(e,t+1),u=[];return this.Ur.forEachInRange([a,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Ct(new Se([])),a=new Je(e,t),o=new Je(e,t+1);let u=$t();return this.Ur.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new Je(t,0),a=this.Qr.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class Je{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Ct.comparator(t.key,e.key)||Ft(t.Yr,e.Yr)}static Kr(t,e){return Ft(t.Yr,e.Yr)||Ct.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new $e(Je.$r)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cx(u,e,a,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Je(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ut.resolve(h)}lookupMutationBatch(t,e){return ut.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,o=this.ei(a),u=o<0?0:o;return ut.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?ng:this.tr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new Je(e,0),o=new Je(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],h=>{const d=this.Xr(h.Yr);u.push(d)}),ut.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new $e(Ft);return e.forEach(o=>{const u=new Je(o,0),h=new Je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],d=>{a=a.add(d.Yr)})}),ut.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,o=a.length+1;let u=a;Ct.isDocumentKey(u)||(u=u.child(""));const h=new Je(new Ct(u),0);let d=new $e(Ft);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)},h),ut.resolve(this.ti(d))}ti(t){const e=[];return t.forEach(a=>{const o=this.Xr(a);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){ie(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ut.forEach(e.mutations,o=>{const u=new Je(o.key,e.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=a})}ir(t){}containsKey(t,e){const a=new Je(e,0),o=this.Zr.firstAfterOrEqual(a);return ut.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t){this.ri=t,this.docs=function(){return new be(Ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,o=this.docs.get(a),u=o?o.size:0,h=this.ri(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return ut.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(e))}getEntries(t,e){let a=wr();return e.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),ut.resolve(a)}getDocumentsMatchingQuery(t,e,a,o){let u=wr();const h=e.path,d=new Ct(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||bI(SI(_),a)<=0||(o.has(_.key)||pf(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ut.resolve(u)}getAllFromCollectionGroup(t,e,a,o){Nt(9500)}ii(t,e){return ut.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new Zx(this)}getSize(t){return ut.resolve(this.size)}}class Zx extends Hx{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)}),ut.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t){this.persistence=t,this.si=new hs(e=>ag(e),sg),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=bo.ur()}forEachTarget(t,e){return this.si.forEach((a,o)=>e(o)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this.oi&&(this.oi=e),ut.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new bo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.Pr(e),ut.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,a){let o=0;const u=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=e&&a.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),ut.waitFor(u).next(()=>o)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const a=this.si.get(e)||null;return ut.resolve(a)}addMatchingKeys(t,e,a){return this._i.Wr(e,a),ut.resolve()}removeMatchingKeys(t,e,a){this._i.zr(e,a);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),ut.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const a=this._i.Hr(e);return ut.resolve(a)}containsKey(t,e){return ut.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,e){this.ui={},this.overlays={},this.ci=new uf(0),this.li=!1,this.li=!0,this.hi=new Yx,this.referenceDelegate=t(this),this.Pi=new Jx(this),this.indexManager=new Px,this.remoteDocumentCache=function(o){return new Xx(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new kx(e),this.Ii=new $x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Kx,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.ui[t.toKey()];return a||(a=new Qx(e,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,a){Et("MemoryPersistence","Starting transaction:",t);const o=new Wx(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,e){return ut.or(Object.values(this.ui).map(a=>()=>a.containsKey(t,e)))}}class Wx extends RI{constructor(t){super(),this.currentSequenceNumber=t}}class dg{constructor(t){this.persistence=t,this.Ri=new fg,this.Vi=null}static mi(t){return new dg(t)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(t,e,a){return this.Ri.addReference(a,e),this.fi.delete(a.toString()),ut.resolve()}removeReference(t,e,a){return this.Ri.removeReference(a,e),this.fi.add(a.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ut.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>a.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.fi,a=>{const o=Ct.fromPath(a);return this.gi(t,o).next(u=>{u||e.removeEntry(o,kt.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(a=>{a?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return ut.or([()=>ut.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class jh{constructor(t,e){this.persistence=t,this.pi=new hs(a=>xI(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Gx(this,e)}static mi(t,e){return new jh(t,e)}Ei(){}di(t){return ut.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(o=>a+o))}wr(t){let e=0;return this.pr(t,a=>{e++}).next(()=>e)}pr(t,e){return ut.forEach(this.pi,(a,o)=>this.br(t,a,o).next(u=>u?ut.resolve():e(o)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,h=>this.br(t,h,e).next(d=>{d||(a++,u.removeEntry(h,kt.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ut.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.pi.set(a,t.currentSequenceNumber),ut.resolve()}removeReference(t,e,a){return this.pi.set(a,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ut.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=mh(t.data.value)),e}br(t,e,a){return ut.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return ut.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,e,a,o){this.targetId=t,this.fromCache=e,this.Es=a,this.ds=o}static As(t,e){let a=$t(),o=$t();for(const u of e.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pg(t,e.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return qA()?8:CI(gn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,a,o){const u={result:null};return this.ys(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(t,e,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new tM;return this.Ss(t,e,h).next(d=>{if(u.result=d,this.Vs)return this.bs(t,e,h,d.size)})}).next(()=>u.result)}bs(t,e,a,o){return a.documentReadCount<this.fs?(ao()<=qt.DEBUG&&Et("QueryEngine","SDK will not create cache indexes for query:",so(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ut.resolve()):(ao()<=qt.DEBUG&&Et("QueryEngine","Query:",so(e),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ao()<=qt.DEBUG&&Et("QueryEngine","The SDK decides to create cache indexes for query:",so(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(e))):ut.resolve())}ys(t,e){if(a1(e))return ut.resolve(null);let a=Oi(e);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=dm(e,null,"F"),a=Oi(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=$t(...u);return this.ps.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,a).next(m=>{const g=this.Ds(e,d);return this.Cs(e,g,h,m.readTime)?this.ys(t,dm(e,null,"F")):this.vs(t,g,e,m)}))})))}ws(t,e,a,o){return a1(e)||o.isEqual(kt.min())?ut.resolve(null):this.ps.getDocuments(t,a).next(u=>{const h=this.Ds(e,u);return this.Cs(e,h,a,o)?ut.resolve(null):(ao()<=qt.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(e)),this.vs(t,h,e,wI(o,uu)).next(d=>d))})}Ds(t,e){let a=new $e(HT(t));return e.forEach((o,u)=>{pf(t,u)&&(a=a.add(u))}),a}Cs(t,e,a,o){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,a){return ao()<=qt.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",so(e)),this.ps.getDocumentsMatchingQuery(t,e,ha.min(),a)}vs(t,e,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",nM=3e8;class iM{constructor(t,e,a,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new be(Ft),this.xs=new hs(u=>ag(u),sg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function rM(n,t,e,a){return new iM(n,t,e,a)}async function dw(n,t){const e=Vt(n);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let o;return e.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let m=$t();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(a,m).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function aM(n,t){const e=Vt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,S=T.keys();let M=ut.resolve();return S.forEach(z=>{M=M.next(()=>_.getEntry(m,z)).next(Z=>{const Q=g.docVersions.get(z);ie(Q!==null,48541),Z.version.compareTo(Q)<0&&(T.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),_.addEntry(Z)))})}),M.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(e,a,t,u).next(()=>u.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=$t();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(a,o))})}function pw(n){const t=Vt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function sM(n,t){const e=Vt(n),a=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach((_,T)=>{const S=o.get(T);if(!S)return;d.push(e.Pi.removeMatchingKeys(u,_.removedDocuments,T).next(()=>e.Pi.addMatchingKeys(u,_.addedDocuments,T)));let M=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?M=M.withResumeToken(ln.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,a)),o=o.insert(T,M),function(Z,Q,ht){return Z.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=nM?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0}(S,M,_)&&d.push(e.Pi.updateTargetData(u,M))});let m=wr(),g=$t();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(oM(u,h,t.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!a.isEqual(kt.min())){const _=e.Pi.getLastRemoteSnapshotVersion(u).next(T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(_)}return ut.waitFor(d).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(e.Ms=o,u))}function oM(n,t,e){let a=$t(),o=$t();return e.forEach(u=>a=a.add(u)),t.getEntries(n,a).next(u=>{let h=wr();return e.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(kt.min())?(t.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),h=h.insert(d,m)):Et(mg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:h,qs:o}})}function lM(n,t){const e=Vt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=ng),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function uM(n,t){const e=Vt(n);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return e.Pi.getTargetData(a,t).next(u=>u?(o=u,ut.resolve(o)):e.Pi.allocateTargetId(a).next(h=>(o=new aa(t,h,"TargetPurposeListen",a.currentSequenceNumber),e.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=e.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(a.targetId,a),e.xs.set(t,a.targetId)),a})}async function _m(n,t,e){const a=Vt(n),o=a.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ko(h))throw h;Et(mg,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function _1(n,t,e){const a=Vt(n);let o=kt.min(),u=$t();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,_){const T=Vt(m),S=T.xs.get(_);return S!==void 0?ut.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,_)}(a,h,Oi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>a.Fs.getDocumentsMatchingQuery(h,t,e?o:kt.min(),e?u:$t())).next(d=>(cM(a,QI(t),d),{documents:d,Qs:u})))}function cM(n,t,e){let a=n.Os.get(t)||kt.min();e.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),n.Os.set(t,a)}class v1{constructor(){this.activeTargetIds=ex()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hM{constructor(){this.Mo=new v1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,a){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new v1,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="ConnectivityMonitor";class T1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Et(E1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Et(E1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function vm(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="RestConnection",dM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===kh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,e,a,o,u){const h=vm(),d=this.zo(t,e.toUriEncodedString());Et(Lp,`Sending RPC '${t}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),_=xo(g);return this.Jo(t,d,m,a,_).then(T=>(Et(Lp,`Received RPC '${t}' ${h}: `,T),T),T=>{throw Eo(Lp,`RPC '${t}' ${h} failed with error: `,T,"url: ",d,"request:",a),T})}Ho(t,e,a,o,u,h){return this.Go(t,e,a,o,u)}jo(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}zo(t,e){const a=dM[t];return`${this.Uo}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class gM extends pM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,a,o,u){const h=vm();return new Promise((d,m)=>{const g=new _T;g.setWithCredentials(!0),g.listenOnce(vT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ph.NO_ERROR:const T=g.getResponseJson();Et(dn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),d(T);break;case ph.TIMEOUT:Et(dn,`RPC '${t}' ${h} timed out`),m(new At(ft.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const S=g.getStatus();if(Et(dn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const z=M==null?void 0:M.error;if(z&&z.status&&z.message){const Z=function(ht){const ot=ht.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(ot)>=0?ot:ft.UNKNOWN}(z.status);m(new At(Z,z.message))}else m(new At(ft.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new At(ft.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Et(dn,`RPC '${t}' ${h} completed.`)}});const _=JSON.stringify(o);Et(dn,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",_,a,15)})}T_(t,e,a){const o=vm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=wT(),d=TT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,a),m.encodeInitMessageHeaders=!0;const _=u.join("");Et(dn,`Creating RPC '${t}' stream ${o}: ${_}`,m);const T=h.createWebChannel(_,m);this.I_(T);let S=!1,M=!1;const z=new mM({Yo:Q=>{M?Et(dn,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(S||(Et(dn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),Et(dn,`RPC '${t}' stream ${o} sending:`,Q),T.send(Q))},Zo:()=>T.close()}),Z=(Q,ht,ot)=>{Q.listen(ht,it=>{try{ot(it)}catch(mt){setTimeout(()=>{throw mt},0)}})};return Z(T,Fl.EventType.OPEN,()=>{M||(Et(dn,`RPC '${t}' stream ${o} transport opened.`),z.o_())}),Z(T,Fl.EventType.CLOSE,()=>{M||(M=!0,Et(dn,`RPC '${t}' stream ${o} transport closed`),z.a_(),this.E_(T))}),Z(T,Fl.EventType.ERROR,Q=>{M||(M=!0,Eo(dn,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),z.a_(new At(ft.UNAVAILABLE,"The operation could not be completed")))}),Z(T,Fl.EventType.MESSAGE,Q=>{var ht;if(!M){const ot=Q.data[0];ie(!!ot,16349);const it=ot,mt=(it==null?void 0:it.error)||((ht=it[0])==null?void 0:ht.error);if(mt){Et(dn,`RPC '${t}' stream ${o} received error:`,mt);const ct=mt.status;let _t=function(x){const V=Ue[x];if(V!==void 0)return ew(V)}(ct),k=mt.message;_t===void 0&&(_t=ft.INTERNAL,k="Unknown error status: "+ct+" with message "+mt.message),M=!0,z.a_(new At(_t,k)),T.close()}else Et(dn,`RPC '${t}' stream ${o} received:`,ot),z.u_(ot)}}),Z(d,ET.STAT_EVENT,Q=>{Q.stat===om.PROXY?Et(dn,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===om.NOPROXY&&Et(dn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.__()},0),z}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){return new Ex(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,e,a=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-a);o>0&&Et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="PersistentStream";class gw{constructor(t,e,a,o,u,h,d,m){this.Mi=t,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(Tr(e.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===e&&this.G_(a,o)},a=>{t(()=>{const o=new At(ft.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(t,e){const a=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Et(w1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(Et(w1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yM extends gw{constructor(t,e,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Sx(this.serializer,t),a=function(u){if(!("targetChange"in u))return kt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?kt.min():h.readTime?ki(h.readTime):kt.min()}(t);return this.listener.H_(e,a)}Y_(t){const e={};e.database=ym(this.serializer),e.addTarget=function(u,h){let d;const m=h.target;if(d=fm(m)?{documents:Rx(u,m)}:{query:Cx(u,m).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=rw(u,h.resumeToken);const g=pm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(kt.min())>0){d.readTime=zh(u,h.snapshotVersion.toTimestamp());const g=pm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const a=xx(this.serializer,t);a&&(e.labels=a),this.q_(e)}Z_(t){const e={};e.database=ym(this.serializer),e.removeTarget=t,this.q_(e)}}class _M extends gw{constructor(t,e,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Ax(t.writeResults,t.commitTime),a=ki(t.commitTime);return this.listener.na(a,e)}ra(){const t={};t.database=ym(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>bx(this.serializer,a))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{}class EM extends vM{constructor(t,e,a,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new At(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(t,mm(e,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new At(ft.UNKNOWN,u.toString())})}Ho(t,e,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(t,mm(e,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new At(ft.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class TM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(e),this.aa=!1):Et("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="RemoteStore";class wM{constructor(t,e,a,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{a.enqueueAndForget(async()=>{ds(this)&&(Et(os,"Restarting streams for network reachability change."),await async function(m){const g=Vt(m);g.Ea.add(4),await Iu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await vf(g)}(this))})}),this.Ra=new TM(a,o)}}async function vf(n){if(ds(n))for(const t of n.da)await t(!0)}async function Iu(n){for(const t of n.da)await t(!1)}function yw(n,t){const e=Vt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),vg(e)?_g(e):Vo(e).O_()&&yg(e,t))}function gg(n,t){const e=Vt(n),a=Vo(e);e.Ia.delete(t),a.O_()&&_w(e,t),e.Ia.size===0&&(a.O_()?a.L_():ds(e)&&e.Ra.set("Unknown"))}function yg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vo(n).Y_(t)}function _w(n,t){n.Va.Ue(t),Vo(n).Z_(t)}function _g(n){n.Va=new gx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Vo(n).start(),n.Ra.ua()}function vg(n){return ds(n)&&!Vo(n).x_()&&n.Ia.size>0}function ds(n){return Vt(n).Ea.size===0}function vw(n){n.Va=void 0}async function SM(n){n.Ra.set("Online")}async function bM(n){n.Ia.forEach((t,e)=>{yg(n,t)})}async function AM(n,t){vw(n),vg(n)?(n.Ra.ha(t),_g(n)):n.Ra.set("Unknown")}async function RM(n,t,e){if(n.Ra.set("Online"),t instanceof iw&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))}(n,t)}catch(a){Et(os,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Gh(n,a)}else if(t instanceof _h?n.Va.Ze(t):t instanceof nw?n.Va.st(t):n.Va.tt(t),!e.isEqual(kt.min()))try{const a=await pw(n.localStore);e.compareTo(a)>=0&&await function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const _=u.Ia.get(m);if(!_)return;u.Ia.set(m,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),_w(u,m);const T=new aa(_.target,m,g,_.sequenceNumber);yg(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(a){Et(os,"Failed to raise snapshot:",a),await Gh(n,a)}}async function Gh(n,t,e){if(!ko(t))throw t;n.Ea.add(1),await Iu(n),n.Ra.set("Offline"),e||(e=()=>pw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Et(os,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await vf(n)})}function Ew(n,t){return t().catch(e=>Gh(n,e,t))}async function Ef(n){const t=Vt(n),e=ma(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ng;for(;CM(t);)try{const o=await lM(t.localStore,a);if(o===null){t.Ta.length===0&&e.L_();break}a=o.batchId,IM(t,o)}catch(o){await Gh(t,o)}Tw(t)&&ww(t)}function CM(n){return ds(n)&&n.Ta.length<10}function IM(n,t){n.Ta.push(t);const e=ma(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Tw(n){return ds(n)&&!ma(n).x_()&&n.Ta.length>0}function ww(n){ma(n).start()}async function xM(n){ma(n).ra()}async function MM(n){const t=ma(n);for(const e of n.Ta)t.ea(e.mutations)}async function NM(n,t,e){const a=n.Ta.shift(),o=ug.from(a,t,e);await Ew(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ef(n)}async function DM(n,t){t&&ma(n).X_&&await async function(a,o){if(function(h){return dx(h)&&h!==ft.ABORTED}(o.code)){const u=a.Ta.shift();ma(a).B_(),await Ew(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ef(a)}}(n,t),Tw(n)&&ww(n)}async function S1(n,t){const e=Vt(n);e.asyncQueue.verifyOperationInProgress(),Et(os,"RemoteStore received new credentials");const a=ds(e);e.Ea.add(3),await Iu(e),a&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await vf(e)}async function OM(n,t){const e=Vt(n);t?(e.Ea.delete(2),await vf(e)):t||(e.Ea.add(2),await Iu(e),e.Ra.set("Unknown"))}function Vo(n){return n.ma||(n.ma=function(e,a,o){const u=Vt(e);return u.sa(),new yM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:SM.bind(null,n),t_:bM.bind(null,n),r_:AM.bind(null,n),H_:RM.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),vg(n)?_g(n):n.Ra.set("Unknown")):(await n.ma.stop(),vw(n))})),n.ma}function ma(n){return n.fa||(n.fa=function(e,a,o){const u=Vt(e);return u.sa(),new _M(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:xM.bind(null,n),r_:DM.bind(null,n),ta:MM.bind(null,n),na:NM.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Ef(n)):(await n.fa.stop(),n.Ta.length>0&&(Et(os,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,e,a,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,o,u){const h=Date.now()+a,d=new Eg(t,e,h,o,u);return d.start(a),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(n,t){if(Tr("AsyncQueue",`${t}: ${n}`),ko(n))return new At(ft.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(t){return new go(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||Ct.comparator(e.key,a.key):(e,a)=>Ct.comparator(e.key,a.key),this.keyedMap=$l(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof go)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new go;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.ga=new be(Ct.comparator)}track(t){const e=t.doc.key,a=this.ga.get(e);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(e,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(e):t.type===1&&a.type===2?this.ga=this.ga.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Nt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,a)=>{t.push(a)}),t}}class Ao{constructor(t,e,a,o,u,h,d,m,g){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,a,o,u){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new Ao(t,e,go.emptySet(e),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==a[o].type||!e[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class VM{constructor(){this.queries=A1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,a){const o=Vt(e),u=o.queries;o.queries=A1(),u.forEach((h,d)=>{for(const m of d.Sa)m.onError(a)})})(this,new At(ft.ABORTED,"Firestore shutting down"))}}function A1(){return new hs(n=>GT(n),df)}async function PM(n,t){const e=Vt(n);let a=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(a=2):(u=new kM,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=Tg(h,`Initialization of query '${so(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&wg(e)}async function LM(n,t){const e=Vt(n),a=t.query;let o=3;const u=e.queries.get(a);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function UM(n,t){const e=Vt(n);let a=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(a=!0);h.wa=o}}a&&wg(e)}function BM(n,t,e){const a=Vt(n),o=a.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);a.queries.delete(t)}function wg(n){n.Ca.forEach(t=>{t.next()})}var Em,R1;(R1=Em||(Em={})).Ma="default",R1.Cache="cache";class zM{constructor(t,e,a){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Ao(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const a=e!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t){this.key=t}}class bw{constructor(t){this.key=t}}class jM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=HT(t),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(t,e){const a=e?e.iu:new b1,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,T)=>{const S=o.get(_),M=pf(this.query,T)?T:null,z=!!S&&this.mutatedKeys.has(S.key),Z=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Q=!1;S&&M?S.data.isEqual(M.data)?z!==Z&&(a.track({type:3,doc:M}),Q=!0):this.su(S,M)||(a.track({type:2,doc:M}),Q=!0,(m&&this.eu(M,m)>0||g&&this.eu(M,g)<0)&&(d=!0)):!S&&M?(a.track({type:0,doc:M}),Q=!0):S&&!M&&(a.track({type:1,doc:S}),Q=!0,(m||g)&&(d=!0)),Q&&(M?(h=h.add(M),u=Z?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:h,iu:a,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort((_,T)=>function(M,z){const Z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:Q})}};return Z(M)-Z(z)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(a),o=o??!1;const d=e&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,h.length!==0||g?{snapshot:new Ao(this.query,t.tu,u,h,t.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=$t(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const e=[];return t.forEach(a=>{this.Xa.has(a)||e.push(new bw(a))}),this.Xa.forEach(a=>{t.has(a)||e.push(new Sw(a))}),e}cu(t){this.Ya=t.Qs,this.Xa=$t();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class GM{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class HM{constructor(t){this.key=t,this.hu=!1}}class qM{constructor(t,e,a,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new hs(d=>GT(d),df),this.Iu=new Map,this.Eu=new Set,this.du=new be(Ct.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FM(n,t,e=!0){const a=Mw(n);let o;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Aw(a,t,e,!0),o}async function $M(n,t){const e=Mw(n);await Aw(e,t,!0,!1)}async function Aw(n,t,e,a){const o=await uM(n.localStore,Oi(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,e);let d;return a&&(d=await KM(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&e&&yw(n.remoteStore,o),d}async function KM(n,t,e,a,o){n.pu=(T,S,M)=>async function(Z,Q,ht,ot){let it=Q.view.ru(ht);it.Cs&&(it=await _1(Z.localStore,Q.query,!1).then(({documents:k})=>Q.view.ru(k,it)));const mt=ot&&ot.targetChanges.get(Q.targetId),ct=ot&&ot.targetMismatches.get(Q.targetId)!=null,_t=Q.view.applyChanges(it,Z.isPrimaryClient,mt,ct);return I1(Z,Q.targetId,_t.au),_t.snapshot}(n,T,S,M);const u=await _1(n.localStore,t,!0),h=new jM(t,u.Qs),d=h.ru(u.documents),m=Cu.createSynthesizedTargetChangeForCurrentChange(e,a&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,m);I1(n,e,g.au);const _=new GM(t,e,h);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function YM(n,t,e){const a=Vt(n),o=a.Tu.get(t),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter(h=>!df(h,t))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),e&&gg(a.remoteStore,o.targetId),Tm(a,o.targetId)}).catch(Oo)):(Tm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function QM(n,t){const e=Vt(n),a=e.Tu.get(t),o=e.Iu.get(a.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),gg(e.remoteStore,a.targetId))}async function XM(n,t,e){const a=iN(n);try{const o=await function(h,d){const m=Vt(h),g=ge.now(),_=d.reduce((M,z)=>M.add(z.key),$t());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>{let z=wr(),Z=$t();return m.Ns.getEntries(M,_).next(Q=>{z=Q,z.forEach((ht,ot)=>{ot.isValidDocument()||(Z=Z.add(ht))})}).next(()=>m.localDocuments.getOverlayedDocuments(M,z)).next(Q=>{T=Q;const ht=[];for(const ot of d){const it=lx(ot,T.get(ot.key).overlayedDocument);it!=null&&ht.push(new fs(ot.key,it,VT(it.value.mapValue),_r.exists(!0)))}return m.mutationQueue.addMutationBatch(M,g,ht,d)}).next(Q=>{S=Q;const ht=Q.applyToLocalDocumentSet(T,Z);return m.documentOverlayCache.saveOverlays(M,Q.batchId,ht)})}).then(()=>({batchId:S.batchId,changes:FT(T)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Vu[h.currentUser.toKey()];g||(g=new be(Ft)),g=g.insert(d,m),h.Vu[h.currentUser.toKey()]=g}(a,o.batchId,e),await xu(a,o.changes),await Ef(a.remoteStore)}catch(o){const u=Tg(o,"Failed to persist write");e.reject(u)}}async function Rw(n,t){const e=Vt(n);try{const a=await sM(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Au.get(u);h&&(ie(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ie(h.hu,14607):o.removedDocuments.size>0&&(ie(h.hu,42227),h.hu=!1))}),await xu(e,a,t)}catch(a){await Oo(a)}}function C1(n,t,e){const a=Vt(n);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const o=[];a.Tu.forEach((u,h)=>{const d=h.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Vt(h);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)}),g&&wg(m)}(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ZM(n,t,e){const a=Vt(n);a.sharedClientState.updateQueryState(t,"rejected",e);const o=a.Au.get(t),u=o&&o.key;if(u){let h=new be(Ct.comparator);h=h.insert(u,mn.newNoDocument(u,kt.min()));const d=$t().add(u),m=new yf(kt.min(),new Map,new be(Ft),h,d);await Rw(a,m),a.du=a.du.remove(u),a.Au.delete(t),bg(a)}else await _m(a.localStore,t,!1).then(()=>Tm(a,t,e)).catch(Oo)}async function JM(n,t){const e=Vt(n),a=t.batch.batchId;try{const o=await aM(e.localStore,t);Iw(e,a,null),Cw(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await xu(e,o)}catch(o){await Oo(o)}}async function WM(n,t,e){const a=Vt(n);try{const o=await function(h,d){const m=Vt(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(ie(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(a.localStore,t);Iw(a,t,e),Cw(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await xu(a,o)}catch(o){await Oo(o)}}function Cw(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function Iw(n,t,e){const a=Vt(n);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function Tm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const a of n.Iu.get(t))n.Tu.delete(a),e&&n.Pu.yu(a,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(a=>{n.Ru.containsKey(a)||xw(n,a)})}function xw(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(gg(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),bg(n))}function I1(n,t,e){for(const a of e)a instanceof Sw?(n.Ru.addReference(a.key,t),tN(n,a)):a instanceof bw?(Et(Sg,"Document no longer in limbo: "+a.key),n.Ru.removeReference(a.key,t),n.Ru.containsKey(a.key)||xw(n,a.key)):Nt(19791,{wu:a})}function tN(n,t){const e=t.key,a=e.path.canonicalString();n.du.get(e)||n.Eu.has(a)||(Et(Sg,"New document in limbo: "+e),n.Eu.add(a),bg(n))}function bg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Ct(Se.fromString(t)),a=n.fu.next();n.Au.set(a,new HM(e)),n.du=n.du.insert(e,a),yw(n.remoteStore,new aa(Oi(og(e.path)),a,"TargetPurposeLimboResolution",uf.ce))}}async function xu(n,t,e){const a=Vt(n),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach((d,m)=>{h.push(a.pu(m,t,e).then(g=>{var _;if((g||e)&&a.isPrimaryClient){const T=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(m.targetId))==null?void 0:_.current;a.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=pg.As(m.targetId,g);u.push(T)}}))}),await Promise.all(h),a.Pu.H_(o),await async function(m,g){const _=Vt(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ut.forEach(g,S=>ut.forEach(S.Es,M=>_.persistence.referenceDelegate.addReference(T,S.targetId,M)).next(()=>ut.forEach(S.ds,M=>_.persistence.referenceDelegate.removeReference(T,S.targetId,M)))))}catch(T){if(!ko(T))throw T;Et(mg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const M=_.Ms.get(S),z=M.snapshotVersion,Z=M.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(S,Z)}}}(a.localStore,u))}async function eN(n,t){const e=Vt(n);if(!e.currentUser.isEqual(t)){Et(Sg,"User change. New user:",t.toKey());const a=await dw(e.localStore,t);e.currentUser=t,function(u,h){u.mu.forEach(d=>{d.forEach(m=>{m.reject(new At(ft.CANCELLED,h))})}),u.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await xu(e,a.Ls)}}function nN(n,t){const e=Vt(n),a=e.Au.get(t);if(a&&a.hu)return $t().add(a.key);{let o=$t();const u=e.Iu.get(t);if(!u)return o;for(const h of u){const d=e.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function Mw(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZM.bind(null,t),t.Pu.H_=UM.bind(null,t.eventManager),t.Pu.yu=BM.bind(null,t.eventManager),t}function iN(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,t),t}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_f(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return rM(this.persistence,new eM,t.initialUser,this.serializer)}Cu(t){return new fw(dg.mi,this.serializer)}Du(t){return new hM}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class rN extends Hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ie(this.persistence.referenceDelegate instanceof jh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zx(a,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new fw(a=>jh.mi(a,e),this.serializer)}}class wm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>C1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eN.bind(null,this.syncEngine),await OM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new VM}()}createDatastore(t){const e=_f(t.databaseInfo.databaseId),a=function(u){return new gM(u)}(t.databaseInfo);return function(u,h,d,m){return new EM(u,h,d,m)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,o,u,h,d){return new wM(a,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>C1(this.syncEngine,e,0),function(){return T1.v()?new T1:new fM}())}createSyncEngine(t,e){return function(o,u,h,d,m,g,_){const T=new qM(o,u,h,d,m,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=Vt(o);Et(os,"RemoteStore shutting down."),u.Ea.add(5),await Iu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class sN{constructor(t,e,a,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{Et(ga,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(Et(ga,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=Tg(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Bp(n,t){n.asyncQueue.verifyOperationInProgress(),Et(ga,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let a=e.initialUser;n.setCredentialChangeListener(async o=>{a.isEqual(o)||(await dw(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function x1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await oN(n);Et(ga,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(a=>S1(t.remoteStore,a)),n.setAppCheckTokenChangeListener((a,o)=>S1(t.remoteStore,o)),n._onlineComponents=t}async function oN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Et(ga,"Using user provided OfflineComponentProvider");try{await Bp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Eo("Error using user provided cache. Falling back to memory cache: "+e),await Bp(n,new Hh)}}else Et(ga,"Using default OfflineComponentProvider"),await Bp(n,new rN(void 0));return n._offlineComponents}async function Nw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Et(ga,"Using user provided OnlineComponentProvider"),await x1(n,n._uninitializedComponentsProvider._online)):(Et(ga,"Using default OnlineComponentProvider"),await x1(n,new wm))),n._onlineComponents}function lN(n){return Nw(n).then(t=>t.syncEngine)}async function uN(n){const t=await Nw(n),e=t.eventManager;return e.onListen=FM.bind(null,t.syncEngine),e.onUnlisten=YM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=$M.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=QM.bind(null,t.syncEngine),e}function cN(n,t,e={}){const a=new ca;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const _=new aN({next:S=>{_.Nu(),h.enqueueAndForget(()=>LM(u,T));const M=S.docs.has(d);!M&&S.fromCache?g.reject(new At(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&m&&m.source==="server"?g.reject(new At(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new zM(og(d.path),_,{includeMetadataChanges:!0,qa:!0});return PM(u,T)}(await uN(n),n.asyncQueue,t,e,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firestore.googleapis.com",N1=!0;class D1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=N1}else this.host=t.host,this.ssl=t.ssl??N1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ux)throw new At(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw(t.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ag{constructor(t,e,a,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new cI;switch(a.type){case"firstParty":return new pI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new At(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=M1.get(e);a&&(Et("ComponentProvider","Removing Datastore"),M1.delete(e),a.terminate())}(this),Promise.resolve()}}function hN(n,t,e,a={}){var g;n=lu(n,Ag);const o=xo(t),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(DE(`https://${d}`),OE("Firestore",!0)),u.host!==Ow&&u.host!==d&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:a};if(!is(m,h)&&(n._setSettings(m),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=pn.MOCK_USER;else{_=VA(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new At(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new pn(S)}n._authCredentials=new hI(new bT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rg(this.firestore,t,this._query)}}class We{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,a){if(Au(e,We._jsonSchema))return new We(t,a||null,new Ct(Se.fromString(e.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Be("string",We._jsonSchemaVersion),referencePath:Be("string")};class mu extends Rg{constructor(t,e,a){super(t,e,og(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new Ct(t))}withConverter(t){return new mu(this.firestore,t,this._path)}}function Cg(n,t,...e){if(n=Wn(n),arguments.length===1&&(t=tg.newId()),EI("doc","path",t),n instanceof Ag){const a=Se.fromString(t,...e);return $v(a),new We(n,null,new Ct(a))}{if(!(n instanceof We||n instanceof mu))throw new At(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Se.fromString(t,...e));return $v(a),new We(n.firestore,n instanceof mu?n.converter:null,new Ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="AsyncQueue";class k1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mw(this,"async_queue_retry"),this._c=()=>{const a=Up();a&&Et(O1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const e=Up();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Up();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new ca;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ko(t))throw t;Et(O1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(a=>{throw this.nc=a,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",V1(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=e,e}enqueueAfterDelay(t,e,a){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Eg.createAndSchedule(this,t,e,a,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Nt(47125,{Pc:V1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function V1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Ig extends Ag{constructor(t,e,a,o){super(t,e,a,o),this.type="firestore",this._queue=new k1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new k1(t),this._firestoreClient=void 0,await t}}}function fN(n,t){const e=typeof n=="object"?n:LE(),a=typeof n=="string"?n:kh,o=Gm(e,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=OA("firestore");u&&hN(o,...u)}return o}function kw(n){if(n._terminated)throw new At(ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dN(n),n._firestoreClient}function dN(n){var a,o,u;const t=n._freezeSettings(),e=function(d,m,g,_){return new DI(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Dw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new sN(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(ln.fromBase64String(t))}catch(e){throw new At(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jn(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Au(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Be("string",Jn._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new At(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new At(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new At(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(Au(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Be("string",Vi._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Au(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Pi(t.vectorValues);throw new At(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Be("string",Pi._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=/^__.*__$/;class mN{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new fs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ru(t,this.data,e,this.fieldTransforms)}}function Pw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ac:n})}}class Mg{constructor(t,e,a,o,u,h){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Mg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),a=this.Vc({path:e,fc:!1});return a.gc(t),a}yc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),a=this.Vc({path:e,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Pw(this.Ac)&&pN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gN{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||_f(t)}Cc(t,e,a,o=!1){return new Mg({Ac:t,methodName:e,Dc:a,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yN(n){const t=n._freezeSettings(),e=_f(n._databaseId);return new gN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function _N(n,t,e,a,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);zw("Data must be an object, but it was:",h,a);const d=Uw(a,h);let m,g;if(u.merge)m=new ci(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=vN(t,T,e);if(!h.contains(S))throw new At(ft.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);TN(_,S)||_.push(S)}m=new ci(_),g=h.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=h.fieldTransforms;return new mN(new Zn(d),m,g)}function Lw(n,t){if(Bw(n=Wn(n)))return zw("Unsupported field value:",t,n),Uw(n,t);if(n instanceof Vw)return function(a,o){if(!Pw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let m=Lw(d,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(n,t)}return function(a,o){if((a=Wn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ge.fromDate(a);return{timestampValue:zh(o.serializer,u)}}if(a instanceof ge){const u=new ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(a instanceof Vi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jn)return{bytesValue:rw(o.serializer,a._byteString)};if(a instanceof We){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Pi)return function(h,d){return{mapValue:{fields:{[OT]:{stringValue:kT},[Vh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return lg(d.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${eg(a)}`)}(n,t)}function Uw(n,t){const e={};return CT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(n,(a,o)=>{const u=Lw(o,t.mc(a));u!=null&&(e[a]=u)}),{mapValue:{fields:e}}}function Bw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ge||n instanceof Vi||n instanceof Jn||n instanceof We||n instanceof Vw||n instanceof Pi)}function zw(n,t,e){if(!Bw(e)||!AT(e)){const a=eg(e);throw a==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+a)}}function vN(n,t,e){if((t=Wn(t))instanceof xg)return t._internalPath;if(typeof t=="string")return jw(n,t);throw qh("Field path arguments must be of type string or ",n,!1,void 0,e)}const EN=new RegExp("[~\\*/\\[\\]]");function jw(n,t,e){if(t.search(EN)>=0)throw qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new xg(...t.split("."))._internalPath}catch{throw qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qh(n,t,e,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new At(ft.INVALID_ARGUMENT,d+n+m)}function TN(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,e,a,o,u){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Hw("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class wN extends Gw{data(){return super.data()}}function Hw(n,t){return typeof t=="string"?jw(n,t):t instanceof xg?t._internalPath:t._delegate._internalPath}class SN{convertValue(t,e="none"){switch(pa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(da(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return cs(t,(o,u)=>{a[o]=this.convertValue(u,e)}),a}convertVectorValue(t){var a,o,u;const e=(u=(o=(a=t.fields)==null?void 0:a[Vh].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>Ne(h.doubleValue));return new Pi(e)}convertGeoPoint(t){return new Vi(Ne(t.latitude),Ne(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=hf(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(cu(t));default:return null}}convertTimestamp(t){const e=fa(t);return new ge(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=Se.fromString(t);ie(cw(a),9688,{name:t});const o=new hu(a.get(1),a.get(3)),u=new Ct(a.popFirst(5));return o.isEqual(e)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n,t,e){let a;return a=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,a}class Yl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wa extends Gw{constructor(t,e,a,o,u,h){super(t,e,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field(Hw("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Wa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Be("string",Wa._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class vh extends Wa{data(t={}){return super.data(t)}}class au{constructor(t,e,a,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new vh(this._firestore,this._userDataWriter,a.key,a,new Yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new At(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new vh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Yl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new vh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Yl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:AN(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=au._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(e.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){n=lu(n,We);const t=lu(n.firestore,Ig);return cN(kw(t),n._key).then(e=>xN(t,n,e))}au._jsonSchemaVersion="firestore/querySnapshot/1.0",au._jsonSchema={type:Be("string",au._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class CN extends SN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,e)}}function Fh(n,t,e){n=lu(n,We);const a=lu(n.firestore,Ig),o=bN(n.converter,t,e);return IN(a,[_N(yN(a),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,_r.none())])}function IN(n,t){return function(a,o){const u=new ca;return a.asyncQueue.enqueueAndForget(async()=>XM(await lN(a),o,u)),u.promise}(kw(n),t)}function xN(n,t,e){const a=e.docs.get(t._key),o=new CN(n);return new Wa(n,o,t._key,a,new Yl(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Do=o})(Mo),_o(new rs("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new Ig(new fI(a.getProvider("auth-internal")),new mI(h,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new At(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(g.options.projectId,_)}(h,o),h);return u={useFetchStreams:e,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),la(Gv,Hv,t),la(Gv,Hv,"esm2020")})();const MN={apiKey:"AIzaSyAsv8TV5YSdGLup4nImBjaaaEKbwe9lRm8",authDomain:"chartle-c4a68.firebaseapp.com",projectId:"chartle-c4a68",storageBucket:"chartle-c4a68.appspot.com",messagingSenderId:"1031120307533",appId:"1:1031120307533:web:a51ef04dabbcecd020e304",measurementId:"G-SCBHLT03DM"},qw=PE(MN),ts=sI(qw),NN=new mr,Ng=fN(qw),Fw=wt.createContext({user:null});function DN({children:n}){const[t,e]=wt.useState(null);return wt.useEffect(()=>aT(ts,e),[]),et.jsx(Fw.Provider,{value:{user:t},children:n})}function ON(){return wt.useContext(Fw)}function kN({onOpen:n,dateLabel:t,overridden:e}){var g;const{user:a}=ON(),[o,u]=wt.useState(!1),h=a?a.photoURL?et.jsx("img",{src:a.photoURL,alt:"Account",className:"h-6 w-6 rounded-full object-cover",referrerPolicy:"no-referrer"}):et.jsx("span",{"aria-label":"Account",className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-400 text-xs font-semibold text-white",children:(g=a.displayName)==null?void 0:g.charAt(0).toUpperCase()}):"Sign in",d=[{id:"help",label:"Help"},{id:"history",label:"History"},{id:"settings",label:"Settings"},{id:"auth",label:h}],m=_=>{n==null||n(_),u(!1)};return et.jsx("header",{className:"fixed inset-x-0 top-0 z-50 border-b border-gray-300 dark:border-gray-700 bg-[#f9f9f9]/60 dark:bg-[#111]/60 backdrop-blur-md",children:et.jsxs("div",{className:"relative mx-auto w-full max-w-[700px] px-4 py-3 h-[52px]",children:[et.jsx("span",{className:`absolute left-4 top-1/2 -translate-y-1/2 text-sm ${e?"bg-yellow-100 dark:bg-yellow-900 px-2 py-0.5 rounded text-yellow-800 dark:text-yellow-300":"text-[color:var(--axis-text-color)]"}`,children:t}),et.jsx("h1",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-xl font-[Menlo,_monospace] tracking-wide text-gray-800 dark:text-white",children:"📈 chartle"}),et.jsx("button",{"aria-label":"Toggle menu",onClick:()=>u(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-600",children:o?et.jsx(AE,{className:"h-5 w-5"}):et.jsx(SA,{className:"h-5 w-5"})}),o&&et.jsx("nav",{className:"absolute right-4 top-full w-48 origin-top rounded-md [background-color:var(--guessed-box)] shadow-md",children:et.jsx("ul",{className:"flex flex-col divide-y divide-gray-200 dark:divide-gray-700",children:d.map(({id:_,label:T})=>et.jsx("li",{children:et.jsx("button",{onClick:()=>m(_),className:"block w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:_==="auth"&&a?"Account":typeof T=="string"?T:"Account"})},_))})})]})})}function Eh(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function $w(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Dg(n){let t,e,a;n.length!==2?(t=Eh,e=(d,m)=>Eh(n(d),m),a=(d,m)=>n(d)-m):(t=n===Eh||n===$w?n:VN,e=n,a=n);function o(d,m,g=0,_=d.length){if(g<_){if(t(m,m)!==0)return _;do{const T=g+_>>>1;e(d[T],m)<0?g=T+1:_=T}while(g<_)}return g}function u(d,m,g=0,_=d.length){if(g<_){if(t(m,m)!==0)return _;do{const T=g+_>>>1;e(d[T],m)<=0?g=T+1:_=T}while(g<_)}return g}function h(d,m,g=0,_=d.length){const T=o(d,m,g,_-1);return T>g&&a(d[T-1],m)>-a(d[T],m)?T-1:T}return{left:o,center:h,right:u}}function VN(){return 0}function PN(n){return n===null?NaN:+n}const LN=Dg(Eh),UN=LN.right;Dg(PN).center;class Sm extends Map{constructor(t,e=jN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[a,o]of t)this.set(a,o)}get(t){return super.get(P1(this,t))}has(t){return super.has(P1(this,t))}set(t,e){return super.set(BN(this,t),e)}delete(t){return super.delete(zN(this,t))}}function P1({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):e}function BN({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):(n.set(a,e),e)}function zN({_intern:n,_key:t},e){const a=t(e);return n.has(a)&&(e=n.get(a),n.delete(a)),e}function jN(n){return n!==null&&typeof n=="object"?n.valueOf():n}function bm(n){return n}function L1(n,...t){return Kw(n,bm,bm,t)}function GN(n,t,...e){return Kw(n,bm,t,e)}function Kw(n,t,e,a){return function o(u,h){if(h>=a.length)return e(u);const d=new Sm,m=a[h++];let g=-1;for(const _ of u){const T=m(_,++g,u),S=d.get(T);S?S.push(_):d.set(T,[_])}for(const[_,T]of d)d.set(_,o(T,h));return t(d)}(n,0)}const HN=Math.sqrt(50),qN=Math.sqrt(10),FN=Math.sqrt(2);function $h(n,t,e){const a=(t-n)/Math.max(0,e),o=Math.floor(Math.log10(a)),u=a/Math.pow(10,o),h=u>=HN?10:u>=qN?5:u>=FN?2:1;let d,m,g;return o<0?(g=Math.pow(10,-o)/h,d=Math.round(n*g),m=Math.round(t*g),d/g<n&&++d,m/g>t&&--m,g=-g):(g=Math.pow(10,o)*h,d=Math.round(n/g),m=Math.round(t/g),d*g<n&&++d,m*g>t&&--m),m<d&&.5<=e&&e<2?$h(n,t,e*2):[d,m,g]}function $N(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const a=t<n,[o,u,h]=a?$h(t,n,e):$h(n,t,e);if(!(u>=o))return[];const d=u-o+1,m=new Array(d);if(a)if(h<0)for(let g=0;g<d;++g)m[g]=(u-g)/-h;else for(let g=0;g<d;++g)m[g]=(u-g)*h;else if(h<0)for(let g=0;g<d;++g)m[g]=(o+g)/-h;else for(let g=0;g<d;++g)m[g]=(o+g)*h;return m}function Am(n,t,e){return t=+t,n=+n,e=+e,$h(n,t,e)[2]}function KN(n,t,e){t=+t,n=+n,e=+e;const a=t<n,o=a?Am(t,n,e):Am(n,t,e);return(a?-1:1)*(o<0?1/-o:o)}function uo(n,t){let e;if(t===void 0)for(const a of n)a!=null&&(e<a||e===void 0&&a>=a)&&(e=a);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&(e<o||e===void 0&&o>=o)&&(e=o)}return e}function U1(n,t){let e;if(t===void 0)for(const a of n)a!=null&&(e>a||e===void 0&&a>=a)&&(e=a);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&(e>o||e===void 0&&o>=o)&&(e=o)}return e}function YN(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var a=-1,o=Math.max(0,Math.ceil((t-n)/e))|0,u=new Array(o);++a<o;)u[a]=n+a*e;return u}function QN(n){return n}var zp=1,jp=2,Rm=3,Ql=4,B1=1e-6;function XN(n){return"translate("+n+",0)"}function ZN(n){return"translate(0,"+n+")"}function JN(n){return t=>+n(t)}function WN(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function t4(){return!this.__axis}function Yw(n,t){var e=[],a=null,o=null,u=6,h=6,d=3,m=typeof window<"u"&&window.devicePixelRatio>1?0:.5,g=n===zp||n===Ql?-1:1,_=n===Ql||n===jp?"x":"y",T=n===zp||n===Rm?XN:ZN;function S(M){var z=a??(t.ticks?t.ticks.apply(t,e):t.domain()),Z=o??(t.tickFormat?t.tickFormat.apply(t,e):QN),Q=Math.max(u,0)+d,ht=t.range(),ot=+ht[0]+m,it=+ht[ht.length-1]+m,mt=(t.bandwidth?WN:JN)(t.copy(),m),ct=M.selection?M.selection():M,_t=ct.selectAll(".domain").data([null]),k=ct.selectAll(".tick").data(z,t).order(),C=k.exit(),x=k.enter().append("g").attr("class","tick"),V=k.select("line"),N=k.select("text");_t=_t.merge(_t.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(x),V=V.merge(x.append("line").attr("stroke","currentColor").attr(_+"2",g*u)),N=N.merge(x.append("text").attr("fill","currentColor").attr(_,g*Q).attr("dy",n===zp?"0em":n===Rm?"0.71em":"0.32em")),M!==ct&&(_t=_t.transition(M),k=k.transition(M),V=V.transition(M),N=N.transition(M),C=C.transition(M).attr("opacity",B1).attr("transform",function(U){return isFinite(U=mt(U))?T(U+m):this.getAttribute("transform")}),x.attr("opacity",B1).attr("transform",function(U){var I=this.parentNode.__axis;return T((I&&isFinite(I=I(U))?I:mt(U))+m)})),C.remove(),_t.attr("d",n===Ql||n===jp?h?"M"+g*h+","+ot+"H"+m+"V"+it+"H"+g*h:"M"+m+","+ot+"V"+it:h?"M"+ot+","+g*h+"V"+m+"H"+it+"V"+g*h:"M"+ot+","+m+"H"+it),k.attr("opacity",1).attr("transform",function(U){return T(mt(U)+m)}),V.attr(_+"2",g*u),N.attr(_,g*Q).text(Z),ct.filter(t4).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===jp?"start":n===Ql?"end":"middle"),ct.each(function(){this.__axis=mt})}return S.scale=function(M){return arguments.length?(t=M,S):t},S.ticks=function(){return e=Array.from(arguments),S},S.tickArguments=function(M){return arguments.length?(e=M==null?[]:Array.from(M),S):e.slice()},S.tickValues=function(M){return arguments.length?(a=M==null?null:Array.from(M),S):a&&a.slice()},S.tickFormat=function(M){return arguments.length?(o=M,S):o},S.tickSize=function(M){return arguments.length?(u=h=+M,S):u},S.tickSizeInner=function(M){return arguments.length?(u=+M,S):u},S.tickSizeOuter=function(M){return arguments.length?(h=+M,S):h},S.tickPadding=function(M){return arguments.length?(d=+M,S):d},S.offset=function(M){return arguments.length?(m=+M,S):m},S}function e4(n){return Yw(Rm,n)}function Qw(n){return Yw(Ql,n)}var n4={value:()=>{}};function Xw(){for(var n=0,t=arguments.length,e={},a;n<t;++n){if(!(a=arguments[n]+"")||a in e||/[\s.]/.test(a))throw new Error("illegal type: "+a);e[a]=[]}return new Th(e)}function Th(n){this._=n}function i4(n,t){return n.trim().split(/^|\s+/).map(function(e){var a="",o=e.indexOf(".");if(o>=0&&(a=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:a}})}Th.prototype=Xw.prototype={constructor:Th,on:function(n,t){var e=this._,a=i4(n+"",e),o,u=-1,h=a.length;if(arguments.length<2){for(;++u<h;)if((o=(n=a[u]).type)&&(o=r4(e[o],n.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<h;)if(o=(n=a[u]).type)e[o]=z1(e[o],n.name,t);else if(t==null)for(o in e)e[o]=z1(e[o],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Th(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var e=new Array(o),a=0,o,u;a<o;++a)e[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],a=0,o=u.length;a<o;++a)u[a].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var a=this._[n],o=0,u=a.length;o<u;++o)a[o].value.apply(t,e)}};function r4(n,t){for(var e=0,a=n.length,o;e<a;++e)if((o=n[e]).name===t)return o.value}function z1(n,t,e){for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n[a]=n4,n=n.slice(0,a).concat(n.slice(a+1));break}return e!=null&&n.push({name:t,value:e}),n}var Cm="http://www.w3.org/1999/xhtml";const j1={svg:"http://www.w3.org/2000/svg",xhtml:Cm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tf(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),j1.hasOwnProperty(t)?{space:j1[t],local:n}:n}function a4(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Cm&&t.documentElement.namespaceURI===Cm?t.createElement(n):t.createElementNS(e,n)}}function s4(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Zw(n){var t=Tf(n);return(t.local?s4:a4)(t)}function o4(){}function Og(n){return n==null?o4:function(){return this.querySelector(n)}}function l4(n){typeof n!="function"&&(n=Og(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=new Array(h),m,g,_=0;_<h;++_)(m=u[_])&&(g=n.call(m,m.__data__,_,u))&&("__data__"in m&&(g.__data__=m.__data__),d[_]=g);return new Ln(a,this._parents)}function u4(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function c4(){return[]}function Jw(n){return n==null?c4:function(){return this.querySelectorAll(n)}}function h4(n){return function(){return u4(n.apply(this,arguments))}}function f4(n){typeof n=="function"?n=h4(n):n=Jw(n);for(var t=this._groups,e=t.length,a=[],o=[],u=0;u<e;++u)for(var h=t[u],d=h.length,m,g=0;g<d;++g)(m=h[g])&&(a.push(n.call(m,m.__data__,g,h)),o.push(m));return new Ln(a,o)}function Ww(n){return function(){return this.matches(n)}}function tS(n){return function(t){return t.matches(n)}}var d4=Array.prototype.find;function p4(n){return function(){return d4.call(this.children,n)}}function m4(){return this.firstElementChild}function g4(n){return this.select(n==null?m4:p4(typeof n=="function"?n:tS(n)))}var y4=Array.prototype.filter;function _4(){return Array.from(this.children)}function v4(n){return function(){return y4.call(this.children,n)}}function E4(n){return this.selectAll(n==null?_4:v4(typeof n=="function"?n:tS(n)))}function T4(n){typeof n!="function"&&(n=Ww(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=[],m,g=0;g<h;++g)(m=u[g])&&n.call(m,m.__data__,g,u)&&d.push(m);return new Ln(a,this._parents)}function eS(n){return new Array(n.length)}function w4(){return new Ln(this._enter||this._groups.map(eS),this._parents)}function Kh(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Kh.prototype={constructor:Kh,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function S4(n){return function(){return n}}function b4(n,t,e,a,o,u){for(var h=0,d,m=t.length,g=u.length;h<g;++h)(d=t[h])?(d.__data__=u[h],a[h]=d):e[h]=new Kh(n,u[h]);for(;h<m;++h)(d=t[h])&&(o[h]=d)}function A4(n,t,e,a,o,u,h){var d,m,g=new Map,_=t.length,T=u.length,S=new Array(_),M;for(d=0;d<_;++d)(m=t[d])&&(S[d]=M=h.call(m,m.__data__,d,t)+"",g.has(M)?o[d]=m:g.set(M,m));for(d=0;d<T;++d)M=h.call(n,u[d],d,u)+"",(m=g.get(M))?(a[d]=m,m.__data__=u[d],g.delete(M)):e[d]=new Kh(n,u[d]);for(d=0;d<_;++d)(m=t[d])&&g.get(S[d])===m&&(o[d]=m)}function R4(n){return n.__data__}function C4(n,t){if(!arguments.length)return Array.from(this,R4);var e=t?A4:b4,a=this._parents,o=this._groups;typeof n!="function"&&(n=S4(n));for(var u=o.length,h=new Array(u),d=new Array(u),m=new Array(u),g=0;g<u;++g){var _=a[g],T=o[g],S=T.length,M=I4(n.call(_,_&&_.__data__,g,a)),z=M.length,Z=d[g]=new Array(z),Q=h[g]=new Array(z),ht=m[g]=new Array(S);e(_,T,Z,Q,ht,M,t);for(var ot=0,it=0,mt,ct;ot<z;++ot)if(mt=Z[ot]){for(ot>=it&&(it=ot+1);!(ct=Q[it])&&++it<z;);mt._next=ct||null}}return h=new Ln(h,a),h._enter=d,h._exit=m,h}function I4(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function x4(){return new Ln(this._exit||this._groups.map(eS),this._parents)}function M4(n,t,e){var a=this.enter(),o=this,u=this.exit();return typeof n=="function"?(a=n(a),a&&(a=a.selection())):a=a.append(n+""),t!=null&&(o=t(o),o&&(o=o.selection())),e==null?u.remove():e(u),a&&o?a.merge(o).order():o}function N4(n){for(var t=n.selection?n.selection():n,e=this._groups,a=t._groups,o=e.length,u=a.length,h=Math.min(o,u),d=new Array(o),m=0;m<h;++m)for(var g=e[m],_=a[m],T=g.length,S=d[m]=new Array(T),M,z=0;z<T;++z)(M=g[z]||_[z])&&(S[z]=M);for(;m<o;++m)d[m]=e[m];return new Ln(d,this._parents)}function D4(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var a=n[t],o=a.length-1,u=a[o],h;--o>=0;)(h=a[o])&&(u&&h.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(h,u),u=h);return this}function O4(n){n||(n=k4);function t(T,S){return T&&S?n(T.__data__,S.__data__):!T-!S}for(var e=this._groups,a=e.length,o=new Array(a),u=0;u<a;++u){for(var h=e[u],d=h.length,m=o[u]=new Array(d),g,_=0;_<d;++_)(g=h[_])&&(m[_]=g);m.sort(t)}return new Ln(o,this._parents).order()}function k4(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function V4(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function P4(){return Array.from(this)}function L4(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a=n[t],o=0,u=a.length;o<u;++o){var h=a[o];if(h)return h}return null}function U4(){let n=0;for(const t of this)++n;return n}function B4(){return!this.node()}function z4(n){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var o=t[e],u=0,h=o.length,d;u<h;++u)(d=o[u])&&n.call(d,d.__data__,u,o);return this}function j4(n){return function(){this.removeAttribute(n)}}function G4(n){return function(){this.removeAttributeNS(n.space,n.local)}}function H4(n,t){return function(){this.setAttribute(n,t)}}function q4(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function F4(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function $4(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function K4(n,t){var e=Tf(n);if(arguments.length<2){var a=this.node();return e.local?a.getAttributeNS(e.space,e.local):a.getAttribute(e)}return this.each((t==null?e.local?G4:j4:typeof t=="function"?e.local?$4:F4:e.local?q4:H4)(e,t))}function nS(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Y4(n){return function(){this.style.removeProperty(n)}}function Q4(n,t,e){return function(){this.style.setProperty(n,t,e)}}function X4(n,t,e){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(n):this.style.setProperty(n,a,e)}}function Z4(n,t,e){return arguments.length>1?this.each((t==null?Y4:typeof t=="function"?X4:Q4)(n,t,e??"")):Ro(this.node(),n)}function Ro(n,t){return n.style.getPropertyValue(t)||nS(n).getComputedStyle(n,null).getPropertyValue(t)}function J4(n){return function(){delete this[n]}}function W4(n,t){return function(){this[n]=t}}function tD(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function eD(n,t){return arguments.length>1?this.each((t==null?J4:typeof t=="function"?tD:W4)(n,t)):this.node()[n]}function iS(n){return n.trim().split(/^|\s+/)}function kg(n){return n.classList||new rS(n)}function rS(n){this._node=n,this._names=iS(n.getAttribute("class")||"")}rS.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function aS(n,t){for(var e=kg(n),a=-1,o=t.length;++a<o;)e.add(t[a])}function sS(n,t){for(var e=kg(n),a=-1,o=t.length;++a<o;)e.remove(t[a])}function nD(n){return function(){aS(this,n)}}function iD(n){return function(){sS(this,n)}}function rD(n,t){return function(){(t.apply(this,arguments)?aS:sS)(this,n)}}function aD(n,t){var e=iS(n+"");if(arguments.length<2){for(var a=kg(this.node()),o=-1,u=e.length;++o<u;)if(!a.contains(e[o]))return!1;return!0}return this.each((typeof t=="function"?rD:t?nD:iD)(e,t))}function sD(){this.textContent=""}function oD(n){return function(){this.textContent=n}}function lD(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function uD(n){return arguments.length?this.each(n==null?sD:(typeof n=="function"?lD:oD)(n)):this.node().textContent}function cD(){this.innerHTML=""}function hD(n){return function(){this.innerHTML=n}}function fD(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function dD(n){return arguments.length?this.each(n==null?cD:(typeof n=="function"?fD:hD)(n)):this.node().innerHTML}function pD(){this.nextSibling&&this.parentNode.appendChild(this)}function mD(){return this.each(pD)}function gD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yD(){return this.each(gD)}function _D(n){var t=typeof n=="function"?n:Zw(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vD(){return null}function ED(n,t){var e=typeof n=="function"?n:Zw(n),a=t==null?vD:typeof t=="function"?t:Og(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})}function TD(){var n=this.parentNode;n&&n.removeChild(this)}function wD(){return this.each(TD)}function SD(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function bD(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function AD(n){return this.select(n?bD:SD)}function RD(n){return arguments.length?this.property("__data__",n):this.node().__data__}function CD(n){return function(t){n.call(this,t,this.__data__)}}function ID(n){return n.trim().split(/^|\s+/).map(function(t){var e="",a=t.indexOf(".");return a>=0&&(e=t.slice(a+1),t=t.slice(0,a)),{type:t,name:e}})}function xD(n){return function(){var t=this.__on;if(t){for(var e=0,a=-1,o=t.length,u;e<o;++e)u=t[e],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):t[++a]=u;++a?t.length=a:delete this.__on}}}function MD(n,t,e){return function(){var a=this.__on,o,u=CD(t);if(a){for(var h=0,d=a.length;h<d;++h)if((o=a[h]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=e),o.value=t;return}}this.addEventListener(n.type,u,e),o={type:n.type,name:n.name,value:t,listener:u,options:e},a?a.push(o):this.__on=[o]}}function ND(n,t,e){var a=ID(n+""),o,u=a.length,h;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,g=d.length,_;m<g;++m)for(o=0,_=d[m];o<u;++o)if((h=a[o]).type===_.type&&h.name===_.name)return _.value}return}for(d=t?MD:xD,o=0;o<u;++o)this.each(d(a[o],t,e));return this}function oS(n,t,e){var a=nS(n),o=a.CustomEvent;typeof o=="function"?o=new o(t,e):(o=a.document.createEvent("Event"),e?(o.initEvent(t,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(t,!1,!1)),n.dispatchEvent(o)}function DD(n,t){return function(){return oS(this,n,t)}}function OD(n,t){return function(){return oS(this,n,t.apply(this,arguments))}}function kD(n,t){return this.each((typeof t=="function"?OD:DD)(n,t))}function*VD(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a=n[t],o=0,u=a.length,h;o<u;++o)(h=a[o])&&(yield h)}var lS=[null];function Ln(n,t){this._groups=n,this._parents=t}function Mu(){return new Ln([[document.documentElement]],lS)}function PD(){return this}Ln.prototype=Mu.prototype={constructor:Ln,select:l4,selectAll:f4,selectChild:g4,selectChildren:E4,filter:T4,data:C4,enter:w4,exit:x4,join:M4,merge:N4,selection:PD,order:D4,sort:O4,call:V4,nodes:P4,node:L4,size:U4,empty:B4,each:z4,attr:K4,style:Z4,property:eD,classed:aD,text:uD,html:dD,raise:mD,lower:yD,append:_D,insert:ED,remove:wD,clone:AD,datum:RD,on:ND,dispatch:kD,[Symbol.iterator]:VD};function Mi(n){return typeof n=="string"?new Ln([[document.querySelector(n)]],[document.documentElement]):new Ln([[n]],lS)}function LD(n){let t;for(;t=n.sourceEvent;)n=t;return n}function UD(n,t){if(n=LD(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var a=e.createSVGPoint();return a.x=n.clientX,a.y=n.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}}return[n.pageX,n.pageY]}function Vg(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function uS(n,t){var e=Object.create(n.prototype);for(var a in t)e[a]=t[a];return e}function Nu(){}var gu=.7,Yh=1/gu,yo="\\s*([+-]?\\d+)\\s*",yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BD=/^#([0-9a-f]{3,8})$/,zD=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),jD=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),GD=new RegExp(`^rgba\\(${yo},${yo},${yo},${yu}\\)$`),HD=new RegExp(`^rgba\\(${Li},${Li},${Li},${yu}\\)$`),qD=new RegExp(`^hsl\\(${yu},${Li},${Li}\\)$`),FD=new RegExp(`^hsla\\(${yu},${Li},${Li},${yu}\\)$`),G1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vg(Nu,ls,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:H1,formatHex:H1,formatHex8:$D,formatHsl:KD,formatRgb:q1,toString:q1});function H1(){return this.rgb().formatHex()}function $D(){return this.rgb().formatHex8()}function KD(){return cS(this).formatHsl()}function q1(){return this.rgb().formatRgb()}function ls(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=BD.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?F1(t):e===3?new In(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?ah(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?ah(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zD.exec(n))?new In(t[1],t[2],t[3],1):(t=jD.exec(n))?new In(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GD.exec(n))?ah(t[1],t[2],t[3],t[4]):(t=HD.exec(n))?ah(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qD.exec(n))?Y1(t[1],t[2]/100,t[3]/100,1):(t=FD.exec(n))?Y1(t[1],t[2]/100,t[3]/100,t[4]):G1.hasOwnProperty(n)?F1(G1[n]):n==="transparent"?new In(NaN,NaN,NaN,0):null}function F1(n){return new In(n>>16&255,n>>8&255,n&255,1)}function ah(n,t,e,a){return a<=0&&(n=t=e=NaN),new In(n,t,e,a)}function YD(n){return n instanceof Nu||(n=ls(n)),n?(n=n.rgb(),new In(n.r,n.g,n.b,n.opacity)):new In}function Im(n,t,e,a){return arguments.length===1?YD(n):new In(n,t,e,a??1)}function In(n,t,e,a){this.r=+n,this.g=+t,this.b=+e,this.opacity=+a}Vg(In,Im,uS(Nu,{brighter(n){return n=n==null?Yh:Math.pow(Yh,n),new In(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?gu:Math.pow(gu,n),new In(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new In(es(this.r),es(this.g),es(this.b),Qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$1,formatHex:$1,formatHex8:QD,formatRgb:K1,toString:K1}));function $1(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}`}function QD(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}${Za((isNaN(this.opacity)?1:this.opacity)*255)}`}function K1(){const n=Qh(this.opacity);return`${n===1?"rgb(":"rgba("}${es(this.r)}, ${es(this.g)}, ${es(this.b)}${n===1?")":`, ${n})`}`}function Qh(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function es(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Za(n){return n=es(n),(n<16?"0":"")+n.toString(16)}function Y1(n,t,e,a){return a<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new li(n,t,e,a)}function cS(n){if(n instanceof li)return new li(n.h,n.s,n.l,n.opacity);if(n instanceof Nu||(n=ls(n)),!n)return new li;if(n instanceof li)return n;n=n.rgb();var t=n.r/255,e=n.g/255,a=n.b/255,o=Math.min(t,e,a),u=Math.max(t,e,a),h=NaN,d=u-o,m=(u+o)/2;return d?(t===u?h=(e-a)/d+(e<a)*6:e===u?h=(a-t)/d+2:h=(t-e)/d+4,d/=m<.5?u+o:2-u-o,h*=60):d=m>0&&m<1?0:h,new li(h,d,m,n.opacity)}function XD(n,t,e,a){return arguments.length===1?cS(n):new li(n,t,e,a??1)}function li(n,t,e,a){this.h=+n,this.s=+t,this.l=+e,this.opacity=+a}Vg(li,XD,uS(Nu,{brighter(n){return n=n==null?Yh:Math.pow(Yh,n),new li(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?gu:Math.pow(gu,n),new li(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,a=e+(e<.5?e:1-e)*t,o=2*e-a;return new In(Gp(n>=240?n-240:n+120,o,a),Gp(n,o,a),Gp(n<120?n+240:n-120,o,a),this.opacity)},clamp(){return new li(Q1(this.h),sh(this.s),sh(this.l),Qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Qh(this.opacity);return`${n===1?"hsl(":"hsla("}${Q1(this.h)}, ${sh(this.s)*100}%, ${sh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Q1(n){return n=(n||0)%360,n<0?n+360:n}function sh(n){return Math.max(0,Math.min(1,n||0))}function Gp(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Pg=n=>()=>n;function ZD(n,t){return function(e){return n+e*t}}function JD(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(a){return Math.pow(n+a*t,e)}}function WD(n){return(n=+n)==1?hS:function(t,e){return e-t?JD(t,e,n):Pg(isNaN(t)?e:t)}}function hS(n,t){var e=t-n;return e?ZD(n,e):Pg(isNaN(n)?t:n)}const Xh=function n(t){var e=WD(t);function a(o,u){var h=e((o=Im(o)).r,(u=Im(u)).r),d=e(o.g,u.g),m=e(o.b,u.b),g=hS(o.opacity,u.opacity);return function(_){return o.r=h(_),o.g=d(_),o.b=m(_),o.opacity=g(_),o+""}}return a.gamma=n,a}(1);function tO(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,a=t.slice(),o;return function(u){for(o=0;o<e;++o)a[o]=n[o]*(1-u)+t[o]*u;return a}}function eO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function nO(n,t){var e=t?t.length:0,a=n?Math.min(e,n.length):0,o=new Array(a),u=new Array(e),h;for(h=0;h<a;++h)o[h]=Lg(n[h],t[h]);for(;h<e;++h)u[h]=t[h];return function(d){for(h=0;h<a;++h)u[h]=o[h](d);return u}}function iO(n,t){var e=new Date;return n=+n,t=+t,function(a){return e.setTime(n*(1-a)+t*a),e}}function si(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function rO(n,t){var e={},a={},o;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in n?e[o]=Lg(n[o],t[o]):a[o]=t[o];return function(u){for(o in e)a[o]=e[o](u);return a}}var xm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hp=new RegExp(xm.source,"g");function aO(n){return function(){return n}}function sO(n){return function(t){return n(t)+""}}function fS(n,t){var e=xm.lastIndex=Hp.lastIndex=0,a,o,u,h=-1,d=[],m=[];for(n=n+"",t=t+"";(a=xm.exec(n))&&(o=Hp.exec(t));)(u=o.index)>e&&(u=t.slice(e,u),d[h]?d[h]+=u:d[++h]=u),(a=a[0])===(o=o[0])?d[h]?d[h]+=o:d[++h]=o:(d[++h]=null,m.push({i:h,x:si(a,o)})),e=Hp.lastIndex;return e<t.length&&(u=t.slice(e),d[h]?d[h]+=u:d[++h]=u),d.length<2?m[0]?sO(m[0].x):aO(t):(t=m.length,function(g){for(var _=0,T;_<t;++_)d[(T=m[_]).i]=T.x(g);return d.join("")})}function Lg(n,t){var e=typeof t,a;return t==null||e==="boolean"?Pg(t):(e==="number"?si:e==="string"?(a=ls(t))?(t=a,Xh):fS:t instanceof ls?Xh:t instanceof Date?iO:eO(t)?tO:Array.isArray(t)?nO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rO:si)(n,t)}function oO(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var X1=180/Math.PI,Mm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dS(n,t,e,a,o,u){var h,d,m;return(h=Math.sqrt(n*n+t*t))&&(n/=h,t/=h),(m=n*e+t*a)&&(e-=n*m,a-=t*m),(d=Math.sqrt(e*e+a*a))&&(e/=d,a/=d,m/=d),n*a<t*e&&(n=-n,t=-t,m=-m,h=-h),{translateX:o,translateY:u,rotate:Math.atan2(t,n)*X1,skewX:Math.atan(m)*X1,scaleX:h,scaleY:d}}var oh;function lO(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Mm:dS(t.a,t.b,t.c,t.d,t.e,t.f)}function uO(n){return n==null||(oh||(oh=document.createElementNS("http://www.w3.org/2000/svg","g")),oh.setAttribute("transform",n),!(n=oh.transform.baseVal.consolidate()))?Mm:(n=n.matrix,dS(n.a,n.b,n.c,n.d,n.e,n.f))}function pS(n,t,e,a){function o(g){return g.length?g.pop()+" ":""}function u(g,_,T,S,M,z){if(g!==T||_!==S){var Z=M.push("translate(",null,t,null,e);z.push({i:Z-4,x:si(g,T)},{i:Z-2,x:si(_,S)})}else(T||S)&&M.push("translate("+T+t+S+e)}function h(g,_,T,S){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),S.push({i:T.push(o(T)+"rotate(",null,a)-2,x:si(g,_)})):_&&T.push(o(T)+"rotate("+_+a)}function d(g,_,T,S){g!==_?S.push({i:T.push(o(T)+"skewX(",null,a)-2,x:si(g,_)}):_&&T.push(o(T)+"skewX("+_+a)}function m(g,_,T,S,M,z){if(g!==T||_!==S){var Z=M.push(o(M)+"scale(",null,",",null,")");z.push({i:Z-4,x:si(g,T)},{i:Z-2,x:si(_,S)})}else(T!==1||S!==1)&&M.push(o(M)+"scale("+T+","+S+")")}return function(g,_){var T=[],S=[];return g=n(g),_=n(_),u(g.translateX,g.translateY,_.translateX,_.translateY,T,S),h(g.rotate,_.rotate,T,S),d(g.skewX,_.skewX,T,S),m(g.scaleX,g.scaleY,_.scaleX,_.scaleY,T,S),g=_=null,function(M){for(var z=-1,Z=S.length,Q;++z<Z;)T[(Q=S[z]).i]=Q.x(M);return T.join("")}}}var cO=pS(lO,"px, ","px)","deg)"),hO=pS(uO,", ",")",")"),Co=0,Xl=0,Gl=0,mS=1e3,Zh,Zl,Jh=0,us=0,wf=0,_u=typeof performance=="object"&&performance.now?performance:Date,gS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Ug(){return us||(gS(fO),us=_u.now()+wf)}function fO(){us=0}function Wh(){this._call=this._time=this._next=null}Wh.prototype=yS.prototype={constructor:Wh,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Ug():+e)+(t==null?0:+t),!this._next&&Zl!==this&&(Zl?Zl._next=this:Zh=this,Zl=this),this._call=n,this._time=e,Nm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nm())}};function yS(n,t,e){var a=new Wh;return a.restart(n,t,e),a}function dO(){Ug(),++Co;for(var n=Zh,t;n;)(t=us-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Co}function Z1(){us=(Jh=_u.now())+wf,Co=Xl=0;try{dO()}finally{Co=0,mO(),us=0}}function pO(){var n=_u.now(),t=n-Jh;t>mS&&(wf-=t,Jh=n)}function mO(){for(var n,t=Zh,e,a=1/0;t;)t._call?(a>t._time&&(a=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Zh=e);Zl=n,Nm(a)}function Nm(n){if(!Co){Xl&&(Xl=clearTimeout(Xl));var t=n-us;t>24?(n<1/0&&(Xl=setTimeout(Z1,n-_u.now()-wf)),Gl&&(Gl=clearInterval(Gl))):(Gl||(Jh=_u.now(),Gl=setInterval(pO,mS)),Co=1,gS(Z1))}}function J1(n,t,e){var a=new Wh;return t=t==null?0:+t,a.restart(o=>{a.stop(),n(o+t)},t,e),a}var gO=Xw("start","end","cancel","interrupt"),yO=[],_S=0,W1=1,Dm=2,wh=3,tE=4,Om=5,Sh=6;function Sf(n,t,e,a,o,u){var h=n.__transition;if(!h)n.__transition={};else if(e in h)return;_O(n,e,{name:t,index:a,group:o,on:gO,tween:yO,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:_S})}function Bg(n,t){var e=fi(n,t);if(e.state>_S)throw new Error("too late; already scheduled");return e}function ji(n,t){var e=fi(n,t);if(e.state>wh)throw new Error("too late; already running");return e}function fi(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function _O(n,t,e){var a=n.__transition,o;a[t]=e,e.timer=yS(u,0,e.time);function u(g){e.state=W1,e.timer.restart(h,e.delay,e.time),e.delay<=g&&h(g-e.delay)}function h(g){var _,T,S,M;if(e.state!==W1)return m();for(_ in a)if(M=a[_],M.name===e.name){if(M.state===wh)return J1(h);M.state===tE?(M.state=Sh,M.timer.stop(),M.on.call("interrupt",n,n.__data__,M.index,M.group),delete a[_]):+_<t&&(M.state=Sh,M.timer.stop(),M.on.call("cancel",n,n.__data__,M.index,M.group),delete a[_])}if(J1(function(){e.state===wh&&(e.state=tE,e.timer.restart(d,e.delay,e.time),d(g))}),e.state=Dm,e.on.call("start",n,n.__data__,e.index,e.group),e.state===Dm){for(e.state=wh,o=new Array(S=e.tween.length),_=0,T=-1;_<S;++_)(M=e.tween[_].value.call(n,n.__data__,e.index,e.group))&&(o[++T]=M);o.length=T+1}}function d(g){for(var _=g<e.duration?e.ease.call(null,g/e.duration):(e.timer.restart(m),e.state=Om,1),T=-1,S=o.length;++T<S;)o[T].call(n,_);e.state===Om&&(e.on.call("end",n,n.__data__,e.index,e.group),m())}function m(){e.state=Sh,e.timer.stop(),delete a[t];for(var g in a)return;delete n.__transition}}function vO(n,t){var e=n.__transition,a,o,u=!0,h;if(e){t=t==null?null:t+"";for(h in e){if((a=e[h]).name!==t){u=!1;continue}o=a.state>Dm&&a.state<Om,a.state=Sh,a.timer.stop(),a.on.call(o?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete e[h]}u&&delete n.__transition}}function EO(n){return this.each(function(){vO(this,n)})}function TO(n,t){var e,a;return function(){var o=ji(this,n),u=o.tween;if(u!==e){a=e=u;for(var h=0,d=a.length;h<d;++h)if(a[h].name===t){a=a.slice(),a.splice(h,1);break}}o.tween=a}}function wO(n,t,e){var a,o;if(typeof e!="function")throw new Error;return function(){var u=ji(this,n),h=u.tween;if(h!==a){o=(a=h).slice();for(var d={name:t,value:e},m=0,g=o.length;m<g;++m)if(o[m].name===t){o[m]=d;break}m===g&&o.push(d)}u.tween=o}}function SO(n,t){var e=this._id;if(n+="",arguments.length<2){for(var a=fi(this.node(),e).tween,o=0,u=a.length,h;o<u;++o)if((h=a[o]).name===n)return h.value;return null}return this.each((t==null?TO:wO)(e,n,t))}function zg(n,t,e){var a=n._id;return n.each(function(){var o=ji(this,a);(o.value||(o.value={}))[t]=e.apply(this,arguments)}),function(o){return fi(o,a).value[t]}}function vS(n,t){var e;return(typeof t=="number"?si:t instanceof ls?Xh:(e=ls(t))?(t=e,Xh):fS)(n,t)}function bO(n){return function(){this.removeAttribute(n)}}function AO(n){return function(){this.removeAttributeNS(n.space,n.local)}}function RO(n,t,e){var a,o=e+"",u;return function(){var h=this.getAttribute(n);return h===o?null:h===a?u:u=t(a=h,e)}}function CO(n,t,e){var a,o=e+"",u;return function(){var h=this.getAttributeNS(n.space,n.local);return h===o?null:h===a?u:u=t(a=h,e)}}function IO(n,t,e){var a,o,u;return function(){var h,d=e(this),m;return d==null?void this.removeAttribute(n):(h=this.getAttribute(n),m=d+"",h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d)))}}function xO(n,t,e){var a,o,u;return function(){var h,d=e(this),m;return d==null?void this.removeAttributeNS(n.space,n.local):(h=this.getAttributeNS(n.space,n.local),m=d+"",h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d)))}}function MO(n,t){var e=Tf(n),a=e==="transform"?hO:vS;return this.attrTween(n,typeof t=="function"?(e.local?xO:IO)(e,a,zg(this,"attr."+n,t)):t==null?(e.local?AO:bO)(e):(e.local?CO:RO)(e,a,t))}function NO(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function DO(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function OO(n,t){var e,a;function o(){var u=t.apply(this,arguments);return u!==a&&(e=(a=u)&&DO(n,u)),e}return o._value=t,o}function kO(n,t){var e,a;function o(){var u=t.apply(this,arguments);return u!==a&&(e=(a=u)&&NO(n,u)),e}return o._value=t,o}function VO(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var a=Tf(n);return this.tween(e,(a.local?OO:kO)(a,t))}function PO(n,t){return function(){Bg(this,n).delay=+t.apply(this,arguments)}}function LO(n,t){return t=+t,function(){Bg(this,n).delay=t}}function UO(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?PO:LO)(t,n)):fi(this.node(),t).delay}function BO(n,t){return function(){ji(this,n).duration=+t.apply(this,arguments)}}function zO(n,t){return t=+t,function(){ji(this,n).duration=t}}function jO(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?BO:zO)(t,n)):fi(this.node(),t).duration}function GO(n,t){if(typeof t!="function")throw new Error;return function(){ji(this,n).ease=t}}function HO(n){var t=this._id;return arguments.length?this.each(GO(t,n)):fi(this.node(),t).ease}function qO(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;ji(this,n).ease=e}}function FO(n){if(typeof n!="function")throw new Error;return this.each(qO(this._id,n))}function $O(n){typeof n!="function"&&(n=Ww(n));for(var t=this._groups,e=t.length,a=new Array(e),o=0;o<e;++o)for(var u=t[o],h=u.length,d=a[o]=[],m,g=0;g<h;++g)(m=u[g])&&n.call(m,m.__data__,g,u)&&d.push(m);return new Sr(a,this._parents,this._name,this._id)}function KO(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,a=t.length,o=e.length,u=Math.min(a,o),h=new Array(a),d=0;d<u;++d)for(var m=t[d],g=e[d],_=m.length,T=h[d]=new Array(_),S,M=0;M<_;++M)(S=m[M]||g[M])&&(T[M]=S);for(;d<a;++d)h[d]=t[d];return new Sr(h,this._parents,this._name,this._id)}function YO(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function QO(n,t,e){var a,o,u=YO(t)?Bg:ji;return function(){var h=u(this,n),d=h.on;d!==a&&(o=(a=d).copy()).on(t,e),h.on=o}}function XO(n,t){var e=this._id;return arguments.length<2?fi(this.node(),e).on.on(n):this.each(QO(e,n,t))}function ZO(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function JO(){return this.on("end.remove",ZO(this._id))}function WO(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Og(n));for(var a=this._groups,o=a.length,u=new Array(o),h=0;h<o;++h)for(var d=a[h],m=d.length,g=u[h]=new Array(m),_,T,S=0;S<m;++S)(_=d[S])&&(T=n.call(_,_.__data__,S,d))&&("__data__"in _&&(T.__data__=_.__data__),g[S]=T,Sf(g[S],t,e,S,g,fi(_,e)));return new Sr(u,this._parents,t,e)}function t3(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Jw(n));for(var a=this._groups,o=a.length,u=[],h=[],d=0;d<o;++d)for(var m=a[d],g=m.length,_,T=0;T<g;++T)if(_=m[T]){for(var S=n.call(_,_.__data__,T,m),M,z=fi(_,e),Z=0,Q=S.length;Z<Q;++Z)(M=S[Z])&&Sf(M,t,e,Z,S,z);u.push(S),h.push(_)}return new Sr(u,h,t,e)}var e3=Mu.prototype.constructor;function n3(){return new e3(this._groups,this._parents)}function i3(n,t){var e,a,o;return function(){var u=Ro(this,n),h=(this.style.removeProperty(n),Ro(this,n));return u===h?null:u===e&&h===a?o:o=t(e=u,a=h)}}function ES(n){return function(){this.style.removeProperty(n)}}function r3(n,t,e){var a,o=e+"",u;return function(){var h=Ro(this,n);return h===o?null:h===a?u:u=t(a=h,e)}}function a3(n,t,e){var a,o,u;return function(){var h=Ro(this,n),d=e(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(n),Ro(this,n))),h===m?null:h===a&&m===o?u:(o=m,u=t(a=h,d))}}function s3(n,t){var e,a,o,u="style."+t,h="end."+u,d;return function(){var m=ji(this,n),g=m.on,_=m.value[u]==null?d||(d=ES(t)):void 0;(g!==e||o!==_)&&(a=(e=g).copy()).on(h,o=_),m.on=a}}function o3(n,t,e){var a=(n+="")=="transform"?cO:vS;return t==null?this.styleTween(n,i3(n,a)).on("end.style."+n,ES(n)):typeof t=="function"?this.styleTween(n,a3(n,a,zg(this,"style."+n,t))).each(s3(this._id,n)):this.styleTween(n,r3(n,a,t),e).on("end.style."+n,null)}function l3(n,t,e){return function(a){this.style.setProperty(n,t.call(this,a),e)}}function u3(n,t,e){var a,o;function u(){var h=t.apply(this,arguments);return h!==o&&(a=(o=h)&&l3(n,h,e)),a}return u._value=t,u}function c3(n,t,e){var a="style."+(n+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,u3(n,t,e??""))}function h3(n){return function(){this.textContent=n}}function f3(n){return function(){var t=n(this);this.textContent=t??""}}function d3(n){return this.tween("text",typeof n=="function"?f3(zg(this,"text",n)):h3(n==null?"":n+""))}function p3(n){return function(t){this.textContent=n.call(this,t)}}function m3(n){var t,e;function a(){var o=n.apply(this,arguments);return o!==e&&(t=(e=o)&&p3(o)),t}return a._value=n,a}function g3(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,m3(n))}function y3(){for(var n=this._name,t=this._id,e=TS(),a=this._groups,o=a.length,u=0;u<o;++u)for(var h=a[u],d=h.length,m,g=0;g<d;++g)if(m=h[g]){var _=fi(m,t);Sf(m,n,e,g,h,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Sr(a,this._parents,n,e)}function _3(){var n,t,e=this,a=e._id,o=e.size();return new Promise(function(u,h){var d={value:h},m={value:function(){--o===0&&u()}};e.each(function(){var g=ji(this,a),_=g.on;_!==n&&(t=(n=_).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(m)),g.on=t}),o===0&&u()})}var v3=0;function Sr(n,t,e,a){this._groups=n,this._parents=t,this._name=e,this._id=a}function TS(){return++v3}var pr=Mu.prototype;Sr.prototype={constructor:Sr,select:WO,selectAll:t3,selectChild:pr.selectChild,selectChildren:pr.selectChildren,filter:$O,merge:KO,selection:n3,transition:y3,call:pr.call,nodes:pr.nodes,node:pr.node,size:pr.size,empty:pr.empty,each:pr.each,on:XO,attr:MO,attrTween:VO,style:o3,styleTween:c3,text:d3,textTween:g3,remove:JO,tween:SO,delay:UO,duration:jO,ease:HO,easeVarying:FO,end:_3,[Symbol.iterator]:pr[Symbol.iterator]};const eE=n=>+n;function E3(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var T3={time:null,delay:0,duration:250,ease:E3};function w3(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function S3(n){var t,e;n instanceof Sr?(t=n._id,n=n._name):(t=TS(),(e=T3).time=Ug(),n=n==null?null:n+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var h=a[u],d=h.length,m,g=0;g<d;++g)(m=h[g])&&Sf(m,n,t,g,h,e||w3(m,t));return new Sr(a,this._parents,n,t)}Mu.prototype.interrupt=EO;Mu.prototype.transition=S3;const km=Math.PI,Vm=2*km,Ya=1e-6,b3=Vm-Ya;function wS(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function A3(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return wS;const e=10**t;return function(a){this._+=a[0];for(let o=1,u=a.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+a[o]}}class R3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wS:A3(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,a,o){this._append`Q${+t},${+e},${this._x1=+a},${this._y1=+o}`}bezierCurveTo(t,e,a,o,u,h){this._append`C${+t},${+e},${+a},${+o},${this._x1=+u},${this._y1=+h}`}arcTo(t,e,a,o,u){if(t=+t,e=+e,a=+a,o=+o,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,d=this._y1,m=a-t,g=o-e,_=h-t,T=d-e,S=_*_+T*T;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(S>Ya)if(!(Math.abs(T*m-g*_)>Ya)||!u)this._append`L${this._x1=t},${this._y1=e}`;else{let M=a-h,z=o-d,Z=m*m+g*g,Q=M*M+z*z,ht=Math.sqrt(Z),ot=Math.sqrt(S),it=u*Math.tan((km-Math.acos((Z+S-Q)/(2*ht*ot)))/2),mt=it/ot,ct=it/ht;Math.abs(mt-1)>Ya&&this._append`L${t+mt*_},${e+mt*T}`,this._append`A${u},${u},0,0,${+(T*M>_*z)},${this._x1=t+ct*m},${this._y1=e+ct*g}`}}arc(t,e,a,o,u,h){if(t=+t,e=+e,a=+a,h=!!h,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(o),m=a*Math.sin(o),g=t+d,_=e+m,T=1^h,S=h?o-u:u-o;this._x1===null?this._append`M${g},${_}`:(Math.abs(this._x1-g)>Ya||Math.abs(this._y1-_)>Ya)&&this._append`L${g},${_}`,a&&(S<0&&(S=S%Vm+Vm),S>b3?this._append`A${a},${a},0,1,${T},${t-d},${e-m}A${a},${a},0,1,${T},${this._x1=g},${this._y1=_}`:S>Ya&&this._append`A${a},${a},0,${+(S>=km)},${T},${this._x1=t+a*Math.cos(u)},${this._y1=e+a*Math.sin(u)}`)}rect(t,e,a,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${a=+a}v${+o}h${-a}Z`}toString(){return this._}}var nE={},qp={},Fp=34,Hl=10,$p=13;function SS(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function C3(n,t){var e=SS(n);return function(a,o){return t(e(a),o,n)}}function iE(n){var t=Object.create(null),e=[];return n.forEach(function(a){for(var o in a)o in t||e.push(t[o]=o)}),e}function Rn(n,t){var e=n+"",a=e.length;return a<t?new Array(t-a+1).join(0)+e:e}function I3(n){return n<0?"-"+Rn(-n,6):n>9999?"+"+Rn(n,6):Rn(n,4)}function x3(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),a=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":I3(n.getUTCFullYear())+"-"+Rn(n.getUTCMonth()+1,2)+"-"+Rn(n.getUTCDate(),2)+(o?"T"+Rn(t,2)+":"+Rn(e,2)+":"+Rn(a,2)+"."+Rn(o,3)+"Z":a?"T"+Rn(t,2)+":"+Rn(e,2)+":"+Rn(a,2)+"Z":e||t?"T"+Rn(t,2)+":"+Rn(e,2)+"Z":"")}function M3(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function a(T,S){var M,z,Z=o(T,function(Q,ht){if(M)return M(Q,ht-1);z=Q,M=S?C3(Q,S):SS(Q)});return Z.columns=z||[],Z}function o(T,S){var M=[],z=T.length,Z=0,Q=0,ht,ot=z<=0,it=!1;T.charCodeAt(z-1)===Hl&&--z,T.charCodeAt(z-1)===$p&&--z;function mt(){if(ot)return qp;if(it)return it=!1,nE;var _t,k=Z,C;if(T.charCodeAt(k)===Fp){for(;Z++<z&&T.charCodeAt(Z)!==Fp||T.charCodeAt(++Z)===Fp;);return(_t=Z)>=z?ot=!0:(C=T.charCodeAt(Z++))===Hl?it=!0:C===$p&&(it=!0,T.charCodeAt(Z)===Hl&&++Z),T.slice(k+1,_t-1).replace(/""/g,'"')}for(;Z<z;){if((C=T.charCodeAt(_t=Z++))===Hl)it=!0;else if(C===$p)it=!0,T.charCodeAt(Z)===Hl&&++Z;else if(C!==e)continue;return T.slice(k,_t)}return ot=!0,T.slice(k,z)}for(;(ht=mt())!==qp;){for(var ct=[];ht!==nE&&ht!==qp;)ct.push(ht),ht=mt();S&&(ct=S(ct,Q++))==null||M.push(ct)}return M}function u(T,S){return T.map(function(M){return S.map(function(z){return _(M[z])}).join(n)})}function h(T,S){return S==null&&(S=iE(T)),[S.map(_).join(n)].concat(u(T,S)).join(`
`)}function d(T,S){return S==null&&(S=iE(T)),u(T,S).join(`
`)}function m(T){return T.map(g).join(`
`)}function g(T){return T.map(_).join(n)}function _(T){return T==null?"":T instanceof Date?x3(T):t.test(T+="")?'"'+T.replace(/"/g,'""')+'"':T}return{parse:a,parseRows:o,format:h,formatBody:d,formatRows:m,formatRow:g,formatValue:_}}var N3=M3(","),D3=N3.parse;function O3(n){for(var t in n){var e=n[t].trim(),a,o;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(a=+e))e=a;else if(o=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))k3&&o[4]&&!o[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[t]=e}return n}const k3=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function V3(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function P3(n,t){return fetch(n,t).then(V3)}function L3(n){return function(t,e,a){return arguments.length===2&&typeof e=="function"&&(a=e,e=void 0),P3(t,e).then(function(o){return n(o,a)})}}var U3=L3(D3);function B3(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function tf(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,a=n.slice(0,e);return[a.length>1?a[0]+a.slice(2):a,+n.slice(e+1)]}function Io(n){return n=tf(Math.abs(n)),n?n[1]:NaN}function z3(n,t){return function(e,a){for(var o=e.length,u=[],h=0,d=n[0],m=0;o>0&&d>0&&(m+d+1>a&&(d=Math.max(1,a-m)),u.push(e.substring(o-=d,o+d)),!((m+=d+1)>a));)d=n[h=(h+1)%n.length];return u.reverse().join(t)}}function j3(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var G3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ef(n){if(!(t=G3.exec(n)))throw new Error("invalid format: "+n);var t;return new jg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ef.prototype=jg.prototype;function jg(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}jg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function H3(n){t:for(var t=n.length,e=1,a=-1,o;e<t;++e)switch(n[e]){case".":a=o=e;break;case"0":a===0&&(a=e),o=e;break;default:if(!+n[e])break t;a>0&&(a=0);break}return a>0?n.slice(0,a)+n.slice(o+1):n}var bS;function q3(n,t){var e=tf(n,t);if(!e)return n+"";var a=e[0],o=e[1],u=o-(bS=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,h=a.length;return u===h?a:u>h?a+new Array(u-h+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+tf(n,Math.max(0,t+u-1))[0]}function rE(n,t){var e=tf(n,t);if(!e)return n+"";var a=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}const aE={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:B3,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>rE(n*100,t),r:rE,s:q3,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function sE(n){return n}var oE=Array.prototype.map,lE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function F3(n){var t=n.grouping===void 0||n.thousands===void 0?sE:z3(oE.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",a=n.currency===void 0?"":n.currency[1]+"",o=n.decimal===void 0?".":n.decimal+"",u=n.numerals===void 0?sE:j3(oE.call(n.numerals,String)),h=n.percent===void 0?"%":n.percent+"",d=n.minus===void 0?"−":n.minus+"",m=n.nan===void 0?"NaN":n.nan+"";function g(T){T=ef(T);var S=T.fill,M=T.align,z=T.sign,Z=T.symbol,Q=T.zero,ht=T.width,ot=T.comma,it=T.precision,mt=T.trim,ct=T.type;ct==="n"?(ot=!0,ct="g"):aE[ct]||(it===void 0&&(it=12),mt=!0,ct="g"),(Q||S==="0"&&M==="=")&&(Q=!0,S="0",M="=");var _t=Z==="$"?e:Z==="#"&&/[boxX]/.test(ct)?"0"+ct.toLowerCase():"",k=Z==="$"?a:/[%p]/.test(ct)?h:"",C=aE[ct],x=/[defgprs%]/.test(ct);it=it===void 0?6:/[gprs]/.test(ct)?Math.max(1,Math.min(21,it)):Math.max(0,Math.min(20,it));function V(N){var U=_t,I=k,nt,q,D;if(ct==="c")I=C(N)+I,N="";else{N=+N;var P=N<0||1/N<0;if(N=isNaN(N)?m:C(Math.abs(N),it),mt&&(N=H3(N)),P&&+N==0&&z!=="+"&&(P=!1),U=(P?z==="("?z:d:z==="-"||z==="("?"":z)+U,I=(ct==="s"?lE[8+bS/3]:"")+I+(P&&z==="("?")":""),x){for(nt=-1,q=N.length;++nt<q;)if(D=N.charCodeAt(nt),48>D||D>57){I=(D===46?o+N.slice(nt+1):N.slice(nt))+I,N=N.slice(0,nt);break}}}ot&&!Q&&(N=t(N,1/0));var L=U.length+N.length+I.length,K=L<ht?new Array(ht-L+1).join(S):"";switch(ot&&Q&&(N=t(K+N,K.length?ht-I.length:1/0),K=""),M){case"<":N=U+N+I+K;break;case"=":N=U+K+N+I;break;case"^":N=K.slice(0,L=K.length>>1)+U+N+I+K.slice(L);break;default:N=K+U+N+I;break}return u(N)}return V.toString=function(){return T+""},V}function _(T,S){var M=g((T=ef(T),T.type="f",T)),z=Math.max(-8,Math.min(8,Math.floor(Io(S)/3)))*3,Z=Math.pow(10,-z),Q=lE[8+z/3];return function(ht){return M(Z*ht)+Q}}return{format:g,formatPrefix:_}}var lh,AS,RS;$3({thousands:",",grouping:[3],currency:["$",""]});function $3(n){return lh=F3(n),AS=lh.format,RS=lh.formatPrefix,lh}function K3(n){return Math.max(0,-Io(Math.abs(n)))}function Y3(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Io(t)/3)))*3-Io(Math.abs(n)))}function Q3(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Io(t)-Io(n))+1}function Gg(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const uE=Symbol("implicit");function CS(){var n=new Sm,t=[],e=[],a=uE;function o(u){let h=n.get(u);if(h===void 0){if(a!==uE)return a;n.set(u,h=t.push(u)-1)}return e[h%e.length]}return o.domain=function(u){if(!arguments.length)return t.slice();t=[],n=new Sm;for(const h of u)n.has(h)||n.set(h,t.push(h)-1);return o},o.range=function(u){return arguments.length?(e=Array.from(u),o):e.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.copy=function(){return CS(t,e).unknown(a)},Gg.apply(o,arguments),o}function IS(){var n=CS().unknown(void 0),t=n.domain,e=n.range,a=0,o=1,u,h,d=!1,m=0,g=0,_=.5;delete n.unknown;function T(){var S=t().length,M=o<a,z=M?o:a,Z=M?a:o;u=(Z-z)/Math.max(1,S-m+g*2),d&&(u=Math.floor(u)),z+=(Z-z-u*(S-m))*_,h=u*(1-m),d&&(z=Math.round(z),h=Math.round(h));var Q=YN(S).map(function(ht){return z+u*ht});return e(M?Q.reverse():Q)}return n.domain=function(S){return arguments.length?(t(S),T()):t()},n.range=function(S){return arguments.length?([a,o]=S,a=+a,o=+o,T()):[a,o]},n.rangeRound=function(S){return[a,o]=S,a=+a,o=+o,d=!0,T()},n.bandwidth=function(){return h},n.step=function(){return u},n.round=function(S){return arguments.length?(d=!!S,T()):d},n.padding=function(S){return arguments.length?(m=Math.min(1,g=+S),T()):m},n.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),T()):m},n.paddingOuter=function(S){return arguments.length?(g=+S,T()):g},n.align=function(S){return arguments.length?(_=Math.max(0,Math.min(1,S)),T()):_},n.copy=function(){return IS(t(),[a,o]).round(d).paddingInner(m).paddingOuter(g).align(_)},Gg.apply(T(),arguments)}function X3(n){return function(){return n}}function Z3(n){return+n}var cE=[0,1];function ho(n){return n}function Pm(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:X3(isNaN(t)?NaN:.5)}function J3(n,t){var e;return n>t&&(e=n,n=t,t=e),function(a){return Math.max(n,Math.min(t,a))}}function W3(n,t,e){var a=n[0],o=n[1],u=t[0],h=t[1];return o<a?(a=Pm(o,a),u=e(h,u)):(a=Pm(a,o),u=e(u,h)),function(d){return u(a(d))}}function t6(n,t,e){var a=Math.min(n.length,t.length)-1,o=new Array(a),u=new Array(a),h=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++h<a;)o[h]=Pm(n[h],n[h+1]),u[h]=e(t[h],t[h+1]);return function(d){var m=UN(n,d,1,a)-1;return u[m](o[m](d))}}function e6(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function n6(){var n=cE,t=cE,e=Lg,a,o,u,h=ho,d,m,g;function _(){var S=Math.min(n.length,t.length);return h!==ho&&(h=J3(n[0],n[S-1])),d=S>2?t6:W3,m=g=null,T}function T(S){return S==null||isNaN(S=+S)?u:(m||(m=d(n.map(a),t,e)))(a(h(S)))}return T.invert=function(S){return h(o((g||(g=d(t,n.map(a),si)))(S)))},T.domain=function(S){return arguments.length?(n=Array.from(S,Z3),_()):n.slice()},T.range=function(S){return arguments.length?(t=Array.from(S),_()):t.slice()},T.rangeRound=function(S){return t=Array.from(S),e=oO,_()},T.clamp=function(S){return arguments.length?(h=S?!0:ho,_()):h!==ho},T.interpolate=function(S){return arguments.length?(e=S,_()):e},T.unknown=function(S){return arguments.length?(u=S,T):u},function(S,M){return a=S,o=M,_()}}function i6(){return n6()(ho,ho)}function r6(n,t,e,a){var o=KN(n,t,e),u;switch(a=ef(a??",f"),a.type){case"s":{var h=Math.max(Math.abs(n),Math.abs(t));return a.precision==null&&!isNaN(u=Y3(o,h))&&(a.precision=u),RS(a,h)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(u=Q3(o,Math.max(Math.abs(n),Math.abs(t))))&&(a.precision=u-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(u=K3(o))&&(a.precision=u-(a.type==="%")*2);break}}return AS(a)}function a6(n){var t=n.domain;return n.ticks=function(e){var a=t();return $N(a[0],a[a.length-1],e??10)},n.tickFormat=function(e,a){var o=t();return r6(o[0],o[o.length-1],e??10,a)},n.nice=function(e){e==null&&(e=10);var a=t(),o=0,u=a.length-1,h=a[o],d=a[u],m,g,_=10;for(d<h&&(g=h,h=d,d=g,g=o,o=u,u=g);_-- >0;){if(g=Am(h,d,e),g===m)return a[o]=h,a[u]=d,t(a);if(g>0)h=Math.floor(h/g)*g,d=Math.ceil(d/g)*g;else if(g<0)h=Math.ceil(h*g)/g,d=Math.floor(d*g)/g;else break;m=g}return n},n}function nf(){var n=i6();return n.copy=function(){return e6(n,nf())},Gg.apply(n,arguments),a6(n)}function ro(n){return function(){return n}}function s6(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const a=Math.floor(e);if(!(a>=0))throw new RangeError(`invalid digits: ${e}`);t=a}return n},()=>new R3(t)}function o6(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function xS(n){this._context=n}xS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function l6(n){return new xS(n)}function u6(n){return n[0]}function c6(n){return n[1]}function h6(n,t){var e=ro(!0),a=null,o=l6,u=null,h=s6(d);n=typeof n=="function"?n:n===void 0?u6:ro(n),t=typeof t=="function"?t:t===void 0?c6:ro(t);function d(m){var g,_=(m=o6(m)).length,T,S=!1,M;for(a==null&&(u=o(M=h())),g=0;g<=_;++g)!(g<_&&e(T=m[g],g,m))===S&&((S=!S)?u.lineStart():u.lineEnd()),S&&u.point(+n(T,g,m),+t(T,g,m));if(M)return u=null,M+""||null}return d.x=function(m){return arguments.length?(n=typeof m=="function"?m:ro(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ro(+m),d):t},d.defined=function(m){return arguments.length?(e=typeof m=="function"?m:ro(!!m),d):e},d.curve=function(m){return arguments.length?(o=m,a!=null&&(u=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=u=null:u=o(a=m),d):a},d}function hE(n){return n<0?-1:1}function fE(n,t,e){var a=n._x1-n._x0,o=t-n._x1,u=(n._y1-n._y0)/(a||o<0&&-0),h=(e-n._y1)/(o||a<0&&-0),d=(u*o+h*a)/(a+o);return(hE(u)+hE(h))*Math.min(Math.abs(u),Math.abs(h),.5*Math.abs(d))||0}function dE(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function Kp(n,t,e){var a=n._x0,o=n._y0,u=n._x1,h=n._y1,d=(u-a)/3;n._context.bezierCurveTo(a+d,o+d*t,u-d,h-d*e,u,h)}function rf(n){this._context=n}rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kp(this,this._t0,dE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,Kp(this,dE(this,e=fE(this,n,t)),e);break;default:Kp(this,this._t0,e=fE(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};Object.create(rf.prototype).point=function(n,t){rf.prototype.point.call(this,t,n)};function f6(n){return new rf(n)}function Jl(n,t,e){this.k=n,this.x=t,this.y=e}Jl.prototype={constructor:Jl,scale:function(n){return n===1?this:new Jl(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Jl(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Jl.prototype;function d6(n){const[t,e]=wt.useState({width:0,height:0});return wt.useEffect(()=>{const a=n.current;if(!a)return;const o=new ResizeObserver(([u])=>e(u.contentRect));return o.observe(a),()=>o.disconnect()},[n]),t}const ns=["#3b9e9e","#4f7cac","#b48f2b","#8c6fa8","#d17968"],p6=JSON.parse('[{"country":"Afghanistan","population":37172386},{"country":"Albania","population":2866376},{"country":"Algeria","population":42228429},{"country":"American Samoa","population":55465},{"country":"Andorra","population":77006},{"country":"Angola","population":30809762},{"country":"Anguilla","population":15094},{"country":"Antarctica","population":1106},{"country":"Antigua and Barbuda","population":96286},{"country":"Argentina","population":44494502},{"country":"Armenia","population":2951776},{"country":"Aruba","population":105845},{"country":"Australia","population":24982688},{"country":"Austria","population":8840521},{"country":"Azerbaijan","population":9939800},{"country":"Bahamas","population":385640},{"country":"Bahrain","population":1569439},{"country":"Bangladesh","population":161356039},{"country":"Barbados","population":286641},{"country":"Belarus","population":9483499},{"country":"Belgium","population":11433256},{"country":"Belize","population":383071},{"country":"Benin","population":11485048},{"country":"Bermuda","population":63973},{"country":"Bhutan","population":754394},{"country":"Bolivia","population":11353142},{"country":"Bosnia and Herzegovina","population":3323929},{"country":"Botswana","population":2254126},{"country":"Bouvet Island","population":0},{"country":"Brazil","population":209469333},{"country":"British Indian Ocean Territory","population":0},{"country":"Brunei","population":428962},{"country":"Bulgaria","population":7025037},{"country":"Burkina Faso","population":19751535},{"country":"Burundi","population":11175378},{"country":"Cabo Verde","population":555987},{"country":"Cambodia","population":16249798},{"country":"Cameroon","population":25216237},{"country":"Canada","population":37057765},{"country":"Cape Verde","population":543767},{"country":"Cayman Islands","population":64174},{"country":"Central African Republic","population":4666377},{"country":"Chad","population":15477751},{"country":"Chile","population":18729160},{"country":"China","population":1392730000},{"country":"Christmas Island","population":1402},{"country":"Cocos (Keeling) Islands","population":596},{"country":"Colombia","population":49648685},{"country":"Comoros","population":832322},{"country":"Congo","population":5244363},{"country":"Cook Islands","population":17379},{"country":"Costa Rica","population":4999441},{"country":"Croatia","population":4087843},{"country":"Cuba","population":11338138},{"country":"Cyprus","population":1189265},{"country":"Czech Republic","population":10629928},{"country":"Denmark","population":5793636},{"country":"Djibouti","population":958920},{"country":"Dominica","population":71625},{"country":"Dominican Republic","population":10627165},{"country":"East Timor","population":1267972},{"country":"Ecuador","population":17084357},{"country":"Egypt","population":98423595},{"country":"El Salvador","population":6420744},{"country":"England","population":55619400},{"country":"Equatorial Guinea","population":1308974},{"country":"Eritrea","population":6213972},{"country":"Estonia","population":1321977},{"country":"Eswatini","population":1136191},{"country":"Ethiopia","population":109224559},{"country":"Falkland Islands","population":2840},{"country":"Faroe Islands","population":48497},{"country":"Fiji Islands","population":883483},{"country":"Finland","population":5515525},{"country":"France","population":66977107},{"country":"French Guiana","population":290691},{"country":"French Polynesia","population":277679},{"country":"French Southern territories","population":0},{"country":"Gabon","population":2119275},{"country":"Gambia","population":2280102},{"country":"Georgia","population":3726549},{"country":"Germany","population":82905782},{"country":"Ghana","population":29767108},{"country":"Gibraltar","population":33718},{"country":"Greece","population":10731726},{"country":"Greenland","population":56025},{"country":"Grenada","population":111454},{"country":"Guadeloupe","population":395700},{"country":"Guam","population":165768},{"country":"Guatemala","population":17247807},{"country":"Guinea","population":12414318},{"country":"Guinea-Bissau","population":1874309},{"country":"Guyana","population":779004},{"country":"Haiti","population":11123176},{"country":"Heard Island and McDonald Islands","population":0},{"country":"Holy See (Vatican City State)","population":825},{"country":"Honduras","population":9587522},{"country":"Hong Kong","population":7451000},{"country":"Hungary","population":9775564},{"country":"Iceland","population":352721},{"country":"India","population":1352617328},{"country":"Indonesia","population":267663435},{"country":"Iran","population":81800269},{"country":"Iraq","population":38433600},{"country":"Ireland","population":4867309},{"country":"Israel","population":8882800},{"country":"Italy","population":60421760},{"country":"Ivory Coast","population":25069229},{"country":"Jamaica","population":2934855},{"country":"Japan","population":126529100},{"country":"Jordan","population":9956011},{"country":"Kazakhstan","population":18272430},{"country":"Kenya","population":51393010},{"country":"Kiribati","population":115847},{"country":"Kuwait","population":4137309},{"country":"Kyrgyzstan","population":6322800},{"country":"Laos","population":7061507},{"country":"Latvia","population":1927174},{"country":"Lebanon","population":6848925},{"country":"Lesotho","population":2108132},{"country":"Liberia","population":4818977},{"country":"Libya","population":6678567},{"country":"Liechtenstein","population":37910},{"country":"Lithuania","population":2801543},{"country":"Luxembourg","population":607950},{"country":"Macao","population":631636},{"country":"North Macedonia","population":2084367},{"country":"Madagascar","population":26262368},{"country":"Malawi","population":18143315},{"country":"Malaysia","population":31528585},{"country":"Maldives","population":515696},{"country":"Mali","population":19077690},{"country":"Malta","population":484630},{"country":"Marshall Islands","population":58413},{"country":"Martinique","population":376480},{"country":"Mauritania","population":4403319},{"country":"Mauritius","population":1265303},{"country":"Mayotte","population":270372},{"country":"Mexico","population":126190788},{"country":"Micronesia, Federated States of","population":112640},{"country":"Moldova","population":2706049},{"country":"Monaco","population":38682},{"country":"Mongolia","population":3170208},{"country":"Montenegro","population":631219},{"country":"Montserrat","population":5900},{"country":"Morocco","population":36029138},{"country":"Mozambique","population":29495962},{"country":"Myanmar","population":53708395},{"country":"Namibia","population":2448255},{"country":"Nauru","population":12704},{"country":"Nepal","population":28087871},{"country":"Netherlands","population":17231624},{"country":"Netherlands Antilles","population":227049},{"country":"New Caledonia","population":284060},{"country":"New Zealand","population":4841000},{"country":"Nicaragua","population":6465513},{"country":"Niger","population":22442948},{"country":"Nigeria","population":195874740},{"country":"Niue","population":1624},{"country":"Norfolk Island","population":2169},{"country":"North Korea","population":25549819},{"country":"Northern Ireland","population":1885400},{"country":"Northern Mariana Islands","population":56882},{"country":"Norway","population":5311916},{"country":"Oman","population":4829483},{"country":"Pakistan","population":212215030},{"country":"Palau","population":17907},{"country":"Palestine","population":4569087},{"country":"Panama","population":4176873},{"country":"Papua New Guinea","population":8606316},{"country":"Paraguay","population":6956071},{"country":"Peru","population":31989256},{"country":"Philippines","population":106651922},{"country":"Pitcairn","population":67},{"country":"Poland","population":37974750},{"country":"Portugal","population":10283822},{"country":"Puerto Rico","population":3195153},{"country":"Qatar","population":2781677},{"country":"Reunion","population":859959},{"country":"Romania","population":19466145},{"country":"Russia","population":144478050},{"country":"Rwanda","population":12301939},{"country":"Saint Helena","population":6600},{"country":"Saint Kitts and Nevis","population":52441},{"country":"Saint Lucia","population":181889},{"country":"Saint Pierre and Miquelon","population":5888},{"country":"Saint Vincent and the Grenadines","population":110210},{"country":"Samoa","population":196130},{"country":"San Marino","population":33785},{"country":"Sao Tome and Principe","population":211028},{"country":"Saudi Arabia","population":33699947},{"country":"Scotland","population":5424800},{"country":"Senegal","population":15854360},{"country":"Serbia","population":6963764},{"country":"Seychelles","population":96762},{"country":"Sierra Leone","population":7650154},{"country":"Singapore","population":5638676},{"country":"Slovakia","population":5446771},{"country":"Slovenia","population":2073894},{"country":"Solomon Islands","population":652858},{"country":"Somalia","population":15008154},{"country":"South Africa","population":57779622},{"country":"South Georgia and the South Sandwich Islands","population":30},{"country":"South Korea","population":51606633},{"country":"South Sudan","population":10975920},{"country":"Spain","population":46796540},{"country":"Sri Lanka","population":21670000},{"country":"Sudan","population":41801533},{"country":"Suriname","population":575991},{"country":"Svalbard and Jan Mayen","population":2572},{"country":"Sweden","population":10175214},{"country":"Switzerland","population":8513227},{"country":"Syria","population":16906283},{"country":"Tajikistan","population":9100837},{"country":"Tanzania","population":56318348},{"country":"Thailand","population":69428524},{"country":"The Democratic Republic of Congo","population":84068091},{"country":"Togo","population":7889094},{"country":"Tokelau","population":1411},{"country":"Tonga","population":103197},{"country":"Trinidad and Tobago","population":1389858},{"country":"Tunisia","population":11565204},{"country":"Turkey","population":82319724},{"country":"Turkmenistan","population":5850908},{"country":"Turks and Caicos Islands","population":37665},{"country":"Tuvalu","population":11508},{"country":"Uganda","population":42723139},{"country":"Ukraine","population":44622516},{"country":"United Arab Emirates","population":9630959},{"country":"United Kingdom","population":66460344},{"country":"United States","population":326687501},{"country":"United States Minor Outlying Islands","population":300},{"country":"Uruguay","population":3449299},{"country":"Uzbekistan","population":32955400},{"country":"Vanuatu","population":292680},{"country":"Venezuela","population":28870195},{"country":"Vietnam","population":95540395},{"country":"Virgin Islands, British","population":29802},{"country":"Virgin Islands, U.S.","population":106977},{"country":"Wales","population":3139000},{"country":"Wallis and Futuna","population":15289},{"country":"Western Sahara","population":652271},{"country":"Yemen","population":28498687},{"country":"Zambia","population":17351822},{"country":"Zimbabwe","population":14439018}]'),m6=p6.filter(({population:n})=>n>=3e5).map(({country:n,population:t})=>({name:n,population:+t}));function g6({csvUrl:n,meta:t,target:e,others:a=[],guesses:o=[],setAvailableCountries:u}){const h=wt.useRef(null),d=wt.useRef(null),{width:m,height:g}=d6(h),[_,T]=wt.useState(null),[S,M]=wt.useState(null),z=wt.useRef(null);wt.useEffect(()=>{n&&U3(n,O3).then(Q=>{if(!Q.length)return;const ht=Object.keys(Q[0]),ot=ht.filter(P=>/^\d{4}$/.test(P)),it=ot.length>3;let mt;if(it){const[P,L]=ht;mt=Q.flatMap(K=>ot.map(w=>({Country:K[P],ISO:K[L],Year:+w,Production:K[w]})))}else{const[P,L,K]=ht,w=ht.find((A,H)=>H>2&&typeof Q[0][A]=="number");mt=Q.filter(A=>A[L]&&typeof A[L]=="string"&&A[L].trim()!==""&&!A[L].startsWith("OWID")&&(t.yearStart==null||A[K]>=t.yearStart)&&(t.yearEnd==null||A[K]<=t.yearEnd)).map(A=>({Country:A[P],ISO:A[L],Year:A[K],Production:A[w]}))}console.log("Standardized data:",mt);const ct=mt.map(P=>P.Year),_t=t.yearStart??U1(ct),k=t.yearEnd??uo(ct),C=k-_t+1,x=L1(mt.filter(P=>P.Year>=_t&&P.Year<=k),P=>P.Country),V=.6,N=Array.from(x.entries()).filter(([P,L])=>new Set(L.map(w=>w.Year)).size/C>=V).map(([P])=>P),U=3e5,I=new Map(Object.entries(m6).map(([P,L])=>[L.name||P,L.population])),nt=N.filter(P=>{const L=I.get(P);return typeof L=="number"&&L>=U}),q=mt.filter(P=>nt.includes(P.Country));T(mt),M(q);const D=Array.from(new Set(mt.map(P=>P.Country)));u(D)})},[n]);const Z=Q=>{const ht=GN(Q.filter(it=>it.Country!==e&&typeof it.Production=="number"&&!isNaN(it.Production)),it=>uo(it,mt=>mt.Production),it=>it.Country);return Array.from(ht.entries()).sort((it,mt)=>$w(it[1],mt[1])).map(([it])=>it).filter((it,mt,ct)=>ct.indexOf(it)===mt).filter(it=>it!==e)};return wt.useEffect(()=>{if(!_||!S||!t||!e||m===0||g===0)return;const Q=requestAnimationFrame(()=>{var Gi;const ht=t.unitSuffix,ot=getComputedStyle(document.documentElement).getPropertyValue("--stroke-outline").trim(),it=a.length?a:Z(S),mt=new Set([e,...it,...o]),ct=L1(_.filter($=>mt.has($.Country)),$=>$.Country),_t={top:30,right:50,bottom:60,left:50},k=m-_t.left-_t.right,C=g-_t.top-_t.bottom,x=nf().domain([t.yearStart??U1(_,$=>$.Year),t.yearEnd??uo(_,$=>$.Year)]).range([0,k]),V=uo(ct,([,$])=>uo($,St=>St.Production/t.scale)),N=nf().domain([0,V]).range([C,0]);(z.current===null||V>z.current)&&(z.current=V);const I=h6().defined($=>typeof $.Production=="number"&&!isNaN($.Production)).curve(f6).x($=>x($.Year)).y($=>N($.Production/t.scale));console.log("x-domain:",x.domain()),console.log("sample target years:",ct.get(e).map($=>$.Year));const nt=it.map($=>({id:`${$}-base`,country:$,rows:ct.get($)??[],stroke:getComputedStyle(document.documentElement).getPropertyValue("--other-lines").trim(),width:1.5,opacity:.4})),q=[{id:`${e}-target`,country:e,rows:ct.get(e)??[],stroke:getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim(),width:4,opacity:1}],D=o.map(($,St)=>{var Wt;const It=ct.get($)??[],Rt=((Wt=It[0])==null?void 0:Wt.ISO)??$;return{id:`${$}-guess`,country:$,iso:Rt,rows:It,stroke:ns[St],width:3,opacity:1}});[...nt,...q,...D];const P=Mi(d.current).attr("viewBox",[0,0,m,g]).attr("preserveAspectRatio","xMidYMid meet").style("overflow","visible");let L=P.select("g.chart-root");L.empty()&&(L=P.append("g").attr("class","chart-root").attr("transform",`translate(${_t.left},${_t.top})`).call($=>{$.append("g").attr("class","x-axis"),$.append("g").attr("class","y-axis")}));let K=L.select("g.hover-layer");K.empty()&&(K=L.append("g").attr("class","hover-layer"),K.append("line").attr("class","hover-line").attr("stroke","#6b7280").attr("stroke-width",1).attr("stroke-dasharray","4 4").attr("y1",0).style("opacity",0),K.append("circle").attr("class","hover-dot-target").attr("r",4).attr("fill","#c43333").attr("stroke","#ffffff").attr("stroke-width",1.5).style("opacity",0).attr("pointer-events","none"),K.append("text").attr("class","hover-year-label").attr("text-anchor","middle").attr("font-size",16).attr("font-weight",600).attr("fill","#292929").attr("font-family","Open Sans, sans-serif").attr("dy","1.5em").style("opacity",0).attr("pointer-events","none"),K.append("rect").attr("class","hover-value-bg").attr("fill","#ffffff").attr("rx",3).attr("ry",3).style("opacity",0).attr("pointer-events","none"),K.append("text").attr("class","hover-value-label").attr("text-anchor","start").attr("font-size",14).attr("font-weight",600).attr("fill","#c43333").attr("font-family","Open Sans, sans-serif").style("opacity",0).attr("pointer-events","none"),K.append("rect").attr("class","hover-capture").attr("fill","transparent").attr("pointer-events","all").style("touch-action","none")),K.select(".hover-line").attr("y2",C),K.select(".hover-capture").attr("width",k).attr("height",C),K.select(".hover-year-label").attr("y",C);const w=K.selectAll("circle.guess-dot").data(D,$=>$.id);w.enter().append("circle").attr("class","guess-dot").attr("r",4).attr("fill",$=>$.stroke).attr("stroke","#ffffff").attr("stroke-width",1.5).style("opacity",0).attr("pointer-events","none"),w.exit().remove();const A=K.selectAll("g.guess-pill").data(D,$=>$.id),H=A.enter().append("g").attr("class","guess-pill").style("pointer-events","none").style("opacity",0);H.append("rect").attr("rx",3).attr("ry",3).attr("fill","#ffffff"),H.append("text").attr("font-size",14).attr("font-weight",600).attr("font-family","OpenSans,sans-serif"),A.exit().remove(),K.raise();const G=Dg($=>$.Year).left,rt=ct.get(e)??[],dt=($,St)=>{if(!$.length)return null;const It=G($,St);if(It<=0)return $[0].Production/t.scale;if(It>=$.length)return $[$.length-1].Production/t.scale;const Rt=$[It-1],Wt=$[It],ye=(St-Rt.Year)/(Wt.Year-Rt.Year);return Rt.Production/t.scale+ye*(Wt.Production/t.scale-Rt.Production/t.scale)},pt=$=>{if($==null)return"";const St=Math.abs($);let It=$,Rt="";return St>=1e9?(It=$/1e9,Rt="B"):St>=1e6?(It=$/1e6,Rt="M"):St>=1e3&&(It=$/1e3,Rt="k"),It.toFixed(1)+Rt+(t.unitSuffix||"")},yt=$=>{const[St,It]=UD($,K.node()),Rt=Math.min(k,Math.max(0,St)),Wt=Math.min(C,Math.max(0,It)),ye=40;Pt.selectAll("path").interrupt().transition().duration(300).ease(eE).attr("opacity",.15),K.select(".hover-line").attr("x1",Rt).attr("x2",Rt).style("opacity",1);const Te=x.invert(Rt);K.select(".hover-year-label").attr("x",Rt).text(Math.round(Te)).style("opacity",1),L.select(".x-axis").selectAll(".tick text").style("opacity",0);const _e=dt(rt,Te);if(_e!=null){const De=N(_e);K.select(".hover-dot-target").attr("cx",Rt).attr("cy",De).style("opacity",1);const cn=K.select(".hover-value-label").attr("x",Rt+8).attr("y",De-6).text(pt(_e)).style("opacity",1).node().getBBox();K.select(".hover-value-bg").attr("x",cn.x-4).attr("y",cn.y-2).attr("width",cn.width+8).attr("height",cn.height+4).style("opacity",.85)}K.selectAll("g.guess-pill").each(function(De){const Oe=dt(De.rows,Te);if(Oe==null){Mi(this).style("opacity",0);return}const cn=N(Oe);if(!(Math.abs(cn-Wt)<=ye)){Mi(this).style("opacity",0);return}const di=Mi(this).style("opacity",1).select("text").attr("fill",De.stroke).attr("x",Rt+8).attr("y",cn-6).text(pt(Oe)).node().getBBox();Mi(this).select("rect").attr("x",di.x-4).attr("y",di.y-2).attr("width",di.width+8).attr("height",di.height+4).style("opacity",.85)}),K.selectAll("circle.guess-dot").each(function(De){const Oe=dt(De.rows,Te);Mi(this).style("opacity",Oe==null?0:1).attr("cx",Rt).attr("cy",N(Oe))})},vt=()=>{K.select(".hover-line").style("opacity",0),K.select(".hover-dot-target").style("opacity",0),K.select(".hover-year-label").style("opacity",0),K.select(".hover-value-label").style("opacity",0),K.select(".hover-value-bg").style("opacity",0),K.selectAll("g.guess-pill").style("opacity",0),K.selectAll("circle.guess-dot").style("opacity",0),L.select(".x-axis").selectAll(".tick text").style("opacity",1),Pt.selectAll("path").interrupt().transition().duration(300).ease(eE).attr("opacity",.4)};K.select(".hover-capture").on("pointerenter pointerdown pointermove",yt).on("pointerup pointercancel pointerout",vt),L.select(".x-axis").attr("transform",`translate(0,${C})`).call(e4(x).ticks(Math.min(5,Math.floor(k/100))).tickFormat($=>String($))).selectAll(".tick text").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).attr("dy","0.95em").style("font-family","Open Sans, sans-serif");const Ut=$=>{if(typeof $!="number"||isNaN($))return"";const St=Math.abs($);let It;return St>=1e9?It=($/1e9).toFixed(1).replace(/\.0$/,"")+"B":St>=1e6?It=($/1e6).toFixed(1).replace(/\.0$/,"")+"M":St>=1e3?It=($/1e3).toFixed(1).replace(/\.0$/,"")+"k":It=$.toString(),ht?`${It}${ht}`:It},Kt=$=>{$.call(Qw(N).ticks(4).tickSize(-k).tickSizeOuter(0).tickFormat(Ut)),$.selectAll(".tick text").attr("font-size",16).attr("font-weight",500).attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--axis-text-color").trim()).style("font-family","Open Sans, sans-serif"),$.selectAll(".domain").attr("stroke-opacity",0),$.selectAll(".tick line").attr("stroke",getComputedStyle(document.documentElement).getPropertyValue("--axis-lines-color").trim()).attr("stroke-opacity",.6).attr("stroke-width",1)};L.select(".y-axis").call(Kt),Math.max(...L.select(".y-axis").selectAll("text").nodes().map($=>$.getBBox().width));let Pt=L.select("g.base-lines");Pt.empty()&&(Pt=L.append("g").attr("class","base-lines"));let Yt=L.select("g.guess-lines");Yt.empty()&&(Yt=L.append("g").attr("class","guess-lines"));const re=Pt.selectAll("g.base-line").data(nt,$=>$.id);re.enter().append("g").attr("class","base-line").append("path").attr("fill","none").attr("stroke",$=>$.stroke).attr("stroke-width",$=>$.width).attr("opacity",$=>$.opacity).attr("d",$=>I($.rows)),re.select("path").attr("stroke",$=>$.stroke).attr("stroke-width",$=>$.width).attr("opacity",$=>$.opacity).attr("d",$=>I($.rows)),re.exit().remove();const me=Yt.selectAll("g.guess-line").data(D,$=>$.id),Ce=me.enter().append("g").attr("class","guess-line");Ce.append("path").attr("fill","none").attr("stroke",ot).attr("stroke-width",$=>$.width+2.5).attr("opacity",1).attr("d",$=>I($.rows)),Ce.append("path").attr("fill","none").attr("stroke",$=>$.stroke).attr("stroke-width",$=>$.width).attr("opacity",$=>$.opacity).attr("d",$=>I($.rows)),Ce.selectAll("path").each(function(){const $=this.getTotalLength();Mi(this).attr("stroke-dasharray",`${$} ${$}`).attr("stroke-dashoffset",$).transition().duration(2500).attr("stroke-dashoffset",0)}),me.select("path:nth-child(1)").attr("stroke-width",$=>$.width+1.5).attr("d",$=>I($.rows)),me.select("path:nth-child(2)").attr("stroke",$=>$.stroke).attr("stroke-width",$=>$.width).attr("opacity",$=>$.opacity).attr("d",$=>I($.rows)),me.exit().remove();const de=4,yn=4;function _n($,St=12){const It=$.nodes().map(Wt=>{const ye=Mi(Wt);return{node:ye,y:parseFloat(ye.attr("y")),x:parseFloat(ye.attr("x"))}});It.sort((Wt,ye)=>Wt.y-ye.y);const Rt=[];for(let Wt=0;Wt<It.length;Wt++){const ye=It[Wt];let Te=ye.y,_e=0,De=-1;for(;!(!Rt.some(cn=>Math.abs(cn.y-Te)<St)||(De*=-1,_e+=St,Te=ye.y+De*_e,_e>100)););ye.node.attr("y",Te),Rt.push({y:Te})}}Ce.selectAll("path:last-child").each(function($,St){const It=Mi(this);this.getTotalLength();const Rt=$.rows.filter(De=>typeof De.Production=="number"),Wt=Rt[Rt.length-1];if(!Wt)return;const ye=x(Wt.Year)+de,Te=N(Wt.Production/t.scale)+yn,_e=()=>{L.append("text").attr("class",$.country===e?"target-label":"guess-label").attr("font-size",14).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",$.country===e?getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim():$.stroke).attr("stroke",ot).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",ye).attr("y",Te).text($.iso),setTimeout(()=>{_n(L.selectAll("text.guess-label, text.target-label"))},0)};$.country===e?_e():It.transition().duration(2500).attr("stroke-dashoffset",0).on("end",_e)});const oe=q[0];let un=L.select("g.target-line");if(un.empty()){un=L.append("g").attr("class","target-line");const $=I(oe.rows),St=un.append("path").attr("fill","none").attr("stroke",ot).attr("stroke-width",oe.width+2.5).attr("opacity",1).attr("d",$),It=un.append("path").attr("fill","none").attr("stroke",oe.stroke).attr("stroke-width",oe.width).attr("opacity",oe.opacity).attr("d",$);[St,It].forEach(Rt=>{const Wt=Rt.node().getTotalLength();Rt.attr("stroke-dasharray",`${Wt} ${Wt}`).attr("stroke-dashoffset",Wt).transition().duration(2500).attr("stroke-dashoffset",0)})}else{const $=I(oe.rows);un.selectAll("path").data([0,1]).join("path").attr("fill","none").attr("stroke",(St,It)=>It===0?strokeOutline:oe.stroke).attr("stroke-width",(St,It)=>It===0?oe.width+2.5:oe.width).attr("opacity",oe.opacity).attr("d",$)}L.selectAll("text.target-unknown-label, text.target-label").remove();const Ar=ct.get(e)??[],ti=Ar.filter($=>typeof $.Production=="number"),Un=ti[ti.length-1];if(Un){const $=x(Un.Year)+4,St=N(Un.Production/t.scale)+4,It=((Gi=Ar[0])==null?void 0:Gi.ISO)??e,Rt=()=>{L.append("text").attr("class","target-label").attr("font-size",14).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim()).attr("stroke",ot).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",$).attr("y",St).text(It)},Wt=()=>{L.append("text").attr("class","target-unknown-label").attr("font-size",14).attr("font-weight","bold").attr("text-anchor","start").attr("font-family","Open Sans, sans-serif").attr("fill",getComputedStyle(document.documentElement).getPropertyValue("--target-red").trim()).attr("stroke",ot).attr("stroke-width",2.5).attr("paint-order","stroke").attr("x",$).attr("y",St).text("xxx")};if(o.includes(e))Rt();else{un.select("path:nth-child(2)");const Te=setTimeout(()=>{o.includes(e)||Wt()},2500),_e=new MutationObserver(()=>{o.includes(e)&&(clearTimeout(Te),L.selectAll("text.target-unknown-label").remove(),Rt(),_e.disconnect())});return _e.observe(d.current,{childList:!0,subtree:!0}),()=>_e.disconnect()}}K.raise()});return()=>cancelAnimationFrame(Q)},[_,t,m,g,e,a,o,ns]),et.jsx("div",{ref:h,className:"w-full h-full",children:m>0&&g>0&&et.jsx("svg",{ref:d,className:"w-full h-full"})})}const Lm=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Caribbean Netherlands","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Northern Cyprus","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"];function pE(n="",t=""){const e=t.length+1,a=n.length+1,o=Array.from({length:e},(u,h)=>Array.from({length:a},(d,m)=>h===0?m:h));for(let u=1;u<e;u++)for(let h=1;h<a;h++)o[u][h]=t[u-1]===n[h-1]?o[u-1][h-1]:1+Math.min(o[u-1][h],o[u][h-1],o[u-1][h-1]);return o[e-1][a-1]}const uh=["⬆️","↗️","➡️","↘️","⬇️","↙️","⬅️","↖️"];function y6({guesses:n,onAddGuess:t,status:e,max:a,targetData:o,countryToIso:u,clue:h=!1,validCountries:d=[],target:m}){const[g,_]=wt.useState(""),[T,S]=wt.useState(!1),[M,z]=wt.useState(""),[Z,Q]=wt.useState({}),[ht,ot]=wt.useState({}),[it,mt]=wt.useState(-1),ct=e!=="playing",_t=g.trim(),k=_t.toLowerCase(),C=Math.min(n.length+1,a),x=d.includes(_t),V=Lm.some(L=>L.toLowerCase()===k)&&x,N=wt.useRef(null),U=wt.useRef(!1);function I(){if(!U.current){const L=N.current;L.scrollTop+L.clientHeight>=L.scrollHeight-2||(U.current=!0)}}const nt=Lm.filter(L=>L.toLowerCase().includes(k)&&k).sort((L,K)=>{const w=L.toLowerCase(),A=K.toLowerCase(),H=w.startsWith(k),G=A.startsWith(k);if(H&&!G)return-1;if(!H&&G)return 1;const rt=pE(w,k),dt=pE(A,k);return rt!==dt?rt-dt:L.localeCompare(K)}).reverse();wt.useEffect(()=>{if(T&&N.current){const L=N.current;L.scrollTop=L.scrollHeight}},[T,k]),wt.useEffect(()=>{T||(U.current=!1)},[T]);function q(L,K){if(K==null||K<=0){ot(dt=>({...dt,[L]:K??0}));return}const w=50,A=8,H=180;let G=0;function rt(){if(ot(vt=>({...vt,[L]:G})),G>=K)return;const dt=K-G,pt=dt>w?Math.max(1,Math.round(dt/60)):1;G=Math.min(G+pt,K);let yt=A;if(dt<=w){const vt=1-(dt-pt)/w;yt+=H*Math.pow(vt,3)}setTimeout(rt,yt)}rt()}const D=L=>{if(L.preventDefault(),!_t){z("Please enter a country.");return}if(!V){z("Invalid country. Please select from the list.");return}if(!x){z("This country has no data available.");return}if(n.some(rt=>rt.toLowerCase()===k)){z("You already guessed that country.");return}z(""),t(_t);const K=_t,w=u[K],A=o==null?void 0:o[w],H=(A==null?void 0:A.direction)||"🎯",G=(A==null?void 0:A.distance_km)??0;if(h?q(K,G):ot(rt=>({...rt,[K]:G})),h){let rt=function(){const vt=50+Math.pow(yt,1.4),Ut=yt%uh.length,Kt=uh[Ut];Q(Pt=>({...Pt,[K]:Kt})),yt++,yt<=pt&&setTimeout(rt,vt)};const dt=uh.indexOf(H),pt=uh.length*4+dt;let yt=0;rt()}_(""),S(!1)},P=L=>{_(L),S(!1),z("")};return et.jsxs("div",{className:"flex flex-col items-center gap-3 py-10",children:[et.jsx("div",{className:"h-6 flex items-end",children:n.length===0&&et.jsxs("p",{className:"text-[18px] font-medium text-gray-800 dark:text-white pt-0.5",children:["Guess the country in"," ",et.jsx("span",{className:"font-semibold text-[var(--target-red)]",children:"red"})]})}),et.jsx("form",{onSubmit:D,className:"w-full px-[50px]",children:et.jsxs("div",{className:"relative",children:[et.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:et.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 20 20",children:et.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 19l-4-4m0-7a7 7 0 11-14 0 7 7 0 0114 0z"})})}),et.jsx("input",{id:"guess-input",type:"text",placeholder:"Enter country",value:g,disabled:ct,onChange:L=>{_(L.target.value),S(!0),mt(-1),z("")},onKeyDown:L=>{L.key==="ArrowDown"?(L.preventDefault(),S(!0),mt(K=>K<nt.length-1?K+1:0)):L.key==="ArrowUp"?(L.preventDefault(),S(!0),mt(K=>K>0?K-1:nt.length-1)):L.key==="Enter"&&(it>=0&&nt[it]?(L.preventDefault(),P(nt[it]),mt(-1)):!V&&nt.length&&(L.preventDefault(),P(nt[nt.length-1])))},onBlur:()=>setTimeout(()=>S(!1),100),className:`block w-full p-4 pl-10 text-sm rounded-lg
                            bg-gray-50 dark:bg-gray-700
                            focus:ring-emerald-500 focus:border-emerald-500
                            disabled:bg-gray-100 dark:disabled:bg-gray-600
                            outline-none
                            text-gray-900 dark:text-gray-100
                            ${_t&&!V?"border border-red-500 dark:border-red-400":"border border-gray-300 dark:border-gray-600"}`,autoComplete:"on"}),et.jsx("button",{type:"submit",disabled:!V||ct||n.length>=a,className:`text-white absolute right-2 bottom-2 font-medium rounded-lg text-sm px-4 py-2 disabled:bg-gray-400 ${V&&!ct&&n.length<a?"bg-emerald-500 hover:bg-emerald-600 focus:ring-4 focus:ring-emerald-300":"bg-gray-300 text-gray-700 cursor-not-allowed"}`,children:`Guess ${C}/${a}`}),T&&nt.length>0&&et.jsx("ul",{ref:N,onScroll:I,className:`absolute left-0 right-0 bottom-full mb-2 z-50 w-full max-h-60
                                    bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 
                                    rounded-lg shadow-lg overflow-y-auto`,children:nt.map((L,K)=>{const A=!d.includes(L);return et.jsxs("li",{className:`cursor-pointer py-4 px-4 text-sm flex justify-between items-center
                                        ${K===it?"bg-emerald-50 dark:bg-emerald-700 font-semibold text-gray-900 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}
                                        ${A?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-100"}`,onMouseDown:()=>{A||(P(L),mt(-1))},onMouseEnter:()=>mt(K),children:[et.jsx("span",{children:L}),A&&et.jsx("span",{className:"text-xs ml-2",children:"(no data)"})]},L)})})]})}),M&&et.jsx("p",{className:"text-sm text-red-600 mt-2 text-center",children:M}),n.length>0&&et.jsx("div",{className:"w-full px-[50px] flex flex-col space-y-2",children:[...n].reverse().map((L,K)=>{const w=n.length-1-K,A=u[L],H=o==null?void 0:o[A],G=H==null?void 0:H.direction,rt=h&&(Z[L]||G)||"",dt=ht[L]??(H==null?void 0:H.distance_km)??0;return et.jsxs("div",{className:"flex justify-between items-center w-full p-3 rounded-lg border border-gray-300 [background-color:var(--guessed-box)] dark:border-gray-600",children:[et.jsx("span",{className:"font-semibold",style:{color:L.trim().toLowerCase()===m.trim().toLowerCase()?"#c43333":ns[w]??"#2A74B3"},children:`${w+1}. ${L}`}),H&&h&&et.jsxs("span",{className:"flex items-center gap-1 text-gray-700 text-sm font-medium",children:[et.jsx("span",{children:rt}),et.jsxs("span",{children:[dt," km"]})]})]},L)})})]})}function Po({title:n,open:t,onClose:e,children:a,footer:o=null}){return wt.useEffect(()=>{const u=h=>h.key==="Escape"&&e();return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[e]),t?et.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-[var(--modal-overlay)] p-4",role:"dialog","aria-modal":"true",tabIndex:-1,onClick:e,children:et.jsx("div",{className:"relative w-full max-w-sm md:max-w-lg lg:max-w-xl",onClick:u=>u.stopPropagation(),children:et.jsxs("div",{className:"relative rounded-lg bg-[var(--modal-bg-color)] shadow-sm ",children:[n&&et.jsxs("div",{className:"flex items-center justify-between rounded-t border-b border-gray-200 p-4 md:p-5 dark:border-gray-600",children:[et.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n}),et.jsx("button",{"aria-label":"Close modal",onClick:e,className:"ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white",children:et.jsx(AE,{className:"h-3.5 w-3.5",strokeWidth:2})})]}),et.jsx("div",{className:"text-left leading-relaxed text-gray-500 dark:text-gray-300 p-4 md:p-5",children:a}),o&&et.jsx("div",{className:"flex items-center rounded-b border-t border-gray-200 p-4 md:p-5 dark:border-gray-600",children:o})]})})}):null}const MS="chartle-history";function Hg(){try{return JSON.parse(localStorage.getItem(MS))||{}}catch{return{}}}function NS(n){localStorage.setItem(MS,JSON.stringify(n))}function _6(n={},t={}){var a,o;const e={...n};for(const[u,h]of Object.entries(t)){if(!e[u]){e[u]=h;continue}const d=((a=e[u].guesses)==null?void 0:a.length)||0,m=((o=h.guesses)==null?void 0:o.length)||0;e[u]=m>d?h:e[u]}return e}function DS(){return Hg()}async function qg(){const n=Hg(),t=ts.currentUser;if(!t)return n;const e=Cg(Ng,"histories",t.uid),a=await RN(e);if(!a.exists())return Object.keys(n).length&&await Fh(e,n),n;const o=a.data()||{},u=_6(o,n);return NS(u),await Fh(e,u,{merge:!0}),u}async function v6(n){NS(n);const t=ts.currentUser;t&&await Fh(Cg(Ng,"histories",t.uid),n,{merge:!0})}ts.onAuthStateChanged(async n=>{if(!n)return;const t=Hg();Object.keys(t).length!==0&&await Fh(Cg(Ng,"histories",n.uid),t,{merge:!0})});function E6({open:n,onClose:t,guesses:e,target:a,infoDescription:o,source:u,csvUrl:h,title:d,maxGuesses:m}){const[g,_]=wt.useState(!1),[T]=wt.useState(""),S=wt.useRef(null),M=[`📈 Chartle — ${d}`,`${e.length}/${m} ✅`,T,"chartle.cc"].join(`
`),z=async()=>{try{await navigator.clipboard.writeText(M),_(!0),setTimeout(()=>_(!1),2e3)}catch(ht){console.error("Copy failed:",ht)}};function Z(ht){const ot={1:0,2:0,3:0,4:0,5:0,Lost:0};return Object.values(ht).forEach(it=>{var _t;if(!Array.isArray(it.guesses))return;const mt=(_t=it.target)==null?void 0:_t.toLowerCase(),ct=it.guesses.findIndex(k=>(k==null?void 0:k.toLowerCase())===mt);ct>=0&&ct<5?ot[ct+1]++:ot.Lost++}),Object.entries(ot).map(([it,mt])=>({tries:it,count:mt}))}function Q(ht){const ot=Mi(S.current);ot.selectAll("*").remove();const it={top:10,right:20,bottom:20,left:20},mt=30,ct=300-it.left-it.right,_t=ht.length*30,k=getComputedStyle(document.documentElement),C=k.getPropertyValue("--text-color").trim(),x=k.getPropertyValue("--first-guess").trim(),V=ot.attr("width",ct+it.left+it.right).attr("height",_t+it.top+it.bottom).append("g").attr("transform",`translate(${it.left},${it.top})`).style("font-family","Open Sans"),N=nf().domain([0,uo(ht,I=>I.count)||1]).range([0,ct-mt]),U=IS().domain(ht.map(I=>I.tries)).range([0,_t]).padding(.2);V.selectAll(".bar").data(ht).enter().append("rect").attr("x",mt).attr("y",I=>U(I.tries)).attr("width",I=>N(I.count)).attr("height",U.bandwidth()).attr("fill",x),V.selectAll(".label").data(ht.filter(I=>I.count>0)).enter().append("text").attr("x",I=>mt+N(I.count)-5).attr("y",I=>U(I.tries)+U.bandwidth()/2+4).attr("text-anchor","end").attr("fill","#ffffff").style("font-family","'Open Sans', sans-serif").style("font-size","14px").text(I=>I.count),V.append("g").call(Qw(U).tickSize(0)).selectAll("text").style("font-family","'Open Sans', sans-serif").style("font-size","14px").attr("fill",C).attr("text-anchor","start").attr("x",-5),V.selectAll(".domain").remove()}return wt.useEffect(()=>{n&&(Q(Z(DS())),qg().then(ht=>{Q(Z(ht))}))},[n]),et.jsx(Po,{open:n,onClose:t,children:et.jsxs("div",{className:"px-5 text-center",children:[et.jsx("h2",{className:"text-2xl font-bold mb-4 [color:var(--text-color)]",children:"You guessed it!"}),et.jsx("div",{className:"mb-4 space-y-3 [color:var(--text-color)] text-left",children:o.split(`
`).map((ht,ot)=>et.jsx("p",{children:ht},ot))}),et.jsxs("p",{className:"text-sm [color:var(--text-color)] mb-8 text-left",children:["Data source: ",u]}),et.jsx("p",{className:"text-lg font-semibold [color:var(--text-color)] mb-2 mt-6 text-left",children:"Your track record"}),et.jsx("svg",{ref:S,className:"w-full h-auto mb-4"}),et.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4",children:[et.jsx("button",{onClick:z,className:"rounded-lg [background-color:var(--second-guess)] px-4 py-2 text-sm text-white hover:[background-color:var(--second-guess-dark)] focus:outline-none focus:ring-4 focus:ring-blue-300",children:g?"Copied!":"Share result"}),et.jsx("button",{onClick:t,className:`
                            rounded-lg 
                            bg-black 
                            px-4 py-2 
                            text-sm 
                            text-white 
                            focus:outline-none 
                            focus:ring-4 
                            focus:ring-emerald-300
                            `,children:"Close"})]})]})})}function T6({open:n,onClose:t,target:e,infoDescription:a,source:o,csvUrl:u,guesses:h,title:d,maxGuesses:m}){const[g,_]=wt.useState(!1),[T,S]=wt.useState("");wt.useEffect(()=>{},[u,e,h]);const M=[`📈 Chartle — ${d}`,`X/${m} ❌`,T,"chartle.cc"].join(`
`),z=async()=>{try{await navigator.clipboard.writeText(M),_(!0),setTimeout(()=>_(!1),2e3)}catch(Z){console.error("Copy failed:",Z)}};return et.jsx(Po,{title:"Out of guesses",open:n,onClose:t,footer:et.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-emerald-600 px-5 py-2.5 text-sm font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-emerald-300",children:"Close"}),children:et.jsxs("div",{className:"px-5",children:[et.jsxs("p",{className:"text-center mb-4",children:["The correct answer was ",et.jsx("strong",{children:e}),"."]}),a.split(`
`).map((Z,Q)=>et.jsx("p",{children:Z},Q)),et.jsxs("p",{className:"mt-4 text-sm text-gray-700 dark:text-gray-300",children:["Data source: ",o]}),et.jsx("button",{onClick:z,className:"mt-6 w-full rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300",children:g?"Copied!":"Share result"})]})})}function w6({open:n,onClose:t}){return et.jsx(Po,{open:n,onClose:t,children:et.jsxs("div",{className:"space-y-4",children:[et.jsx("h2",{className:"text-xl font-semibold [color:var(--text-color)]",children:"How to play Chartle:"}),et.jsxs("p",{className:"[color:var(--text-color)]",children:["Guess the country highlighted in"," ",et.jsx("span",{style:{color:"var(--target-red)"},className:"font-bold",children:"red"})," in today’s chart."]}),et.jsx("p",{className:"[color:var(--text-color)]",children:"Type any country in the world into the box below the chart to see how it compares to the red target country."}),et.jsx("p",{className:"[color:var(--text-color)]",children:"That’s it, no other clues. Good luck!"}),et.jsx("div",{className:"flex justify-end",children:et.jsx("button",{onClick:t,className:"rounded-lg [background-color:var(--first-guess)] px-5 py-2.5 text-sm font-bold text-white hover:[background-color:var(--first-guess-dark)] focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-500",children:"Got it!"})})]})})}const S6="#c43333",b6="#d1d5db",A6="#4b5563";function R6(n){const t=n.getFullYear(),e=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return`${t}-${e}-${a}`}function C6(n){const t=new URL(window.location.href);t.searchParams.set("d",n),t.hash="",window.location.href=t.toString()}function I6({open:n,onClose:t}){const[e,a]=wt.useState([]),[o,u]=wt.useState(!1);wt.useEffect(()=>{n&&(u(!0),(async()=>{const d=await qg(),m=[],g=new Date("2025-07-01"),_=new Date;for(;_>=g;){const T=R6(_),S=d[T]||{};m.push({key:T,date:new Date(_),guesses:Array.isArray(S.guesses)?S.guesses.slice(0,5):[],target:S.target||null}),_.setDate(_.getDate()-1)}a(m),u(!1)})())},[n]);const h=Array.from({length:10},(d,m)=>et.jsx("li",{className:"animate-pulse",children:et.jsxs("div",{className:"flex w-full items-center justify-between sm:px-1 px-3 sm:py-3 py-4",children:[et.jsx("span",{className:"h-4 w-24 sm:w-36 rounded bg-gray-200 dark:bg-gray-700"}),et.jsx("div",{className:"flex gap-2",children:Array.from({length:5},(g,_)=>et.jsx("span",{className:"block sm:h-4 sm:w-4 h-5 w-5 rounded-full bg-gray-300 dark:bg-gray-600"},_))})]})},`sk-${m}`));return et.jsx(Po,{title:"History",open:n,onClose:t,footer:et.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-500",children:"Close"}),children:et.jsx("ul",{className:"max-h-[60vh] overflow-y-auto px-4 divide-y divide-gray-200 dark:divide-gray-700",children:o?h:e.map(({key:d,date:m,guesses:g,target:_})=>{const T=g.length>0,S=m.toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}),M=m.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"});return et.jsx("li",{className:"opacity-0 animate-fade-in",children:et.jsxs("button",{type:"button",onClick:()=>C6(d),className:"flex w-full items-center justify-between sm:px-1 px-3 sm:py-3 py-4 transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 focus:bg-gray-50 dark:focus:bg-gray-700",children:[et.jsxs("span",{className:`text-sm ${T?"font-bold text-gray-900 dark:text-white":"font-medium text-gray-800 dark:text-gray-300"}`,children:[et.jsx("span",{className:"inline sm:hidden",children:M}),et.jsx("span",{className:"hidden sm:inline",children:S})]}),et.jsx("div",{className:"flex gap-2",children:Array.from({length:5},(z,Z)=>{let Q="white",ht=b6;if(Z<g.length){const ot=g[Z]||"";Q=_&&ot.toLowerCase()===_.toLowerCase()?S6:ns[Z],ht=Q}return et.jsx("span",{className:"block sm:h-4 sm:w-4 h-5 w-5 rounded-full border dark:border-gray-600",style:{backgroundColor:Q,borderColor:ht||A6}},Z)})})]})},d)})})})}function x6({open:n,onClose:t}){return et.jsx(Po,{title:"Settings",open:n,onClose:t,footer:et.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300",children:"Close"}),children:et.jsx("p",{children:"Settings will go here."})})}const M6=wt.forwardRef(function({children:t="Sign in with Google",className:e="",...a},o){return et.jsxs("button",{ref:o,"aria-label":"Sign in with Google",className:`group inline-flex items-center overflow-hidden rounded-md border
        border-gray-300 bg-white px-0.5 pr-4 text-gray-700 shadow
        hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-300
        dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200
        dark:hover:bg-gray-700 dark:focus:ring-gray-600
        ${e}`,...a,children:[et.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center",children:et.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:[et.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),et.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),et.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),et.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),et.jsx("span",{className:"ml-3 whitespace-nowrap text-sm tracking-wider",children:t})]})});function mE(n){return n?new Date(n).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):""}function N6({open:n,onClose:t}){const[e,a]=wt.useState(null);wt.useEffect(()=>aT(ts,a),[]);const o=async()=>{try{await mC(ts,NN),t()}catch(h){console.error(h),window.alert("Google sign‑in failed. Please try again.")}},u=()=>QR(ts);return et.jsx(Po,{title:e?"Account":"Log in / Sign‑up",open:n,onClose:t,footer:et.jsx("button",{onClick:t,className:"ms-auto rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300",children:"Close"}),children:e?et.jsxs("div",{className:"flex w-full flex-col gap-4 rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-600 dark:bg-gray-900 sm:flex-row sm:items-center",children:[e.photoURL&&et.jsx("img",{src:e.photoURL,alt:"",className:"h-10 w-10 rounded-full",referrerPolicy:"no-referrer"}),et.jsxs("div",{className:"grow overflow-hidden",children:[et.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.displayName}),et.jsx("p",{className:"truncate text-sm text-gray-600 dark:text-gray-400",children:e.email}),et.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[et.jsx("span",{className:"font-medium",children:"Member since:"})," ",et.jsx("span",{className:"font-bold",children:mE(e.metadata.creationTime)})]}),et.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[et.jsx("span",{className:"font-medium",children:"Last sign‑in:"})," ",et.jsx("span",{className:"font-bold",children:mE(e.metadata.lastSignInTime)})]})]}),et.jsx("button",{onClick:u,className:"shrink-0 whitespace-nowrap rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-300 sm:ms-auto",children:"Sign out"})]}):et.jsx("div",{className:"flex justify-center py-4",children:et.jsx(M6,{onClick:o})})})}const D6="NU",O6="PN",k6="WS",V6="TK",P6="TO",L6="GT",U6="MX",B6="CA",z6="AR",j6="CL",G6="EC",H6="PE",q6="BO",F6="BR",$6="PY",K6="UY",Y6="AQ",Q6="FJ",X6="AI",Z6="AW",J6="BS",W6="BB",tk="BZ",ek="BM",nk="BQ",ik="CO",rk="CU",ak="CW",sk="DM",ok="GD",lk="GP",uk="GY",ck="HT",hk="HN",fk="JM",dk="MQ",pk="MS",mk="NI",gk="PA",yk="BQ",_k="SR",vk="VE",Ek="GM",Tk="GH",wk="GI",Sk="GN",bk="LR",Ak="ML",Rk="MR",Ck="MA",Ik="PT",xk="SN",Mk="GL",Nk="GG",Dk="IE",Ok="JE",kk="IS",Vk="SJ",Pk="AO",Lk="BW",Uk="BI",Bk="KM",zk="CG",jk="GA",Gk="KE",Hk="LS",qk="MW",Fk="MZ",$k="NA",Kk="RW",Yk="SZ",Qk="TZ",Xk="ZM",Zk="ZW",Jk="MG",Wk="MU",tV="YT",eV="SC",nV="DZ",iV="BJ",rV="CM",aV="TD",sV="KI",oV="LY",lV="MT",uV="NE",cV="NG",hV="TG",fV="TN",dV="CY",pV="DJ",mV="EG",gV="ER",yV="ET",_V="GR",vV="IQ",EV="IL",TV="JO",wV="LB",SV="SD",bV="SY",AV="TR",RV="UG",CV="AD",IV="FR",xV="LI",MV="MC",NV="CH",DV="BE",OV="DE",kV="LU",VV="NL",PV="AL",LV="AT",UV="HR",BV="DK",zV="HU",jV="IT",GV="ME",HV="PL",qV="RS",FV="SK",$V="SI",KV="NO",YV="SE",QV="BY",XV="BG",ZV="EE",JV="FI",WV="GE",t9="LV",e9="LT",n9="MD",i9="RO",r9="UA",a9="AF",s9="BH",o9="IN",l9="IR",u9="KW",c9="MV",h9="NP",f9="OM",d9="PK",p9="QA",m9="SO",g9="TJ",y9="TM",_9="YE",v9="AM",E9="AZ",T9="KZ",w9="KG",S9="UZ",b9="ID",A9="AU",R9="NR",C9="TV",I9="VU",x9="KH",M9="LA",N9="MY",D9="MM",O9="SG",k9="TH",V9="VN",P9="BD",L9="BT",U9="CN",B9="PH",z9="MN",j9="GU",G9="JP",H9="FM",q9="PW",F9="ES",$9="ES",K9="MO",gE={"American Samoa":"AS","United States Minor Outlying Islands":"UM","Cook Islands":"CK","French Polynesia":"PF",Niue:D6,Pitcairn:O6,Samoa:k6,Tokelau:V6,Tonga:P6,"Wallis and Futuna":"WF","El Salvador":"SV",Guatemala:L6,Mexico:U6,Canada:B6,Argentina:z6,"Falkland Islands":"FK",Chile:j6,Ecuador:G6,Peru:H6,Bolivia:q6,Brazil:F6,Paraguay:$6,Uruguay:K6,"South Georgia and South Sandwich Islands":"GS",Antarctica:Y6,Fiji:Q6,"Saint Helena":"SH",Anguilla:X6,"Antigua and Barbuda":"AG",Aruba:Z6,Bahamas:J6,Barbados:W6,Belize:tk,Bermuda:ek,Bonaire:nk,"British Virgin Islands":"VG","Cayman Islands":"KY",Colombia:ik,"Costa Rica":"CR",Cuba:rk,Curacao:ak,Dominica:sk,"Dominican Republic":"DO","French Guiana":"GF",Grenada:ok,Guadeloupe:lk,Guyana:uk,Haiti:ck,Honduras:hk,Jamaica:fk,Martinique:dk,Montserrat:pk,Nicaragua:mk,Panama:gk,"Puerto Rico":"PR",Saba:yk,"Saint Barthelemy":"BL","Saint Eustatius":"BQ","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"MF","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC","Sint Maarten":"SX",Suriname:_k,"Trinidad and Tobago":"TT","Turks and Caicos Islands":"TC","US Virgin Islands":"VI",Venezuela:vk,"Burkina Faso":"BF","Cabo Verde":"CV","Côte d'Ivoire":"CI",Gambia:Ek,Ghana:Tk,Gibraltar:wk,Guinea:Sk,"Guinea-Bissau":"GW",Liberia:bk,Mali:Ak,Mauritania:Rk,Morocco:Ck,Portugal:Ik,Senegal:xk,"Sierra Leone":"SL",Greenland:Mk,Guernsey:Nk,Ireland:Dk,"Isle of Man":"IM",Jersey:Ok,"United Kingdom":"GB",Iceland:kk,"Faroe Islands":"FO",Svalbard:Vk,"Bouvet Island":"BV","New Zealand":"NZ",Angola:Pk,Botswana:Lk,Burundi:Uk,Comoros:Bk,Congo:zk,"Congo DRC":"CD",Gabon:jk,Kenya:Gk,Lesotho:Hk,Malawi:qk,"Juan De Nova Island":"TF",Mozambique:Fk,Namibia:$k,Rwanda:Kk,"Sao Tome and Principe":"ST","South Africa":"ZA",Eswatini:Yk,Tanzania:Qk,Zambia:Xk,Zimbabwe:Zk,"British Indian Ocean Territory":"IO","French Southern Territories":"TF","Heard Island and McDonald Islands":"HM",Madagascar:Jk,Mauritius:Wk,Mayotte:tV,"Glorioso Islands":"TF",Réunion:"RE",Seychelles:eV,Algeria:nV,Benin:iV,Cameroon:rV,"Central African Republic":"CF",Chad:aV,"Equatorial Guinea":"GQ",Kiribati:sV,Libya:oV,Malta:lV,Niger:uV,Nigeria:cV,Togo:hV,Tunisia:fV,Cyprus:dV,Djibouti:pV,Egypt:mV,Eritrea:gV,Ethiopia:yV,Greece:_V,Iraq:vV,Israel:EV,Jordan:TV,Lebanon:wV,"Palestinian Territory":"PS","South Sudan":"SS",Sudan:SV,Syria:bV,Turkey:AV,Uganda:RV,Andorra:CV,"United States":"US",France:IV,Liechtenstein:xV,Monaco:MV,Switzerland:NV,Belgium:DV,Germany:OV,Luxembourg:kV,Netherlands:VV,Albania:PV,Austria:LV,"Bosnia and Herzegovina":"BA",Croatia:UV,"Czech Republic":"CZ",Denmark:BV,Hungary:zV,Italy:jV,Montenegro:GV,Poland:HV,"San Marino":"SM",Serbia:qV,Slovakia:FV,Slovenia:$V,"North Macedonia":"MK","Vatican City":"VA",Norway:KV,Sweden:YV,Belarus:QV,Bulgaria:XV,Estonia:ZV,Finland:JV,Georgia:WV,Latvia:t9,Lithuania:e9,Moldova:n9,Romania:i9,Ukraine:r9,Afghanistan:a9,Bahrain:s9,India:o9,Iran:l9,Kuwait:u9,Maldives:c9,Nepal:h9,Oman:f9,Pakistan:d9,Qatar:p9,"Saudi Arabia":"SA",Somalia:m9,"Sri Lanka":"LK",Tajikistan:g9,Turkmenistan:y9,"United Arab Emirates":"AE",Yemen:_9,Armenia:v9,Azerbaijan:E9,Kazakhstan:T9,Kyrgyzstan:w9,Uzbekistan:S9,"Christmas Island":"CX","Cocos Islands":"CC",Indonesia:b9,"Timor-Leste":"TL",Australia:A9,Nauru:R9,"New Caledonia":"NC","Norfolk Island":"NF","Papua New Guinea":"PG","Solomon Islands":"SB",Tuvalu:C9,Vanuatu:I9,Cambodia:x9,Laos:M9,Malaysia:N9,Myanmar:D9,Singapore:O9,Thailand:k9,Vietnam:V9,Bangladesh:P9,Bhutan:L9,China:U9,"Brunei Darussalam":"BN",Philippines:B9,"South Korea":"KR",Mongolia:z9,"North Korea":"KP",Guam:j9,Japan:G9,"Marshall Islands":"MH",Micronesia:H9,"Northern Mariana Islands":"MP",Palau:q9,"Russian Federation":"RU",Spain:F9,Canarias:$9,Macau:K9,"Hong Kong":"HK"},Y9="NZ",Q9="GB",X9="WS",Z9="NZ",J9="TO",W9="GT",tP="MX",eP="CA",nP="AR",iP="CL",rP="EC",aP="PE",sP="BO",oP="BR",lP="PY",uP="UY",cP="AQ",hP="FJ",fP="GB",dP="AW",pP="BS",mP="BB",gP="BZ",yP="GB",_P="NL",vP="CO",EP="CU",TP="NL",wP="DM",SP="GD",bP="FR",AP="GY",RP="HT",CP="HN",IP="JM",xP="FR",MP="GB",NP="NI",DP="PA",OP="NL",kP="SR",VP="VE",PP="GM",LP="GH",UP="GB",BP="GN",zP="LR",jP="ML",GP="MR",HP="MA",qP="PT",FP="SN",$P="DK",KP="GB",YP="IE",QP="GB",XP="IS",ZP="NO",JP="AO",WP="BW",t5="BI",e5="KM",n5="CG",i5="GA",r5="KE",a5="LS",s5="MW",o5="MZ",l5="NA",u5="RW",c5="SZ",h5="TZ",f5="ZM",d5="ZW",p5="MG",m5="MU",g5="FR",y5="SC",_5="DZ",v5="BJ",E5="CM",T5="TD",w5="KI",S5="LY",b5="MT",A5="NE",R5="NG",C5="TG",I5="TN",x5="CY",M5="DJ",N5="EG",D5="ER",O5="ET",k5="GR",V5="IQ",P5="IL",L5="JO",U5="LB",B5="SD",z5="SY",j5="TR",G5="UG",H5="AD",q5="FR",F5="LI",$5="MC",K5="CH",Y5="BE",Q5="DE",X5="LU",Z5="NL",J5="AL",W5="AT",tL="HR",eL="DK",nL="HU",iL="IT",rL="ME",aL="PL",sL="RS",oL="SK",lL="SI",uL="NO",cL="SE",hL="BY",fL="BG",dL="EE",pL="FI",mL="GE",gL="LV",yL="LT",_L="MD",vL="RO",EL="UA",TL="AF",wL="BH",SL="IN",bL="IR",AL="KW",RL="MV",CL="NP",IL="OM",xL="PK",ML="QA",NL="SO",DL="TJ",OL="TM",kL="YE",VL="AM",PL="AZ",LL="KZ",UL="KG",BL="UZ",zL="ID",jL="AU",GL="NR",HL="TV",qL="VU",FL="KH",$L="LA",KL="MY",YL="MM",QL="SG",XL="TH",ZL="VN",JL="BD",WL="BT",tU="CN",eU="PH",nU="MN",iU="US",rU="JP",aU="FM",sU="PW",oU="ES",lU="ES",uU="MO",cU={"American Samoa":"US","United States Minor Outlying Islands":"US","Cook Islands":"NZ","French Polynesia":"FR",Niue:Y9,Pitcairn:Q9,Samoa:X9,Tokelau:Z9,Tonga:J9,"Wallis and Futuna":"FR","El Salvador":"SV",Guatemala:W9,Mexico:tP,Canada:eP,Argentina:nP,"Falkland Islands":"GB",Chile:iP,Ecuador:rP,Peru:aP,Bolivia:sP,Brazil:oP,Paraguay:lP,Uruguay:uP,"South Georgia and South Sandwich Islands":"GB",Antarctica:cP,Fiji:hP,"Saint Helena":"GB",Anguilla:fP,"Antigua and Barbuda":"AG",Aruba:dP,Bahamas:pP,Barbados:mP,Belize:gP,Bermuda:yP,Bonaire:_P,"British Virgin Islands":"GB","Cayman Islands":"GB",Colombia:vP,"Costa Rica":"CR",Cuba:EP,Curacao:TP,Dominica:wP,"Dominican Republic":"DO","French Guiana":"FR",Grenada:SP,Guadeloupe:bP,Guyana:AP,Haiti:RP,Honduras:CP,Jamaica:IP,Martinique:xP,Montserrat:MP,Nicaragua:NP,Panama:DP,"Puerto Rico":"US",Saba:OP,"Saint Barthelemy":"FR","Saint Eustatius":"NL","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"FR","Saint Pierre and Miquelon":"FR","Saint Vincent and the Grenadines":"VC","Sint Maarten":"NL",Suriname:kP,"Trinidad and Tobago":"TT","Turks and Caicos Islands":"GB","US Virgin Islands":"US",Venezuela:VP,"Burkina Faso":"BF","Cabo Verde":"CV","Côte d'Ivoire":"CI",Gambia:PP,Ghana:LP,Gibraltar:UP,Guinea:BP,"Guinea-Bissau":"GW",Liberia:zP,Mali:jP,Mauritania:GP,Morocco:HP,Portugal:qP,Senegal:FP,"Sierra Leone":"SL",Greenland:$P,Guernsey:KP,Ireland:YP,"Isle of Man":"GB",Jersey:QP,"United Kingdom":"GB",Iceland:XP,"Faroe Islands":"DK",Svalbard:ZP,"Bouvet Island":"NO","New Zealand":"NZ",Angola:JP,Botswana:WP,Burundi:t5,Comoros:e5,Congo:n5,"Congo DRC":"CD",Gabon:i5,Kenya:r5,Lesotho:a5,Malawi:s5,"Juan De Nova Island":"FR",Mozambique:o5,Namibia:l5,Rwanda:u5,"Sao Tome and Principe":"ST","South Africa":"ZA",Eswatini:c5,Tanzania:h5,Zambia:f5,Zimbabwe:d5,"British Indian Ocean Territory":"GB","French Southern Territories":"FR","Heard Island and McDonald Islands":"AU",Madagascar:p5,Mauritius:m5,Mayotte:g5,"Glorioso Islands":"FR",Réunion:"FR",Seychelles:y5,Algeria:_5,Benin:v5,Cameroon:E5,"Central African Republic":"CF",Chad:T5,"Equatorial Guinea":"GQ",Kiribati:w5,Libya:S5,Malta:b5,Niger:A5,Nigeria:R5,Togo:C5,Tunisia:I5,Cyprus:x5,Djibouti:M5,Egypt:N5,Eritrea:D5,Ethiopia:O5,Greece:k5,Iraq:V5,Israel:P5,Jordan:L5,Lebanon:U5,"Palestinian Territory":"PS","South Sudan":"SS",Sudan:B5,Syria:z5,Turkey:j5,Uganda:G5,Andorra:H5,"United States":"US",France:q5,Liechtenstein:F5,Monaco:$5,Switzerland:K5,Belgium:Y5,Germany:Q5,Luxembourg:X5,Netherlands:Z5,Albania:J5,Austria:W5,"Bosnia and Herzegovina":"BA",Croatia:tL,"Czech Republic":"CZ",Denmark:eL,Hungary:nL,Italy:iL,Montenegro:rL,Poland:aL,"San Marino":"SM",Serbia:sL,Slovakia:oL,Slovenia:lL,"North Macedonia":"MK","Vatican City":"VA",Norway:uL,Sweden:cL,Belarus:hL,Bulgaria:fL,Estonia:dL,Finland:pL,Georgia:mL,Latvia:gL,Lithuania:yL,Moldova:_L,Romania:vL,Ukraine:EL,Afghanistan:TL,Bahrain:wL,India:SL,Iran:bL,Kuwait:AL,Maldives:RL,Nepal:CL,Oman:IL,Pakistan:xL,Qatar:ML,"Saudi Arabia":"SA",Somalia:NL,"Sri Lanka":"LK",Tajikistan:DL,Turkmenistan:OL,"United Arab Emirates":"AE",Yemen:kL,Armenia:VL,Azerbaijan:PL,Kazakhstan:LL,Kyrgyzstan:UL,Uzbekistan:BL,"Christmas Island":"AU","Cocos Islands":"AU",Indonesia:zL,"Timor-Leste":"TL",Australia:jL,Nauru:GL,"New Caledonia":"FR","Norfolk Island":"AU","Papua New Guinea":"PG","Solomon Islands":"SB",Tuvalu:HL,Vanuatu:qL,Cambodia:FL,Laos:$L,Malaysia:KL,Myanmar:YL,Singapore:QL,Thailand:XL,Vietnam:ZL,Bangladesh:JL,Bhutan:WL,China:tU,"Brunei Darussalam":"BN",Philippines:eU,"South Korea":"KR",Mongolia:nU,"North Korea":"KP",Guam:iU,Japan:rU,"Marshall Islands":"MH",Micronesia:aU,"Northern Mariana Islands":"US",Palau:sU,"Russian Federation":"RU",Spain:oU,Canarias:lU,Macau:uU,"Hong Kong":"HK"},bh=()=>new Date().toISOString().slice(0,10),hU=/^\d{4}-\d{2}-\d{2}$/;function Yp(n){const t=new Date;return t.setUTCDate(t.getUTCDate()+Number(n)),t.toISOString().slice(0,10)}function fU(){const n=new URLSearchParams(window.location.search),t=n.get("d")||n.get("date");let e=null;if(!t&&window.location.hash){const o=window.location.hash.match(/(?:^|[&#])d=([^&#]+)/);o&&(e=decodeURIComponent(o[1]))}const a=t||e;return a?hU.test(a)?a:a==="yesterday"?Yp(-1):a==="tomorrow"?Yp(1):a==="today"?bh():/^[+-]\d+$/.test(a)?Yp(a):bh():bh()}function Fg(){const n=new URLSearchParams(window.location.search);return!!(n.get("d")||n.get("date")||window.location.hash&&/(?:^|[&#])d=/.test(window.location.hash))}function dU(){if(!Fg())return;const n=new URL(window.location.href);if(n.searchParams.delete("d"),n.searchParams.delete("date"),n.hash){const t=n.hash.replace(/^[#]/,"").split(/[&#]/).filter(e=>!e.startsWith("d=")).join("&");n.hash=t?`#${t}`:""}window.history.replaceState(null,"",`${n.pathname}${n.search}${n.hash}`)}const pU="1g0IsY1ReO2nyVJhZS90rkbOFueMqHO4iOpW8mtM79LI",mU="sheet2";async function gU(n){const t=n||new Date().toISOString().slice(0,10),e=`https://opensheet.elk.sh/${pU}/${mU}`,o=(await fetch(e).then(u=>u.json())).find(u=>u.date===t);if(!o)throw new Error(`No row found for ${t}`);return{title:o.title,subtitle:o.subtitle,source:o.source,scale:Number(o.scale||1),target:o.target,unitSuffix:o.unitSuffix||"",yearStart:o.yearStart||void 0,yearEnd:o.yearEnd||void 0,csvUrl:o.OWID_datalink,others:[],infoDescription:o.infoDescription||"",date:t}}var Qp={},Xp={},Zp={},yE;function yU(){return yE||(yE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=function(){for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];if(typeof window<"u"){var d;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(d=window).gtag.apply(d,u)}},e=t;n.default=e}(Zp)),Zp}var Jp={},_E;function _U(){return _E||(_E=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function e(d){return d.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(m,g,_){return g>0&&g+m.length!==_.length&&m.search(t)>-1&&_.charAt(g-2)!==":"&&(_.charAt(g+m.length)!=="-"||_.charAt(g-1)==="-")&&_.charAt(g-1).search(/[^\s-]/)<0?m.toLowerCase():m.substr(1).search(/[A-Z]|\../)>-1?m:m.charAt(0).toUpperCase()+m.substr(1)})}function a(d){return typeof d=="string"&&d.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function u(d){return a(d)?(console.warn("This arg looks like an email address, redacting."),o):d}function h(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,_=d||"";return m&&(_=e(d)),g&&(_=u(_)),_}}(Jp)),Jp}var vE;function vU(){return vE||(vE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.GA4=void 0;var t=h(yU()),e=h(_U()),a=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],u=["page","hitType"];function h(nt){return nt&&nt.__esModule?nt:{default:nt}}function d(nt,q){if(nt==null)return{};var D=m(nt,q),P,L;if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(nt);for(L=0;L<K.length;L++)P=K[L],!(q.indexOf(P)>=0)&&Object.prototype.propertyIsEnumerable.call(nt,P)&&(D[P]=nt[P])}return D}function m(nt,q){if(nt==null)return{};var D={},P=Object.keys(nt),L,K;for(K=0;K<P.length;K++)L=P[K],!(q.indexOf(L)>=0)&&(D[L]=nt[L]);return D}function g(nt){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},g(nt)}function _(nt){return M(nt)||S(nt)||ot(nt)||T()}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(nt){if(typeof Symbol<"u"&&nt[Symbol.iterator]!=null||nt["@@iterator"]!=null)return Array.from(nt)}function M(nt){if(Array.isArray(nt))return it(nt)}function z(nt,q){var D=Object.keys(nt);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(nt);q&&(P=P.filter(function(L){return Object.getOwnPropertyDescriptor(nt,L).enumerable})),D.push.apply(D,P)}return D}function Z(nt){for(var q=1;q<arguments.length;q++){var D=arguments[q]!=null?arguments[q]:{};q%2?z(Object(D),!0).forEach(function(P){x(nt,P,D[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(D)):z(Object(D)).forEach(function(P){Object.defineProperty(nt,P,Object.getOwnPropertyDescriptor(D,P))})}return nt}function Q(nt,q){return ct(nt)||mt(nt,q)||ot(nt,q)||ht()}function ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(nt,q){if(nt){if(typeof nt=="string")return it(nt,q);var D=Object.prototype.toString.call(nt).slice(8,-1);if(D==="Object"&&nt.constructor&&(D=nt.constructor.name),D==="Map"||D==="Set")return Array.from(nt);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return it(nt,q)}}function it(nt,q){(q==null||q>nt.length)&&(q=nt.length);for(var D=0,P=new Array(q);D<q;D++)P[D]=nt[D];return P}function mt(nt,q){var D=nt==null?null:typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(D!=null){var P,L,K,w,A=[],H=!0,G=!1;try{if(K=(D=D.call(nt)).next,q!==0)for(;!(H=(P=K.call(D)).done)&&(A.push(P.value),A.length!==q);H=!0);}catch(rt){G=!0,L=rt}finally{try{if(!H&&D.return!=null&&(w=D.return(),Object(w)!==w))return}finally{if(G)throw L}}return A}}function ct(nt){if(Array.isArray(nt))return nt}function _t(nt,q){if(!(nt instanceof q))throw new TypeError("Cannot call a class as a function")}function k(nt,q){for(var D=0;D<q.length;D++){var P=q[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(nt,V(P.key),P)}}function C(nt,q,D){return q&&k(nt.prototype,q),Object.defineProperty(nt,"prototype",{writable:!1}),nt}function x(nt,q,D){return q=V(q),q in nt?Object.defineProperty(nt,q,{value:D,enumerable:!0,configurable:!0,writable:!0}):nt[q]=D,nt}function V(nt){var q=N(nt,"string");return g(q)==="symbol"?q:String(q)}function N(nt,q){if(g(nt)!=="object"||nt===null)return nt;var D=nt[Symbol.toPrimitive];if(D!==void 0){var P=D.call(nt,q);if(g(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(nt)}var U=function(){function nt(){var q=this;_t(this,nt),x(this,"reset",function(){q.isInitialized=!1,q._testMode=!1,q._currentMeasurementId,q._hasLoadedGA=!1,q._isQueuing=!1,q._queueGtag=[]}),x(this,"_gtag",function(){for(var D=arguments.length,P=new Array(D),L=0;L<D;L++)P[L]=arguments[L];q._testMode||q._isQueuing?q._queueGtag.push(P):t.default.apply(void 0,P)}),x(this,"_loadGA",function(D,P){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!q._hasLoadedGA){var K=document.createElement("script");K.async=!0,K.src="".concat(L,"?id=").concat(D),P&&K.setAttribute("nonce",P),document.body.appendChild(K),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},q._hasLoadedGA=!0}}),x(this,"_toGtagOptions",function(D){if(D){var P={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},L=Object.entries(D).reduce(function(K,w){var A=Q(w,2),H=A[0],G=A[1];return P[H]?K[P[H]]=G:K[H]=G,K},{});return L}}),x(this,"initialize",function(D){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!D)throw new Error("Require GA_MEASUREMENT_ID");var L=typeof D=="string"?[{trackingId:D}]:D;q._currentMeasurementId=L[0].trackingId;var K=P.gaOptions,w=P.gtagOptions,A=P.nonce,H=P.testMode,G=H===void 0?!1:H,rt=P.gtagUrl;if(q._testMode=G,G||q._loadGA(q._currentMeasurementId,A,rt),q.isInitialized||(q._gtag("js",new Date),L.forEach(function(yt){var vt=Z(Z(Z({},q._toGtagOptions(Z(Z({},K),yt.gaOptions))),w),yt.gtagOptions);Object.keys(vt).length?q._gtag("config",yt.trackingId,vt):q._gtag("config",yt.trackingId)})),q.isInitialized=!0,!G){var dt=_(q._queueGtag);for(q._queueGtag=[],q._isQueuing=!1;dt.length;){var pt=dt.shift();q._gtag.apply(q,_(pt)),pt[0]==="get"&&(q._isQueuing=!0)}}}),x(this,"set",function(D){if(!D){console.warn("`fieldsObject` is required in .set()");return}if(g(D)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(D).length===0&&console.warn("empty `fieldsObject` given to .set()"),q._gaCommand("set",D)}),x(this,"_gaCommandSendEvent",function(D,P,L,K,w){q._gtag("event",P,Z(Z({event_category:D,event_label:L,value:K},w&&{non_interaction:w.nonInteraction}),q._toGtagOptions(w)))}),x(this,"_gaCommandSendEventParameters",function(){for(var D=arguments.length,P=new Array(D),L=0;L<D;L++)P[L]=arguments[L];if(typeof P[0]=="string")q._gaCommandSendEvent.apply(q,_(P.slice(1)));else{var K=P[0],w=K.eventCategory,A=K.eventAction,H=K.eventLabel,G=K.eventValue;K.hitType;var rt=d(K,a);q._gaCommandSendEvent(w,A,H,G,rt)}}),x(this,"_gaCommandSendTiming",function(D,P,L,K){q._gtag("event","timing_complete",{name:P,value:L,event_category:D,event_label:K})}),x(this,"_gaCommandSendPageview",function(D,P){if(P&&Object.keys(P).length){var L=q._toGtagOptions(P),K=L.title,w=L.location,A=d(L,o);q._gtag("event","page_view",Z(Z(Z(Z({},D&&{page_path:D}),K&&{page_title:K}),w&&{page_location:w}),A))}else D?q._gtag("event","page_view",{page_path:D}):q._gtag("event","page_view")}),x(this,"_gaCommandSendPageviewParameters",function(){for(var D=arguments.length,P=new Array(D),L=0;L<D;L++)P[L]=arguments[L];if(typeof P[0]=="string")q._gaCommandSendPageview.apply(q,_(P.slice(1)));else{var K=P[0],w=K.page;K.hitType;var A=d(K,u);q._gaCommandSendPageview(w,A)}}),x(this,"_gaCommandSend",function(){for(var D=arguments.length,P=new Array(D),L=0;L<D;L++)P[L]=arguments[L];var K=typeof P[0]=="string"?P[0]:P[0].hitType;switch(K){case"event":q._gaCommandSendEventParameters.apply(q,P);break;case"pageview":q._gaCommandSendPageviewParameters.apply(q,P);break;case"timing":q._gaCommandSendTiming.apply(q,_(P.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(K));break;default:console.warn("Send command doesn't exist: ".concat(K))}}),x(this,"_gaCommandSet",function(){for(var D=arguments.length,P=new Array(D),L=0;L<D;L++)P[L]=arguments[L];typeof P[0]=="string"&&(P[0]=x({},P[0],P[1])),q._gtag("set",q._toGtagOptions(P[0]))}),x(this,"_gaCommand",function(D){for(var P=arguments.length,L=new Array(P>1?P-1:0),K=1;K<P;K++)L[K-1]=arguments[K];switch(D){case"send":q._gaCommandSend.apply(q,L);break;case"set":q._gaCommandSet.apply(q,L);break;default:console.warn("Command doesn't exist: ".concat(D))}}),x(this,"ga",function(){for(var D=arguments.length,P=new Array(D),L=0;L<D;L++)P[L]=arguments[L];if(typeof P[0]=="string")q._gaCommand.apply(q,P);else{var K=P[0];q._gtag("get",q._currentMeasurementId,"client_id",function(w){q._isQueuing=!1;var A=q._queueGtag;for(K({get:function(rt){return rt==="clientId"?w:rt==="trackingId"?q._currentMeasurementId:rt==="apiVersion"?"1":void 0}});A.length;){var H=A.shift();q._gtag.apply(q,_(H))}}),q._isQueuing=!0}return q.ga}),x(this,"event",function(D,P){if(typeof D=="string")q._gtag("event",D,q._toGtagOptions(P));else{var L=D.action,K=D.category,w=D.label,A=D.value,H=D.nonInteraction,G=D.transport;if(!K||!L){console.warn("args.category AND args.action are required in event()");return}var rt={hitType:"event",eventCategory:(0,e.default)(K),eventAction:(0,e.default)(L)};w&&(rt.eventLabel=(0,e.default)(w)),typeof A<"u"&&(typeof A!="number"?console.warn("Expected `args.value` arg to be a Number."):rt.eventValue=A),typeof H<"u"&&(typeof H!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):rt.nonInteraction=H),typeof G<"u"&&(typeof G!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(G)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),rt.transport=G)),q._gaCommand("send",rt)}}),x(this,"send",function(D){q._gaCommand("send",D)}),this.reset()}return C(nt,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),nt}();n.GA4=U;var I=new U;n.default=I}(Xp)),Xp}var EE;function EU(){return EE||(EE=1,function(n){function t(d){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(d)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ReactGAImplementation=void 0;var e=o(vU());function a(d){if(typeof WeakMap!="function")return null;var m=new WeakMap,g=new WeakMap;return(a=function(T){return T?g:m})(d)}function o(d,m){if(d&&d.__esModule)return d;if(d===null||t(d)!=="object"&&typeof d!="function")return{default:d};var g=a(m);if(g&&g.has(d))return g.get(d);var _={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in d)if(S!=="default"&&Object.prototype.hasOwnProperty.call(d,S)){var M=T?Object.getOwnPropertyDescriptor(d,S):null;M&&(M.get||M.set)?Object.defineProperty(_,S,M):_[S]=d[S]}return _.default=d,g&&g.set(d,_),_}var u=e.GA4;n.ReactGAImplementation=u;var h=e.default;n.default=h}(Qp)),Qp}var TU=EU();const bf=Um(TU),wU=()=>{bf.initialize("G-Y5KH49S1XK")},SU=()=>{bf.send({hitType:"pageview",page:window.location.pathname})},bU=(n,t)=>{bf.event({category:"Game",action:"Guess",label:n,value:t})},TE=(n,t,e)=>{bf.event({category:"Game",action:n==="won"?"Win":"Lose",label:e,value:t})},AU={usa:"United States",us:"United States","united states":"United States",uk:"United Kingdom","u.k.":"United Kingdom","Côte d’Ivoire":"Ivory Coast","Cote d’Ivoire":"Ivory Coast","dr congo":"Democratic Republic of the Congo","democratic republic congo":"Democratic Republic of the Congo","congo-kinshasa":"Democratic Republic of the Congo","congo-brazzaville":"Congo",swaziland:"Eswatini","czech republic":"Czechia",burma:"Myanmar","east timor":"Timor-Leste",taiwan:"Taiwan",venezuela:"Venezuela",lao:"Laos","south korea":"South Korea","north korea":"North Korea",macedonia:"North Macedonia",macao:"Macau","palestinian territories":"Palestine",...Object.fromEntries(["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Caribbean Netherlands","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Northern Cyprus","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"].map(n=>[n.toLowerCase(),n]))},ql=5,co=fU(),wE=Fg(),RU=DS(),$a=RU[co]??null;function CU(){const[n,t]=wt.useState(null),[e,a]=wt.useState(($a==null?void 0:$a.guesses)??[]),[o,u]=wt.useState(($a==null?void 0:$a.result)??"playing"),[h,d]=wt.useState(!1),[m,g]=wt.useState(!1),[_,T]=wt.useState(null),[S,M]=wt.useState([]),[z,Z]=wt.useState(null),Q=C=>Z(C);new Date(co).toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"});const ht=new Date(co).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});wt.useEffect(()=>{wU(),SU()},[]),wt.useEffect(()=>{gU(co).then(t).catch(C=>console.error(C.message))},[]),wt.useEffect(()=>{Fg()&&dU()},[]);const ot=(n==null?void 0:n.target)??null,it=ot?cU[ot]:null,mt=ot?ot.toLowerCase():null,ct=(n==null?void 0:n.infoDescription)??null,_t=(n==null?void 0:n.source)??null;wt.useEffect(()=>{if(!it)return;const C=`https://raw.githubusercontent.com/a-jiwa/chartle-data/main/countries/${it}.json`;fetch(C).then(x=>x.json()).then(T).catch(x=>console.error("Failed to fetch target country data:",x))},[it]),wt.useEffect(()=>{if(o!=="won"){d(!1);return}const C=300,x=C+1e3,V=setTimeout(()=>{gA({particleCount:120,spread:70,origin:{y:.6},disableForReducedMotion:!0,colors:["#c43333",...ns]})},C),N=setTimeout(()=>d(!0),x);return()=>{clearTimeout(V),clearTimeout(N)}},[o]),wt.useEffect(()=>{if(o!=="lost"){g(!1);return}const C=setTimeout(()=>g(!0),3e3);return()=>clearTimeout(C)},[o]),wt.useEffect(()=>{ot&&v6({...qg(),[co]:{target:ot,guesses:e,result:o,title:n.title}})},[e,o,ot]),wt.useEffect(()=>{if(wE)return;const C=setInterval(()=>{bh()!==co&&window.location.reload()},6e4);return()=>clearInterval(C)},[]),wt.useEffect(()=>{if(!n)return;const C=$a;if(!C)return;C.title===n.title||(a([]),u("playing"))},[n]);const k=C=>{if(o!=="playing")return;const x=C.trim();if(!x)return;const V=x.toLowerCase().trim(),N=AU[V]||x.replace(/\b\w/g,I=>I.toUpperCase());Lm.some(I=>I.toLowerCase()===V)&&a(I=>{if(I.some(D=>D.toLowerCase()===V)||I.length>=ql)return I;const nt=[...I,N];bU(N,nt.length),V===mt?(u("won"),TE("won",nt.length,ot)):nt.length>=ql&&(u("lost"),TE("lost",nt.length,ot));const q=gE[N];if(q&&_&&_[q]){const{direction:D,distance_km:P}=_[q];console.log(`Your guess is ${P} km to the ${D}`)}return nt})};return!n||!it?null:et.jsxs("div",{className:"h-full antialiased flex flex-col items-center overflow-y-scroll",children:[et.jsx(kN,{onOpen:Q,dateLabel:ht,overridden:wE}),et.jsxs("div",{className:"pt-12 flex flex-col w-full max-w-[700px] h-full",children:[et.jsxs("div",{className:"flex-none h-2/3",children:[et.jsx("div",{className:"px-4 pb-2 grid grid-cols-[1fr_auto] items-start gap-y-1",children:et.jsxs("div",{children:[et.jsx("h2",{className:"mt-5 text-left font-bold text-gray-900 dark:text-white text-[20px] md:text-[22px] leading-tight",children:n.title}),et.jsx("p",{className:"text-left text-gray-600 dark:text-gray-300 text-[16px] mt-1",children:n.subtitle})]})}),et.jsx(g6,{csvUrl:n.csvUrl,meta:n,target:ot,others:n.others??[],guesses:e,guessColours:ns,setAvailableCountries:M})]}),et.jsx("div",{className:"flex-none mt-8",children:et.jsx(y6,{guesses:e,onAddGuess:k,status:o,max:ql,guessColours:ns,targetData:_,countryToIso:gE,validCountries:S,target:ot})})]}),et.jsx(E6,{open:h,onClose:()=>u("done"),guesses:e,target:ot,infoDescription:ct,source:_t,csvUrl:n.csvUrl,title:n.title,maxGuesses:ql}),et.jsx(T6,{open:m,onClose:()=>u("done"),target:ot,infoDescription:ct,source:_t,csvUrl:n.csvUrl,guesses:e,title:n.title,maxGuesses:ql}),et.jsx(w6,{open:z==="help",onClose:()=>Z(null)}),et.jsx(I6,{open:z==="history",onClose:()=>Z(null)}),et.jsx(x6,{open:z==="settings",onClose:()=>Z(null)}),et.jsx(N6,{open:z==="auth",onClose:()=>Z(null)})]})}mA.createRoot(document.getElementById("root")).render(et.jsx(oA.StrictMode,{children:et.jsx(DN,{children:et.jsx(CU,{})})}))});export default IU();
